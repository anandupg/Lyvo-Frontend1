var Ere=Object.defineProperty;var Pre=(e,t,r)=>t in e?Ere(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var mn=(e,t,r)=>Pre(e,typeof t!="symbol"?t+"":t,r);function Ire(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N$={exports:{}},tN={},_$={exports:{}},Lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=Symbol.for("react.element"),Tre=Symbol.for("react.portal"),Ore=Symbol.for("react.fragment"),Lre=Symbol.for("react.strict_mode"),Fre=Symbol.for("react.profiler"),Ure=Symbol.for("react.provider"),Rre=Symbol.for("react.context"),Mre=Symbol.for("react.forward_ref"),Dre=Symbol.for("react.suspense"),Qre=Symbol.for("react.memo"),$re=Symbol.for("react.lazy"),IT=Symbol.iterator;function Hre(e){return e===null||typeof e!="object"?null:(e=IT&&e[IT]||e["@@iterator"],typeof e=="function"?e:null)}var C$={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B$=Object.assign,S$={};function Ig(e,t,r){this.props=e,this.context=t,this.refs=S$,this.updater=r||C$}Ig.prototype.isReactComponent={};Ig.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ig.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k$(){}k$.prototype=Ig.prototype;function m3(e,t,r){this.props=e,this.context=t,this.refs=S$,this.updater=r||C$}var p3=m3.prototype=new k$;p3.constructor=m3;B$(p3,Ig.prototype);p3.isPureReactComponent=!0;var TT=Array.isArray,E$=Object.prototype.hasOwnProperty,g3={current:null},P$={key:!0,ref:!0,__self:!0,__source:!0};function I$(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)E$.call(t,n)&&!P$.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:pv,type:e,key:a,ref:o,props:i,_owner:g3.current}}function zre(e,t){return{$$typeof:pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x3(e){return typeof e=="object"&&e!==null&&e.$$typeof===pv}function Vre(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var OT=/\/+/g;function v_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vre(""+e.key):t.toString(36)}function Kw(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pv:case Tre:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+v_(o,0):n,TT(i)?(r="",e!=null&&(r=e.replace(OT,"$&/")+"/"),Kw(i,t,r,"",function(d){return d})):i!=null&&(x3(i)&&(i=zre(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(OT,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",TT(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+v_(a,l);o+=Kw(a,t,r,c,i)}else if(c=Hre(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+v_(a,l++),o+=Kw(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vb(e,t,r){if(e==null)return e;var n=[],i=0;return Kw(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Kre(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ia={current:null},Ww={transition:null},Wre={ReactCurrentDispatcher:Ia,ReactCurrentBatchConfig:Ww,ReactCurrentOwner:g3};function T$(){throw Error("act(...) is not supported in production builds of React.")}Lr.Children={map:vb,forEach:function(e,t,r){vb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vb(e,function(){t++}),t},toArray:function(e){return vb(e,function(t){return t})||[]},only:function(e){if(!x3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Lr.Component=Ig;Lr.Fragment=Ore;Lr.Profiler=Fre;Lr.PureComponent=m3;Lr.StrictMode=Lre;Lr.Suspense=Dre;Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wre;Lr.act=T$;Lr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=B$({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=g3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E$.call(t,c)&&!P$.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:pv,type:e.type,key:i,ref:a,props:n,_owner:o}};Lr.createContext=function(e){return e={$$typeof:Rre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ure,_context:e},e.Consumer=e};Lr.createElement=I$;Lr.createFactory=function(e){var t=I$.bind(null,e);return t.type=e,t};Lr.createRef=function(){return{current:null}};Lr.forwardRef=function(e){return{$$typeof:Mre,render:e}};Lr.isValidElement=x3;Lr.lazy=function(e){return{$$typeof:$re,_payload:{_status:-1,_result:e},_init:Kre}};Lr.memo=function(e,t){return{$$typeof:Qre,type:e,compare:t===void 0?null:t}};Lr.startTransition=function(e){var t=Ww.transition;Ww.transition={};try{e()}finally{Ww.transition=t}};Lr.unstable_act=T$;Lr.useCallback=function(e,t){return Ia.current.useCallback(e,t)};Lr.useContext=function(e){return Ia.current.useContext(e)};Lr.useDebugValue=function(){};Lr.useDeferredValue=function(e){return Ia.current.useDeferredValue(e)};Lr.useEffect=function(e,t){return Ia.current.useEffect(e,t)};Lr.useId=function(){return Ia.current.useId()};Lr.useImperativeHandle=function(e,t,r){return Ia.current.useImperativeHandle(e,t,r)};Lr.useInsertionEffect=function(e,t){return Ia.current.useInsertionEffect(e,t)};Lr.useLayoutEffect=function(e,t){return Ia.current.useLayoutEffect(e,t)};Lr.useMemo=function(e,t){return Ia.current.useMemo(e,t)};Lr.useReducer=function(e,t,r){return Ia.current.useReducer(e,t,r)};Lr.useRef=function(e){return Ia.current.useRef(e)};Lr.useState=function(e){return Ia.current.useState(e)};Lr.useSyncExternalStore=function(e,t,r){return Ia.current.useSyncExternalStore(e,t,r)};Lr.useTransition=function(){return Ia.current.useTransition()};Lr.version="18.3.1";_$.exports=Lr;var _=_$.exports;const _e=Zr(_),y3=Ire({__proto__:null,default:_e},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gre=_,qre=Symbol.for("react.element"),Yre=Symbol.for("react.fragment"),Xre=Object.prototype.hasOwnProperty,Jre=Gre.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zre={key:!0,ref:!0,__self:!0,__source:!0};function O$(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Xre.call(t,n)&&!Zre.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:qre,type:e,key:a,ref:o,props:i,_owner:Jre.current}}tN.Fragment=Yre;tN.jsx=O$;tN.jsxs=O$;N$.exports=tN;var s=N$.exports,aS={},L$={exports:{}},Lo={},F$={exports:{}},U$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,ee){var te=z.length;z.push(ee);e:for(;0<te;){var le=te-1>>>1,$=z[le];if(0<i($,ee))z[le]=ee,z[te]=$,te=le;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var ee=z[0],te=z.pop();if(te!==ee){z[0]=te;e:for(var le=0,$=z.length,X=$>>>1;le<X;){var V=2*(le+1)-1,ne=z[V],ae=V+1,he=z[ae];if(0>i(ne,te))ae<$&&0>i(he,ne)?(z[le]=he,z[ae]=te,le=ae):(z[le]=ne,z[V]=te,le=V);else if(ae<$&&0>i(he,te))z[le]=he,z[ae]=te,le=ae;else break e}}return ee}function i(z,ee){var te=z.sortIndex-ee.sortIndex;return te!==0?te:z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,A=null,f=3,m=!1,x=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var ee=r(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=z)n(d),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=r(d)}}function j(z){if(p=!1,w(z),!x)if(r(c)!==null)x=!0,W(N);else{var ee=r(d);ee!==null&&D(j,ee.startTime-z)}}function N(z,ee){x=!1,p&&(p=!1,y(P),P=-1),m=!0;var te=f;try{for(w(ee),A=r(c);A!==null&&(!(A.expirationTime>ee)||z&&!k());){var le=A.callback;if(typeof le=="function"){A.callback=null,f=A.priorityLevel;var $=le(A.expirationTime<=ee);ee=e.unstable_now(),typeof $=="function"?A.callback=$:A===r(c)&&n(c),w(ee)}else n(c);A=r(c)}if(A!==null)var X=!0;else{var V=r(d);V!==null&&D(j,V.startTime-ee),X=!1}return X}finally{A=null,f=te,m=!1}}var B=!1,I=null,P=-1,T=5,U=-1;function k(){return!(e.unstable_now()-U<T)}function E(){if(I!==null){var z=e.unstable_now();U=z;var ee=!0;try{ee=I(!0,z)}finally{ee?Q():(B=!1,I=null)}}else B=!1}var Q;if(typeof b=="function")Q=function(){b(E)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,K=F.port2;F.port1.onmessage=E,Q=function(){K.postMessage(null)}}else Q=function(){v(E,0)};function W(z){I=z,B||(B=!0,Q())}function D(z,ee){P=v(function(){z(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,W(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var te=f;f=ee;try{return z()}finally{f=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=f;f=z;try{return ee()}finally{f=te}},e.unstable_scheduleCallback=function(z,ee,te){var le=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=te+$,z={id:u++,callback:ee,priorityLevel:z,startTime:te,expirationTime:$,sortIndex:-1},te>le?(z.sortIndex=te,t(d,z),r(c)===null&&z===r(d)&&(p?(y(P),P=-1):p=!0,D(j,te-le))):(z.sortIndex=$,t(c,z),x||m||(x=!0,W(N))),z},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(z){var ee=f;return function(){var te=f;f=ee;try{return z.apply(this,arguments)}finally{f=te}}}})(U$);F$.exports=U$;var ene=F$.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tne=_,To=ene;function bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R$=new Set,Zx={};function Zf(e,t){$p(e,t),$p(e+"Capture",t)}function $p(e,t){for(Zx[e]=t,e=0;e<t.length;e++)R$.add(t[e])}var cu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oS=Object.prototype.hasOwnProperty,rne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LT={},FT={};function nne(e){return oS.call(FT,e)?!0:oS.call(LT,e)?!1:rne.test(e)?FT[e]=!0:(LT[e]=!0,!1)}function sne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ine(e,t,r,n){if(t===null||typeof t>"u"||sne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ta(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ui[e]=new Ta(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ui[t]=new Ta(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ui[e]=new Ta(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ui[e]=new Ta(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ui[e]=new Ta(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ui[e]=new Ta(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ui[e]=new Ta(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ui[e]=new Ta(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ui[e]=new Ta(e,5,!1,e.toLowerCase(),null,!1,!1)});var v3=/[\-:]([a-z])/g;function b3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v3,b3);Ui[t]=new Ta(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v3,b3);Ui[t]=new Ta(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v3,b3);Ui[t]=new Ta(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ui[e]=new Ta(e,1,!1,e.toLowerCase(),null,!1,!1)});Ui.xlinkHref=new Ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ui[e]=new Ta(e,1,!1,e.toLowerCase(),null,!0,!0)});function w3(e,t,r,n){var i=Ui.hasOwnProperty(t)?Ui[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ine(t,r,i,n)&&(r=null),n||i===null?nne(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nu=tne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bb=Symbol.for("react.element"),qm=Symbol.for("react.portal"),Ym=Symbol.for("react.fragment"),j3=Symbol.for("react.strict_mode"),lS=Symbol.for("react.profiler"),M$=Symbol.for("react.provider"),D$=Symbol.for("react.context"),N3=Symbol.for("react.forward_ref"),cS=Symbol.for("react.suspense"),dS=Symbol.for("react.suspense_list"),_3=Symbol.for("react.memo"),ch=Symbol.for("react.lazy"),Q$=Symbol.for("react.offscreen"),UT=Symbol.iterator;function w0(e){return e===null||typeof e!="object"?null:(e=UT&&e[UT]||e["@@iterator"],typeof e=="function"?e:null)}var fs=Object.assign,b_;function ex(e){if(b_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);b_=t&&t[1]||""}return`
`+b_+e}var w_=!1;function j_(e,t){if(!e||w_)return"";w_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{w_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ex(e):""}function ane(e){switch(e.tag){case 5:return ex(e.type);case 16:return ex("Lazy");case 13:return ex("Suspense");case 19:return ex("SuspenseList");case 0:case 2:case 15:return e=j_(e.type,!1),e;case 11:return e=j_(e.type.render,!1),e;case 1:return e=j_(e.type,!0),e;default:return""}}function uS(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ym:return"Fragment";case qm:return"Portal";case lS:return"Profiler";case j3:return"StrictMode";case cS:return"Suspense";case dS:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D$:return(e.displayName||"Context")+".Consumer";case M$:return(e._context.displayName||"Context")+".Provider";case N3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _3:return t=e.displayName||null,t!==null?t:uS(e.type)||"Memo";case ch:t=e._payload,e=e._init;try{return uS(e(t))}catch{}}return null}function one(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uS(t);case 8:return t===j3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $$(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lne(e){var t=$$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wb(e){e._valueTracker||(e._valueTracker=lne(e))}function H$(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$$(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function F1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hS(e,t){var r=t.checked;return fs({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function RT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z$(e,t){t=t.checked,t!=null&&w3(e,"checked",t,!1)}function AS(e,t){z$(e,t);var r=zh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fS(e,t.type,r):t.hasOwnProperty("defaultValue")&&fS(e,t.type,zh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function MT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fS(e,t,r){(t!=="number"||F1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var tx=Array.isArray;function yp(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zh(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function mS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(bt(91));return fs({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function DT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(bt(92));if(tx(r)){if(1<r.length)throw Error(bt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zh(r)}}function V$(e,t){var r=zh(t.value),n=zh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function QT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K$(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K$(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jb,W$=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jb=jb||document.createElement("div"),jb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ey(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cne=["Webkit","ms","Moz","O"];Object.keys(vx).forEach(function(e){cne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vx[t]=vx[e]})});function G$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vx.hasOwnProperty(e)&&vx[e]?(""+t).trim():t+"px"}function q$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=G$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var dne=fs({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gS(e,t){if(t){if(dne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(bt(62))}}function xS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yS=null;function C3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vS=null,vp=null,bp=null;function $T(e){if(e=yv(e)){if(typeof vS!="function")throw Error(bt(280));var t=e.stateNode;t&&(t=aN(t),vS(e.stateNode,e.type,t))}}function Y$(e){vp?bp?bp.push(e):bp=[e]:vp=e}function X$(){if(vp){var e=vp,t=bp;if(bp=vp=null,$T(e),t)for(e=0;e<t.length;e++)$T(t[e])}}function J$(e,t){return e(t)}function Z$(){}var N_=!1;function eH(e,t,r){if(N_)return e(t,r);N_=!0;try{return J$(e,t,r)}finally{N_=!1,(vp!==null||bp!==null)&&(Z$(),X$())}}function ty(e,t){var r=e.stateNode;if(r===null)return null;var n=aN(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(bt(231,t,typeof r));return r}var bS=!1;if(cu)try{var j0={};Object.defineProperty(j0,"passive",{get:function(){bS=!0}}),window.addEventListener("test",j0,j0),window.removeEventListener("test",j0,j0)}catch{bS=!1}function une(e,t,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var bx=!1,U1=null,R1=!1,wS=null,hne={onError:function(e){bx=!0,U1=e}};function Ane(e,t,r,n,i,a,o,l,c){bx=!1,U1=null,une.apply(hne,arguments)}function fne(e,t,r,n,i,a,o,l,c){if(Ane.apply(this,arguments),bx){if(bx){var d=U1;bx=!1,U1=null}else throw Error(bt(198));R1||(R1=!0,wS=d)}}function em(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tH(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HT(e){if(em(e)!==e)throw Error(bt(188))}function mne(e){var t=e.alternate;if(!t){if(t=em(e),t===null)throw Error(bt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return HT(i),e;if(a===n)return HT(i),t;a=a.sibling}throw Error(bt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(bt(189))}}if(r.alternate!==n)throw Error(bt(190))}if(r.tag!==3)throw Error(bt(188));return r.stateNode.current===r?e:t}function rH(e){return e=mne(e),e!==null?nH(e):null}function nH(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nH(e);if(t!==null)return t;e=e.sibling}return null}var sH=To.unstable_scheduleCallback,zT=To.unstable_cancelCallback,pne=To.unstable_shouldYield,gne=To.unstable_requestPaint,Ms=To.unstable_now,xne=To.unstable_getCurrentPriorityLevel,B3=To.unstable_ImmediatePriority,iH=To.unstable_UserBlockingPriority,M1=To.unstable_NormalPriority,yne=To.unstable_LowPriority,aH=To.unstable_IdlePriority,rN=null,Gc=null;function vne(e){if(Gc&&typeof Gc.onCommitFiberRoot=="function")try{Gc.onCommitFiberRoot(rN,e,void 0,(e.current.flags&128)===128)}catch{}}var ic=Math.clz32?Math.clz32:jne,bne=Math.log,wne=Math.LN2;function jne(e){return e>>>=0,e===0?32:31-(bne(e)/wne|0)|0}var Nb=64,_b=4194304;function rx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function D1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=rx(l):(a&=o,a!==0&&(n=rx(a)))}else o=r&~i,o!==0?n=rx(o):a!==0&&(n=rx(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ic(t),i=1<<r,n|=e[r],t&=~i;return n}function Nne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _ne(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ic(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=Nne(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function jS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oH(){var e=Nb;return Nb<<=1,!(Nb&4194240)&&(Nb=64),e}function __(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ic(t),e[t]=r}function Cne(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ic(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function S3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ic(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xn=0;function lH(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cH,k3,dH,uH,hH,NS=!1,Cb=[],Sh=null,kh=null,Eh=null,ry=new Map,ny=new Map,Ah=[],Bne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VT(e,t){switch(e){case"focusin":case"focusout":Sh=null;break;case"dragenter":case"dragleave":kh=null;break;case"mouseover":case"mouseout":Eh=null;break;case"pointerover":case"pointerout":ry.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ny.delete(t.pointerId)}}function N0(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=yv(t),t!==null&&k3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Sne(e,t,r,n,i){switch(t){case"focusin":return Sh=N0(Sh,e,t,r,n,i),!0;case"dragenter":return kh=N0(kh,e,t,r,n,i),!0;case"mouseover":return Eh=N0(Eh,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return ry.set(a,N0(ry.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ny.set(a,N0(ny.get(a)||null,e,t,r,n,i)),!0}return!1}function AH(e){var t=qA(e.target);if(t!==null){var r=em(t);if(r!==null){if(t=r.tag,t===13){if(t=tH(r),t!==null){e.blockedOn=t,hH(e.priority,function(){dH(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_S(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);yS=n,r.target.dispatchEvent(n),yS=null}else return t=yv(r),t!==null&&k3(t),e.blockedOn=r,!1;t.shift()}return!0}function KT(e,t,r){Gw(e)&&r.delete(t)}function kne(){NS=!1,Sh!==null&&Gw(Sh)&&(Sh=null),kh!==null&&Gw(kh)&&(kh=null),Eh!==null&&Gw(Eh)&&(Eh=null),ry.forEach(KT),ny.forEach(KT)}function _0(e,t){e.blockedOn===t&&(e.blockedOn=null,NS||(NS=!0,To.unstable_scheduleCallback(To.unstable_NormalPriority,kne)))}function sy(e){function t(i){return _0(i,e)}if(0<Cb.length){_0(Cb[0],e);for(var r=1;r<Cb.length;r++){var n=Cb[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Sh!==null&&_0(Sh,e),kh!==null&&_0(kh,e),Eh!==null&&_0(Eh,e),ry.forEach(t),ny.forEach(t),r=0;r<Ah.length;r++)n=Ah[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ah.length&&(r=Ah[0],r.blockedOn===null);)AH(r),r.blockedOn===null&&Ah.shift()}var wp=Nu.ReactCurrentBatchConfig,Q1=!0;function Ene(e,t,r,n){var i=xn,a=wp.transition;wp.transition=null;try{xn=1,E3(e,t,r,n)}finally{xn=i,wp.transition=a}}function Pne(e,t,r,n){var i=xn,a=wp.transition;wp.transition=null;try{xn=4,E3(e,t,r,n)}finally{xn=i,wp.transition=a}}function E3(e,t,r,n){if(Q1){var i=_S(e,t,r,n);if(i===null)L_(e,t,n,$1,r),VT(e,n);else if(Sne(i,e,t,r,n))n.stopPropagation();else if(VT(e,n),t&4&&-1<Bne.indexOf(e)){for(;i!==null;){var a=yv(i);if(a!==null&&cH(a),a=_S(e,t,r,n),a===null&&L_(e,t,n,$1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else L_(e,t,n,null,r)}}var $1=null;function _S(e,t,r,n){if($1=null,e=C3(n),e=qA(e),e!==null)if(t=em(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tH(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $1=e,null}function fH(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xne()){case B3:return 1;case iH:return 4;case M1:case yne:return 16;case aH:return 536870912;default:return 16}default:return 16}}var yh=null,P3=null,qw=null;function mH(){if(qw)return qw;var e,t=P3,r=t.length,n,i="value"in yh?yh.value:yh.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return qw=i.slice(e,1<n?1-n:void 0)}function Yw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bb(){return!0}function WT(){return!1}function Fo(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bb:WT,this.isPropagationStopped=WT,this}return fs(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bb)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bb)},persist:function(){},isPersistent:Bb}),t}var Tg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I3=Fo(Tg),xv=fs({},Tg,{view:0,detail:0}),Ine=Fo(xv),C_,B_,C0,nN=fs({},xv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==C0&&(C0&&e.type==="mousemove"?(C_=e.screenX-C0.screenX,B_=e.screenY-C0.screenY):B_=C_=0,C0=e),C_)},movementY:function(e){return"movementY"in e?e.movementY:B_}}),GT=Fo(nN),Tne=fs({},nN,{dataTransfer:0}),One=Fo(Tne),Lne=fs({},xv,{relatedTarget:0}),S_=Fo(Lne),Fne=fs({},Tg,{animationName:0,elapsedTime:0,pseudoElement:0}),Une=Fo(Fne),Rne=fs({},Tg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mne=Fo(Rne),Dne=fs({},Tg,{data:0}),qT=Fo(Dne),Qne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$ne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zne(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hne[e])?!!t[e]:!1}function T3(){return zne}var Vne=fs({},xv,{key:function(e){if(e.key){var t=Qne[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$ne[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T3,charCode:function(e){return e.type==="keypress"?Yw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kne=Fo(Vne),Wne=fs({},nN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YT=Fo(Wne),Gne=fs({},xv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T3}),qne=Fo(Gne),Yne=fs({},Tg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xne=Fo(Yne),Jne=fs({},nN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zne=Fo(Jne),ese=[9,13,27,32],O3=cu&&"CompositionEvent"in window,wx=null;cu&&"documentMode"in document&&(wx=document.documentMode);var tse=cu&&"TextEvent"in window&&!wx,pH=cu&&(!O3||wx&&8<wx&&11>=wx),XT=" ",JT=!1;function gH(e,t){switch(e){case"keyup":return ese.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xH(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xm=!1;function rse(e,t){switch(e){case"compositionend":return xH(t);case"keypress":return t.which!==32?null:(JT=!0,XT);case"textInput":return e=t.data,e===XT&&JT?null:e;default:return null}}function nse(e,t){if(Xm)return e==="compositionend"||!O3&&gH(e,t)?(e=mH(),qw=P3=yh=null,Xm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pH&&t.locale!=="ko"?null:t.data;default:return null}}var sse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sse[e.type]:t==="textarea"}function yH(e,t,r,n){Y$(n),t=H1(t,"onChange"),0<t.length&&(r=new I3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jx=null,iy=null;function ise(e){EH(e,0)}function sN(e){var t=ep(e);if(H$(t))return e}function ase(e,t){if(e==="change")return t}var vH=!1;if(cu){var k_;if(cu){var E_="oninput"in document;if(!E_){var eO=document.createElement("div");eO.setAttribute("oninput","return;"),E_=typeof eO.oninput=="function"}k_=E_}else k_=!1;vH=k_&&(!document.documentMode||9<document.documentMode)}function tO(){jx&&(jx.detachEvent("onpropertychange",bH),iy=jx=null)}function bH(e){if(e.propertyName==="value"&&sN(iy)){var t=[];yH(t,iy,e,C3(e)),eH(ise,t)}}function ose(e,t,r){e==="focusin"?(tO(),jx=t,iy=r,jx.attachEvent("onpropertychange",bH)):e==="focusout"&&tO()}function lse(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sN(iy)}function cse(e,t){if(e==="click")return sN(t)}function dse(e,t){if(e==="input"||e==="change")return sN(t)}function use(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dc=typeof Object.is=="function"?Object.is:use;function ay(e,t){if(dc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!oS.call(t,i)||!dc(e[i],t[i]))return!1}return!0}function rO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nO(e,t){var r=rO(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rO(r)}}function wH(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wH(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jH(){for(var e=window,t=F1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=F1(e.document)}return t}function L3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hse(e){var t=jH(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wH(r.ownerDocument.documentElement,r)){if(n!==null&&L3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=nO(r,a);var o=nO(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ase=cu&&"documentMode"in document&&11>=document.documentMode,Jm=null,CS=null,Nx=null,BS=!1;function sO(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BS||Jm==null||Jm!==F1(n)||(n=Jm,"selectionStart"in n&&L3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nx&&ay(Nx,n)||(Nx=n,n=H1(CS,"onSelect"),0<n.length&&(t=new I3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Jm)))}function Sb(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zm={animationend:Sb("Animation","AnimationEnd"),animationiteration:Sb("Animation","AnimationIteration"),animationstart:Sb("Animation","AnimationStart"),transitionend:Sb("Transition","TransitionEnd")},P_={},NH={};cu&&(NH=document.createElement("div").style,"AnimationEvent"in window||(delete Zm.animationend.animation,delete Zm.animationiteration.animation,delete Zm.animationstart.animation),"TransitionEvent"in window||delete Zm.transitionend.transition);function iN(e){if(P_[e])return P_[e];if(!Zm[e])return e;var t=Zm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in NH)return P_[e]=t[r];return e}var _H=iN("animationend"),CH=iN("animationiteration"),BH=iN("animationstart"),SH=iN("transitionend"),kH=new Map,iO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nA(e,t){kH.set(e,t),Zf(t,[e])}for(var I_=0;I_<iO.length;I_++){var T_=iO[I_],fse=T_.toLowerCase(),mse=T_[0].toUpperCase()+T_.slice(1);nA(fse,"on"+mse)}nA(_H,"onAnimationEnd");nA(CH,"onAnimationIteration");nA(BH,"onAnimationStart");nA("dblclick","onDoubleClick");nA("focusin","onFocus");nA("focusout","onBlur");nA(SH,"onTransitionEnd");$p("onMouseEnter",["mouseout","mouseover"]);$p("onMouseLeave",["mouseout","mouseover"]);$p("onPointerEnter",["pointerout","pointerover"]);$p("onPointerLeave",["pointerout","pointerover"]);Zf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pse=new Set("cancel close invalid load scroll toggle".split(" ").concat(nx));function aO(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fne(n,t,void 0,e),e.currentTarget=null}function EH(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;aO(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;aO(i,l,d),a=c}}}if(R1)throw e=wS,R1=!1,wS=null,e}function Wn(e,t){var r=t[IS];r===void 0&&(r=t[IS]=new Set);var n=e+"__bubble";r.has(n)||(PH(t,e,2,!1),r.add(n))}function O_(e,t,r){var n=0;t&&(n|=4),PH(r,e,n,t)}var kb="_reactListening"+Math.random().toString(36).slice(2);function oy(e){if(!e[kb]){e[kb]=!0,R$.forEach(function(r){r!=="selectionchange"&&(pse.has(r)||O_(r,!1,e),O_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kb]||(t[kb]=!0,O_("selectionchange",!1,t))}}function PH(e,t,r,n){switch(fH(t)){case 1:var i=Ene;break;case 4:i=Pne;break;default:i=E3}r=i.bind(null,t,r,e),i=void 0,!bS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function L_(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=qA(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}eH(function(){var d=a,u=C3(r),A=[];e:{var f=kH.get(e);if(f!==void 0){var m=I3,x=e;switch(e){case"keypress":if(Yw(r)===0)break e;case"keydown":case"keyup":m=Kne;break;case"focusin":x="focus",m=S_;break;case"focusout":x="blur",m=S_;break;case"beforeblur":case"afterblur":m=S_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=GT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=One;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qne;break;case _H:case CH:case BH:m=Une;break;case SH:m=Xne;break;case"scroll":m=Ine;break;case"wheel":m=Zne;break;case"copy":case"cut":case"paste":m=Mne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=YT}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var b=d,w;b!==null;){w=b;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=ty(b,y),j!=null&&p.push(ly(b,j,w)))),v)break;b=b.return}0<p.length&&(f=new m(f,x,null,r,u),A.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==yS&&(x=r.relatedTarget||r.fromElement)&&(qA(x)||x[du]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?qA(x):null,x!==null&&(v=em(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(p=GT,j="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=YT,j="onPointerLeave",y="onPointerEnter",b="pointer"),v=m==null?f:ep(m),w=x==null?f:ep(x),f=new p(j,b+"leave",m,r,u),f.target=v,f.relatedTarget=w,j=null,qA(u)===d&&(p=new p(y,b+"enter",x,r,u),p.target=w,p.relatedTarget=v,j=p),v=j,m&&x)t:{for(p=m,y=x,b=0,w=p;w;w=Cm(w))b++;for(w=0,j=y;j;j=Cm(j))w++;for(;0<b-w;)p=Cm(p),b--;for(;0<w-b;)y=Cm(y),w--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=Cm(p),y=Cm(y)}p=null}else p=null;m!==null&&oO(A,f,m,p,!1),x!==null&&v!==null&&oO(A,v,x,p,!0)}}e:{if(f=d?ep(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=ase;else if(ZT(f))if(vH)N=dse;else{N=lse;var B=ose}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=cse);if(N&&(N=N(e,d))){yH(A,N,r,u);break e}B&&B(e,f,d),e==="focusout"&&(B=f._wrapperState)&&B.controlled&&f.type==="number"&&fS(f,"number",f.value)}switch(B=d?ep(d):window,e){case"focusin":(ZT(B)||B.contentEditable==="true")&&(Jm=B,CS=d,Nx=null);break;case"focusout":Nx=CS=Jm=null;break;case"mousedown":BS=!0;break;case"contextmenu":case"mouseup":case"dragend":BS=!1,sO(A,r,u);break;case"selectionchange":if(Ase)break;case"keydown":case"keyup":sO(A,r,u)}var I;if(O3)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xm?gH(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(pH&&r.locale!=="ko"&&(Xm||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xm&&(I=mH()):(yh=u,P3="value"in yh?yh.value:yh.textContent,Xm=!0)),B=H1(d,P),0<B.length&&(P=new qT(P,e,null,r,u),A.push({event:P,listeners:B}),I?P.data=I:(I=xH(r),I!==null&&(P.data=I)))),(I=tse?rse(e,r):nse(e,r))&&(d=H1(d,"onBeforeInput"),0<d.length&&(u=new qT("onBeforeInput","beforeinput",null,r,u),A.push({event:u,listeners:d}),u.data=I))}EH(A,t)})}function ly(e,t,r){return{instance:e,listener:t,currentTarget:r}}function H1(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ty(e,r),a!=null&&n.unshift(ly(e,a,i)),a=ty(e,t),a!=null&&n.push(ly(e,a,i))),e=e.return}return n}function Cm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oO(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=ty(r,a),c!=null&&o.unshift(ly(r,c,l))):i||(c=ty(r,a),c!=null&&o.push(ly(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var gse=/\r\n?/g,xse=/\u0000|\uFFFD/g;function lO(e){return(typeof e=="string"?e:""+e).replace(gse,`
`).replace(xse,"")}function Eb(e,t,r){if(t=lO(t),lO(e)!==t&&r)throw Error(bt(425))}function z1(){}var SS=null,kS=null;function ES(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var PS=typeof setTimeout=="function"?setTimeout:void 0,yse=typeof clearTimeout=="function"?clearTimeout:void 0,cO=typeof Promise=="function"?Promise:void 0,vse=typeof queueMicrotask=="function"?queueMicrotask:typeof cO<"u"?function(e){return cO.resolve(null).then(e).catch(bse)}:PS;function bse(e){setTimeout(function(){throw e})}function F_(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),sy(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);sy(t)}function Ph(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Og=Math.random().toString(36).slice(2),$c="__reactFiber$"+Og,cy="__reactProps$"+Og,du="__reactContainer$"+Og,IS="__reactEvents$"+Og,wse="__reactListeners$"+Og,jse="__reactHandles$"+Og;function qA(e){var t=e[$c];if(t)return t;for(var r=e.parentNode;r;){if(t=r[du]||r[$c]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dO(e);e!==null;){if(r=e[$c])return r;e=dO(e)}return t}e=r,r=e.parentNode}return null}function yv(e){return e=e[$c]||e[du],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ep(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(bt(33))}function aN(e){return e[cy]||null}var TS=[],tp=-1;function sA(e){return{current:e}}function Xn(e){0>tp||(e.current=TS[tp],TS[tp]=null,tp--)}function Qn(e,t){tp++,TS[tp]=e.current,e.current=t}var Vh={},da=sA(Vh),Ya=sA(!1),Cf=Vh;function Hp(e,t){var r=e.type.contextTypes;if(!r)return Vh;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xa(e){return e=e.childContextTypes,e!=null}function V1(){Xn(Ya),Xn(da)}function uO(e,t,r){if(da.current!==Vh)throw Error(bt(168));Qn(da,t),Qn(Ya,r)}function IH(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(bt(108,one(e)||"Unknown",i));return fs({},r,n)}function K1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vh,Cf=da.current,Qn(da,e),Qn(Ya,Ya.current),!0}function hO(e,t,r){var n=e.stateNode;if(!n)throw Error(bt(169));r?(e=IH(e,t,Cf),n.__reactInternalMemoizedMergedChildContext=e,Xn(Ya),Xn(da),Qn(da,e)):Xn(Ya),Qn(Ya,r)}var Rd=null,oN=!1,U_=!1;function TH(e){Rd===null?Rd=[e]:Rd.push(e)}function Nse(e){oN=!0,TH(e)}function iA(){if(!U_&&Rd!==null){U_=!0;var e=0,t=xn;try{var r=Rd;for(xn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rd=null,oN=!1}catch(i){throw Rd!==null&&(Rd=Rd.slice(e+1)),sH(B3,iA),i}finally{xn=t,U_=!1}}return null}var rp=[],np=0,W1=null,G1=0,nl=[],sl=0,Bf=null,Qd=1,$d="";function UA(e,t){rp[np++]=G1,rp[np++]=W1,W1=e,G1=t}function OH(e,t,r){nl[sl++]=Qd,nl[sl++]=$d,nl[sl++]=Bf,Bf=e;var n=Qd;e=$d;var i=32-ic(n)-1;n&=~(1<<i),r+=1;var a=32-ic(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qd=1<<32-ic(t)+i|r<<i|n,$d=a+e}else Qd=1<<a|r<<i|n,$d=e}function F3(e){e.return!==null&&(UA(e,1),OH(e,1,0))}function U3(e){for(;e===W1;)W1=rp[--np],rp[np]=null,G1=rp[--np],rp[np]=null;for(;e===Bf;)Bf=nl[--sl],nl[sl]=null,$d=nl[--sl],nl[sl]=null,Qd=nl[--sl],nl[sl]=null}var So=null,Co=null,rs=!1,tc=null;function LH(e,t){var r=cl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function AO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,So=e,Co=Ph(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,So=e,Co=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bf!==null?{id:Qd,overflow:$d}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cl(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,So=e,Co=null,!0):!1;default:return!1}}function OS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function LS(e){if(rs){var t=Co;if(t){var r=t;if(!AO(e,t)){if(OS(e))throw Error(bt(418));t=Ph(r.nextSibling);var n=So;t&&AO(e,t)?LH(n,r):(e.flags=e.flags&-4097|2,rs=!1,So=e)}}else{if(OS(e))throw Error(bt(418));e.flags=e.flags&-4097|2,rs=!1,So=e}}}function fO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;So=e}function Pb(e){if(e!==So)return!1;if(!rs)return fO(e),rs=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ES(e.type,e.memoizedProps)),t&&(t=Co)){if(OS(e))throw FH(),Error(bt(418));for(;t;)LH(e,t),t=Ph(t.nextSibling)}if(fO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Co=Ph(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Co=null}}else Co=So?Ph(e.stateNode.nextSibling):null;return!0}function FH(){for(var e=Co;e;)e=Ph(e.nextSibling)}function zp(){Co=So=null,rs=!1}function R3(e){tc===null?tc=[e]:tc.push(e)}var _se=Nu.ReactCurrentBatchConfig;function B0(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(bt(309));var n=r.stateNode}if(!n)throw Error(bt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(bt(284));if(!r._owner)throw Error(bt(290,e))}return e}function Ib(e,t){throw e=Object.prototype.toString.call(t),Error(bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mO(e){var t=e._init;return t(e._payload)}function UH(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Lh(y,b),y.index=0,y.sibling=null,y}function a(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,w,j){return b===null||b.tag!==6?(b=z_(w,y.mode,j),b.return=y,b):(b=i(b,w),b.return=y,b)}function c(y,b,w,j){var N=w.type;return N===Ym?u(y,b,w.props.children,j,w.key):b!==null&&(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ch&&mO(N)===b.type)?(j=i(b,w.props),j.ref=B0(y,b,w),j.return=y,j):(j=n1(w.type,w.key,w.props,null,y.mode,j),j.ref=B0(y,b,w),j.return=y,j)}function d(y,b,w,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=V_(w,y.mode,j),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,j,N){return b===null||b.tag!==7?(b=Af(w,y.mode,j,N),b.return=y,b):(b=i(b,w),b.return=y,b)}function A(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=z_(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bb:return w=n1(b.type,b.key,b.props,null,y.mode,w),w.ref=B0(y,null,b),w.return=y,w;case qm:return b=V_(b,y.mode,w),b.return=y,b;case ch:var j=b._init;return A(y,j(b._payload),w)}if(tx(b)||w0(b))return b=Af(b,y.mode,w,null),b.return=y,b;Ib(y,b)}return null}function f(y,b,w,j){var N=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case bb:return w.key===N?c(y,b,w,j):null;case qm:return w.key===N?d(y,b,w,j):null;case ch:return N=w._init,f(y,b,N(w._payload),j)}if(tx(w)||w0(w))return N!==null?null:u(y,b,w,j,null);Ib(y,w)}return null}function m(y,b,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(b,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bb:return y=y.get(j.key===null?w:j.key)||null,c(b,y,j,N);case qm:return y=y.get(j.key===null?w:j.key)||null,d(b,y,j,N);case ch:var B=j._init;return m(y,b,w,B(j._payload),N)}if(tx(j)||w0(j))return y=y.get(w)||null,u(b,y,j,N,null);Ib(b,j)}return null}function x(y,b,w,j){for(var N=null,B=null,I=b,P=b=0,T=null;I!==null&&P<w.length;P++){I.index>P?(T=I,I=null):T=I.sibling;var U=f(y,I,w[P],j);if(U===null){I===null&&(I=T);break}e&&I&&U.alternate===null&&t(y,I),b=a(U,b,P),B===null?N=U:B.sibling=U,B=U,I=T}if(P===w.length)return r(y,I),rs&&UA(y,P),N;if(I===null){for(;P<w.length;P++)I=A(y,w[P],j),I!==null&&(b=a(I,b,P),B===null?N=I:B.sibling=I,B=I);return rs&&UA(y,P),N}for(I=n(y,I);P<w.length;P++)T=m(I,y,P,w[P],j),T!==null&&(e&&T.alternate!==null&&I.delete(T.key===null?P:T.key),b=a(T,b,P),B===null?N=T:B.sibling=T,B=T);return e&&I.forEach(function(k){return t(y,k)}),rs&&UA(y,P),N}function p(y,b,w,j){var N=w0(w);if(typeof N!="function")throw Error(bt(150));if(w=N.call(w),w==null)throw Error(bt(151));for(var B=N=null,I=b,P=b=0,T=null,U=w.next();I!==null&&!U.done;P++,U=w.next()){I.index>P?(T=I,I=null):T=I.sibling;var k=f(y,I,U.value,j);if(k===null){I===null&&(I=T);break}e&&I&&k.alternate===null&&t(y,I),b=a(k,b,P),B===null?N=k:B.sibling=k,B=k,I=T}if(U.done)return r(y,I),rs&&UA(y,P),N;if(I===null){for(;!U.done;P++,U=w.next())U=A(y,U.value,j),U!==null&&(b=a(U,b,P),B===null?N=U:B.sibling=U,B=U);return rs&&UA(y,P),N}for(I=n(y,I);!U.done;P++,U=w.next())U=m(I,y,P,U.value,j),U!==null&&(e&&U.alternate!==null&&I.delete(U.key===null?P:U.key),b=a(U,b,P),B===null?N=U:B.sibling=U,B=U);return e&&I.forEach(function(E){return t(y,E)}),rs&&UA(y,P),N}function v(y,b,w,j){if(typeof w=="object"&&w!==null&&w.type===Ym&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case bb:e:{for(var N=w.key,B=b;B!==null;){if(B.key===N){if(N=w.type,N===Ym){if(B.tag===7){r(y,B.sibling),b=i(B,w.props.children),b.return=y,y=b;break e}}else if(B.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ch&&mO(N)===B.type){r(y,B.sibling),b=i(B,w.props),b.ref=B0(y,B,w),b.return=y,y=b;break e}r(y,B);break}else t(y,B);B=B.sibling}w.type===Ym?(b=Af(w.props.children,y.mode,j,w.key),b.return=y,y=b):(j=n1(w.type,w.key,w.props,null,y.mode,j),j.ref=B0(y,b,w),j.return=y,y=j)}return o(y);case qm:e:{for(B=w.key;b!==null;){if(b.key===B)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=V_(w,y.mode,j),b.return=y,y=b}return o(y);case ch:return B=w._init,v(y,b,B(w._payload),j)}if(tx(w))return x(y,b,w,j);if(w0(w))return p(y,b,w,j);Ib(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,w),b.return=y,y=b):(r(y,b),b=z_(w,y.mode,j),b.return=y,y=b),o(y)):r(y,b)}return v}var Vp=UH(!0),RH=UH(!1),q1=sA(null),Y1=null,sp=null,M3=null;function D3(){M3=sp=Y1=null}function Q3(e){var t=q1.current;Xn(q1),e._currentValue=t}function FS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jp(e,t){Y1=e,M3=sp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ga=!0),e.firstContext=null)}function gl(e){var t=e._currentValue;if(M3!==e)if(e={context:e,memoizedValue:t,next:null},sp===null){if(Y1===null)throw Error(bt(308));sp=e,Y1.dependencies={lanes:0,firstContext:e}}else sp=sp.next=e;return t}var YA=null;function $3(e){YA===null?YA=[e]:YA.push(e)}function MH(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,$3(t)):(r.next=i.next,i.next=r),t.interleaved=r,uu(e,n)}function uu(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dh=!1;function H3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DH(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ih(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,zr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,uu(e,r)}return i=n.interleaved,i===null?(t.next=t,$3(n)):(t.next=i.next,i.next=t),n.interleaved=t,uu(e,r)}function Xw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,S3(e,r)}}function pO(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function X1(e,t,r,n){var i=e.updateQueue;dh=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var A=i.baseState;o=0,u=d=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(f=t,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){A=x.call(m,A,f);break e}A=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,f=typeof x=="function"?x.call(m,A,f):x,f==null)break e;A=fs({},A,f);break e;case 2:dh=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=A):u=u.next=m,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=A),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);kf|=o,e.lanes=o,e.memoizedState=A}}function gO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(bt(191,i));i.call(n)}}}var vv={},qc=sA(vv),dy=sA(vv),uy=sA(vv);function XA(e){if(e===vv)throw Error(bt(174));return e}function z3(e,t){switch(Qn(uy,t),Qn(dy,e),Qn(qc,vv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pS(t,e)}Xn(qc),Qn(qc,t)}function Kp(){Xn(qc),Xn(dy),Xn(uy)}function QH(e){XA(uy.current);var t=XA(qc.current),r=pS(t,e.type);t!==r&&(Qn(dy,e),Qn(qc,r))}function V3(e){dy.current===e&&(Xn(qc),Xn(dy))}var us=sA(0);function J1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R_=[];function K3(){for(var e=0;e<R_.length;e++)R_[e]._workInProgressVersionPrimary=null;R_.length=0}var Jw=Nu.ReactCurrentDispatcher,M_=Nu.ReactCurrentBatchConfig,Sf=0,As=null,hi=null,bi=null,Z1=!1,_x=!1,hy=0,Cse=0;function Ki(){throw Error(bt(321))}function W3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dc(e[r],t[r]))return!1;return!0}function G3(e,t,r,n,i,a){if(Sf=a,As=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jw.current=e===null||e.memoizedState===null?Ese:Pse,e=r(n,i),_x){a=0;do{if(_x=!1,hy=0,25<=a)throw Error(bt(301));a+=1,bi=hi=null,t.updateQueue=null,Jw.current=Ise,e=r(n,i)}while(_x)}if(Jw.current=e2,t=hi!==null&&hi.next!==null,Sf=0,bi=hi=As=null,Z1=!1,t)throw Error(bt(300));return e}function q3(){var e=hy!==0;return hy=0,e}function Qc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?As.memoizedState=bi=e:bi=bi.next=e,bi}function xl(){if(hi===null){var e=As.alternate;e=e!==null?e.memoizedState:null}else e=hi.next;var t=bi===null?As.memoizedState:bi.next;if(t!==null)bi=t,hi=e;else{if(e===null)throw Error(bt(310));hi=e,e={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},bi===null?As.memoizedState=bi=e:bi=bi.next=e}return bi}function Ay(e,t){return typeof t=="function"?t(e):t}function D_(e){var t=xl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var n=hi,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Sf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var A={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=A,o=n):c=c.next=A,As.lanes|=u,kf|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,dc(n,t.memoizedState)||(Ga=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,As.lanes|=a,kf|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Q_(e){var t=xl(),r=t.queue;if(r===null)throw Error(bt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);dc(a,t.memoizedState)||(Ga=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function $H(){}function HH(e,t){var r=As,n=xl(),i=t(),a=!dc(n.memoizedState,i);if(a&&(n.memoizedState=i,Ga=!0),n=n.queue,Y3(KH.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||bi!==null&&bi.memoizedState.tag&1){if(r.flags|=2048,fy(9,VH.bind(null,r,n,i,t),void 0,null),Ni===null)throw Error(bt(349));Sf&30||zH(r,t,i)}return i}function zH(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=As.updateQueue,t===null?(t={lastEffect:null,stores:null},As.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function VH(e,t,r,n){t.value=r,t.getSnapshot=n,WH(t)&&GH(e)}function KH(e,t,r){return r(function(){WH(t)&&GH(e)})}function WH(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dc(e,r)}catch{return!0}}function GH(e){var t=uu(e,1);t!==null&&ac(t,e,1,-1)}function xO(e){var t=Qc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ay,lastRenderedState:e},t.queue=e,e=e.dispatch=kse.bind(null,As,e),[t.memoizedState,e]}function fy(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=As.updateQueue,t===null?(t={lastEffect:null,stores:null},As.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qH(){return xl().memoizedState}function Zw(e,t,r,n){var i=Qc();As.flags|=e,i.memoizedState=fy(1|t,r,void 0,n===void 0?null:n)}function lN(e,t,r,n){var i=xl();n=n===void 0?null:n;var a=void 0;if(hi!==null){var o=hi.memoizedState;if(a=o.destroy,n!==null&&W3(n,o.deps)){i.memoizedState=fy(t,r,a,n);return}}As.flags|=e,i.memoizedState=fy(1|t,r,a,n)}function yO(e,t){return Zw(8390656,8,e,t)}function Y3(e,t){return lN(2048,8,e,t)}function YH(e,t){return lN(4,2,e,t)}function XH(e,t){return lN(4,4,e,t)}function JH(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZH(e,t,r){return r=r!=null?r.concat([e]):null,lN(4,4,JH.bind(null,t,e),r)}function X3(){}function e9(e,t){var r=xl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&W3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function t9(e,t){var r=xl();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&W3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function r9(e,t,r){return Sf&21?(dc(r,t)||(r=oH(),As.lanes|=r,kf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ga=!0),e.memoizedState=r)}function Bse(e,t){var r=xn;xn=r!==0&&4>r?r:4,e(!0);var n=M_.transition;M_.transition={};try{e(!1),t()}finally{xn=r,M_.transition=n}}function n9(){return xl().memoizedState}function Sse(e,t,r){var n=Oh(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s9(e))i9(t,r);else if(r=MH(e,t,r,n),r!==null){var i=Ba();ac(r,e,n,i),a9(r,t,n)}}function kse(e,t,r){var n=Oh(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s9(e))i9(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,dc(l,o)){var c=t.interleaved;c===null?(i.next=i,$3(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=MH(e,t,i,n),r!==null&&(i=Ba(),ac(r,e,n,i),a9(r,t,n))}}function s9(e){var t=e.alternate;return e===As||t!==null&&t===As}function i9(e,t){_x=Z1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function a9(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,S3(e,r)}}var e2={readContext:gl,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useInsertionEffect:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useDeferredValue:Ki,useTransition:Ki,useMutableSource:Ki,useSyncExternalStore:Ki,useId:Ki,unstable_isNewReconciler:!1},Ese={readContext:gl,useCallback:function(e,t){return Qc().memoizedState=[e,t===void 0?null:t],e},useContext:gl,useEffect:yO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zw(4194308,4,JH.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zw(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zw(4,2,e,t)},useMemo:function(e,t){var r=Qc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Sse.bind(null,As,e),[n.memoizedState,e]},useRef:function(e){var t=Qc();return e={current:e},t.memoizedState=e},useState:xO,useDebugValue:X3,useDeferredValue:function(e){return Qc().memoizedState=e},useTransition:function(){var e=xO(!1),t=e[0];return e=Bse.bind(null,e[1]),Qc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=As,i=Qc();if(rs){if(r===void 0)throw Error(bt(407));r=r()}else{if(r=t(),Ni===null)throw Error(bt(349));Sf&30||zH(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,yO(KH.bind(null,n,a,e),[e]),n.flags|=2048,fy(9,VH.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Qc(),t=Ni.identifierPrefix;if(rs){var r=$d,n=Qd;r=(n&~(1<<32-ic(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=hy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cse++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pse={readContext:gl,useCallback:e9,useContext:gl,useEffect:Y3,useImperativeHandle:ZH,useInsertionEffect:YH,useLayoutEffect:XH,useMemo:t9,useReducer:D_,useRef:qH,useState:function(){return D_(Ay)},useDebugValue:X3,useDeferredValue:function(e){var t=xl();return r9(t,hi.memoizedState,e)},useTransition:function(){var e=D_(Ay)[0],t=xl().memoizedState;return[e,t]},useMutableSource:$H,useSyncExternalStore:HH,useId:n9,unstable_isNewReconciler:!1},Ise={readContext:gl,useCallback:e9,useContext:gl,useEffect:Y3,useImperativeHandle:ZH,useInsertionEffect:YH,useLayoutEffect:XH,useMemo:t9,useReducer:Q_,useRef:qH,useState:function(){return Q_(Ay)},useDebugValue:X3,useDeferredValue:function(e){var t=xl();return hi===null?t.memoizedState=e:r9(t,hi.memoizedState,e)},useTransition:function(){var e=Q_(Ay)[0],t=xl().memoizedState;return[e,t]},useMutableSource:$H,useSyncExternalStore:HH,useId:n9,unstable_isNewReconciler:!1};function Yl(e,t){if(e&&e.defaultProps){t=fs({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function US(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fs({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cN={isMounted:function(e){return(e=e._reactInternals)?em(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ba(),i=Oh(e),a=Jd(n,i);a.payload=t,r!=null&&(a.callback=r),t=Ih(e,a,i),t!==null&&(ac(t,e,i,n),Xw(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ba(),i=Oh(e),a=Jd(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ih(e,a,i),t!==null&&(ac(t,e,i,n),Xw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ba(),n=Oh(e),i=Jd(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ih(e,i,n),t!==null&&(ac(t,e,n,r),Xw(t,e,n))}};function vO(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ay(r,n)||!ay(i,a):!0}function o9(e,t,r){var n=!1,i=Vh,a=t.contextType;return typeof a=="object"&&a!==null?a=gl(a):(i=Xa(t)?Cf:da.current,n=t.contextTypes,a=(n=n!=null)?Hp(e,i):Vh),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cN,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bO(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cN.enqueueReplaceState(t,t.state,null)}function RS(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},H3(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=gl(a):(a=Xa(t)?Cf:da.current,i.context=Hp(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(US(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cN.enqueueReplaceState(i,i.state,null),X1(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wp(e,t){try{var r="",n=t;do r+=ane(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function $_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function MS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Tse=typeof WeakMap=="function"?WeakMap:Map;function l9(e,t,r){r=Jd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){r2||(r2=!0,qS=n),MS(e,t)},r}function c9(e,t,r){r=Jd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){MS(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){MS(e,t),typeof n!="function"&&(Th===null?Th=new Set([this]):Th.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function wO(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Tse;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Wse.bind(null,e,t,r),t.then(e,e))}function jO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NO(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jd(-1,1),t.tag=2,Ih(r,t,1))),r.lanes|=1),e)}var Ose=Nu.ReactCurrentOwner,Ga=!1;function ja(e,t,r,n){t.child=e===null?RH(t,null,r,n):Vp(t,e.child,r,n)}function _O(e,t,r,n,i){r=r.render;var a=t.ref;return jp(t,i),n=G3(e,t,r,n,a,i),r=q3(),e!==null&&!Ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hu(e,t,i)):(rs&&r&&F3(t),t.flags|=1,ja(e,t,n,i),t.child)}function CO(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!iP(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,d9(e,t,a,n,i)):(e=n1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ay,r(o,n)&&e.ref===t.ref)return hu(e,t,i)}return t.flags|=1,e=Lh(a,n),e.ref=t.ref,e.return=t,t.child=e}function d9(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ay(a,n)&&e.ref===t.ref)if(Ga=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ga=!0);else return t.lanes=e.lanes,hu(e,t,i)}return DS(e,t,r,n,i)}function u9(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qn(ap,bo),bo|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qn(ap,bo),bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Qn(ap,bo),bo|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Qn(ap,bo),bo|=n;return ja(e,t,i,r),t.child}function h9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function DS(e,t,r,n,i){var a=Xa(r)?Cf:da.current;return a=Hp(t,a),jp(t,i),r=G3(e,t,r,n,a,i),n=q3(),e!==null&&!Ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,hu(e,t,i)):(rs&&n&&F3(t),t.flags|=1,ja(e,t,r,i),t.child)}function BO(e,t,r,n,i){if(Xa(r)){var a=!0;K1(t)}else a=!1;if(jp(t,i),t.stateNode===null)e1(e,t),o9(t,r,n),RS(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=gl(d):(d=Xa(r)?Cf:da.current,d=Hp(t,d));var u=r.getDerivedStateFromProps,A=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&bO(t,o,n,d),dh=!1;var f=t.memoizedState;o.state=f,X1(t,n,o,i),c=t.memoizedState,l!==n||f!==c||Ya.current||dh?(typeof u=="function"&&(US(t,r,u,n),c=t.memoizedState),(l=dh||vO(t,r,l,n,f,c,d))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,DH(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Yl(t.type,l),o.props=d,A=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=gl(c):(c=Xa(r)?Cf:da.current,c=Hp(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==A||f!==c)&&bO(t,o,n,c),dh=!1,f=t.memoizedState,o.state=f,X1(t,n,o,i);var x=t.memoizedState;l!==A||f!==x||Ya.current||dh?(typeof m=="function"&&(US(t,r,m,n),x=t.memoizedState),(d=dh||vO(t,r,d,n,f,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return QS(e,t,r,n,a,i)}function QS(e,t,r,n,i,a){h9(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&hO(t,r,!1),hu(e,t,a);n=t.stateNode,Ose.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Vp(t,e.child,null,a),t.child=Vp(t,null,l,a)):ja(e,t,l,a),t.memoizedState=n.state,i&&hO(t,r,!0),t.child}function A9(e){var t=e.stateNode;t.pendingContext?uO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uO(e,t.context,!1),z3(e,t.containerInfo)}function SO(e,t,r,n,i){return zp(),R3(i),t.flags|=256,ja(e,t,r,n),t.child}var $S={dehydrated:null,treeContext:null,retryLane:0};function HS(e){return{baseLanes:e,cachePool:null,transitions:null}}function f9(e,t,r){var n=t.pendingProps,i=us.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qn(us,i&1),e===null)return LS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=hN(o,n,0,null),e=Af(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=HS(r),t.memoizedState=$S,e):J3(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Lse(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lh(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Lh(l,a):(a=Af(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?HS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=$S,n}return a=e.child,e=a.sibling,n=Lh(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function J3(e,t){return t=hN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Tb(e,t,r,n){return n!==null&&R3(n),Vp(t,e.child,null,r),e=J3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lse(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=$_(Error(bt(422))),Tb(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=hN({mode:"visible",children:n.children},i,0,null),a=Af(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Vp(t,e.child,null,o),t.child.memoizedState=HS(o),t.memoizedState=$S,a);if(!(t.mode&1))return Tb(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(bt(419)),n=$_(a,n,void 0),Tb(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ga||l){if(n=Ni,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,uu(e,i),ac(n,e,i,-1))}return sP(),n=$_(Error(bt(421))),Tb(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Gse.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Co=Ph(i.nextSibling),So=t,rs=!0,tc=null,e!==null&&(nl[sl++]=Qd,nl[sl++]=$d,nl[sl++]=Bf,Qd=e.id,$d=e.overflow,Bf=t),t=J3(t,n.children),t.flags|=4096,t)}function kO(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),FS(e.return,t,r)}function H_(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function m9(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(ja(e,t,n.children,r),n=us.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kO(e,r,t);else if(e.tag===19)kO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qn(us,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&J1(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),H_(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&J1(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}H_(t,!0,r,null,a);break;case"together":H_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function e1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hu(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),kf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(bt(153));if(t.child!==null){for(e=t.child,r=Lh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Fse(e,t,r){switch(t.tag){case 3:A9(t),zp();break;case 5:QH(t);break;case 1:Xa(t.type)&&K1(t);break;case 4:z3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Qn(q1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qn(us,us.current&1),t.flags|=128,null):r&t.child.childLanes?f9(e,t,r):(Qn(us,us.current&1),e=hu(e,t,r),e!==null?e.sibling:null);Qn(us,us.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m9(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qn(us,us.current),n)break;return null;case 22:case 23:return t.lanes=0,u9(e,t,r)}return hu(e,t,r)}var p9,zS,g9,x9;p9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zS=function(){};g9=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,XA(qc.current);var a=null;switch(r){case"input":i=hS(e,i),n=hS(e,n),a=[];break;case"select":i=fs({},i,{value:void 0}),n=fs({},n,{value:void 0}),a=[];break;case"textarea":i=mS(e,i),n=mS(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=z1)}gS(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Zx.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Zx.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Wn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};x9=function(e,t,r,n){r!==n&&(t.flags|=4)};function S0(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Wi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Use(e,t,r){var n=t.pendingProps;switch(U3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:return Xa(t.type)&&V1(),Wi(t),null;case 3:return n=t.stateNode,Kp(),Xn(Ya),Xn(da),K3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tc!==null&&(JS(tc),tc=null))),zS(e,t),Wi(t),null;case 5:V3(t);var i=XA(uy.current);if(r=t.type,e!==null&&t.stateNode!=null)g9(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(bt(166));return Wi(t),null}if(e=XA(qc.current),Pb(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[$c]=t,n[cy]=a,e=(t.mode&1)!==0,r){case"dialog":Wn("cancel",n),Wn("close",n);break;case"iframe":case"object":case"embed":Wn("load",n);break;case"video":case"audio":for(i=0;i<nx.length;i++)Wn(nx[i],n);break;case"source":Wn("error",n);break;case"img":case"image":case"link":Wn("error",n),Wn("load",n);break;case"details":Wn("toggle",n);break;case"input":RT(n,a),Wn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Wn("invalid",n);break;case"textarea":DT(n,a),Wn("invalid",n)}gS(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Eb(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Eb(n.textContent,l,e),i=["children",""+l]):Zx.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Wn("scroll",n)}switch(r){case"input":wb(n),MT(n,a,!0);break;case"textarea":wb(n),QT(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=z1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K$(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[$c]=t,e[cy]=n,p9(e,t,!1,!1),t.stateNode=e;e:{switch(o=xS(r,n),r){case"dialog":Wn("cancel",e),Wn("close",e),i=n;break;case"iframe":case"object":case"embed":Wn("load",e),i=n;break;case"video":case"audio":for(i=0;i<nx.length;i++)Wn(nx[i],e);i=n;break;case"source":Wn("error",e),i=n;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),i=n;break;case"details":Wn("toggle",e),i=n;break;case"input":RT(e,n),i=hS(e,n),Wn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=fs({},n,{value:void 0}),Wn("invalid",e);break;case"textarea":DT(e,n),i=mS(e,n),Wn("invalid",e);break;default:i=n}gS(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?q$(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&W$(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ey(e,c):typeof c=="number"&&ey(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zx.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Wn("scroll",e):c!=null&&w3(e,a,c,o))}switch(r){case"input":wb(e),MT(e,n,!1);break;case"textarea":wb(e),QT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zh(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?yp(e,!!n.multiple,a,!1):n.defaultValue!=null&&yp(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=z1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&t.stateNode!=null)x9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(bt(166));if(r=XA(uy.current),XA(qc.current),Pb(t)){if(n=t.stateNode,r=t.memoizedProps,n[$c]=t,(a=n.nodeValue!==r)&&(e=So,e!==null))switch(e.tag){case 3:Eb(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eb(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$c]=t,t.stateNode=n}return Wi(t),null;case 13:if(Xn(us),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rs&&Co!==null&&t.mode&1&&!(t.flags&128))FH(),zp(),t.flags|=98560,a=!1;else if(a=Pb(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(bt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(bt(317));a[$c]=t}else zp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wi(t),a=!1}else tc!==null&&(JS(tc),tc=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||us.current&1?mi===0&&(mi=3):sP())),t.updateQueue!==null&&(t.flags|=4),Wi(t),null);case 4:return Kp(),zS(e,t),e===null&&oy(t.stateNode.containerInfo),Wi(t),null;case 10:return Q3(t.type._context),Wi(t),null;case 17:return Xa(t.type)&&V1(),Wi(t),null;case 19:if(Xn(us),a=t.memoizedState,a===null)return Wi(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)S0(a,!1);else{if(mi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=J1(e),o!==null){for(t.flags|=128,S0(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qn(us,us.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ms()>Gp&&(t.flags|=128,n=!0,S0(a,!1),t.lanes=4194304)}else{if(!n)if(e=J1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),S0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!rs)return Wi(t),null}else 2*Ms()-a.renderingStartTime>Gp&&r!==1073741824&&(t.flags|=128,n=!0,S0(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ms(),t.sibling=null,r=us.current,Qn(us,n?r&1|2:r&1),t):(Wi(t),null);case 22:case 23:return nP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?bo&1073741824&&(Wi(t),t.subtreeFlags&6&&(t.flags|=8192)):Wi(t),null;case 24:return null;case 25:return null}throw Error(bt(156,t.tag))}function Rse(e,t){switch(U3(t),t.tag){case 1:return Xa(t.type)&&V1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kp(),Xn(Ya),Xn(da),K3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V3(t),null;case 13:if(Xn(us),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(bt(340));zp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xn(us),null;case 4:return Kp(),null;case 10:return Q3(t.type._context),null;case 22:case 23:return nP(),null;case 24:return null;default:return null}}var Ob=!1,na=!1,Mse=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function ip(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Bs(e,t,n)}else r.current=null}function VS(e,t,r){try{r()}catch(n){Bs(e,t,n)}}var EO=!1;function Dse(e,t){if(SS=Q1,e=jH(),L3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,A=e,f=null;t:for(;;){for(var m;A!==r||i!==0&&A.nodeType!==3||(l=o+i),A!==a||n!==0&&A.nodeType!==3||(c=o+n),A.nodeType===3&&(o+=A.nodeValue.length),(m=A.firstChild)!==null;)f=A,A=m;for(;;){if(A===e)break t;if(f===r&&++d===i&&(l=o),f===a&&++u===n&&(c=o),(m=A.nextSibling)!==null)break;A=f,f=A.parentNode}A=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(kS={focusedElem:e,selectionRange:r},Q1=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,v=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Yl(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(j){Bs(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return x=EO,EO=!1,x}function Cx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&VS(t,r,a)}i=i.next}while(i!==n)}}function dN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function KS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function y9(e){var t=e.alternate;t!==null&&(e.alternate=null,y9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$c],delete t[cy],delete t[IS],delete t[wse],delete t[jse])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v9(e){return e.tag===5||e.tag===3||e.tag===4}function PO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function WS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=z1));else if(n!==4&&(e=e.child,e!==null))for(WS(e,t,r),e=e.sibling;e!==null;)WS(e,t,r),e=e.sibling}function GS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(GS(e,t,r),e=e.sibling;e!==null;)GS(e,t,r),e=e.sibling}var Ti=null,Xl=!1;function Yu(e,t,r){for(r=r.child;r!==null;)b9(e,t,r),r=r.sibling}function b9(e,t,r){if(Gc&&typeof Gc.onCommitFiberUnmount=="function")try{Gc.onCommitFiberUnmount(rN,r)}catch{}switch(r.tag){case 5:na||ip(r,t);case 6:var n=Ti,i=Xl;Ti=null,Yu(e,t,r),Ti=n,Xl=i,Ti!==null&&(Xl?(e=Ti,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ti.removeChild(r.stateNode));break;case 18:Ti!==null&&(Xl?(e=Ti,r=r.stateNode,e.nodeType===8?F_(e.parentNode,r):e.nodeType===1&&F_(e,r),sy(e)):F_(Ti,r.stateNode));break;case 4:n=Ti,i=Xl,Ti=r.stateNode.containerInfo,Xl=!0,Yu(e,t,r),Ti=n,Xl=i;break;case 0:case 11:case 14:case 15:if(!na&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&VS(r,t,o),i=i.next}while(i!==n)}Yu(e,t,r);break;case 1:if(!na&&(ip(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Bs(r,t,l)}Yu(e,t,r);break;case 21:Yu(e,t,r);break;case 22:r.mode&1?(na=(n=na)||r.memoizedState!==null,Yu(e,t,r),na=n):Yu(e,t,r);break;default:Yu(e,t,r)}}function IO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mse),t.forEach(function(n){var i=qse.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function zl(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ti=l.stateNode,Xl=!1;break e;case 3:Ti=l.stateNode.containerInfo,Xl=!0;break e;case 4:Ti=l.stateNode.containerInfo,Xl=!0;break e}l=l.return}if(Ti===null)throw Error(bt(160));b9(a,o,i),Ti=null,Xl=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Bs(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)w9(t,e),t=t.sibling}function w9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zl(t,e),Fc(e),n&4){try{Cx(3,e,e.return),dN(3,e)}catch(p){Bs(e,e.return,p)}try{Cx(5,e,e.return)}catch(p){Bs(e,e.return,p)}}break;case 1:zl(t,e),Fc(e),n&512&&r!==null&&ip(r,r.return);break;case 5:if(zl(t,e),Fc(e),n&512&&r!==null&&ip(r,r.return),e.flags&32){var i=e.stateNode;try{ey(i,"")}catch(p){Bs(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&z$(i,a),xS(l,o);var d=xS(l,a);for(o=0;o<c.length;o+=2){var u=c[o],A=c[o+1];u==="style"?q$(i,A):u==="dangerouslySetInnerHTML"?W$(i,A):u==="children"?ey(i,A):w3(i,u,A,d)}switch(l){case"input":AS(i,a);break;case"textarea":V$(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?yp(i,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?yp(i,!!a.multiple,a.defaultValue,!0):yp(i,!!a.multiple,a.multiple?[]:"",!1))}i[cy]=a}catch(p){Bs(e,e.return,p)}}break;case 6:if(zl(t,e),Fc(e),n&4){if(e.stateNode===null)throw Error(bt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Bs(e,e.return,p)}}break;case 3:if(zl(t,e),Fc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sy(t.containerInfo)}catch(p){Bs(e,e.return,p)}break;case 4:zl(t,e),Fc(e);break;case 13:zl(t,e),Fc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(tP=Ms())),n&4&&IO(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(na=(d=na)||u,zl(t,e),na=d):zl(t,e),Fc(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Mt=e,u=e.child;u!==null;){for(A=Mt=u;Mt!==null;){switch(f=Mt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Cx(4,f,f.return);break;case 1:ip(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Bs(n,r,p)}}break;case 5:ip(f,f.return);break;case 22:if(f.memoizedState!==null){OO(A);continue}}m!==null?(m.return=f,Mt=m):OO(A)}u=u.sibling}e:for(u=null,A=e;;){if(A.tag===5){if(u===null){u=A;try{i=A.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=A.stateNode,c=A.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=G$("display",o))}catch(p){Bs(e,e.return,p)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(p){Bs(e,e.return,p)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:zl(t,e),Fc(e),n&4&&IO(e);break;case 21:break;default:zl(t,e),Fc(e)}}function Fc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(v9(r)){var n=r;break e}r=r.return}throw Error(bt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ey(i,""),n.flags&=-33);var a=PO(e);GS(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=PO(e);WS(e,l,o);break;default:throw Error(bt(161))}}catch(c){Bs(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qse(e,t,r){Mt=e,j9(e)}function j9(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var i=Mt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ob;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||na;l=Ob;var d=na;if(Ob=o,(na=c)&&!d)for(Mt=i;Mt!==null;)o=Mt,c=o.child,o.tag===22&&o.memoizedState!==null?LO(i):c!==null?(c.return=o,Mt=c):LO(i);for(;a!==null;)Mt=a,j9(a),a=a.sibling;Mt=i,Ob=l,na=d}TO(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Mt=a):TO(e)}}function TO(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:na||dN(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!na)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Yl(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gO(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&sy(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}na||t.flags&512&&KS(t)}catch(f){Bs(t,t.return,f)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function OO(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function LO(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dN(4,t)}catch(c){Bs(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Bs(t,i,c)}}var a=t.return;try{KS(t)}catch(c){Bs(t,a,c)}break;case 5:var o=t.return;try{KS(t)}catch(c){Bs(t,o,c)}}}catch(c){Bs(t,t.return,c)}if(t===e){Mt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Mt=l;break}Mt=t.return}}var $se=Math.ceil,t2=Nu.ReactCurrentDispatcher,Z3=Nu.ReactCurrentOwner,fl=Nu.ReactCurrentBatchConfig,zr=0,Ni=null,qs=null,Fi=0,bo=0,ap=sA(0),mi=0,my=null,kf=0,uN=0,eP=0,Bx=null,Wa=null,tP=0,Gp=1/0,Fd=null,r2=!1,qS=null,Th=null,Lb=!1,vh=null,n2=0,Sx=0,YS=null,t1=-1,r1=0;function Ba(){return zr&6?Ms():t1!==-1?t1:t1=Ms()}function Oh(e){return e.mode&1?zr&2&&Fi!==0?Fi&-Fi:_se.transition!==null?(r1===0&&(r1=oH()),r1):(e=xn,e!==0||(e=window.event,e=e===void 0?16:fH(e.type)),e):1}function ac(e,t,r,n){if(50<Sx)throw Sx=0,YS=null,Error(bt(185));gv(e,r,n),(!(zr&2)||e!==Ni)&&(e===Ni&&(!(zr&2)&&(uN|=r),mi===4&&fh(e,Fi)),Ja(e,n),r===1&&zr===0&&!(t.mode&1)&&(Gp=Ms()+500,oN&&iA()))}function Ja(e,t){var r=e.callbackNode;_ne(e,t);var n=D1(e,e===Ni?Fi:0);if(n===0)r!==null&&zT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&zT(r),t===1)e.tag===0?Nse(FO.bind(null,e)):TH(FO.bind(null,e)),vse(function(){!(zr&6)&&iA()}),r=null;else{switch(lH(n)){case 1:r=B3;break;case 4:r=iH;break;case 16:r=M1;break;case 536870912:r=aH;break;default:r=M1}r=P9(r,N9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function N9(e,t){if(t1=-1,r1=0,zr&6)throw Error(bt(327));var r=e.callbackNode;if(Np()&&e.callbackNode!==r)return null;var n=D1(e,e===Ni?Fi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=s2(e,n);else{t=n;var i=zr;zr|=2;var a=C9();(Ni!==e||Fi!==t)&&(Fd=null,Gp=Ms()+500,hf(e,t));do try{Vse();break}catch(l){_9(e,l)}while(!0);D3(),t2.current=a,zr=i,qs!==null?t=0:(Ni=null,Fi=0,t=mi)}if(t!==0){if(t===2&&(i=jS(e),i!==0&&(n=i,t=XS(e,i))),t===1)throw r=my,hf(e,0),fh(e,n),Ja(e,Ms()),r;if(t===6)fh(e,n);else{if(i=e.current.alternate,!(n&30)&&!Hse(i)&&(t=s2(e,n),t===2&&(a=jS(e),a!==0&&(n=a,t=XS(e,a))),t===1))throw r=my,hf(e,0),fh(e,n),Ja(e,Ms()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(bt(345));case 2:RA(e,Wa,Fd);break;case 3:if(fh(e,n),(n&130023424)===n&&(t=tP+500-Ms(),10<t)){if(D1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ba(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=PS(RA.bind(null,e,Wa,Fd),t);break}RA(e,Wa,Fd);break;case 4:if(fh(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-ic(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Ms()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$se(n/1960))-n,10<n){e.timeoutHandle=PS(RA.bind(null,e,Wa,Fd),n);break}RA(e,Wa,Fd);break;case 5:RA(e,Wa,Fd);break;default:throw Error(bt(329))}}}return Ja(e,Ms()),e.callbackNode===r?N9.bind(null,e):null}function XS(e,t){var r=Bx;return e.current.memoizedState.isDehydrated&&(hf(e,t).flags|=256),e=s2(e,t),e!==2&&(t=Wa,Wa=r,t!==null&&JS(t)),e}function JS(e){Wa===null?Wa=e:Wa.push.apply(Wa,e)}function Hse(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!dc(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fh(e,t){for(t&=~eP,t&=~uN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ic(t),n=1<<r;e[r]=-1,t&=~n}}function FO(e){if(zr&6)throw Error(bt(327));Np();var t=D1(e,0);if(!(t&1))return Ja(e,Ms()),null;var r=s2(e,t);if(e.tag!==0&&r===2){var n=jS(e);n!==0&&(t=n,r=XS(e,n))}if(r===1)throw r=my,hf(e,0),fh(e,t),Ja(e,Ms()),r;if(r===6)throw Error(bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,RA(e,Wa,Fd),Ja(e,Ms()),null}function rP(e,t){var r=zr;zr|=1;try{return e(t)}finally{zr=r,zr===0&&(Gp=Ms()+500,oN&&iA())}}function Ef(e){vh!==null&&vh.tag===0&&!(zr&6)&&Np();var t=zr;zr|=1;var r=fl.transition,n=xn;try{if(fl.transition=null,xn=1,e)return e()}finally{xn=n,fl.transition=r,zr=t,!(zr&6)&&iA()}}function nP(){bo=ap.current,Xn(ap)}function hf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yse(r)),qs!==null)for(r=qs.return;r!==null;){var n=r;switch(U3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&V1();break;case 3:Kp(),Xn(Ya),Xn(da),K3();break;case 5:V3(n);break;case 4:Kp();break;case 13:Xn(us);break;case 19:Xn(us);break;case 10:Q3(n.type._context);break;case 22:case 23:nP()}r=r.return}if(Ni=e,qs=e=Lh(e.current,null),Fi=bo=t,mi=0,my=null,eP=uN=kf=0,Wa=Bx=null,YA!==null){for(t=0;t<YA.length;t++)if(r=YA[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}YA=null}return e}function _9(e,t){do{var r=qs;try{if(D3(),Jw.current=e2,Z1){for(var n=As.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Z1=!1}if(Sf=0,bi=hi=As=null,_x=!1,hy=0,Z3.current=null,r===null||r.return===null){mi=1,my=t,qs=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Fi,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=jO(o);if(m!==null){m.flags&=-257,NO(m,o,l,a,t),m.mode&1&&wO(a,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){wO(a,d,t),sP();break e}c=Error(bt(426))}}else if(rs&&l.mode&1){var v=jO(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),NO(v,o,l,a,t),R3(Wp(c,l));break e}}a=c=Wp(c,l),mi!==4&&(mi=2),Bx===null?Bx=[a]:Bx.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=l9(a,c,t);pO(a,y);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Th===null||!Th.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=c9(a,l,t);pO(a,j);break e}}a=a.return}while(a!==null)}S9(r)}catch(N){t=N,qs===r&&r!==null&&(qs=r=r.return);continue}break}while(!0)}function C9(){var e=t2.current;return t2.current=e2,e===null?e2:e}function sP(){(mi===0||mi===3||mi===2)&&(mi=4),Ni===null||!(kf&268435455)&&!(uN&268435455)||fh(Ni,Fi)}function s2(e,t){var r=zr;zr|=2;var n=C9();(Ni!==e||Fi!==t)&&(Fd=null,hf(e,t));do try{zse();break}catch(i){_9(e,i)}while(!0);if(D3(),zr=r,t2.current=n,qs!==null)throw Error(bt(261));return Ni=null,Fi=0,mi}function zse(){for(;qs!==null;)B9(qs)}function Vse(){for(;qs!==null&&!pne();)B9(qs)}function B9(e){var t=E9(e.alternate,e,bo);e.memoizedProps=e.pendingProps,t===null?S9(e):qs=t,Z3.current=null}function S9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Rse(r,t),r!==null){r.flags&=32767,qs=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mi=6,qs=null;return}}else if(r=Use(r,t,bo),r!==null){qs=r;return}if(t=t.sibling,t!==null){qs=t;return}qs=t=e}while(t!==null);mi===0&&(mi=5)}function RA(e,t,r){var n=xn,i=fl.transition;try{fl.transition=null,xn=1,Kse(e,t,r,n)}finally{fl.transition=i,xn=n}return null}function Kse(e,t,r,n){do Np();while(vh!==null);if(zr&6)throw Error(bt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(bt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Cne(e,a),e===Ni&&(qs=Ni=null,Fi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lb||(Lb=!0,P9(M1,function(){return Np(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=fl.transition,fl.transition=null;var o=xn;xn=1;var l=zr;zr|=4,Z3.current=null,Dse(e,r),w9(r,e),hse(kS),Q1=!!SS,kS=SS=null,e.current=r,Qse(r),gne(),zr=l,xn=o,fl.transition=a}else e.current=r;if(Lb&&(Lb=!1,vh=e,n2=i),a=e.pendingLanes,a===0&&(Th=null),vne(r.stateNode),Ja(e,Ms()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(r2)throw r2=!1,e=qS,qS=null,e;return n2&1&&e.tag!==0&&Np(),a=e.pendingLanes,a&1?e===YS?Sx++:(Sx=0,YS=e):Sx=0,iA(),null}function Np(){if(vh!==null){var e=lH(n2),t=fl.transition,r=xn;try{if(fl.transition=null,xn=16>e?16:e,vh===null)var n=!1;else{if(e=vh,vh=null,n2=0,zr&6)throw Error(bt(331));var i=zr;for(zr|=4,Mt=e.current;Mt!==null;){var a=Mt,o=a.child;if(Mt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Mt=d;Mt!==null;){var u=Mt;switch(u.tag){case 0:case 11:case 15:Cx(8,u,a)}var A=u.child;if(A!==null)A.return=u,Mt=A;else for(;Mt!==null;){u=Mt;var f=u.sibling,m=u.return;if(y9(u),u===d){Mt=null;break}if(f!==null){f.return=m,Mt=f;break}Mt=m}}}var x=a.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Mt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Mt=o;else e:for(;Mt!==null;){if(a=Mt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cx(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Mt=y;break e}Mt=a.return}}var b=e.current;for(Mt=b;Mt!==null;){o=Mt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Mt=w;else e:for(o=b;Mt!==null;){if(l=Mt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dN(9,l)}}catch(N){Bs(l,l.return,N)}if(l===o){Mt=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Mt=j;break e}Mt=l.return}}if(zr=i,iA(),Gc&&typeof Gc.onPostCommitFiberRoot=="function")try{Gc.onPostCommitFiberRoot(rN,e)}catch{}n=!0}return n}finally{xn=r,fl.transition=t}}return!1}function UO(e,t,r){t=Wp(r,t),t=l9(e,t,1),e=Ih(e,t,1),t=Ba(),e!==null&&(gv(e,1,t),Ja(e,t))}function Bs(e,t,r){if(e.tag===3)UO(e,e,r);else for(;t!==null;){if(t.tag===3){UO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Th===null||!Th.has(n))){e=Wp(r,e),e=c9(t,e,1),t=Ih(t,e,1),e=Ba(),t!==null&&(gv(t,1,e),Ja(t,e));break}}t=t.return}}function Wse(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ba(),e.pingedLanes|=e.suspendedLanes&r,Ni===e&&(Fi&r)===r&&(mi===4||mi===3&&(Fi&130023424)===Fi&&500>Ms()-tP?hf(e,0):eP|=r),Ja(e,t)}function k9(e,t){t===0&&(e.mode&1?(t=_b,_b<<=1,!(_b&130023424)&&(_b=4194304)):t=1);var r=Ba();e=uu(e,t),e!==null&&(gv(e,t,r),Ja(e,r))}function Gse(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),k9(e,r)}function qse(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(bt(314))}n!==null&&n.delete(t),k9(e,r)}var E9;E9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ya.current)Ga=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ga=!1,Fse(e,t,r);Ga=!!(e.flags&131072)}else Ga=!1,rs&&t.flags&1048576&&OH(t,G1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;e1(e,t),e=t.pendingProps;var i=Hp(t,da.current);jp(t,r),i=G3(null,t,n,e,i,r);var a=q3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xa(n)?(a=!0,K1(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,H3(t),i.updater=cN,t.stateNode=i,i._reactInternals=t,RS(t,n,e,r),t=QS(null,t,n,!0,a,r)):(t.tag=0,rs&&a&&F3(t),ja(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(e1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Xse(n),e=Yl(n,e),i){case 0:t=DS(null,t,n,e,r);break e;case 1:t=BO(null,t,n,e,r);break e;case 11:t=_O(null,t,n,e,r);break e;case 14:t=CO(null,t,n,Yl(n.type,e),r);break e}throw Error(bt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),DS(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),BO(e,t,n,i,r);case 3:e:{if(A9(t),e===null)throw Error(bt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,DH(e,t),X1(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Wp(Error(bt(423)),t),t=SO(e,t,n,r,i);break e}else if(n!==i){i=Wp(Error(bt(424)),t),t=SO(e,t,n,r,i);break e}else for(Co=Ph(t.stateNode.containerInfo.firstChild),So=t,rs=!0,tc=null,r=RH(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zp(),n===i){t=hu(e,t,r);break e}ja(e,t,n,r)}t=t.child}return t;case 5:return QH(t),e===null&&LS(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,ES(n,i)?o=null:a!==null&&ES(n,a)&&(t.flags|=32),h9(e,t),ja(e,t,o,r),t.child;case 6:return e===null&&LS(t),null;case 13:return f9(e,t,r);case 4:return z3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vp(t,null,n,r):ja(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),_O(e,t,n,i,r);case 7:return ja(e,t,t.pendingProps,r),t.child;case 8:return ja(e,t,t.pendingProps.children,r),t.child;case 12:return ja(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Qn(q1,n._currentValue),n._currentValue=o,a!==null)if(dc(a.value,o)){if(a.children===i.children&&!Ya.current){t=hu(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Jd(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),FS(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(bt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),FS(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ja(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jp(t,r),i=gl(i),n=n(i),t.flags|=1,ja(e,t,n,r),t.child;case 14:return n=t.type,i=Yl(n,t.pendingProps),i=Yl(n.type,i),CO(e,t,n,i,r);case 15:return d9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Yl(n,i),e1(e,t),t.tag=1,Xa(n)?(e=!0,K1(t)):e=!1,jp(t,r),o9(t,n,i),RS(t,n,i,r),QS(null,t,n,!0,e,r);case 19:return m9(e,t,r);case 22:return u9(e,t,r)}throw Error(bt(156,t.tag))};function P9(e,t){return sH(e,t)}function Yse(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cl(e,t,r,n){return new Yse(e,t,r,n)}function iP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xse(e){if(typeof e=="function")return iP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N3)return 11;if(e===_3)return 14}return 2}function Lh(e,t){var r=e.alternate;return r===null?(r=cl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function n1(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")iP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ym:return Af(r.children,i,a,t);case j3:o=8,i|=8;break;case lS:return e=cl(12,r,t,i|2),e.elementType=lS,e.lanes=a,e;case cS:return e=cl(13,r,t,i),e.elementType=cS,e.lanes=a,e;case dS:return e=cl(19,r,t,i),e.elementType=dS,e.lanes=a,e;case Q$:return hN(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M$:o=10;break e;case D$:o=9;break e;case N3:o=11;break e;case _3:o=14;break e;case ch:o=16,n=null;break e}throw Error(bt(130,e==null?e:typeof e,""))}return t=cl(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Af(e,t,r,n){return e=cl(7,e,n,t),e.lanes=r,e}function hN(e,t,r,n){return e=cl(22,e,n,t),e.elementType=Q$,e.lanes=r,e.stateNode={isHidden:!1},e}function z_(e,t,r){return e=cl(6,e,null,t),e.lanes=r,e}function V_(e,t,r){return t=cl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jse(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=__(0),this.expirationTimes=__(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=__(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function aP(e,t,r,n,i,a,o,l,c){return e=new Jse(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=cl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},H3(a),e}function Zse(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qm,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function I9(e){if(!e)return Vh;e=e._reactInternals;e:{if(em(e)!==e||e.tag!==1)throw Error(bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(bt(171))}if(e.tag===1){var r=e.type;if(Xa(r))return IH(e,r,t)}return t}function T9(e,t,r,n,i,a,o,l,c){return e=aP(r,n,!0,e,i,a,o,l,c),e.context=I9(null),r=e.current,n=Ba(),i=Oh(r),a=Jd(n,i),a.callback=t??null,Ih(r,a,i),e.current.lanes=i,gv(e,i,n),Ja(e,n),e}function AN(e,t,r,n){var i=t.current,a=Ba(),o=Oh(i);return r=I9(r),t.context===null?t.context=r:t.pendingContext=r,t=Jd(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ih(i,t,o),e!==null&&(ac(e,i,o,a),Xw(e,i,o)),o}function i2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function oP(e,t){RO(e,t),(e=e.alternate)&&RO(e,t)}function eie(){return null}var O9=typeof reportError=="function"?reportError:function(e){console.error(e)};function lP(e){this._internalRoot=e}fN.prototype.render=lP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(bt(409));AN(e,t,null,null)};fN.prototype.unmount=lP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ef(function(){AN(null,e,null,null)}),t[du]=null}};function fN(e){this._internalRoot=e}fN.prototype.unstable_scheduleHydration=function(e){if(e){var t=uH();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ah.length&&t!==0&&t<Ah[r].priority;r++);Ah.splice(r,0,e),r===0&&AH(e)}};function cP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function MO(){}function tie(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=i2(o);a.call(d)}}var o=T9(t,n,e,0,null,!1,!1,"",MO);return e._reactRootContainer=o,e[du]=o.current,oy(e.nodeType===8?e.parentNode:e),Ef(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=i2(c);l.call(d)}}var c=aP(e,0,!1,null,null,!1,!1,"",MO);return e._reactRootContainer=c,e[du]=c.current,oy(e.nodeType===8?e.parentNode:e),Ef(function(){AN(t,c,r,n)}),c}function pN(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=i2(o);l.call(c)}}AN(t,o,e,i)}else o=tie(r,t,e,i,n);return i2(o)}cH=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rx(t.pendingLanes);r!==0&&(S3(t,r|1),Ja(t,Ms()),!(zr&6)&&(Gp=Ms()+500,iA()))}break;case 13:Ef(function(){var n=uu(e,1);if(n!==null){var i=Ba();ac(n,e,1,i)}}),oP(e,1)}};k3=function(e){if(e.tag===13){var t=uu(e,134217728);if(t!==null){var r=Ba();ac(t,e,134217728,r)}oP(e,134217728)}};dH=function(e){if(e.tag===13){var t=Oh(e),r=uu(e,t);if(r!==null){var n=Ba();ac(r,e,t,n)}oP(e,t)}};uH=function(){return xn};hH=function(e,t){var r=xn;try{return xn=e,t()}finally{xn=r}};vS=function(e,t,r){switch(t){case"input":if(AS(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=aN(n);if(!i)throw Error(bt(90));H$(n),AS(n,i)}}}break;case"textarea":V$(e,r);break;case"select":t=r.value,t!=null&&yp(e,!!r.multiple,t,!1)}};J$=rP;Z$=Ef;var rie={usingClientEntryPoint:!1,Events:[yv,ep,aN,Y$,X$,rP]},k0={findFiberByHostInstance:qA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nie={bundleType:k0.bundleType,version:k0.version,rendererPackageName:k0.rendererPackageName,rendererConfig:k0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rH(e),e===null?null:e.stateNode},findFiberByHostInstance:k0.findFiberByHostInstance||eie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fb.isDisabled&&Fb.supportsFiber)try{rN=Fb.inject(nie),Gc=Fb}catch{}}Lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rie;Lo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cP(t))throw Error(bt(200));return Zse(e,t,null,r)};Lo.createRoot=function(e,t){if(!cP(e))throw Error(bt(299));var r=!1,n="",i=O9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=aP(e,1,!1,null,null,r,!1,n,i),e[du]=t.current,oy(e.nodeType===8?e.parentNode:e),new lP(t)};Lo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(bt(188)):(e=Object.keys(e).join(","),Error(bt(268,e)));return e=rH(t),e=e===null?null:e.stateNode,e};Lo.flushSync=function(e){return Ef(e)};Lo.hydrate=function(e,t,r){if(!mN(t))throw Error(bt(200));return pN(null,e,t,!0,r)};Lo.hydrateRoot=function(e,t,r){if(!cP(e))throw Error(bt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=O9;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=T9(t,null,e,1,r??null,i,!1,a,o),e[du]=t.current,oy(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new fN(t)};Lo.render=function(e,t,r){if(!mN(t))throw Error(bt(200));return pN(null,e,t,!1,r)};Lo.unmountComponentAtNode=function(e){if(!mN(e))throw Error(bt(40));return e._reactRootContainer?(Ef(function(){pN(null,null,e,!1,function(){e._reactRootContainer=null,e[du]=null})}),!0):!1};Lo.unstable_batchedUpdates=rP;Lo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!mN(r))throw Error(bt(200));if(e==null||e._reactInternals===void 0)throw Error(bt(38));return pN(e,t,r,!1,n)};Lo.version="18.3.1-next-f1338f8080-20240426";function L9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L9)}catch(e){console.error(e)}}L9(),L$.exports=Lo;var aA=L$.exports;const sie=Zr(aA);var DO=aA;aS.createRoot=DO.createRoot,aS.hydrateRoot=DO.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}var bh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bh||(bh={}));const QO="popstate";function iie(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:l}=n.location;return ZS("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:a2(i)}return oie(t,r,null,e)}function Xs(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aie(){return Math.random().toString(36).substr(2,8)}function $O(e,t){return{usr:e.state,key:e.key,idx:t}}function ZS(e,t,r,n){return r===void 0&&(r=null),py({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Lg(t):t,{state:r,key:t&&t.key||n||aie()})}function a2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lg(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function oie(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=bh.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(py({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function A(){l=bh.Pop;let v=u(),y=v==null?null:v-d;d=v,c&&c({action:l,location:p.location,delta:y})}function f(v,y){l=bh.Push;let b=ZS(p.location,v,y);d=u()+1;let w=$O(b,d),j=p.createHref(b);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(j)}a&&c&&c({action:l,location:p.location,delta:1})}function m(v,y){l=bh.Replace;let b=ZS(p.location,v,y);d=u();let w=$O(b,d),j=p.createHref(b);o.replaceState(w,"",j),a&&c&&c({action:l,location:p.location,delta:0})}function x(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:a2(v);return b=b.replace(/ $/,"%20"),Xs(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return e(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(QO,A),c=v,()=>{i.removeEventListener(QO,A),c=null}},createHref(v){return t(i,v)},createURL:x,encodeLocation(v){let y=x(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(v){return o.go(v)}};return p}var HO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(HO||(HO={}));function lie(e,t,r){return r===void 0&&(r="/"),cie(e,t,r)}function cie(e,t,r,n){let i=typeof t=="string"?Lg(t):t,a=uP(i.pathname||"/",r);if(a==null)return null;let o=F9(e);die(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=wie(a);l=yie(o[c],d)}return l}function F9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Xs(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Fh([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Xs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),F9(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:gie(d,a.index),routesMeta:u})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of U9(a.path))i(a,o,c)}),t}function U9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=U9(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function die(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xie(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const uie=/^:[\w-]+$/,hie=3,Aie=2,fie=1,mie=10,pie=-2,zO=e=>e==="*";function gie(e,t){let r=e.split("/"),n=r.length;return r.some(zO)&&(n+=pie),t&&(n+=Aie),r.filter(i=>!zO(i)).reduce((i,a)=>i+(uie.test(a)?hie:a===""?fie:mie),n)}function xie(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function yie(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",A=vie({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!A)return null;Object.assign(i,A.params),o.push({params:i,pathname:Fh([a,A.pathname]),pathnameBase:Bie(Fh([a,A.pathnameBase])),route:f}),A.pathnameBase!=="/"&&(a=Fh([a,A.pathnameBase]))}return o}function vie(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bie(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((d,u,A)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let p=l[A]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[A];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function bie(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),dP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function wie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function uP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const jie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nie=e=>jie.test(e);function _ie(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Lg(e):e,a;if(r)if(Nie(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),dP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=VO(r.substring(1),"/"):a=VO(r,t)}else a=t;return{pathname:a,search:Sie(n),hash:kie(i)}}function VO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function K_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cie(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function R9(e,t){let r=Cie(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function M9(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Lg(e):(i=py({},e),Xs(!i.pathname||!i.pathname.includes("?"),K_("?","pathname","search",i)),Xs(!i.pathname||!i.pathname.includes("#"),K_("#","pathname","hash",i)),Xs(!i.search||!i.search.includes("#"),K_("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let A=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),A-=1;i.pathname=f.join("/")}l=A>=0?t[A]:"/"}let c=_ie(i,l),d=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Fh=e=>e.join("/").replace(/\/\/+/g,"/"),Bie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Eie(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const D9=["post","put","patch","delete"];new Set(D9);const Iie=["get",...D9];new Set(Iie);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}const hP=_.createContext(null),Tie=_.createContext(null),tm=_.createContext(null),gN=_.createContext(null),oA=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Q9=_.createContext(null);function Oie(e,t){let{relative:r}=t===void 0?{}:t;bv()||Xs(!1);let{basename:n,navigator:i}=_.useContext(tm),{hash:a,pathname:o,search:l}=H9(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Fh([n,o])),i.createHref({pathname:c,search:l,hash:a})}function bv(){return _.useContext(gN)!=null}function to(){return bv()||Xs(!1),_.useContext(gN).location}function $9(e){_.useContext(tm).static||_.useLayoutEffect(e)}function cr(){let{isDataRoute:e}=_.useContext(oA);return e?Wie():Lie()}function Lie(){bv()||Xs(!1);let e=_.useContext(hP),{basename:t,future:r,navigator:n}=_.useContext(tm),{matches:i}=_.useContext(oA),{pathname:a}=to(),o=JSON.stringify(R9(i,r.v7_relativeSplatPath)),l=_.useRef(!1);return $9(()=>{l.current=!0}),_.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let A=M9(d,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Fh([t,A.pathname])),(u.replace?n.replace:n.push)(A,u.state,u)},[t,n,o,a,e])}function _u(){let{matches:e}=_.useContext(oA),t=e[e.length-1];return t?t.params:{}}function H9(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(tm),{matches:i}=_.useContext(oA),{pathname:a}=to(),o=JSON.stringify(R9(i,n.v7_relativeSplatPath));return _.useMemo(()=>M9(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Fie(e,t){return Uie(e,t)}function Uie(e,t,r,n){bv()||Xs(!1);let{navigator:i}=_.useContext(tm),{matches:a}=_.useContext(oA),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=to(),u;if(t){var A;let v=typeof t=="string"?Lg(t):t;c==="/"||(A=v.pathname)!=null&&A.startsWith(c)||Xs(!1),u=v}else u=d;let f=u.pathname||"/",m=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=lie(e,{pathname:m}),p=$ie(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Fh([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Fh([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&p?_.createElement(gN.Provider,{value:{location:gy({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:bh.Pop}},p):p}function Rie(){let e=Kie(),t=Eie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:i},r):null,null)}const Mie=_.createElement(Rie,null);class Die extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(oA.Provider,{value:this.props.routeContext},_.createElement(Q9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qie(e){let{routeContext:t,match:r,children:n}=e,i=_.useContext(hP);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(oA.Provider,{value:t},n)}function $ie(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let u=o.findIndex(A=>A.route.id&&(l==null?void 0:l[A.route.id])!==void 0);u>=0||Xs(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let A=o[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(d=u),A.route.id){let{loaderData:f,errors:m}=r,x=A.route.loader&&f[A.route.id]===void 0&&(!m||m[A.route.id]===void 0);if(A.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,A,f)=>{let m,x=!1,p=null,v=null;r&&(m=l&&A.route.id?l[A.route.id]:void 0,p=A.route.errorElement||Mie,c&&(d<0&&f===0?(Gie("route-fallback"),x=!0,v=null):d===f&&(x=!0,v=A.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),b=()=>{let w;return m?w=p:x?w=v:A.route.Component?w=_.createElement(A.route.Component,null):A.route.element?w=A.route.element:w=u,_.createElement(Qie,{match:A,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(A.route.ErrorBoundary||A.route.errorElement||f===0)?_.createElement(Die,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var z9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(z9||{}),V9=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(V9||{});function Hie(e){let t=_.useContext(hP);return t||Xs(!1),t}function zie(e){let t=_.useContext(Tie);return t||Xs(!1),t}function Vie(e){let t=_.useContext(oA);return t||Xs(!1),t}function K9(e){let t=Vie(),r=t.matches[t.matches.length-1];return r.route.id||Xs(!1),r.route.id}function Kie(){var e;let t=_.useContext(Q9),r=zie(),n=K9();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Wie(){let{router:e}=Hie(z9.UseNavigateStable),t=K9(V9.UseNavigateStable),r=_.useRef(!1);return $9(()=>{r.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gy({fromRouteId:t},a)))},[e,t])}const KO={};function Gie(e,t,r){KO[e]||(KO[e]=!0)}function qie(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Kt(e){Xs(!1)}function Yie(e){let{basename:t="/",children:r=null,location:n,navigationType:i=bh.Pop,navigator:a,static:o=!1,future:l}=e;bv()&&Xs(!1);let c=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:a,static:o,future:gy({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Lg(n));let{pathname:u="/",search:A="",hash:f="",state:m=null,key:x="default"}=n,p=_.useMemo(()=>{let v=uP(u,c);return v==null?null:{location:{pathname:v,search:A,hash:f,state:m,key:x},navigationType:i}},[c,u,A,f,m,x,i]);return p==null?null:_.createElement(tm.Provider,{value:d},_.createElement(gN.Provider,{children:r,value:p}))}function Xie(e){let{children:t,location:r}=e;return Fie(e4(t),r)}new Promise(()=>{});function e4(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,i)=>{if(!_.isValidElement(n))return;let a=[...t,i];if(n.type===_.Fragment){r.push.apply(r,e4(n.props.children,a));return}n.type!==Kt&&Xs(!1),!n.props.index||!n.props.children||Xs(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=e4(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function t4(){return t4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t4.apply(this,arguments)}function Jie(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Zie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function eae(e,t){return e.button===0&&(!t||t==="_self")&&!Zie(e)}function r4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function tae(e,t){let r=r4(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const rae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nae="6";try{window.__reactRouterVersion=nae}catch{}const sae="startTransition",WO=y3[sae];function iae(e){let{basename:t,children:r,future:n,window:i}=e,a=_.useRef();a.current==null&&(a.current=iie({window:i,v5Compat:!0}));let o=a.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=_.useCallback(A=>{d&&WO?WO(()=>c(A)):c(A)},[c,d]);return _.useLayoutEffect(()=>o.listen(u),[o,u]),_.useEffect(()=>qie(n),[n]),_.createElement(Yie,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const aae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=_.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:A}=t,f=Jie(t,rae),{basename:m}=_.useContext(tm),x,p=!1;if(typeof d=="string"&&oae.test(d)&&(x=d,aae))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=uP(j.pathname,m);j.origin===w.origin&&N!=null?d=N+j.search+j.hash:p=!0}catch{}let v=Oie(d,{relative:i}),y=lae(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:i,viewTransition:A});function b(w){n&&n(w),w.defaultPrevented||y(w)}return _.createElement("a",t4({},f,{href:x||v,onClick:p||a?n:b,ref:r,target:c}))});var GO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(GO||(GO={}));var qO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qO||(qO={}));function lae(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=cr(),d=to(),u=H9(e,{relative:o});return _.useCallback(A=>{if(eae(A,r)){A.preventDefault();let f=n!==void 0?n:a2(d)===a2(u);c(e,{replace:f,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,u,n,i,r,e,a,o,l])}function W9(e){let t=_.useRef(r4(e)),r=_.useRef(!1),n=to(),i=_.useMemo(()=>tae(n.search,r.current?null:t.current),[n.search]),a=cr(),o=_.useCallback((l,c)=>{const d=r4(typeof l=="function"?l(i):l);r.current=!0,a("?"+d,c)},[a,i]);return[i,o]}const AP=_.createContext({});function wv(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const xN=_.createContext(null),fP=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class cae extends _.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function dae({children:e,isPresent:t}){const r=_.useId(),n=_.useRef(null),i=_.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=_.useContext(fP);return _.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return a&&(u.nonce=a),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(cae,{isPresent:t,childRef:n,sizeRef:i,children:_.cloneElement(e,{ref:n})})}const uae=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=wv(hae),c=_.useId(),d=_.useCallback(A=>{l.set(A,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),u=_.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:d,register:A=>(l.set(A,!1),()=>l.delete(A))}),a?[Math.random(),d]:[r,d]);return _.useMemo(()=>{l.forEach((A,f)=>l.set(f,!1))},[r]),_.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(dae,{isPresent:r,children:e})),s.jsx(xN.Provider,{value:u,children:e})};function hae(){return new Map}function G9(e=!0){const t=_.useContext(xN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=_.useId();_.useEffect(()=>{e&&i(a)},[e]);const o=_.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}const Ub=e=>e.key||"";function YO(e){const t=[];return _.Children.forEach(e,r=>{_.isValidElement(r)&&t.push(r)}),t}const mP=typeof window<"u",yN=mP?_.useLayoutEffect:_.useEffect,gn=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=G9(o),d=_.useMemo(()=>YO(e),[e]),u=o&&!l?[]:d.map(Ub),A=_.useRef(!0),f=_.useRef(d),m=wv(()=>new Map),[x,p]=_.useState(d),[v,y]=_.useState(d);yN(()=>{A.current=!1,f.current=d;for(let j=0;j<v.length;j++){const N=Ub(v[j]);u.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[v,u.length,u.join("-")]);const b=[];if(d!==x){let j=[...d];for(let N=0;N<v.length;N++){const B=v[N],I=Ub(B);u.includes(I)||(j.splice(N,0,B),b.push(B))}a==="wait"&&b.length&&(j=b),y(YO(j)),p(d);return}const{forceRender:w}=_.useContext(AP);return s.jsx(s.Fragment,{children:v.map(j=>{const N=Ub(j),B=o&&!l?!1:d===v||u.includes(N),I=()=>{if(m.has(N))m.set(N,!0);else return;let P=!0;m.forEach(T=>{T||(P=!1)}),P&&(w==null||w(),y(f.current),o&&(c==null||c()),n&&n())};return s.jsx(uae,{isPresent:B,initial:!A.current||r?void 0:!1,custom:B?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:B?void 0:I,children:j},N)})})},Sa=e=>e;let Aae=Sa,q9=Sa;function pP(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pf=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Zd=e=>e*1e3,eu=e=>e/1e3,fae={useManualTiming:!1};function mae(e){let t=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,A=!1)=>{const m=A&&n?t:r;return u&&a.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(d))}};return c}const Rb=["read","resolveKeyframes","update","preRender","render","postRender"],pae=40;function Y9(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Rb.reduce((y,b)=>(y[b]=mae(a),y),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:A,postRender:f}=o,m=()=>{const y=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,pae),1),i.timestamp=y,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),u.process(i),A.process(i),f.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,i.isProcessing||e(m)};return{schedule:Rb.reduce((y,b)=>{const w=o[b];return y[b]=(j,N=!1,B=!1)=>(r||x(),w.schedule(j,N,B)),y},{}),cancel:y=>{for(let b=0;b<Rb.length;b++)o[Rb[b]].cancel(y)},state:i,steps:o}}const{schedule:ln,cancel:ad,state:yi,steps:W_}=Y9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sa,!0),X9=_.createContext({strict:!1}),XO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qp={};for(const e in XO)qp[e]={isEnabled:t=>XO[e].some(r=>!!t[r])};function gae(e){for(const t in e)qp[t]={...qp[t],...e[t]}}const xae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xae.has(e)}let J9=e=>!o2(e);function yae(e){e&&(J9=t=>t.startsWith("on")?!o2(t):e(t))}try{yae(require("@emotion/is-prop-valid").default)}catch{}function vae(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(J9(i)||r===!0&&o2(i)||!t&&!o2(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function bae(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const vN=_.createContext({});function xy(e){return typeof e=="string"||Array.isArray(e)}function bN(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const gP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xP=["initial",...gP];function wN(e){return bN(e.animate)||xP.some(t=>xy(e[t]))}function Z9(e){return!!(wN(e)||e.variants)}function wae(e,t){if(wN(e)){const{initial:r,animate:n}=e;return{initial:r===!1||xy(r)?r:void 0,animate:xy(n)?n:void 0}}return e.inherit!==!1?t:{}}function jae(e){const{initial:t,animate:r}=wae(e,_.useContext(vN));return _.useMemo(()=>({initial:t,animate:r}),[JO(t),JO(r)])}function JO(e){return Array.isArray(e)?e.join(" "):e}const Nae=Symbol.for("motionComponentSymbol");function op(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _ae(e,t,r){return _.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):op(r)&&(r.current=n))},[t])}const yP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Cae="framerAppearId",ez="data-"+yP(Cae),{schedule:vP}=Y9(queueMicrotask,!1),tz=_.createContext({});function Bae(e,t,r,n,i){var a,o;const{visualElement:l}=_.useContext(vN),c=_.useContext(X9),d=_.useContext(xN),u=_.useContext(fP).reducedMotion,A=_.useRef(null);n=n||c.renderer,!A.current&&n&&(A.current=n(e,{visualState:t,parent:l,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=A.current,m=_.useContext(tz);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Sae(A.current,r,i,m);const x=_.useRef(!1);_.useInsertionEffect(()=>{f&&x.current&&f.update(r,d)});const p=r[ez],v=_.useRef(!!p&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return yN(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),vP.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),_.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,p)}),v.current=!1))}),f}function Sae(e,t,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:rz(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&op(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:d})}function rz(e){if(e)return e.options.allowProjection!==!1?e.projection:rz(e.parent)}function kae({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var a,o;e&&gae(e);function l(d,u){let A;const f={..._.useContext(fP),...d,layoutId:Eae(d)},{isStatic:m}=f,x=jae(d),p=n(d,m);if(!m&&mP){Pae();const v=Iae(f);A=v.MeasureLayout,x.visualElement=Bae(i,p,f,t,v.ProjectionNode)}return s.jsxs(vN.Provider,{value:x,children:[A&&x.visualElement?s.jsx(A,{visualElement:x.visualElement,...f}):null,r(i,d,_ae(p,x.visualElement,u),p,m,x.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=_.forwardRef(l);return c[Nae]=i,c}function Eae({layoutId:e}){const t=_.useContext(AP).id;return t&&e!==void 0?t+"-"+e:e}function Pae(e,t){_.useContext(X9).strict}function Iae(e){const{drag:t,layout:r}=qp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Tae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bP(e){return typeof e!="string"||e.includes("-")?!1:!!(Tae.indexOf(e)>-1||/[A-Z]/u.test(e))}function ZO(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function wP(e,t,r,n){if(typeof t=="function"){const[i,a]=ZO(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=ZO(n);t=t(r!==void 0?r:e.custom,i,a)}return t}const n4=e=>Array.isArray(e),Oae=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Lae=e=>n4(e)?e[e.length-1]||0:e,aa=e=>!!(e&&e.getVelocity);function s1(e){const t=aa(e)?e.get():e;return Oae(t)?t.toValue():t}function Fae({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,a){const o={latestValues:Uae(n,i,a,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const nz=e=>(t,r)=>{const n=_.useContext(vN),i=_.useContext(xN),a=()=>Fae(e,t,n,i);return r?a():wv(a)};function Uae(e,t,r,n){const i={},a=n(e,{});for(const f in a)i[f]=s1(a[f]);let{initial:o,animate:l}=e;const c=wN(e),d=Z9(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const A=u?l:o;if(A&&typeof A!="boolean"&&!bN(A)){const f=Array.isArray(A)?A:[A];for(let m=0;m<f.length;m++){const x=wP(e,f[m]);if(x){const{transitionEnd:p,transition:v,...y}=x;for(const b in y){let w=y[b];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(i[b]=w)}for(const b in p)i[b]=p[b]}}}return i}const Fg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rm=new Set(Fg),sz=e=>t=>typeof t=="string"&&t.startsWith(e),iz=sz("--"),Rae=sz("var(--"),jP=e=>Rae(e)?Mae.test(e.split("/*")[0].trim()):!1,Mae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,az=(e,t)=>t&&typeof e=="number"?t.transform(e):e,od=(e,t,r)=>r>t?t:r<e?e:r,Ug={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yy={...Ug,transform:e=>od(0,1,e)},Mb={...Ug,default:1},jv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),nh=jv("deg"),Yc=jv("%"),nr=jv("px"),Dae=jv("vh"),Qae=jv("vw"),eL={...Yc,parse:e=>Yc.parse(e)/100,transform:e=>Yc.transform(e*100)},$ae={borderWidth:nr,borderTopWidth:nr,borderRightWidth:nr,borderBottomWidth:nr,borderLeftWidth:nr,borderRadius:nr,radius:nr,borderTopLeftRadius:nr,borderTopRightRadius:nr,borderBottomRightRadius:nr,borderBottomLeftRadius:nr,width:nr,maxWidth:nr,height:nr,maxHeight:nr,top:nr,right:nr,bottom:nr,left:nr,padding:nr,paddingTop:nr,paddingRight:nr,paddingBottom:nr,paddingLeft:nr,margin:nr,marginTop:nr,marginRight:nr,marginBottom:nr,marginLeft:nr,backgroundPositionX:nr,backgroundPositionY:nr},Hae={rotate:nh,rotateX:nh,rotateY:nh,rotateZ:nh,scale:Mb,scaleX:Mb,scaleY:Mb,scaleZ:Mb,skew:nh,skewX:nh,skewY:nh,distance:nr,translateX:nr,translateY:nr,translateZ:nr,x:nr,y:nr,z:nr,perspective:nr,transformPerspective:nr,opacity:yy,originX:eL,originY:eL,originZ:nr},tL={...Ug,transform:Math.round},NP={...$ae,...Hae,zIndex:tL,size:nr,fillOpacity:yy,strokeOpacity:yy,numOctaves:tL},zae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vae=Fg.length;function Kae(e,t,r){let n="",i=!0;for(let a=0;a<Vae;a++){const o=Fg[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=az(l,NP[o]);if(!c){i=!1;const u=zae[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function _P(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(rm.has(c)){o=!0;continue}else if(iz(c)){i[c]=d;continue}else{const u=az(d,NP[c]);c.startsWith("origin")?(l=!0,a[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=Kae(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}const Wae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gae={offset:"strokeDashoffset",array:"strokeDasharray"};function qae(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?Wae:Gae;e[a.offset]=nr.transform(-n);const o=nr.transform(t),l=nr.transform(r);e[a.array]=`${o} ${l}`}function rL(e,t,r){return typeof e=="string"?e:nr.transform(t+r*e)}function Yae(e,t,r){const n=rL(t,e.x,e.width),i=rL(r,e.y,e.height);return`${n} ${i}`}function CP(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,A){if(_P(e,d,A),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:x}=e;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(i!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Yae(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&qae(f,o,l,c,!1)}const BP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oz=()=>({...BP(),attrs:{}}),SP=e=>typeof e=="string"&&e.toLowerCase()==="svg";function lz(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const cz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dz(e,t,r,n){lz(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(cz.has(i)?i:yP(i),t.attrs[i])}const l2={};function Xae(e){Object.assign(l2,e)}function uz(e,{layout:t,layoutId:r}){return rm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!l2[e]||e==="opacity")}function kP(e,t,r){var n;const{style:i}=e,a={};for(const o in i)(aa(i[o])||t.style&&aa(t.style[o])||uz(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function hz(e,t,r){const n=kP(e,t,r);for(const i in e)if(aa(e[i])||aa(t[i])){const a=Fg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function Jae(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const nL=["x","y","width","height","cx","cy","r"],Zae={useVisualState:nz({scrapeMotionValuesFromProps:hz,createRenderState:oz,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let a=!!e.drag;if(!a){for(const l in i)if(rm.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<nL.length;l++){const c=nL[l];e[c]!==t[c]&&(o=!0)}o&&ln.read(()=>{Jae(r,n),ln.render(()=>{CP(n,i,SP(r.tagName),e.transformTemplate),dz(r,n)})})}})},eoe={useVisualState:nz({scrapeMotionValuesFromProps:kP,createRenderState:BP})};function Az(e,t,r){for(const n in t)!aa(t[n])&&!uz(n,r)&&(e[n]=t[n])}function toe({transformTemplate:e},t){return _.useMemo(()=>{const r=BP();return _P(r,t,e),Object.assign({},r.vars,r.style)},[t])}function roe(e,t){const r=e.style||{},n={};return Az(n,r,e),Object.assign(n,toe(e,t)),n}function noe(e,t){const r={},n=roe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function soe(e,t,r,n){const i=_.useMemo(()=>{const a=oz();return CP(a,t,SP(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Az(a,e.style,e),i.style={...a,...i.style}}return i}function ioe(e=!1){return(r,n,i,{latestValues:a},o)=>{const c=(bP(r)?soe:noe)(n,a,o,r),d=vae(n,typeof r=="string",e),u=r!==_.Fragment?{...d,...c,ref:i}:{},{children:A}=n,f=_.useMemo(()=>aa(A)?A.get():A,[A]);return _.createElement(r,{...u,children:f})}}function aoe(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...bP(n)?Zae:eoe,preloadedFeatures:e,useRender:ioe(i),createVisualElement:t,Component:n};return kae(o)}}function fz(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function jN(e,t,r){const n=e.getProps();return wP(n,t,r!==void 0?r:n.custom,e)}const mz=pP(()=>window.ScrollTimeline!==void 0);class ooe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(mz()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class loe extends ooe{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function EP(e,t){return e?e[t]||e.default||e:void 0}const s4=2e4;function pz(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<s4;)t+=r,n=e.next(t);return t>=s4?1/0:t}function PP(e){return typeof e=="function"}function sL(e,t){e.timeline=t,e.onfinish=null}const IP=e=>Array.isArray(e)&&typeof e[0]=="number",coe={linearEasing:void 0};function doe(e,t){const r=pP(e);return()=>{var n;return(n=coe[t])!==null&&n!==void 0?n:r()}}const c2=doe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gz=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=e(Pf(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function xz(e){return!!(typeof e=="function"&&c2()||!e||typeof e=="string"&&(e in i4||c2())||IP(e)||Array.isArray(e)&&e.every(xz))}const sx=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,i4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sx([0,.65,.55,1]),circOut:sx([.55,0,1,.45]),backIn:sx([.31,.01,.66,-.59]),backOut:sx([.33,1.53,.69,.99])};function yz(e,t){if(e)return typeof e=="function"&&c2()?gz(e,t):IP(e)?sx(e):Array.isArray(e)?e.map(r=>yz(r,t)||i4.easeOut):i4[e]}const Gl={x:!1,y:!1};function vz(){return Gl.x||Gl.y}function TP(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function bz(e,t){const r=TP(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function iL(e){return t=>{t.pointerType==="touch"||vz()||e(t)}}function uoe(e,t,r={}){const[n,i,a]=bz(e,r),o=iL(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const u=iL(A=>{d(A),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const wz=(e,t)=>t?e===t?!0:wz(e,t.parentElement):!1,OP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hoe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aoe(e){return hoe.has(e.tagName)||e.tabIndex!==-1}const ix=new WeakSet;function aL(e){return t=>{t.key==="Enter"&&e(t)}}function G_(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const foe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=aL(()=>{if(ix.has(r))return;G_(r,"down");const i=aL(()=>{G_(r,"up")}),a=()=>G_(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function oL(e){return OP(e)&&!vz()}function moe(e,t,r={}){const[n,i,a]=bz(e,r),o=l=>{const c=l.currentTarget;if(!oL(l)||ix.has(c))return;ix.add(c);const d=t(l),u=(m,x)=>{window.removeEventListener("pointerup",A),window.removeEventListener("pointercancel",f),!(!oL(m)||!ix.has(c))&&(ix.delete(c),typeof d=="function"&&d(m,{success:x}))},A=m=>{u(m,r.useGlobalTarget||wz(c,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",A,i),window.addEventListener("pointercancel",f,i)};return n.forEach(l=>{!Aoe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",d=>foe(d,i),i)}),a}function poe(e){return e==="x"||e==="y"?Gl[e]?null:(Gl[e]=!0,()=>{Gl[e]=!1}):Gl.x||Gl.y?null:(Gl.x=Gl.y=!0,()=>{Gl.x=Gl.y=!1})}const jz=new Set(["width","height","top","left","right","bottom",...Fg]);let i1;function goe(){i1=void 0}const Xc={now:()=>(i1===void 0&&Xc.set(yi.isProcessing||fae.useManualTiming?yi.timestamp:performance.now()),i1),set:e=>{i1=e,queueMicrotask(goe)}};function LP(e,t){e.indexOf(t)===-1&&e.push(t)}function FP(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class UP{constructor(){this.subscriptions=[]}add(t){return LP(this.subscriptions,t),()=>FP(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function RP(e,t){return t?e*(1e3/t):0}const lL=30,xoe=e=>!isNaN(parseFloat(e));class yoe{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=Xc.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Xc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=xoe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new UP);const n=this.events[t].add(r);return t==="change"?()=>{n(),ln.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Xc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lL)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,lL);return RP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hd(e,t){return new yoe(e,t)}function voe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hd(r))}function MP(e,t){const r=jN(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=Lae(a[o]);voe(e,o,l)}}function boe(e){return!!(aa(e)&&e.add)}function a4(e,t){const r=e.getValue("willChange");if(boe(r))return r.add(t)}function Nz(e){return e.props[ez]}const _z=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,woe=1e-7,joe=12;function Noe(e,t,r,n,i){let a,o,l=0;do o=t+(r-t)/2,a=_z(o,n,i)-e,a>0?r=o:t=o;while(Math.abs(a)>woe&&++l<joe);return o}function Nv(e,t,r,n){if(e===t&&r===n)return Sa;const i=a=>Noe(a,0,1,e,r);return a=>a===0||a===1?a:_z(i(a),t,n)}const Cz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Bz=e=>t=>1-e(1-t),Sz=Nv(.33,1.53,.69,.99),DP=Bz(Sz),kz=Cz(DP),Ez=e=>(e*=2)<1?.5*DP(e):.5*(2-Math.pow(2,-10*(e-1))),QP=e=>1-Math.sin(Math.acos(e)),Pz=Bz(QP),Iz=Cz(QP),Tz=e=>/^0[^.\s]+$/u.test(e);function _oe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Tz(e):!0}const kx=e=>Math.round(e*1e5)/1e5,$P=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Coe(e){return e==null}const Boe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,HP=(e,t)=>r=>!!(typeof r=="string"&&Boe.test(r)&&r.startsWith(e)||t&&!Coe(r)&&Object.prototype.hasOwnProperty.call(r,t)),Oz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match($P);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Soe=e=>od(0,255,e),q_={...Ug,transform:e=>Math.round(Soe(e))},JA={test:HP("rgb","red"),parse:Oz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+q_.transform(e)+", "+q_.transform(t)+", "+q_.transform(r)+", "+kx(yy.transform(n))+")"};function koe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const o4={test:HP("#"),parse:koe,transform:JA.transform},lp={test:HP("hsl","hue"),parse:Oz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Yc.transform(kx(t))+", "+Yc.transform(kx(r))+", "+kx(yy.transform(n))+")"},Zi={test:e=>JA.test(e)||o4.test(e)||lp.test(e),parse:e=>JA.test(e)?JA.parse(e):lp.test(e)?lp.parse(e):o4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?JA.transform(e):lp.transform(e)},Eoe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Poe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match($P))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Eoe))===null||r===void 0?void 0:r.length)||0)>0}const Lz="number",Fz="color",Ioe="var",Toe="var(",cL="${}",Ooe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vy(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Ooe,c=>(Zi.test(c)?(n.color.push(a),i.push(Fz),r.push(Zi.parse(c))):c.startsWith(Toe)?(n.var.push(a),i.push(Ioe),r.push(c)):(n.number.push(a),i.push(Lz),r.push(parseFloat(c))),++a,cL)).split(cL);return{values:r,split:l,indexes:n,types:i}}function Uz(e){return vy(e).values}function Rz(e){const{split:t,types:r}=vy(e),n=t.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],i[o]!==void 0){const l=r[o];l===Lz?a+=kx(i[o]):l===Fz?a+=Zi.transform(i[o]):a+=i[o]}return a}}const Loe=e=>typeof e=="number"?0:e;function Foe(e){const t=Uz(e);return Rz(e)(t.map(Loe))}const Kh={test:Poe,parse:Uz,createTransformer:Rz,getAnimatableNone:Foe},Uoe=new Set(["brightness","contrast","saturate","opacity"]);function Roe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match($P)||[];if(!n)return e;const i=r.replace(n,"");let a=Uoe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const Moe=/\b([a-z-]*)\(.*?\)/gu,l4={...Kh,getAnimatableNone:e=>{const t=e.match(Moe);return t?t.map(Roe).join(" "):e}},Doe={...NP,color:Zi,backgroundColor:Zi,outlineColor:Zi,fill:Zi,stroke:Zi,borderColor:Zi,borderTopColor:Zi,borderRightColor:Zi,borderBottomColor:Zi,borderLeftColor:Zi,filter:l4,WebkitFilter:l4},zP=e=>Doe[e];function Mz(e,t){let r=zP(e);return r!==l4&&(r=Kh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Qoe=new Set(["auto","none","0"]);function $oe(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Qoe.has(a)&&vy(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=Mz(r,i)}const dL=e=>e===Ug||e===nr,uL=(e,t)=>parseFloat(e.split(", ")[t]),hL=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return uL(i[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?uL(a[1],e):0}},Hoe=new Set(["x","y","z"]),zoe=Fg.filter(e=>!Hoe.has(e));function Voe(e){const t=[];return zoe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Yp={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:hL(4,13),y:hL(5,14)};Yp.translateX=Yp.x;Yp.translateY=Yp.y;const ff=new Set;let c4=!1,d4=!1;function Dz(){if(d4){const e=Array.from(ff).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Voe(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}d4=!1,c4=!1,ff.forEach(e=>e.complete()),ff.clear()}function Qz(){ff.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(d4=!0)})}function Koe(){Qz(),Dz()}class VP{constructor(t,r,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ff.add(this),c4||(c4=!0,ln.read(Qz),ln.resolveKeyframes(Dz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ff.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ff.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $z=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Woe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Goe(e){const t=Woe.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function Hz(e,t,r=1){const[n,i]=Goe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return $z(o)?parseFloat(o):o}return jP(i)?Hz(i,t,r+1):i}const zz=e=>t=>t.test(e),qoe={test:e=>e==="auto",parse:e=>e},Vz=[Ug,nr,Yc,nh,Qae,Dae,qoe],AL=e=>Vz.find(zz(e));class Kz extends VP{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),jP(d))){const u=Hz(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!jz.has(n)||t.length!==2)return;const[i,a]=t,o=AL(i),l=AL(a);if(o!==l)if(dL(o)&&dL(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)_oe(t[i])&&n.push(i);n.length&&$oe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yp[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Yp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{r.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const fL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kh.test(e)||e==="0")&&!e.startsWith("url("));function Yoe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Xoe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=fL(i,t),l=fL(a,t);return!o||!l?!1:Yoe(e)||(r==="spring"||PP(r))&&n}const Joe=e=>e!==null;function NN(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(Joe),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const Zoe=40;class Wz{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xc.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Zoe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Koe(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Xc.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Xoe(t,n,i,a))if(o)this.options.duration=0;else{c&&c(NN(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,r);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...u},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const hs=(e,t,r)=>e+(t-e)*r;function Y_(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ele({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,o=0;if(!t)i=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Y_(c,l,e+1/3),a=Y_(c,l,e),o=Y_(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function d2(e,t){return r=>r>0?t:e}const X_=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},tle=[o4,JA,lp],rle=e=>tle.find(t=>t.test(e));function mL(e){const t=rle(e);if(!t)return!1;let r=t.parse(e);return t===lp&&(r=ele(r)),r}const pL=(e,t)=>{const r=mL(e),n=mL(t);if(!r||!n)return d2(e,t);const i={...r};return a=>(i.red=X_(r.red,n.red,a),i.green=X_(r.green,n.green,a),i.blue=X_(r.blue,n.blue,a),i.alpha=hs(r.alpha,n.alpha,a),JA.transform(i))},nle=(e,t)=>r=>t(e(r)),_v=(...e)=>e.reduce(nle),u4=new Set(["none","hidden"]);function sle(e,t){return u4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ile(e,t){return r=>hs(e,t,r)}function KP(e){return typeof e=="number"?ile:typeof e=="string"?jP(e)?d2:Zi.test(e)?pL:lle:Array.isArray(e)?Gz:typeof e=="object"?Zi.test(e)?pL:ale:d2}function Gz(e,t){const r=[...e],n=r.length,i=e.map((a,o)=>KP(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function ale(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=KP(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function ole(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[a]=c,i[o]++}return n}const lle=(e,t)=>{const r=Kh.createTransformer(t),n=vy(e),i=vy(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?u4.has(e)&&!i.values.length||u4.has(t)&&!n.values.length?sle(e,t):_v(Gz(ole(n,i),i.values),r):d2(e,t)};function qz(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?hs(e,t,r):KP(e)(e,t)}const cle=5;function Yz(e,t,r){const n=Math.max(t-cle,0);return RP(r-e(n),t-n)}const Cs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},J_=.001;function dle({duration:e=Cs.duration,bounce:t=Cs.bounce,velocity:r=Cs.velocity,mass:n=Cs.mass}){let i,a,o=1-t;o=od(Cs.minDamping,Cs.maxDamping,o),e=od(Cs.minDuration,Cs.maxDuration,eu(e)),o<1?(i=d=>{const u=d*o,A=u*e,f=u-r,m=h4(d,o),x=Math.exp(-A);return J_-f/m*x},a=d=>{const A=d*o*e,f=A*r+r,m=Math.pow(o,2)*Math.pow(d,2)*e,x=Math.exp(-A),p=h4(Math.pow(d,2),o);return(-i(d)+J_>0?-1:1)*((f-m)*x)/p}):(i=d=>{const u=Math.exp(-d*e),A=(d-r)*e+1;return-J_+u*A},a=d=>{const u=Math.exp(-d*e),A=(r-d)*(e*e);return u*A});const l=5/e,c=hle(i,a,l);if(e=Zd(e),isNaN(c))return{stiffness:Cs.stiffness,damping:Cs.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const ule=12;function hle(e,t,r){let n=r;for(let i=1;i<ule;i++)n=n-e(n)/t(n);return n}function h4(e,t){return e*Math.sqrt(1-t*t)}const Ale=["duration","bounce"],fle=["stiffness","damping","mass"];function gL(e,t){return t.some(r=>e[r]!==void 0)}function mle(e){let t={velocity:Cs.velocity,stiffness:Cs.stiffness,damping:Cs.damping,mass:Cs.mass,isResolvedFromDuration:!1,...e};if(!gL(e,fle)&&gL(e,Ale))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*od(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Cs.mass,stiffness:i,damping:a}}else{const r=dle(e);t={...t,...r,mass:Cs.mass},t.isResolvedFromDuration=!0}return t}function Xz(e=Cs.visualDuration,t=Cs.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:A,velocity:f,isResolvedFromDuration:m}=mle({...r,velocity:-eu(r.velocity||0)}),x=f||0,p=d/(2*Math.sqrt(c*u)),v=o-a,y=eu(Math.sqrt(c/u)),b=Math.abs(v)<5;n||(n=b?Cs.restSpeed.granular:Cs.restSpeed.default),i||(i=b?Cs.restDelta.granular:Cs.restDelta.default);let w;if(p<1){const N=h4(y,p);w=B=>{const I=Math.exp(-p*y*B);return o-I*((x+p*y*v)/N*Math.sin(N*B)+v*Math.cos(N*B))}}else if(p===1)w=N=>o-Math.exp(-y*N)*(v+(x+y*v)*N);else{const N=y*Math.sqrt(p*p-1);w=B=>{const I=Math.exp(-p*y*B),P=Math.min(N*B,300);return o-I*((x+p*y*v)*Math.sinh(P)+N*v*Math.cosh(P))/N}}const j={calculatedDuration:m&&A||null,next:N=>{const B=w(N);if(m)l.done=N>=A;else{let I=0;p<1&&(I=N===0?Zd(x):Yz(w,N,B));const P=Math.abs(I)<=n,T=Math.abs(o-B)<=i;l.done=P&&T}return l.value=l.done?o:B,l},toString:()=>{const N=Math.min(pz(j),s4),B=gz(I=>j.next(N*I).value,N,30);return N+"ms "+B}};return j}function xL({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const A=e[0],f={done:!1,value:A},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,x=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let p=r*t;const v=A+p,y=o===void 0?v:o(v);y!==v&&(p=y-A);const b=P=>-p*Math.exp(-P/n),w=P=>y+b(P),j=P=>{const T=b(P),U=w(P);f.done=Math.abs(T)<=d,f.value=f.done?y:U};let N,B;const I=P=>{m(f.value)&&(N=P,B=Xz({keyframes:[f.value,x(f.value)],velocity:Yz(w,P,f.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return I(0),{calculatedDuration:null,next:P=>{let T=!1;return!B&&N===void 0&&(T=!0,j(P),I(P)),N!==void 0&&P>=N?B.next(P-N):(!T&&j(P),f)}}}const ple=Nv(.42,0,1,1),gle=Nv(0,0,.58,1),Jz=Nv(.42,0,.58,1),xle=e=>Array.isArray(e)&&typeof e[0]!="number",yle={linear:Sa,easeIn:ple,easeInOut:Jz,easeOut:gle,circIn:QP,circInOut:Iz,circOut:Pz,backIn:DP,backInOut:kz,backOut:Sz,anticipate:Ez},yL=e=>{if(IP(e)){q9(e.length===4);const[t,r,n,i]=e;return Nv(t,r,n,i)}else if(typeof e=="string")return yle[e];return e};function vle(e,t,r){const n=[],i=r||qz,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Sa:t;l=_v(c,l)}n.push(l)}return n}function Zz(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(q9(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=vle(t,n,i),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let A=0;if(c>1)for(;A<e.length-2&&!(u<e[A+1]);A++);const f=Pf(e[A],e[A+1],u);return l[A](f)};return r?u=>d(od(e[0],e[a-1],u)):d}function ble(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Pf(0,t,n);e.push(hs(r,1,i))}}function eV(e){const t=[0];return ble(t,e.length-1),t}function wle(e,t){return e.map(r=>r*t)}function jle(e,t){return e.map(()=>t||Jz).splice(0,e.length-1)}function u2({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=xle(n)?n.map(yL):yL(n),a={done:!1,value:t[0]},o=wle(r&&r.length===t.length?r:eV(t),e),l=Zz(o,t,{ease:Array.isArray(i)?i:jle(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const Nle=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ln.update(t,!0),stop:()=>ad(t),now:()=>yi.isProcessing?yi.timestamp:Xc.now()}},_le={decay:xL,inertia:xL,tween:u2,keyframes:u2,spring:Xz},Cle=e=>e/100;class WP extends Wz{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||VP,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(a,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=PP(r)?r:_le[r]||u2;let c,d;l!==u2&&typeof t[0]!="number"&&(c=_v(Cle,qz(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});a==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=pz(u));const{calculatedDuration:A}=u,f=A+i,m=f*(n+1)-i;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:A,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:A}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:p,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),b=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let w=this.currentTime,j=a;if(m){const P=Math.min(this.currentTime,u)/A;let T=Math.floor(P),U=P%1;!U&&P>=1&&(U=1),U===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(x==="reverse"?(U=1-U,p&&(U-=p/A)):x==="mirror"&&(j=o)),w=od(0,1,U)*A}const N=b?{done:!1,value:c[0]}:j.next(w);l&&(N.value=l(N.value));let{done:B}=N;!b&&d!==null&&(B=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&i!==void 0&&(N.value=NN(c,this.options,i)),v&&v(N.value),I&&this.finish(),N}get duration(){const{resolved:t}=this;return t?eu(t.calculatedDuration):0}get time(){return eu(this.currentTime)}set time(t){t=Zd(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=eu(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Nle,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Ble=new Set(["opacity","clipPath","filter","transform"]);function Sle(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:r};c&&(d.offset=c);const u=yz(l,i);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const kle=pP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),h2=10,Ele=2e4;function Ple(e){return PP(e.type)||e.type==="spring"||!xz(e.ease)}function Ile(e,t){const r=new WP({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let a=0;for(;!n.done&&a<Ele;)n=r.sample(a),i.push(n.value),a+=h2;return{times:void 0,keyframes:i,duration:a-h2,ease:"linear"}}const tV={anticipate:Ez,backInOut:kz,circInOut:Iz};function Tle(e){return e in tV}class vL extends Wz{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new Kz(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:d}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&c2()&&Tle(a)&&(a=tV[a]),Ple(this.options)){const{onComplete:A,onUpdate:f,motionValue:m,element:x,...p}=this.options,v=Ile(t,p);t=v.keyframes,t.length===1&&(t[1]=t[0]),n=v.duration,i=v.times,a=v.ease,o="keyframes"}const u=Sle(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:a});return u.startTime=d??this.calcStartTime(),this.pendingTimeline?(sL(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:A}=this.options;l.set(NN(t,this.options,r)),A&&A(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:n,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return eu(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return eu(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Zd(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Sa;const{animation:n}=r;sL(n,t)}return Sa}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:A,element:f,...m}=this.options,x=new WP({...m,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),p=Zd(this.time);d.setWithVelocity(x.sample(p-h2).value,x.sample(p).value,h2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=r.owner.getProps();return kle()&&n&&Ble.has(n)&&!c&&!d&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Ole={type:"spring",stiffness:500,damping:25,restSpeed:10},Lle=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Fle={type:"keyframes",duration:.8},Ule={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rle=(e,{keyframes:t})=>t.length>2?Fle:rm.has(e)?e.startsWith("scale")?Lle(t[1]):Ole:Ule;function Mle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const GP=(e,t,r,n={},i,a)=>o=>{const l=EP(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Zd(c);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};Mle(l)||(u={...u,...Rle(e,u)}),u.duration&&(u.duration=Zd(u.duration)),u.repeatDelay&&(u.repeatDelay=Zd(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let A=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(A=!0)),A&&!a&&t.get()!==void 0){const f=NN(u.keyframes,l);if(f!==void 0)return ln.update(()=>{u.onUpdate(f),u.onComplete()}),new loe([])}return!a&&vL.supports(u)?new vL(u):new WP(u)};function Dle({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function rV(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const d=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const A in c){const f=e.getValue(A,(a=e.latestValues[A])!==null&&a!==void 0?a:null),m=c[A];if(m===void 0||u&&Dle(u,A))continue;const x={delay:r,...EP(o||{},A)};let p=!1;if(window.MotionHandoffAnimation){const y=Nz(e);if(y){const b=window.MotionHandoffAnimation(y,A,ln);b!==null&&(x.startTime=b,p=!0)}}a4(e,A),f.start(GP(A,f,m,e.shouldReduceMotion&&jz.has(A)?{type:!1}:x,e,p));const v=f.animation;v&&d.push(v)}return l&&Promise.all(d).then(()=>{ln.update(()=>{l&&MP(e,l)})}),d}function A4(e,t,r={}){var n;const i=jN(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(rV(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:A,staggerDirection:f}=a;return Qle(e,t,u+d,A,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(r.delay)])}function Qle(e,t,r=0,n=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(d=0)=>d*n:(d=0)=>l-d*n;return Array.from(e.variantChildren).sort($le).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(A4(d,t,{...a,delay:r+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function $le(e,t){return e.sortNodePosition(t)}function nV(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>A4(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=A4(e,t,r);else{const i=typeof t=="function"?jN(e,t,r.custom):t;n=Promise.all(rV(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Hle=xP.length;function sV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?sV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Hle;r++){const n=xP[r],i=e.props[n];(xy(i)||i===!1)&&(t[n]=i)}return t}const zle=[...gP].reverse(),Vle=gP.length;function Kle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>nV(e,r,n)))}function Wle(e){let t=Kle(e),r=bL(),n=!0;const i=c=>(d,u)=>{var A;const f=jN(e,u,c==="exit"?(A=e.presenceContext)===null||A===void 0?void 0:A.custom:void 0);if(f){const{transition:m,transitionEnd:x,...p}=f;d={...d,...p,...x}}return d};function a(c){t=c(e)}function o(c){const{props:d}=e,u=sV(e.parent)||{},A=[],f=new Set;let m={},x=1/0;for(let v=0;v<Vle;v++){const y=zle[v],b=r[y],w=d[y]!==void 0?d[y]:u[y],j=xy(w),N=y===c?b.isActive:null;N===!1&&(x=v);let B=w===u[y]&&w!==d[y]&&j;if(B&&n&&e.manuallyAnimateOnMount&&(B=!1),b.protectedKeys={...m},!b.isActive&&N===null||!w&&!b.prevProp||bN(w)||typeof w=="boolean")continue;const I=Gle(b.prevProp,w);let P=I||y===c&&b.isActive&&!B&&j||v>x&&j,T=!1;const U=Array.isArray(w)?w:[w];let k=U.reduce(i(y),{});N===!1&&(k={});const{prevResolvedValues:E={}}=b,Q={...E,...k},F=D=>{P=!0,f.has(D)&&(T=!0,f.delete(D)),b.needsAnimating[D]=!0;const z=e.getValue(D);z&&(z.liveStyle=!1)};for(const D in Q){const z=k[D],ee=E[D];if(m.hasOwnProperty(D))continue;let te=!1;n4(z)&&n4(ee)?te=!fz(z,ee):te=z!==ee,te?z!=null?F(D):f.add(D):z!==void 0&&f.has(D)?F(D):b.protectedKeys[D]=!0}b.prevProp=w,b.prevResolvedValues=k,b.isActive&&(m={...m,...k}),n&&e.blockInitialAnimation&&(P=!1),P&&(!(B&&I)||T)&&A.push(...U.map(D=>({animation:D,options:{type:y}})))}if(f.size){const v={};f.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),A.push({animation:v})}let p=!!A.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(A):Promise.resolve()}function l(c,d){var u;if(r[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,d)}),r[c].isActive=d;const A=o(c);for(const f in r)r[f].protectedKeys={};return A}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=bL(),n=!0}}}function Gle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fz(t,e):!1}function IA(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bL(){return{animate:IA(!0),whileInView:IA(),whileHover:IA(),whileTap:IA(),whileDrag:IA(),whileFocus:IA(),exit:IA()}}class lA{constructor(t){this.isMounted=!1,this.node=t}update(){}}class qle extends lA{constructor(t){super(t),t.animationState||(t.animationState=Wle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();bN(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Yle=0;class Xle extends lA{constructor(){super(...arguments),this.id=Yle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Jle={animation:{Feature:qle},exit:{Feature:Xle}};function by(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Cv(e){return{point:{x:e.pageX,y:e.pageY}}}const Zle=e=>t=>OP(t)&&e(t,Cv(t));function Ex(e,t,r,n){return by(e,t,Zle(r),n)}const wL=(e,t)=>Math.abs(e-t);function ece(e,t){const r=wL(e.x,t.x),n=wL(e.y,t.y);return Math.sqrt(r**2+n**2)}class iV{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=eC(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=ece(A.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=A,{timestamp:p}=yi;this.history.push({...x,timestamp:p});const{onStart:v,onMove:y}=this.handlers;f||(v&&v(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,A)},this.handlePointerMove=(A,f)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Z_(f,this.transformPagePoint),ln.update(this.updatePoint,!0)},this.handlePointerUp=(A,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=eC(A.type==="pointercancel"?this.lastMoveEventInfo:Z_(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(A,v),x&&x(A,v)},!OP(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Cv(t),l=Z_(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=yi;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=r;u&&u(t,eC(l,this.history)),this.removeListeners=_v(Ex(this.contextWindow,"pointermove",this.handlePointerMove),Ex(this.contextWindow,"pointerup",this.handlePointerUp),Ex(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ad(this.updatePoint)}}function Z_(e,t){return t?{point:t(e.point)}:e}function jL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function eC({point:e},t){return{point:e,delta:jL(e,aV(t)),offset:jL(e,tce(t)),velocity:rce(t,.1)}}function tce(e){return e[0]}function aV(e){return e[e.length-1]}function rce(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=aV(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Zd(t)));)r--;if(!n)return{x:0,y:0};const a=eu(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const oV=1e-4,nce=1-oV,sce=1+oV,lV=.01,ice=0-lV,ace=0+lV;function Oo(e){return e.max-e.min}function oce(e,t,r){return Math.abs(e-t)<=r}function NL(e,t,r,n=.5){e.origin=n,e.originPoint=hs(t.min,t.max,e.origin),e.scale=Oo(r)/Oo(t),e.translate=hs(r.min,r.max,e.origin)-e.originPoint,(e.scale>=nce&&e.scale<=sce||isNaN(e.scale))&&(e.scale=1),(e.translate>=ice&&e.translate<=ace||isNaN(e.translate))&&(e.translate=0)}function Px(e,t,r,n){NL(e.x,t.x,r.x,n?n.originX:void 0),NL(e.y,t.y,r.y,n?n.originY:void 0)}function _L(e,t,r){e.min=r.min+t.min,e.max=e.min+Oo(t)}function lce(e,t,r){_L(e.x,t.x,r.x),_L(e.y,t.y,r.y)}function CL(e,t,r){e.min=t.min-r.min,e.max=e.min+Oo(t)}function Ix(e,t,r){CL(e.x,t.x,r.x),CL(e.y,t.y,r.y)}function cce(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?hs(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?hs(r,e,n.max):Math.min(e,r)),e}function BL(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function dce(e,{top:t,left:r,bottom:n,right:i}){return{x:BL(e.x,r,i),y:BL(e.y,t,n)}}function SL(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function uce(e,t){return{x:SL(e.x,t.x),y:SL(e.y,t.y)}}function hce(e,t){let r=.5;const n=Oo(e),i=Oo(t);return i>n?r=Pf(t.min,t.max-n,e.min):n>i&&(r=Pf(e.min,e.max-i,t.min)),od(0,1,r)}function Ace(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const f4=.35;function fce(e=f4){return e===!1?e=0:e===!0&&(e=f4),{x:kL(e,"left","right"),y:kL(e,"top","bottom")}}function kL(e,t,r){return{min:EL(e,t),max:EL(e,r)}}function EL(e,t){return typeof e=="number"?e:e[t]||0}const PL=()=>({translate:0,scale:1,origin:0,originPoint:0}),cp=()=>({x:PL(),y:PL()}),IL=()=>({min:0,max:0}),Us=()=>({x:IL(),y:IL()});function tl(e){return[e("x"),e("y")]}function cV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function mce({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function pce(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function tC(e){return e===void 0||e===1}function m4({scale:e,scaleX:t,scaleY:r}){return!tC(e)||!tC(t)||!tC(r)}function MA(e){return m4(e)||dV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function dV(e){return TL(e.x)||TL(e.y)}function TL(e){return e&&e!=="0%"}function A2(e,t,r){const n=e-r,i=t*n;return r+i}function OL(e,t,r,n,i){return i!==void 0&&(e=A2(e,i,n)),A2(e,r,n)+t}function p4(e,t=0,r=1,n,i){e.min=OL(e.min,t,r,n,i),e.max=OL(e.max,t,r,n,i)}function uV(e,{x:t,y:r}){p4(e.x,t.translate,t.scale,t.originPoint),p4(e.y,r.translate,r.scale,r.originPoint)}const LL=.999999999999,FL=1.0000000000001;function gce(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&up(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,uV(e,o)),n&&MA(a.latestValues)&&up(e,a.latestValues))}t.x<FL&&t.x>LL&&(t.x=1),t.y<FL&&t.y>LL&&(t.y=1)}function dp(e,t){e.min=e.min+t,e.max=e.max+t}function UL(e,t,r,n,i=.5){const a=hs(e.min,e.max,i);p4(e,t,r,a,n)}function up(e,t){UL(e.x,t.x,t.scaleX,t.scale,t.originX),UL(e.y,t.y,t.scaleY,t.scale,t.originY)}function hV(e,t){return cV(pce(e.getBoundingClientRect(),t))}function xce(e,t,r){const n=hV(e,r),{scroll:i}=t;return i&&(dp(n.x,i.offset.x),dp(n.y,i.offset.y)),n}const AV=({current:e})=>e?e.ownerDocument.defaultView:null,yce=new WeakMap;class vce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Us(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Cv(u).point)},a=(u,A)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=poe(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tl(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Yc.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=Oo(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),x&&ln.postRender(()=>x(u,A)),a4(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,A)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=A;if(m&&this.currentDirection===null){this.currentDirection=bce(v),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",A.point,v),this.updateAxis("y",A.point,v),this.visualElement.render(),p&&p(u,A)},l=(u,A)=>this.stop(u,A),c=()=>tl(u=>{var A;return this.getAnimationState(u)==="paused"&&((A=this.getAxisMotionValue(u).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new iV(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:AV(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ln.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Db(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=cce(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&op(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=dce(i.layoutBox,r):this.constraints=!1,this.elastic=fce(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ace(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!op(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=xce(n,i.root,this.visualElement.getTransformPagePoint());let o=uce(i.layout.layoutBox,a);if(r){const l=r(mce(o));this.hasMutatedConstraints=!!l,l&&(o=cV(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=tl(u=>{if(!Db(u,r,this.currentDirection))return;let A=c&&c[u]||{};o&&(A={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:n?t[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...A};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return a4(this.visualElement,t),n.start(GP(t,n,0,r,this.visualElement,!1))}stopAnimation(){tl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tl(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){tl(r=>{const{drag:n}=this.getProps();if(!Db(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(t[r]-hs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!op(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tl(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=hce({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),tl(o=>{if(!Db(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(hs(c,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;yce.set(this.visualElement,this);const t=this.visualElement.current,r=Ex(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();op(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ln.read(n);const o=by(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(tl(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=c[u].translate,A.set(A.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=f4,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Db(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function bce(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class wce extends lA{constructor(t){super(t),this.removeGroupControls=Sa,this.removeListeners=Sa,this.controls=new vce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sa}unmount(){this.removeGroupControls(),this.removeListeners()}}const RL=e=>(t,r)=>{e&&ln.postRender(()=>e(t,r))};class jce extends lA{constructor(){super(...arguments),this.removePointerDownListener=Sa}onPointerDown(t){this.session=new iV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:RL(t),onStart:RL(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&ln.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ex(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const a1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ML(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const E0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(nr.test(e))e=parseFloat(e);else return e;const r=ML(e,t.target.x),n=ML(e,t.target.y);return`${r}% ${n}%`}},Nce={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Kh.parse(e);if(i.length>5)return n;const a=Kh.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const d=hs(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),a(i)}};class _ce extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;Xae(Cce),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),a1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||ln.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function fV(e){const[t,r]=G9(),n=_.useContext(AP);return s.jsx(_ce,{...e,layoutGroup:n,switchLayoutGroup:_.useContext(tz),isPresent:t,safeToRemove:r})}const Cce={borderRadius:{...E0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:E0,borderTopRightRadius:E0,borderBottomLeftRadius:E0,borderBottomRightRadius:E0,boxShadow:Nce};function Bce(e,t,r){const n=aa(e)?e:Hd(e);return n.start(GP("",n,t,r)),n.animation}function Sce(e){return e instanceof SVGElement&&e.tagName!=="svg"}const kce=(e,t)=>e.depth-t.depth;class Ece{constructor(){this.children=[],this.isDirty=!1}add(t){LP(this.children,t),this.isDirty=!0}remove(t){FP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kce),this.isDirty=!1,this.children.forEach(t)}}function Pce(e,t){const r=Xc.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(ad(n),e(a-t))};return ln.read(n,!0),()=>ad(n)}const mV=["TopLeft","TopRight","BottomLeft","BottomRight"],Ice=mV.length,DL=e=>typeof e=="string"?parseFloat(e):e,QL=e=>typeof e=="number"||nr.test(e);function Tce(e,t,r,n,i,a){i?(e.opacity=hs(0,r.opacity!==void 0?r.opacity:1,Oce(n)),e.opacityExit=hs(t.opacity!==void 0?t.opacity:1,0,Lce(n))):a&&(e.opacity=hs(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Ice;o++){const l=`border${mV[o]}Radius`;let c=$L(t,l),d=$L(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||QL(c)===QL(d)?(e[l]=Math.max(hs(DL(c),DL(d),n),0),(Yc.test(d)||Yc.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=hs(t.rotate||0,r.rotate||0,n))}function $L(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Oce=pV(0,.5,Pz),Lce=pV(.5,.95,Sa);function pV(e,t,r){return n=>n<e?0:n>t?1:r(Pf(e,t,n))}function HL(e,t){e.min=t.min,e.max=t.max}function Xo(e,t){HL(e.x,t.x),HL(e.y,t.y)}function zL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function VL(e,t,r,n,i){return e-=t,e=A2(e,1/r,n),i!==void 0&&(e=A2(e,1/i,n)),e}function Fce(e,t=0,r=1,n=.5,i,a=e,o=e){if(Yc.test(t)&&(t=parseFloat(t),t=hs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=hs(a.min,a.max,n);e===a&&(l-=t),e.min=VL(e.min,t,r,l,i),e.max=VL(e.max,t,r,l,i)}function KL(e,t,[r,n,i],a,o){Fce(e,t[r],t[n],t[i],t.scale,a,o)}const Uce=["x","scaleX","originX"],Rce=["y","scaleY","originY"];function WL(e,t,r,n){KL(e.x,t,Uce,r?r.x:void 0,n?n.x:void 0),KL(e.y,t,Rce,r?r.y:void 0,n?n.y:void 0)}function GL(e){return e.translate===0&&e.scale===1}function gV(e){return GL(e.x)&&GL(e.y)}function qL(e,t){return e.min===t.min&&e.max===t.max}function Mce(e,t){return qL(e.x,t.x)&&qL(e.y,t.y)}function YL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xV(e,t){return YL(e.x,t.x)&&YL(e.y,t.y)}function XL(e){return Oo(e.x)/Oo(e.y)}function JL(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Dce{constructor(){this.members=[]}add(t){LP(this.members,t),t.scheduleRender()}remove(t){if(FP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qce(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:A,rotateY:f,skewX:m,skewY:x}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),A&&(n+=`rotateX(${A}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const DA={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ax=typeof window<"u"&&window.MotionDebug!==void 0,rC=["","X","Y","Z"],$ce={visibility:"hidden"},ZL=1e3;let Hce=0;function nC(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function yV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Nz(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ln,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&yV(n)}function vV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Hce++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ax&&(DA.totalNodes=DA.resolvedTargetDeltas=DA.recalculatedProjection=0),this.nodes.forEach(Kce),this.nodes.forEach(Xce),this.nodes.forEach(Jce),this.nodes.forEach(Wce),ax&&window.MotionDebug.record(DA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ece)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new UP),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Sce(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let A;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=Pce(f,250),a1.hasAnimatedSinceResize&&(a1.hasAnimatedSinceResize=!1,this.nodes.forEach(tF))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||nde,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=u.getProps(),b=!this.targetLayout||!xV(this.targetLayout,x)||m,w=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,w);const j={...EP(p,"layout"),onPlay:v,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||tF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ad(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eF);return}this.isUpdating||this.nodes.forEach(qce),this.isUpdating=!1,this.nodes.forEach(Yce),this.nodes.forEach(zce),this.nodes.forEach(Vce),this.clearAllSnapshots();const l=Xc.now();yi.delta=od(0,1e3/60,l-yi.timestamp),yi.timestamp=l,yi.isProcessing=!0,W_.update.process(yi),W_.preRender.process(yi),W_.render.process(yi),yi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gce),this.sharedNodes.forEach(ede)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ln.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ln.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Us(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gV(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||MA(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),sde(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Us();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ide))){const{scroll:u}=this.root;u&&(dp(c.x,u.offset.x),dp(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=Us();if(Xo(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:A,options:f}=u;u!==this.root&&A&&f.layoutScroll&&(A.wasRoot&&Xo(c,o),dp(c.x,A.offset.x),dp(c.y,A.offset.y))}return c}applyTransform(o,l=!1){const c=Us();Xo(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&up(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),MA(u.latestValues)&&up(c,u.latestValues)}return MA(this.latestValues)&&up(c,this.latestValues),c}removeTransform(o){const l=Us();Xo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!MA(d.latestValues))continue;m4(d.latestValues)&&d.updateSnapshot();const u=Us(),A=d.measurePageBox();Xo(u,A),WL(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return MA(this.latestValues)&&WL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:A,layoutId:f}=this.options;if(!(!this.layout||!(A||f))){if(this.resolvedRelativeTargetAt=yi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Us(),this.relativeTargetOrigin=Us(),Ix(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Us(),this.targetWithTransforms=Us()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xo(this.target,this.layout.layoutBox),uV(this.target,this.targetDelta)):Xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Us(),this.relativeTargetOrigin=Us(),Ix(this.relativeTargetOrigin,this.target,m.target),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ax&&DA.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||m4(this.parent.latestValues)||dV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===yi.timestamp&&(d=!1),d)return;const{layout:u,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||A))return;Xo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;gce(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Us());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zL(this.prevProjectionDelta.x,this.projectionDelta.x),zL(this.prevProjectionDelta.y,this.projectionDelta.y)),Px(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!JL(this.projectionDelta.x,this.prevProjectionDelta.x)||!JL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),ax&&DA.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cp(),this.projectionDelta=cp(),this.projectionDeltaWithTransform=cp()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},A=cp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Us(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=m!==x,v=this.getStack(),y=!v||v.members.length<=1,b=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(rde));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const N=j/1e3;rF(A.x,o.x,N),rF(A.y,o.y,N),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ix(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tde(this.relativeTarget,this.relativeTargetOrigin,f,N),w&&Mce(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Us()),Xo(w,this.relativeTarget)),p&&(this.animationValues=u,Tce(u,d,this.latestValues,N,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ad(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ln.update(()=>{a1.hasAnimatedSinceResize=!0,this.currentAnimation=Bce(0,ZL,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&bV(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Us();const A=Oo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+A;const f=Oo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Xo(l,c),up(l,u),Px(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Dce),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&nC("z",o,d,this.animationValues);for(let u=0;u<rC.length;u++)nC(`rotate${rC[u]}`,o,d,this.animationValues),nC(`skew${rC[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $ce;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=s1(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=s1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!MA(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const f=A.animationValues||A.latestValues;this.applyTransformsToTarget(),d.transform=Qce(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:m,y:x}=this.projectionDelta;d.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,A.animationValues?d.opacity=A===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=A===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in l2){if(f[p]===void 0)continue;const{correct:v,applyTo:y}=l2[p],b=d.transform==="none"?f[p]:v(f[p],A);if(y){const w=y.length;for(let j=0;j<w;j++)d[y[j]]=b}else d[p]=b}return this.options.layoutId&&(d.pointerEvents=A===this?s1(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(eF),this.root.sharedNodes.clear()}}}function zce(e){e.updateLayout()}function Vce(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?tl(A=>{const f=o?r.measuredBox[A]:r.layoutBox[A],m=Oo(f);f.min=n[A].min,f.max=f.min+m}):bV(a,r.layoutBox,n)&&tl(A=>{const f=o?r.measuredBox[A]:r.layoutBox[A],m=Oo(n[A]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[A].max=e.relativeTarget[A].min+m)});const l=cp();Px(l,n,r.layoutBox);const c=cp();o?Px(c,e.applyTransform(i,!0),r.measuredBox):Px(c,n,r.layoutBox);const d=!gV(l);let u=!1;if(!e.resumeFrom){const A=e.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:f,layout:m}=A;if(f&&m){const x=Us();Ix(x,r.layoutBox,f.layoutBox);const p=Us();Ix(p,n,m.layoutBox),xV(x,p)||(u=!0),A.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=x,e.relativeParent=A)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Kce(e){ax&&DA.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Gce(e){e.clearSnapshot()}function eF(e){e.clearMeasurements()}function qce(e){e.isLayoutDirty=!1}function Yce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tF(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Xce(e){e.resolveTargetDelta()}function Jce(e){e.calcProjection()}function Zce(e){e.resetSkewAndRotation()}function ede(e){e.removeLeadSnapshot()}function rF(e,t,r){e.translate=hs(t.translate,0,r),e.scale=hs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function nF(e,t,r,n){e.min=hs(t.min,r.min,n),e.max=hs(t.max,r.max,n)}function tde(e,t,r,n){nF(e.x,t.x,r.x,n),nF(e.y,t.y,r.y,n)}function rde(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nde={duration:.45,ease:[.4,0,.1,1]},sF=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iF=sF("applewebkit/")&&!sF("chrome/")?Math.round:Sa;function aF(e){e.min=iF(e.min),e.max=iF(e.max)}function sde(e){aF(e.x),aF(e.y)}function bV(e,t,r){return e==="position"||e==="preserve-aspect"&&!oce(XL(t),XL(r),.2)}function ide(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ade=vV({attachResizeListener:(e,t)=>by(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sC={current:void 0},wV=vV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sC.current){const e=new ade({});e.mount(window),e.setOptions({layoutScroll:!0}),sC.current=e}return sC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ode={pan:{Feature:jce},drag:{Feature:wce,ProjectionNode:wV,MeasureLayout:fV}};function oF(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&ln.postRender(()=>a(t,Cv(t)))}class lde extends lA{mount(){const{current:t}=this.node;t&&(this.unmount=uoe(t,r=>(oF(this.node,r,"Start"),n=>oF(this.node,n,"End"))))}unmount(){}}class cde extends lA{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_v(by(this.node.current,"focus",()=>this.onFocus()),by(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lF(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&ln.postRender(()=>a(t,Cv(t)))}class dde extends lA{mount(){const{current:t}=this.node;t&&(this.unmount=moe(t,r=>(lF(this.node,r,"Start"),(n,{success:i})=>lF(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g4=new WeakMap,iC=new WeakMap,ude=e=>{const t=g4.get(e.target);t&&t(e)},hde=e=>{e.forEach(ude)};function Ade({root:e,...t}){const r=e||document;iC.has(r)||iC.set(r,{});const n=iC.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(hde,{root:e,...t})),n[i]}function fde(e,t,r){const n=Ade(t);return g4.set(e,r),n.observe(e),()=>{g4.delete(e),n.unobserve(e)}}const mde={some:0,all:1};class pde extends lA{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:mde[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),f=d?u:A;f&&f(c)};return fde(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(gde(t,r))&&this.startObserver()}unmount(){}}function gde({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const xde={inView:{Feature:pde},tap:{Feature:dde},focus:{Feature:cde},hover:{Feature:lde}},yde={layout:{ProjectionNode:wV,MeasureLayout:fV}},x4={current:null},jV={current:!1};function vde(){if(jV.current=!0,!!mP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>x4.current=e.matches;e.addListener(t),t()}else x4.current=!1}const bde=[...Vz,Zi,Kh],wde=e=>bde.find(zz(e)),cF=new WeakMap;function jde(e,t,r){for(const n in t){const i=t[n],a=r[n];if(aa(i))e.addValue(n,i);else if(aa(a))e.addValue(n,Hd(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,Hd(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const dF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nde{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=VP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Xc.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ln.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=wN(r),this.isVariantNode=Z9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:A,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&aa(x)&&x.set(c[m],!1)}}mount(t){this.current=t,cF.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),jV.current||vde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cF.delete(this.current),this.projection&&this.projection.unmount(),ad(this.notifyUpdate),ad(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=rm.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ln.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qp){const r=qp[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Us()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<dF.length;n++){const i=dF[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=jde(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&($z(i)||Tz(i))?i=parseFloat(i):!wde(i)&&Kh.test(r)&&(i=Mz(t,r)),this.setBaseTarget(t,aa(i)?i.get():i)),aa(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=wP(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!aa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new UP),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class NV extends Nde{constructor(){super(...arguments),this.KeyframeResolver=Kz}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;aa(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function _de(e){return window.getComputedStyle(e)}class Cde extends NV{constructor(){super(...arguments),this.type="html",this.renderInstance=lz}readValueFromInstance(t,r){if(rm.has(r)){const n=zP(r);return n&&n.default||0}else{const n=_de(t),i=(iz(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return hV(t,r)}build(t,r,n){_P(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return kP(t,r,n)}}class Bde extends NV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Us}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(rm.has(r)){const n=zP(r);return n&&n.default||0}return r=cz.has(r)?r:yP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return hz(t,r,n)}build(t,r,n){CP(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){dz(t,r,n,i)}mount(t){this.isSVGTag=SP(t.tagName),super.mount(t)}}const Sde=(e,t)=>bP(e)?new Bde(t):new Cde(t,{allowProjection:e!==_.Fragment}),kde=aoe({...Jle,...xde,...ode,...yde},Sde),Z=bae(kde);function Ede(e,t,r){_.useInsertionEffect(()=>e.on(t,r),[e,t,r])}function _V(e,t){let r;const n=()=>{const{currentTime:i}=t,o=(i===null?0:i.value)/100;r!==o&&e(o),r=o};return ln.update(n,!0),()=>ad(n)}const o1=new WeakMap;let sh;function Pde(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function Ide({target:e,contentRect:t,borderBoxSize:r}){var n;(n=o1.get(e))===null||n===void 0||n.forEach(i=>{i({target:e,contentSize:t,get size(){return Pde(e,r)}})})}function Tde(e){e.forEach(Ide)}function Ode(){typeof ResizeObserver>"u"||(sh=new ResizeObserver(Tde))}function Lde(e,t){sh||Ode();const r=TP(e);return r.forEach(n=>{let i=o1.get(n);i||(i=new Set,o1.set(n,i)),i.add(t),sh==null||sh.observe(n)}),()=>{r.forEach(n=>{const i=o1.get(n);i==null||i.delete(t),i!=null&&i.size||sh==null||sh.unobserve(n)})}}const l1=new Set;let Tx;function Fde(){Tx=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};l1.forEach(r=>r(t))},window.addEventListener("resize",Tx)}function Ude(e){return l1.add(e),Tx||Fde(),()=>{l1.delete(e),!l1.size&&Tx&&(Tx=void 0)}}function Rde(e,t){return typeof e=="function"?Ude(e):Lde(e,t)}const Mde=50,uF=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Dde=()=>({time:0,x:uF(),y:uF()}),Qde={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function hF(e,t,r,n){const i=r[t],{length:a,position:o}=Qde[t],l=i.current,c=r.time;i.current=e[`scroll${o}`],i.scrollLength=e[`scroll${a}`]-e[`client${a}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Pf(0,i.scrollLength,i.current);const d=n-c;i.velocity=d>Mde?0:RP(i.current-l,d)}function $de(e,t,r){hF(e,"x",t,r),hF(e,"y",t,r),t.time=r}function Hde(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();r.x+=i.left-a.left,r.y+=i.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:a}=n.getBBox();r.x+=i,r.y+=a;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const y4={start:0,center:.5,end:1};function AF(e,t,r=0){let n=0;if(e in y4&&(e=y4[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const zde=[0,0];function Vde(e,t,r,n){let i=Array.isArray(e)?e:zde,a=0,o=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,y4[e]?e:"0"]),a=AF(i[0],r,n),o=AF(i[1],t),a-o}const Kde={All:[[0,0],[1,1]]},Wde={x:0,y:0};function Gde(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function qde(e,t,r){const{offset:n=Kde.All}=r,{target:i=e,axis:a="y"}=r,o=a==="y"?"height":"width",l=i!==e?Hde(i,e):Wde,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:Gde(i),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let u=!t[a].interpolate;const A=n.length;for(let f=0;f<A;f++){const m=Vde(n[f],d[o],c[o],l[a]);!u&&m!==t[a].interpolatorOffsets[f]&&(u=!0),t[a].offset[f]=m}u&&(t[a].interpolate=Zz(t[a].offset,eV(n),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=od(0,1,t[a].interpolate(t[a].current))}function Yde(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function Xde(e,t,r,n={}){return{measure:()=>Yde(e,n.target,r),update:i=>{$de(e,r,i),(n.offset||n.target)&&qde(e,r,n)},notify:()=>t(r)}}const P0=new WeakMap,fF=new WeakMap,aC=new WeakMap,mF=e=>e===document.documentElement?window:e;function qP(e,{container:t=document.documentElement,...r}={}){let n=aC.get(t);n||(n=new Set,aC.set(t,n));const i=Dde(),a=Xde(t,e,i,r);if(n.add(a),!P0.has(t)){const l=()=>{for(const f of n)f.measure()},c=()=>{for(const f of n)f.update(yi.timestamp)},d=()=>{for(const f of n)f.notify()},u=()=>{ln.read(l,!1,!0),ln.read(c,!1,!0),ln.update(d,!1,!0)};P0.set(t,u);const A=mF(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&fF.set(t,Rde(t,u)),A.addEventListener("scroll",u,{passive:!0})}const o=P0.get(t);return ln.read(o,!1,!0),()=>{var l;ad(o);const c=aC.get(t);if(!c||(c.delete(a),c.size))return;const d=P0.get(t);P0.delete(t),d&&(mF(t).removeEventListener("scroll",d),(l=fF.get(t))===null||l===void 0||l(),window.removeEventListener("resize",d))}}function Jde({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},i=qP(a=>{n.value=a[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:i}}const oC=new Map;function CV({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),oC.has(t)||oC.set(t,{});const n=oC.get(t);return n[r]||(n[r]=mz()?new ScrollTimeline({source:t,axis:r}):Jde({source:t,axis:r})),n[r]}function Zde(e){return e.length===2}function BV(e){return e&&(e.target||e.offset)}function eue(e,t){return Zde(e)||BV(t)?qP(r=>{e(r[t.axis].progress,r)},t):_V(e,CV(t))}function tue(e,t){if(e.flatten(),BV(t))return e.pause(),qP(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=CV(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),_V(i=>{n.time=n.duration*i},r))):Sa}}function rue(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?eue(e,n):tue(e,n)}function pF(e,t){Aae(!!(!t||t.current))}const nue=()=>({scrollX:Hd(0),scrollY:Hd(0),scrollXProgress:Hd(0),scrollYProgress:Hd(0)});function sue({container:e,target:t,layoutEffect:r=!0,...n}={}){const i=wv(nue);return(r?yN:_.useEffect)(()=>(pF("target",t),pF("container",e),rue((o,{x:l,y:c})=>{i.scrollX.set(l.current),i.scrollXProgress.set(l.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),i}function iue(e){e.values.forEach(t=>t.stop())}function v4(e,t){[...t].reverse().forEach(n=>{const i=e.getVariant(n);i&&MP(e,i),e.variantChildren&&e.variantChildren.forEach(a=>{v4(a,t)})})}function aue(e,t){if(Array.isArray(t))return v4(e,t);if(typeof t=="string")return v4(e,[t]);MP(e,t)}function oue(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const i=[];return e.forEach(a=>{i.push(nV(a,r,{transitionOverride:n}))}),Promise.all(i)},set(r){return e.forEach(n=>{aue(n,r)})},stop(){e.forEach(r=>{iue(r)})},mount(){return()=>{t.stop()}}};return t}function lue(){const e=wv(oue);return yN(e.mount,[]),e}const cue=lue,due={some:0,all:1};function uue(e,t,{root:r,margin:n,amount:i="some"}={}){const a=TP(e),o=new WeakMap,l=d=>{d.forEach(u=>{const A=o.get(u.target);if(u.isIntersecting!==!!A)if(u.isIntersecting){const f=t(u);typeof f=="function"?o.set(u.target,f):c.unobserve(u.target)}else typeof A=="function"&&(A(u),o.delete(u.target))})},c=new IntersectionObserver(l,{root:r,rootMargin:n,threshold:typeof i=="number"?i:due[i]});return a.forEach(d=>c.observe(d)),()=>c.disconnect()}function hue(e,{root:t,margin:r,amount:n,once:i=!1}={}){const[a,o]=_.useState(!1);return _.useEffect(()=>{if(!e.current||i&&a)return;const l=()=>(o(!0),i?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:r,amount:n};return uue(e.current,l,c)},[t,e,r,i,n]),a}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SV=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>_.createElement("svg",{ref:c,...fue,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:SV("lucide",i),...l},[...o.map(([d,u])=>_.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const r=_.forwardRef(({className:n,...i},a)=>_.createElement(mue,{ref:a,iconNode:t,className:SV(`lucide-${Aue(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ht("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ht("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=ht("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=ht("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ht("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=ht("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=ht("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ht("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=ht("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=ht("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=ht("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ht("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=ht("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ht("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ht("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ht("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ht("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=ht("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=ht("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ht("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ht("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ht("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ht("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=ht("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ht("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=ht("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=ht("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ht("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=ht("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ht("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=ht("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ht("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ht("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=ht("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ht("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ht("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=ht("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ht("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=ht("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ht("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=ht("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ht("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=ht("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=ht("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=ht("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=ht("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ht("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=ht("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ht("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ht("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ht("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ht("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=ht("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=ht("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=ht("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ht("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ht("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=ht("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=ht("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=ht("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ht("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=ht("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=ht("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=ht("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=ht("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ht("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ht("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=ht("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ht("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ht("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=ht("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=ht("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=ht("Snowflake",[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ht("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ht("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=ht("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=ht("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ht("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=ht("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=ht("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=ht("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=ht("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ht("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ht("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ht("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ht("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=ht("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ht("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ht("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ht("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ht("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$ue=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState(null),c="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",[d,u]=_.useState(!1),A=to(),f=cr(),{scrollY:m}=sue(),x=[{name:"Home",href:"/",icon:Ir},{name:"About",href:"/about",icon:b4},{name:"Contact",href:"/contact",icon:ms},...i?[{name:"Dashboard",href:"/dashboard",icon:_p}]:[]];Ede(m,"change",y=>{n(y>10)}),_.useEffect(()=>{const y=()=>{const B=localStorage.getItem("authToken"),I=localStorage.getItem("user");if(a(!!B),I)try{const T=JSON.parse(I);l(T)}catch{localStorage.removeItem("user"),l(null)}else l(null)};y();const b=()=>{y()},w=()=>{a(!1),l(null)},j=()=>{y()},N=()=>{y()};return window.addEventListener("storage",b),window.addEventListener("lyvo-logout",w),window.addEventListener("lyvo-login",j),window.addEventListener("lyvo-profile-update",N),()=>{window.removeEventListener("storage",b),window.removeEventListener("lyvo-logout",w),window.removeEventListener("lyvo-login",j),window.removeEventListener("lyvo-profile-update",N)}},[]),_.useEffect(()=>{const y=b=>{d&&!b.target.closest(".user-dropdown")&&u(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[d]),_.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const p=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),a(!1),l(null),u(!1),t(!1),window.dispatchEvent(new Event("lyvo-logout")),f("/")},v=()=>{t(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-100":"bg-white/90 backdrop-blur-sm"}`,children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsx(Tt,{to:"/",children:s.jsxs(Z.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"flex items-center space-x-3 group cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Z.div,{whileHover:{rotate:5,boxShadow:"0 10px 30px rgba(239, 68, 68, 0.3)"},transition:{duration:.3},className:`w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 overflow-hidden ${A.pathname==="/"?"shadow-[0_0_20px_rgba(239,68,68,0.4)]":""}`,children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx(Z.div,{animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs(Z.span,{whileHover:{color:"rgb(239, 68, 68)"},transition:{duration:.2},className:`text-xl lg:text-2xl font-bold transition-colors duration-300 ${A.pathname==="/"?"text-gray-900":"text-gray-900 group-hover:text-red-600"}`,children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium hidden sm:block",children:"Co-Living Platform"})]})]})}),s.jsx("div",{className:"hidden md:flex items-center space-x-1",children:x.map(y=>{const b=y.icon,w=A.pathname===y.href;return s.jsx(Tt,{to:y.href,children:s.jsxs(Z.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${w?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Z.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(b,{className:`w-4 h-4 ${w?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:y.name})]}),!w&&s.jsx(Z.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})},y.href)})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"hidden md:flex items-center space-x-3",children:i?s.jsxs("div",{className:"relative user-dropdown",children:[s.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!d),className:"flex items-center space-x-3 px-4 py-2 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl hover:from-red-50 hover:to-red-100 transition-all duration-300 border border-gray-200 hover:border-red-200",title:`Hi, ${(o==null?void 0:o.name)||"User"}!`,children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Welcome back!"})]}),s.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d?"bg-red-500":"bg-gray-400"}`})]}),d&&s.jsxs(Z.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-100 py-2 z-[100]",children:[s.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Hi, ",(o==null?void 0:o.name)||"User","!"]}),s.jsx("p",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs(Tt,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(ar,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsxs(Tt,{to:"/dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>u(!1),children:[s.jsx(_p,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),s.jsxs("button",{onClick:p,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(hc,{className:"w-4 h-4 mr-3"}),"Logout"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Tt,{to:"/login",children:s.jsxs(Z.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/login"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Z.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(ru,{className:`w-4 h-4 ${A.pathname==="/login"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Sign In"})]}),A.pathname!=="/login"&&s.jsx(Z.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tt,{to:"/signup",children:s.jsxs(Z.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/signup"?"text-red-600 bg-red-50":"text-gray-700 hover:text-red-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Z.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(wy,{className:`w-4 h-4 ${A.pathname==="/signup"?"text-red-600":"text-gray-500 group-hover:text-red-600"}`})}),s.jsx("span",{children:"Get Started"})]}),A.pathname!=="/signup"&&s.jsx(Z.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-red-50"})]})}),s.jsx(Tt,{to:"/room-owner-signup",children:s.jsxs(Z.div,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},className:`relative px-4 py-2 transition-all duration-300 font-medium group cursor-pointer rounded-lg ${A.pathname==="/room-owner-signup"?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:[s.jsxs("span",{className:"relative z-10 flex items-center space-x-2",children:[s.jsx(Z.div,{whileHover:{rotate:5},transition:{duration:.2},children:s.jsx(f2,{className:`w-4 h-4 ${A.pathname==="/room-owner-signup"?"text-blue-600":"text-gray-500 group-hover:text-blue-600"}`})}),s.jsx("span",{children:"List Property"})]}),A.pathname!=="/room-owner-signup"&&s.jsx(Z.div,{initial:{scale:0,opacity:0},whileHover:{scale:1,opacity:1},transition:{duration:.3},className:"absolute inset-0 rounded-lg bg-blue-50"})]})})]})]})}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 text-gray-700 hover:text-red-600 transition-all duration-300 rounded-lg hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-label":"Toggle mobile menu","aria-expanded":e,"aria-controls":"mobile-menu",children:s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx("div",{className:`transition-all duration-300 ${e?"rotate-180":"rotate-0"}`,children:e?s.jsx(or,{className:"w-6 h-6"}):s.jsx(_N,{className:"w-6 h-6"})})})})]})]})})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden transition-opacity duration-200",onClick:v,"aria-hidden":"true"}),s.jsxs("div",{id:"mobile-menu",className:`fixed top-0 right-0 h-full w-80 max-w-[90vw] sm:max-w-[85vw] bg-white shadow-2xl z-50 md:hidden transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,"aria-label":"Mobile navigation menu",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden shadow-md",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("button",{onClick:v,className:"p-2 text-gray-500 hover:text-red-600 transition-colors duration-200 rounded-lg hover:bg-red-50","aria-label":"Close mobile menu",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"p-6 space-y-3",children:x.map(y=>{const b=y.icon,w=A.pathname===y.href;return s.jsxs(Tt,{to:y.href,onClick:v,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${w?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(b,{className:`h-5 w-5 ${w?"text-red-600":"text-gray-500"}`}),s.jsx("span",{className:"text-base",children:y.name})]},y.href)})}),s.jsx("div",{className:"p-6 border-t border-gray-100 mt-auto",children:i?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"px-4 py-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white shadow-md",children:s.jsx("img",{src:(o==null?void 0:o.profilePicture)||c,alt:"Profile",className:"w-full h-full object-cover",onError:y=>{y.currentTarget.src=c}})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:(o==null?void 0:o.name)||"User"}),s.jsx("div",{className:"text-xs text-gray-500",children:o==null?void 0:o.email})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Tt,{to:"/dashboard",onClick:v,className:"flex items-center space-x-3 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-lg",children:[s.jsx(_p,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Dashboard"})]}),s.jsxs(Tt,{to:"/profile",onClick:v,className:"flex items-center space-x-3 px-4 py-3 text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium",children:[s.jsx(ar,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Profile"})]})]}),s.jsxs("button",{onClick:()=>{v(),p()},className:"flex items-center space-x-3 px-4 py-3 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-xl transition-all duration-200 font-medium w-full text-left",children:[s.jsx(hc,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base",children:"Logout"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Tt,{to:"/login",onClick:v,className:`flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-200 font-medium ${A.pathname==="/login"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(ru,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base",children:"Sign In"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(Tt,{to:"/signup",onClick:v,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${A.pathname==="/signup"?"bg-red-50 text-red-600":"text-gray-700 hover:text-red-600 hover:bg-red-50"}`,children:[s.jsx(wy,{className:"h-4 w-4"}),s.jsx("span",{children:"Get Started"})]}),s.jsxs(Tt,{to:"/room-owner-signup",onClick:v,className:`flex items-center justify-center w-full px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 space-x-2 ${A.pathname==="/room-owner-signup"?"bg-blue-50 text-blue-600":"text-gray-700 hover:text-blue-600 hover:bg-blue-50"}`,children:[s.jsx(f2,{className:"h-4 w-4"}),s.jsx("span",{children:"List Property"})]})]})]})})]})]})},Hue=()=>{const e=[{name:"Facebook",icon:Nue,href:"#"},{name:"Twitter",icon:Due,href:"#"},{name:"Instagram",icon:Bue,href:"#"},{name:"LinkedIn",icon:Eue,href:"#"}],t=[{name:"Home",href:"/"},{name:"About Us",href:"/about"},{name:"Services",href:"/services"},{name:"Contact",href:"/contact"},{name:"Sign In",href:"/login"}],r=[{name:"Co-Living Spaces",href:"#"},{name:"Community Building",href:"#"},{name:"Events & Activities",href:"#"},{name:"24/7 Support",href:"#"},{name:"Premium Amenities",href:"#"}],n=[{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"},{name:"Cookie Policy",href:"#"}];return s.jsx("footer",{className:"bg-gray-900 text-white mt-auto",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center shadow-lg overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xl font-bold",children:"Lyvo+"}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Co-Living Platform"})]})]}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Empowering communities through innovative co-living solutions. Join us in creating meaningful connections and sustainable living spaces."}),s.jsx("div",{className:"flex space-x-4",children:e.map(i=>s.jsxs(Tt,{to:i.href,className:"w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-gray-700 transition-all duration-200 group",children:[s.jsx(i.icon,{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-200"}),s.jsx("span",{className:"sr-only",children:i.name})]},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quick Links"}),s.jsx("ul",{className:"space-y-2",children:t.map(i=>s.jsx("li",{children:s.jsx(Tt,{to:i.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:i.name})},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Services"}),s.jsx("ul",{className:"space-y-2",children:r.map(i=>s.jsx("li",{children:s.jsx(Tt,{to:i.href,className:"text-gray-300 hover:text-red-500 transition-colors duration-200 text-sm hover:translate-x-1 inline-block transform transition-transform duration-200",children:i.name})},i.name))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Contact Us"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(yn,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"hello@lyvoplus.com"})]}),s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200",children:s.jsx(ms,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"flex items-start space-x-3 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center group-hover:bg-red-600 transition-colors duration-200 mt-0.5",children:s.jsx(wr,{className:"w-4 h-4 text-white"})}),s.jsxs("span",{className:"text-gray-300 text-sm group-hover:text-white transition-colors duration-200",children:["123 Innovation Street",s.jsx("br",{}),"Tech City, TC 12345"]})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("div",{className:"text-gray-400 text-sm",children:" 2024 Lyvo+. All rights reserved."}),s.jsx("div",{className:"flex flex-wrap justify-center md:justify-end gap-6 text-sm",children:n.map(i=>s.jsx(Tt,{to:i.href,className:"text-gray-400 hover:text-red-500 transition-colors duration-200 hover:underline",children:i.name},i.name))})]})})]})})};class zue{constructor(){this.isInitialized=!1,this.apiKey=null,this.apiUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent",this.fallbackResponses=this.buildFallbackResponses()}buildFallbackResponses(){return{pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. All prices include WiFi, utilities, and basic amenities!","Pricing depends on location and room type. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. We offer great value for money!","We have flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of utilities and amenities."],locations:["We have properties in prime locations across multiple cities. Our properties are strategically positioned in the best neighborhoods with easy access to business districts and residential areas!","Our properties are located in prime areas across different cities. We have multiple locations including city centers, business districts, and residential neighborhoods.","We operate in multiple cities with properties in prime locations. Each property is carefully selected for its accessibility and neighborhood quality."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]}}async initialize(){try{if(console.log("Initializing Google Gemini Pro AI Service..."),this.apiKey="AIzaSyBctLbHMKEWiFsmnrTPJUVaLe3OMkHLtaM",!this.apiKey)throw new Error("Google Gemini API key not found");await this.testConnectionWithRetry(),this.isInitialized=!0,console.log("Google Gemini Pro AI Service initialized successfully")}catch(t){console.error("Failed to initialize Gemini AI Service:",t),console.log(" AI Service will use fallback responses due to initialization failure"),this.isInitialized=!1}}async testConnectionWithRetry(){for(let n=1;n<=2;n++)try{console.log(` Testing Gemini API connection (attempt ${n}/2)`);const i=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"test"}]}]})});if(i.ok){console.log(" Gemini API connection test successful");return}else if(i.status===429&&(console.warn(` Rate limit hit (429). Attempt ${n}/2`),n<2)){const a=5e3*n;console.log(` Waiting ${a}ms before retry...`),await new Promise(o=>setTimeout(o,a));continue}throw new Error(`API test failed: ${i.status}`)}catch(i){if(console.error(` Gemini API connection test failed (attempt ${n}):`,i),n===2)throw console.warn(" All retry attempts failed. AI service will use fallback responses."),i;if(i.message.includes("429")){const a=5e3*n;console.log(` Rate limit detected. Waiting ${a}ms before retry...`),await new Promise(o=>setTimeout(o,a))}}}async testConnection(){try{const t=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Hello, respond with 'Connection successful'"}]}]})});if(!t.ok)throw new Error(`API test failed: ${t.status}`);console.log("Gemini API connection test successful")}catch(t){throw console.error("Gemini API connection test failed:",t),t}}async getChatResponse(t,r="gemini-2.5-flash"){var n,i;if(!this.isInitialized){console.log(" Initializing AI service...");try{await this.initialize()}catch{console.log(" AI service initialization failed, using fallback responses")}}if(!this.isInitialized){console.log(" Using fallback responses due to AI service unavailability");const a=((n=t[t.length-1])==null?void 0:n.content)||"",o=this.getFallbackResponse(a);return console.log(" Fallback response:",o),o}try{console.log(" Processing message with Google Gemini 2.5 Flash:",{model:r,messageCount:t.length});const a=await this.callGeminiAPI(t);return console.log(" Gemini 2.5 Flash Response generated"),a}catch(a){console.error(" Error getting Gemini response:",a),console.log(" Falling back to local responses");const o=((i=t[t.length-1])==null?void 0:i.content)||"",l=this.getFallbackResponse(o);return console.log(" Fallback response:",l),l}}async fetchProjectData(){try{console.log(" Fetching project data from database...");const t=await fetch("http://localhost:3003/api/public/properties",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)return console.warn(" Could not fetch project data, using fallback"),this.getFallbackProjectData();const r=await t.json();return console.log(" Project data fetched:",r),this.transformPropertyData(r)}catch(t){return console.warn(" Error fetching project data:",t),this.getFallbackProjectData()}}transformPropertyData(t){try{const r=t.properties||[],n=[...new Set(r.map(l=>{var c;return(c=l.address)==null?void 0:c.city}).filter(Boolean))],a=r.map(l=>{const c=l.rooms||[];if(c.length===0)return null;const d=c.map(u=>u.rent).filter(Boolean);return d.length===0?null:{min:Math.min(...d),max:Math.max(...d)}}).filter(Boolean).flatMap(l=>[l.min,l.max]),o=a.length>0?`${Math.min(...a).toLocaleString()}-${Math.max(...a).toLocaleString()}`:"Flexible pricing";return{properties:r.slice(0,5).map(l=>{var c;return{id:l._id,name:l.property_name,location:((c=l.address)==null?void 0:c.city)||"Multiple cities",price:this.getPriceRange(l.rooms),type:this.getRoomTypes(l.rooms),amenities:this.getAmenities(l.rooms)}}),cities:n.length>0?n:["Multiple cities"],totalProperties:r.length,averagePrice:o}}catch(r){return console.error("Error transforming property data:",r),this.getFallbackProjectData()}}getPriceRange(t){if(!t||t.length===0)return"Contact for pricing";const r=t.map(a=>a.rent).filter(Boolean);if(r.length===0)return"Contact for pricing";const n=Math.min(...r),i=Math.max(...r);return n===i?`${n.toLocaleString()}`:`${n.toLocaleString()}-${i.toLocaleString()}`}getRoomTypes(t){return!t||t.length===0?"Various types":[...new Set(t.map(n=>n.room_type))].join(", ")}getAmenities(t){if(!t||t.length===0)return["WiFi","Security"];const r=new Set;return t.forEach(n=>{n.amenities&&Object.keys(n.amenities).forEach(i=>{n.amenities[i]&&r.add(i.charAt(0).toUpperCase()+i.slice(1))})}),Array.from(r).slice(0,5)}getFallbackProjectData(){return{properties:[{id:1,name:"Lyvo+ Premium",location:"Prime Location",price:"15,000-25,000",type:"Single Room",amenities:["WiFi","Security","Kitchen","Laundry"]},{id:2,name:"Lyvo+ Shared",location:"Downtown Area",price:"8,000-12,000",type:"Shared Room",amenities:["WiFi","Security","Common Area"]},{id:3,name:"Lyvo+ Studio",location:"City Center",price:"20,000-30,000",type:"Studio",amenities:["WiFi","Security","AC","Private Bathroom"]}],cities:["Multiple Cities"],totalProperties:"50+",averagePrice:"10,000-25,000"}}async callGeminiAPI(t){var r,n,i;try{console.log(" Calling Gemini API...");const a=await this.fetchProjectData(),o=`You are Lyvo+ Assistant, a helpful AI assistant for a co-living platform called Lyvo+. 

About Lyvo+:
- We provide co-living spaces (PG accommodations) across multiple cities
- We offer various room types with flexible pricing options
- All prices include WiFi, utilities, and basic amenities
- We have properties in prime locations across different cities
- We provide 24/7 security, housekeeping, common kitchens, co-working spaces
- Some premium locations have gyms, cafeterias, gaming rooms
- We use AI-powered roommate matching based on lifestyle compatibility
- Booking process: Browse  Tour  Apply  Digital Agreement  Move in
- Support available 24/7 at support@lyvoplus.com

Current Project Data:
- Total Properties: ${a.totalProperties||"Multiple"}
- Price Range: ${a.averagePrice||"Flexible pricing"}
- Available Cities: ${((r=a.cities)==null?void 0:r.join(", "))||"Multiple cities"}
- Property Types: Single rooms, Shared rooms, Premium suites

Sample Properties:
${((n=a.properties)==null?void 0:n.slice(0,3).map(f=>`- ${f.name} (${f.type}): ${f.price} in ${f.location}`).join(`
`))||"- Various properties available"}

Guidelines:
- Be friendly, helpful, and professional
- Focus on co-living, room rentals, and PG accommodations
- Provide accurate information about our services using the project data above
- If asked about topics outside co-living, politely redirect to our services
- Keep responses concise but informative (max 200 words)
- Always be encouraging about our co-living community
- Use the provided project data to give accurate pricing and location information`,l=((i=t[t.length-1])==null?void 0:i.content)||"",c=`${o}

User Question: ${l}`;console.log(" Sending request to Gemini API...");const d=await fetch(`${this.apiUrl}?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:200}})});if(console.log(" Gemini API response status:",d.status),!d.ok){const f=await d.text();throw console.error(" Gemini API error response:",f),new Error(`Gemini API error: ${d.status} ${d.statusText}`)}const u=await d.json();if(console.log(" Gemini API response data:",u),!u.candidates||!u.candidates[0]||!u.candidates[0].content)throw new Error("Invalid response format from Gemini API");const A=u.candidates[0].content.parts[0].text;return console.log(" Final AI response:",A),A}catch(a){throw console.error(" Gemini API call failed:",a),a}}getFallbackResponse(t){const r=t.toLowerCase();return r.includes("price")||r.includes("cost")||r.includes("rent")||r.includes("fee")||r.includes("expensive")||r.includes("cheap")?this.getRandomResponse("pricing"):r.includes("location")||r.includes("area")||r.includes("where")||r.includes("place")||r.includes("bangalore")||r.includes("koramangala")||r.includes("hsr")?this.getRandomResponse("locations"):r.includes("amenity")||r.includes("facility")||r.includes("wifi")||r.includes("gym")||r.includes("kitchen")||r.includes("security")||r.includes("laundry")?this.getRandomResponse("amenities"):r.includes("book")||r.includes("apply")||r.includes("reserve")||r.includes("process")||r.includes("how to")||r.includes("procedure")?this.getRandomResponse("booking"):r.includes("roommate")||r.includes("flatmate")||r.includes("match")||r.includes("compatibility")||r.includes("sharing")?this.getRandomResponse("roommate"):r.includes("security")||r.includes("safe")||r.includes("guard")||r.includes("cctv")||r.includes("safety")?this.getRandomResponse("security"):r.includes("payment")||r.includes("pay")||r.includes("upi")||r.includes("card")||r.includes("money")||r.includes("billing")?this.getRandomResponse("payment"):r.includes("support")||r.includes("help")||r.includes("contact")||r.includes("call")||r.includes("assistance")?this.getRandomResponse("support"):r.includes("hello")||r.includes("hi")||r.includes("hey")||r.includes("good morning")||r.includes("good afternoon")||r.includes("good evening")?this.getRandomResponse("greeting"):this.getRandomResponse("default")}getRandomResponse(t){const r=this.fallbackResponses[t]||this.fallbackResponses.default;return r[Math.floor(Math.random()*r.length)]}async getLyvoAssistantResponse(t){try{console.log(" Getting AI response for:",t);const r=await this.getChatResponse([{role:"user",content:t}]);return console.log(" AI Response received:",r),r}catch(r){return console.error(" Error getting Lyvo assistant response:",r),console.log(" Falling back to demo response"),"I'm sorry, I'm having trouble right now. Please try again later or contact our support team at support@lyvoplus.com for immediate assistance."}}}const wF=new zue,MV=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[o,l]=_.useState([{id:1,type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),[c,d]=_.useState(""),[u,A]=_.useState(!1),[f,m]=_.useState("idle"),[x,p]=_.useState(""),v=_.useRef(null),y=()=>{var T;(T=v.current)==null||T.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{y()},[o]),_.useEffect(()=>{e&&f==="idle"&&(async()=>{m("initializing");try{await wF.initialize(),m("ready")}catch(U){console.error("Failed to initialize AI service:",U),m("error"),p("AI service unavailable. Using fallback responses.")}})()},[e,f]),_.useEffect(()=>{const T=U=>{r&&!U.target.closest(".chatbot-menu")&&P()};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[r]);const b={greeting:["Hello! Welcome to Lyvo+. I'm here to help you find your perfect co-living space!","Hi there! Ready to discover amazing co-living opportunities?","Welcome to Lyvo+! Let's find you the ideal living space with great roommates."],pricing:["Our rooms start from 8,000/month for shared spaces and 15,000/month for single rooms. Prices vary by location and amenities. Would you like to see our current listings?","Pricing depends on location, room type, and amenities. Single rooms range from 12,000-25,000/month, while shared spaces start at 8,000/month. All prices include utilities!","We offer flexible pricing options! Single rooms: 12,000-25,000/month, Shared rooms: 8,000-15,000/month. All inclusive of WiFi, utilities, and basic amenities."],locations:["We have properties in prime locations across Bangalore: Koramangala, Indiranagar, HSR Layout, Whitefield, and Electronic City. Which area interests you?","Our properties are strategically located in Bangalore's best neighborhoods. We have 50+ locations including Koramangala, Indiranagar, HSR Layout, and more!","Currently, we operate in Bangalore with plans to expand to Mumbai, Delhi, and Hyderabad. Our Bangalore locations include all major tech hubs and residential areas."],amenities:["All our properties include: High-speed WiFi, 24/7 security, housekeeping, laundry facilities, common kitchen, and co-working spaces. Some locations also have gyms and cafeterias!","Standard amenities: WiFi, security, cleaning, kitchen access, and common areas. Premium locations include gyms, cafeterias, gaming rooms, and rooftop spaces.","We provide WiFi, security, housekeeping, shared kitchens, study areas, and common lounges. Premium properties also feature gyms, cafeterias, and recreational facilities."],booking:["To book a room, you can: 1) Browse our listings, 2) Schedule a virtual or in-person tour, 3) Complete the application form, 4) Sign the digital agreement. The process takes 2-3 days!","Booking is simple! Visit any room listing, click 'Book Now', fill the application, and we'll get back within 24 hours. You can also schedule a tour first.","Our booking process: Select a room  Schedule tour  Submit application  Digital agreement  Move in! We typically process applications within 48 hours."],roommate:["We use AI-powered compatibility matching based on lifestyle, work schedule, cleanliness preferences, and interests. You can also specify gender preferences and age range.","Our roommate matching considers work schedules, lifestyle habits, cleanliness standards, and personal interests. We ensure compatible living arrangements for everyone.","We match roommates using advanced algorithms that consider lifestyle compatibility, work schedules, and personal preferences. You can also choose your own roommates if you prefer."],security:["All properties have 24/7 security, CCTV cameras, secure entry systems, and verified property owners. We also conduct background checks on all residents.","Security features include: 24/7 guards, CCTV surveillance, secure access cards, and emergency response systems. All property owners are background-verified.","Your safety is our priority! We provide 24/7 security, surveillance systems, secure access, and verified property owners. All residents undergo background verification."],payment:["We accept online payments via UPI, cards, and net banking. Rent is typically paid monthly, and we offer flexible payment plans. No hidden charges!","Payment options: UPI, credit/debit cards, net banking, and digital wallets. Rent is due monthly, and we provide transparent billing for all utilities.","Payments can be made online through our secure portal. We accept UPI, cards, and net banking. Monthly rent includes utilities with no hidden costs."],support:["Our support team is available 24/7 via chat, phone (+91 98765 43210), or email (support@lyvoplus.com). We typically respond within 2 hours!","You can reach us anytime at support@lyvoplus.com or call +91 98765 43210. Our team responds within 2 hours and is available 24/7.","24/7 support available! Contact us at support@lyvoplus.com or +91 98765 43210. We also have in-app chat support for immediate assistance."],default:["I'm here to help with co-living questions! You can ask about pricing, locations, amenities, booking process, roommate matching, security, payments, or support.","I can assist with finding rooms, understanding our services, booking process, roommate matching, and general inquiries. What would you like to know?","Feel free to ask about our co-living spaces, pricing, locations, amenities, booking process, or any other questions about Lyvo+!"]},w=[{text:"What are your room prices?",category:"pricing"},{text:"Where are your properties located?",category:"locations"},{text:"What amenities do you provide?",category:"amenities"},{text:"How do I book a room?",category:"booking"},{text:"How do you match roommates?",category:"roommate"},{text:"What security measures do you have?",category:"security"},{text:"What payment methods do you accept?",category:"payment"},{text:"How can I contact support?",category:"support"}],j=T=>{const U=T.toLowerCase();return U.includes("are you ai")||U.includes("are you a bot")||U.includes("are you real")||U.includes("ai or human")||U.includes("bot or human")?"Yes, I'm an AI-powered chatbot assistant designed to help you with co-living questions. Currently using fallback responses due to high traffic, but I can still help you with pricing, locations, booking, and more!":U.includes("mock")||U.includes("fake")||U.includes("real message")?"I'm using pre-programmed fallback responses right now since our main AI service is temporarily busy. But I'm still here to help with all your co-living questions! What would you like to know?":U.includes("what i asked")||U.includes("my question")||U.includes("tell me about")?"I apologize for not directly answering your previous question. I'm currently in fallback mode. Could you please rephrase your question? I can help with: pricing, locations, amenities, booking process, roommate matching, security, payments, or support contact info.":U.includes("price")||U.includes("cost")||U.includes("rent")||U.includes("fee")?b.pricing[Math.floor(Math.random()*b.pricing.length)]:U.includes("location")||U.includes("area")||U.includes("where")||U.includes("place")?b.locations[Math.floor(Math.random()*b.locations.length)]:U.includes("amenity")||U.includes("facility")||U.includes("wifi")||U.includes("gym")?b.amenities[Math.floor(Math.random()*b.amenities.length)]:U.includes("book")||U.includes("apply")||U.includes("reserve")||U.includes("process")?b.booking[Math.floor(Math.random()*b.booking.length)]:U.includes("roommate")||U.includes("flatmate")||U.includes("match")||U.includes("compatibility")?b.roommate[Math.floor(Math.random()*b.roommate.length)]:U.includes("security")||U.includes("safe")||U.includes("guard")||U.includes("cctv")?b.security[Math.floor(Math.random()*b.security.length)]:U.includes("payment")||U.includes("pay")||U.includes("upi")||U.includes("card")?b.payment[Math.floor(Math.random()*b.payment.length)]:U.includes("support")||U.includes("help")||U.includes("contact")||U.includes("call")?b.support[Math.floor(Math.random()*b.support.length)]:U.includes("hello")||U.includes("hi")||U.includes("hey")?b.greeting[Math.floor(Math.random()*b.greeting.length)]:b.default[Math.floor(Math.random()*b.default.length)]},N=async T=>{if(!T.trim())return;const U={id:Date.now(),type:"user",content:T,timestamp:new Date};l(k=>[...k,U]),d(""),A(!0);try{let k;if(f==="ready")try{k=await wF.getLyvoAssistantResponse(T)}catch(E){console.error("AI service error:",E),k=j(T)}else k=j(T);setTimeout(()=>{const E={id:Date.now()+1,type:"bot",content:k,timestamp:new Date};l(Q=>[...Q,E]),A(!1)},1e3+Math.random()*1e3)}catch(k){console.error("Error handling message:",k),setTimeout(()=>{const E={id:Date.now()+1,type:"bot",content:"I'm sorry, I'm having trouble right now. Please try again or contact our support team at support@lyvoplus.com.",timestamp:new Date};l(Q=>[...Q,E]),A(!1)},1e3)}},B=T=>{N(T)},I=()=>{l([{id:Date.now(),type:"bot",content:"Hi! I'm Lyvo+ Assistant. I can help you find the perfect co-living space, answer questions about our services, or assist with bookings. How can I help you today?",timestamp:new Date}]),a(!1),n(!1)},P=()=>{n(!1),a(!1)};return s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{className:"fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-[80]",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:2},children:s.jsxs(Z.button,{onClick:()=>t(!e),className:"relative w-16 h-16 sm:w-16 sm:h-16 bg-gradient-to-br from-red-500 via-red-600 to-red-700 rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center text-white border-2 border-white/20",whileHover:{scale:1.1,rotate:5},whileTap:{scale:.9,rotate:-5},children:[s.jsx(gn,{mode:"wait",children:e?s.jsx(Z.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.3},children:s.jsx(or,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"close"):s.jsx(Z.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.3},children:s.jsx(ca,{className:"w-7 h-7 sm:w-7 sm:h-7"})},"chat")}),s.jsx(Z.div,{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-red-500 via-red-600 to-red-700 opacity-30",animate:{scale:[1,1.3,1]},transition:{duration:2,repeat:1/0,delay:3}}),s.jsx(Z.div,{className:"absolute -top-1 -right-1 w-3 h-3 sm:w-4 sm:h-4 bg-green-400 rounded-full border-2 border-white shadow-lg",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}})]})}),s.jsx(gn,{children:e&&s.jsxs(Z.div,{initial:{opacity:0,scale:.8,y:20,rotateX:-15},animate:{opacity:1,scale:1,y:0,rotateX:0},exit:{opacity:0,scale:.8,y:20,rotateX:-15},transition:{type:"spring",stiffness:300,damping:30},className:"fixed bottom-24 right-4 z-[75] w-[320px] h-[500px] sm:bottom-32 sm:right-20 bg-gradient-to-br from-white to-gray-50 rounded-[2rem] shadow-2xl border border-gray-200/50 backdrop-blur-sm flex flex-col",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)"},children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-red-500 via-red-600 to-red-700 text-white p-3 rounded-t-[2rem]",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white rounded-full -mr-10 -mt-10"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 bg-white rounded-full -ml-6 -mb-6"})]}),s.jsxs("div",{className:"relative flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-9 h-9 sm:w-8 sm:h-8 bg-white rounded-xl flex items-center justify-center shadow-sm border border-white/30 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-5 h-5 sm:w-4 sm:h-4 object-contain"})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 sm:w-2.5 sm:h-2.5 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-base sm:text-sm",children:[s.jsx("span",{className:"text-black",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Assistant"]}),s.jsxs("div",{className:"text-sm sm:text-xs text-red-100 flex items-center space-x-1",children:[s.jsx("div",{className:`w-2 h-2 sm:w-1.5 sm:h-1.5 rounded-full ${f==="ready"?"bg-green-400 animate-pulse":f==="error"?"bg-yellow-400":f==="initializing"?"bg-blue-400 animate-pulse":"bg-gray-400"}`}),s.jsx("span",{children:f==="ready"?"AI Online  Ready to help":f==="error"?"Fallback Mode  Still helping":f==="initializing"?"Initializing AI...":"Ready to chat"})]})]}),s.jsxs("div",{className:"relative chatbot-menu",children:[s.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!r),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(Bv,{className:"w-4 h-4 sm:w-3 sm:h-3"})}),s.jsx(gn,{children:r&&s.jsx(Z.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden z-30",children:s.jsx("div",{className:"p-1",children:s.jsxs(Z.button,{whileHover:{backgroundColor:"#fef2f2"},onClick:()=>a(!0),className:"w-full flex items-center space-x-3 px-3 py-2.5 text-sm text-gray-700 hover:text-red-600 rounded-lg transition-colors duration-200",children:[s.jsx(Zp,{className:"w-4 h-4"}),s.jsx("span",{children:"Clear Chat"})]})})})})]}),s.jsx(Z.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:()=>t(!1),className:"w-7 h-7 sm:w-6 sm:h-6 bg-white/20 rounded-lg flex items-center justify-center hover:bg-white/30 transition-colors duration-200 backdrop-blur-sm",children:s.jsx(or,{className:"w-4 h-4 sm:w-3 sm:h-3"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-gradient-to-b from-gray-50/50 to-white/50",children:[o.map(T=>s.jsx(Z.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:300,damping:30},className:`flex ${T.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[88%] p-3 sm:p-2.5 rounded-xl shadow-sm ${T.type==="user"?"bg-gradient-to-br from-red-500 to-red-600 text-white shadow-lg":"bg-white text-gray-800 border border-gray-100 shadow-md"}`,style:{boxShadow:T.type==="user"?"0 10px 25px -5px rgba(239, 68, 68, 0.3)":"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[s.jsx("p",{className:"text-sm sm:text-xs leading-relaxed",children:T.content}),s.jsxs("p",{className:`text-xs mt-1.5 flex items-center space-x-1 ${T.type==="user"?"text-red-100":"text-gray-400"}`,children:[s.jsx("span",{children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),T.type==="user"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Sent"})]})]})]})},T.id)),u&&s.jsx(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex justify-start",children:s.jsx("div",{className:"bg-white border border-gray-100 p-3 sm:p-2.5 rounded-xl shadow-md",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-5 sm:h-5 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Ir,{className:"w-3 h-3 sm:w-2.5 sm:h-2.5 text-red-500"})}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(Z.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:0}}),s.jsx(Z.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.2}}),s.jsx(Z.div,{className:"w-2 h-2 sm:w-1.5 sm:h-1.5 bg-red-400 rounded-full",animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:.4}})]}),s.jsxs("span",{className:"text-sm sm:text-xs text-gray-500 ml-1",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," is typing..."]})]})})}),s.jsx("div",{ref:v})]}),o.length===1&&s.jsxs("div",{className:"px-3 pb-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Quick questions:"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.slice(0,4).map((T,U)=>s.jsx(Z.button,{onClick:()=>B(T.text),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-2 sm:px-2.5 sm:py-1.5 bg-white border border-gray-200 hover:border-red-300 hover:bg-red-50 text-gray-700 text-sm sm:text-xs rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",children:T.text},U))})]}),s.jsxs("div",{className:"flex-shrink-0 px-3 pt-4 pb-5 border-t border-gray-200 bg-white shadow-sm rounded-b-[2rem]",children:[s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:c,onChange:T=>d(T.target.value),onKeyPress:T=>T.key==="Enter"&&N(c),placeholder:"Ask about rooms, pricing, amenities...",className:"w-full px-4 py-2.5 sm:px-3 sm:py-2 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm sm:text-xs bg-white shadow-sm hover:shadow-md transition-all duration-200"}),s.jsx("div",{className:"absolute right-3 sm:right-2.5 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx(ca,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx(Z.button,{onClick:()=>N(c),disabled:!c.trim(),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2.5 sm:px-3 sm:py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center",children:s.jsx(qh,{className:"w-4 h-4 sm:w-3.5 sm:h-3.5"})})]}),s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Press Enter to send  Available 24/7"})]})]})}),s.jsx(gn,{children:i&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-60 flex items-center justify-center p-4",onClick:P,children:s.jsx(Z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Zp,{className:"w-6 h-6 text-red-500"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Clear Chat History?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"This will delete all messages and start a new conversation. This action cannot be undone."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:P,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:I,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-red-500 rounded-xl hover:bg-red-600 transition-colors duration-200",children:"Clear Chat"})]})]})})})})]})},Vue=1,Kue=1e6;let lC=0;function Wue(){return lC=(lC+1)%Number.MAX_SAFE_INTEGER,lC.toString()}const cC=new Map,jF=e=>{if(cC.has(e))return;const t=setTimeout(()=>{cC.delete(e),Ox({type:"REMOVE_TOAST",toastId:e})},Kue);cC.set(e,t)},Gue=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Vue)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jF(r):e.toasts.forEach(n=>{jF(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},c1=[];let d1={toasts:[]};function Ox(e){d1=Gue(d1,e),c1.forEach(t=>{t(d1)})}function que({...e}){const t=Wue(),r=i=>Ox({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Ox({type:"DISMISS_TOAST",toastId:t});return Ox({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function xc(){const[e,t]=_.useState(d1);return _.useEffect(()=>(c1.push(t),()=>{const r=c1.indexOf(t);r>-1&&c1.splice(r,1)}),[e]),{...e,toast:que,dismiss:r=>Ox({type:"DISMISS_TOAST",toastId:r})}}function Dr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function NF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function DV(...e){return t=>{let r=!1;const n=e.map(i=>{const a=NF(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():NF(e[i],null)}}}}function ps(...e){return _.useCallback(DV(...e),e)}function Yue(e,t){const r=_.createContext(t),n=a=>{const{children:o,...l}=a,c=_.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=_.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function kv(e,t=[]){let r=[];function n(a,o){const l=_.createContext(o),c=r.length;r=[...r,o];const d=A=>{var y;const{scope:f,children:m,...x}=A,p=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,v=_.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:v,children:m})};d.displayName=a+"Provider";function u(A,f){var p;const m=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,x=_.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${A}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=r.map(o=>_.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return _.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Xue(i,...t)]}function Xue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const A=c(a)[`__scope${d}`];return{...l,...A}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function tg(e){const t=Zue(e),r=_.forwardRef((n,i)=>{const{children:a,...o}=n,l=_.Children.toArray(a),c=l.find(the);if(c){const d=c.props.children,u=l.map(A=>A===c?_.Children.count(d)>1?_.Children.only(null):_.isValidElement(d)?d.props.children:null:A);return s.jsx(t,{...o,ref:i,children:_.isValidElement(d)?_.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Jue=tg("Slot");function Zue(e){const t=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const o=nhe(i),l=rhe(a,i.props);return i.type!==_.Fragment&&(l.ref=n?DV(n,o):o),_.cloneElement(i,l)}return _.Children.count(i)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ehe=Symbol("radix.slottable");function the(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ehe}function rhe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function nhe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function QV(e){const t=e+"CollectionProvider",[r,n]=kv(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:y}=p,b=_e.useRef(null),w=_e.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:w,collectionRef:b,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=tg(l),d=_e.forwardRef((p,v)=>{const{scope:y,children:b}=p,w=a(l,y),j=ps(v,w.collectionRef);return s.jsx(c,{ref:j,children:b})});d.displayName=l;const u=e+"CollectionItemSlot",A="data-radix-collection-item",f=tg(u),m=_e.forwardRef((p,v)=>{const{scope:y,children:b,...w}=p,j=_e.useRef(null),N=ps(v,j),B=a(u,y);return _e.useEffect(()=>(B.itemMap.set(j,{ref:j,...w}),()=>void B.itemMap.delete(j))),s.jsx(f,{[A]:"",ref:N,children:b})});m.displayName=u;function x(p){const v=a(e+"CollectionConsumer",p);return _e.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${A}]`));return Array.from(v.itemMap.values()).sort((B,I)=>w.indexOf(B.ref.current)-w.indexOf(I.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},x,n]}var she=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qr=she.reduce((e,t)=>{const r=tg(`Primitive.${t}`),n=_.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $V(e,t){e&&aA.flushSync(()=>e.dispatchEvent(t))}function Ac(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function ihe(e,t=globalThis==null?void 0:globalThis.document){const r=Ac(e);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ahe="DismissableLayer",N4="dismissableLayer.update",ohe="dismissableLayer.pointerDownOutside",lhe="dismissableLayer.focusOutside",_F,HV=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BN=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=_.useContext(HV),[u,A]=_.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),x=ps(t,I=>A(I)),p=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(v),b=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,N=dhe(I=>{const P=I.target,T=[...d.branches].some(U=>U.contains(P));!j||T||(i==null||i(I),o==null||o(I),I.defaultPrevented||l==null||l())},f),B=uhe(I=>{const P=I.target;[...d.branches].some(U=>U.contains(P))||(a==null||a(I),o==null||o(I),I.defaultPrevented||l==null||l())},f);return ihe(I=>{b===d.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},f),_.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(_F=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),CF(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_F)}},[u,f,r,d]),_.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),CF())},[u,d]),_.useEffect(()=>{const I=()=>m({});return document.addEventListener(N4,I),()=>document.removeEventListener(N4,I)},[]),s.jsx(qr.div,{...c,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:Dr(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Dr(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Dr(e.onPointerDownCapture,N.onPointerDownCapture)})});BN.displayName=ahe;var che="DismissableLayerBranch",zV=_.forwardRef((e,t)=>{const r=_.useContext(HV),n=_.useRef(null),i=ps(t,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(qr.div,{...e,ref:i})});zV.displayName=che;function dhe(e,t=globalThis==null?void 0:globalThis.document){const r=Ac(e),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){VV(ohe,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uhe(e,t=globalThis==null?void 0:globalThis.document){const r=Ac(e),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&VV(lhe,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CF(){const e=new CustomEvent(N4);document.dispatchEvent(e)}function VV(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?$V(i,a):i.dispatchEvent(a)}var hhe=BN,Ahe=zV,Ri=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},fhe="Portal",SN=_.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=_.useState(!1);Ri(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?sie.createPortal(s.jsx(qr.div,{...n,ref:t}),o):null});SN.displayName=fhe;function mhe(e,t){return _.useReducer((r,n)=>t[r][n]??r,e)}var Ev=e=>{const{present:t,children:r}=e,n=phe(t),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=ps(n.ref,ghe(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};Ev.displayName="Presence";function phe(e){const[t,r]=_.useState(),n=_.useRef(null),i=_.useRef(e),a=_.useRef("none"),o=e?"mounted":"unmounted",[l,c]=mhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const d=Qb(n.current);a.current=l==="mounted"?d:"none"},[l]),Ri(()=>{const d=n.current,u=i.current;if(u!==e){const f=a.current,m=Qb(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),Ri(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,A=m=>{const p=Qb(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},f=m=>{m.target===t&&(a.current=Qb(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",A),t.addEventListener("animationend",A),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",A),t.removeEventListener("animationend",A)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:_.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Qb(e){return(e==null?void 0:e.animationName)||"none"}function ghe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xhe=y3[" useInsertionEffect ".trim().toString()]||Ri;function p2({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,o]=yhe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const u=_.useRef(e!==void 0);_.useEffect(()=>{const A=u.current;A!==l&&console.warn(`${n} is changing from ${A?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=_.useCallback(u=>{var A;if(l){const f=vhe(u)?u(e):u;f!==e&&((A=o.current)==null||A.call(o,f))}else a(u)},[l,e,a,o]);return[c,d]}function yhe({defaultProp:e,onChange:t}){const[r,n]=_.useState(e),i=_.useRef(r),a=_.useRef(t);return xhe(()=>{a.current=t},[t]),_.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function vhe(e){return typeof e=="function"}var KV=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bhe="VisuallyHidden",JP=_.forwardRef((e,t)=>s.jsx(qr.span,{...e,ref:t,style:{...KV,...e.style}}));JP.displayName=bhe;var ZP="ToastProvider",[e6,whe,jhe]=QV("Toast"),[WV]=kv("Toast",[jhe]),[Nhe,kN]=WV(ZP),GV=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=_.useState(null),[d,u]=_.useState(0),A=_.useRef(!1),f=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ZP}\`. Expected non-empty \`string\`.`),s.jsx(e6.Provider,{scope:t,children:s.jsx(Nhe,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:_.useCallback(()=>u(m=>m+1),[]),onToastRemove:_.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:f,children:o})})};GV.displayName=ZP;var qV="ToastViewport",_he=["F8"],_4="toast.viewportPause",C4="toast.viewportResume",YV=_.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=_he,label:i="Notifications ({hotkey})",...a}=e,o=kN(qV,r),l=whe(r),c=_.useRef(null),d=_.useRef(null),u=_.useRef(null),A=_.useRef(null),f=ps(t,A,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;_.useEffect(()=>{const v=y=>{var w;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((w=A.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),_.useEffect(()=>{const v=c.current,y=A.current;if(x&&v&&y){const b=()=>{if(!o.isClosePausedRef.current){const B=new CustomEvent(_4);y.dispatchEvent(B),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const B=new CustomEvent(C4);y.dispatchEvent(B),o.isClosePausedRef.current=!1}},j=B=>{!v.contains(B.relatedTarget)&&w()},N=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",b),v.addEventListener("focusout",j),v.addEventListener("pointermove",b),v.addEventListener("pointerleave",N),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",b),v.removeEventListener("focusout",j),v.removeEventListener("pointermove",b),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=_.useCallback(({tabbingDirection:v})=>{const b=l().map(w=>{const j=w.ref.current,N=[j,...Rhe(j)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?b.reverse():b).flat()},[l]);return _.useEffect(()=>{const v=A.current;if(v){const y=b=>{var N,B,I;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const P=document.activeElement,T=b.shiftKey;if(b.target===v&&T){(N=d.current)==null||N.focus();return}const E=p({tabbingDirection:T?"backwards":"forwards"}),Q=E.findIndex(F=>F===P);dC(E.slice(Q+1))?b.preventDefault():T?(B=d.current)==null||B.focus():(I=u.current)==null||I.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[l,p]),s.jsxs(Ahe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(B4,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});dC(v)}}),s.jsx(e6.Slot,{scope:r,children:s.jsx(qr.ol,{tabIndex:-1,...a,ref:f})}),x&&s.jsx(B4,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});dC(v)}})]})});YV.displayName=qV;var XV="ToastFocusProxy",B4=_.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=kN(XV,r);return s.jsx(JP,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});B4.displayName=XV;var Pv="Toast",Che="toast.swipeStart",Bhe="toast.swipeMove",She="toast.swipeCancel",khe="toast.swipeEnd",JV=_.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=p2({prop:n,defaultProp:i??!0,onChange:a,caller:Pv});return s.jsx(Ev,{present:r||l,children:s.jsx(Ihe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Ac(e.onPause),onResume:Ac(e.onResume),onSwipeStart:Dr(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Dr(e.onSwipeMove,d=>{const{x:u,y:A}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:Dr(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Dr(e.onSwipeEnd,d=>{const{x:u,y:A}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),c(!1)})})})});JV.displayName=Pv;var[Ehe,Phe]=WV(Pv,{onClose(){}}),Ihe=_.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:A,onSwipeCancel:f,onSwipeEnd:m,...x}=e,p=kN(Pv,r),[v,y]=_.useState(null),b=ps(t,F=>y(F)),w=_.useRef(null),j=_.useRef(null),N=i||p.duration,B=_.useRef(0),I=_.useRef(N),P=_.useRef(0),{onToastAdd:T,onToastRemove:U}=p,k=Ac(()=>{var K;(v==null?void 0:v.contains(document.activeElement))&&((K=p.viewport)==null||K.focus()),o()}),E=_.useCallback(F=>{!F||F===1/0||(window.clearTimeout(P.current),B.current=new Date().getTime(),P.current=window.setTimeout(k,F))},[k]);_.useEffect(()=>{const F=p.viewport;if(F){const K=()=>{E(I.current),d==null||d()},W=()=>{const D=new Date().getTime()-B.current;I.current=I.current-D,window.clearTimeout(P.current),c==null||c()};return F.addEventListener(_4,W),F.addEventListener(C4,K),()=>{F.removeEventListener(_4,W),F.removeEventListener(C4,K)}}},[p.viewport,N,c,d,E]),_.useEffect(()=>{a&&!p.isClosePausedRef.current&&E(N)},[a,N,p.isClosePausedRef,E]),_.useEffect(()=>(T(),()=>U()),[T,U]);const Q=_.useMemo(()=>v?iK(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[Q&&s.jsx(The,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:Q}),s.jsx(Ehe,{scope:r,onClose:k,children:aA.createPortal(s.jsx(e6.ItemSlot,{scope:r,children:s.jsx(hhe,{asChild:!0,onEscapeKeyDown:Dr(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||k(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(qr.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Dr(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Dr(e.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:Dr(e.onPointerMove,F=>{if(!w.current)return;const K=F.clientX-w.current.x,W=F.clientY-w.current.y,D=!!j.current,z=["left","right"].includes(p.swipeDirection),ee=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,te=z?ee(0,K):0,le=z?0:ee(0,W),$=F.pointerType==="touch"?10:2,X={x:te,y:le},V={originalEvent:F,delta:X};D?(j.current=X,$b(Bhe,A,V,{discrete:!1})):BF(X,p.swipeDirection,$)?(j.current=X,$b(Che,u,V,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(K)>$||Math.abs(W)>$)&&(w.current=null)}),onPointerUp:Dr(e.onPointerUp,F=>{const K=j.current,W=F.target;if(W.hasPointerCapture(F.pointerId)&&W.releasePointerCapture(F.pointerId),j.current=null,w.current=null,K){const D=F.currentTarget,z={originalEvent:F,delta:K};BF(K,p.swipeDirection,p.swipeThreshold)?$b(khe,m,z,{discrete:!0}):$b(She,f,z,{discrete:!0}),D.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),The=e=>{const{__scopeToast:t,children:r,...n}=e,i=kN(Pv,t),[a,o]=_.useState(!1),[l,c]=_.useState(!1);return Fhe(()=>o(!0)),_.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(SN,{asChild:!0,children:s.jsx(JP,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},Ohe="ToastTitle",ZV=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(qr.div,{...n,ref:t})});ZV.displayName=Ohe;var Lhe="ToastDescription",eK=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(qr.div,{...n,ref:t})});eK.displayName=Lhe;var tK="ToastAction",rK=_.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(sK,{altText:r,asChild:!0,children:s.jsx(t6,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${tK}\`. Expected non-empty \`string\`.`),null)});rK.displayName=tK;var nK="ToastClose",t6=_.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Phe(nK,r);return s.jsx(sK,{asChild:!0,children:s.jsx(qr.button,{type:"button",...n,ref:t,onClick:Dr(e.onClick,i.onClose)})})});t6.displayName=nK;var sK=_.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(qr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function iK(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Uhe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...iK(n))}}),t}function $b(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?$V(i,a):i.dispatchEvent(a)}var BF=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function Fhe(e=()=>{}){const t=Ac(e);Ri(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Uhe(e){return e.nodeType===e.ELEMENT_NODE}function Rhe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dC(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Mhe=GV,aK=YV,oK=JV,lK=ZV,cK=eK,dK=rK,uK=t6;function hK(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=hK(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=hK(e))&&(n&&(n+=" "),n+=t);return n}const SF=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kF=gr,r6=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return kF(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(d=>{const u=r==null?void 0:r[d],A=a==null?void 0:a[d];if(u===null)return null;const f=SF(u)||SF(A);return i[d][f]}),l=r&&Object.entries(r).reduce((d,u)=>{let[A,f]=u;return f===void 0||(d[A]=f),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:A,className:f,...m}=u;return Object.entries(m).every(x=>{let[p,v]=x;return Array.isArray(v)?v.includes({...a,...l}[p]):{...a,...l}[p]===v})?[...d,A,f]:d},[]);return kF(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},n6="-",Dhe=e=>{const t=$he(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(n6);return l[0]===""&&l.length!==1&&l.shift(),AK(l,t)||Qhe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},AK=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?AK(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(n6);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},EF=/^\[(.+)\]$/,Qhe=e=>{if(EF.test(e)){const t=EF.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},$he=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return zhe(Object.entries(e.classGroups),r).forEach(([a,o])=>{S4(o,n,a,t)}),n},S4=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:PF(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(Hhe(i)){S4(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{S4(o,PF(t,a),r,n)})})},PF=(e,t)=>{let r=e;return t.split(n6).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Hhe=e=>e.isThemeGetter,zhe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,i]}):e,Vhe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},fK="!",Khe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let d=0,u=0,A;for(let v=0;v<l.length;v++){let y=l[v];if(d===0){if(y===i&&(n||l.slice(v,v+a)===t)){c.push(l.slice(u,v)),u=v+a;continue}if(y==="/"){A=v;continue}}y==="["?d++:y==="]"&&d--}const f=c.length===0?l:l.substring(u),m=f.startsWith(fK),x=m?f.substring(1):f,p=A&&A>u?A-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Whe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Ghe=e=>({cache:Vhe(e.cacheSize),parseClassName:Khe(e),...Dhe(e)}),qhe=/\s+/,Yhe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(qhe);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:A,baseClassName:f,maybePostfixModifierPosition:m}=r(d);let x=!!m,p=n(x?f.substring(0,m):f);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=n(f),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const v=Whe(u).join(":"),y=A?v+fK:v,b=y+p;if(a.includes(b))continue;a.push(b);const w=i(p,x);for(let j=0;j<w.length;++j){const N=w[j];a.push(y+N)}l=d+(l.length>0?" "+l:l)}return l};function Xhe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mK(t))&&(n&&(n+=" "),n+=r);return n}const mK=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mK(e[n]))&&(r&&(r+=" "),r+=t);return r};function Jhe(e,...t){let r,n,i,a=o;function o(c){const d=t.reduce((u,A)=>A(u),e());return r=Ghe(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=Yhe(c,r);return i(c,u),u}return function(){return a(Xhe.apply(null,arguments))}}const Kn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},pK=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zhe=/^\d+\/\d+$/,eAe=new Set(["px","full","screen"]),tAe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rAe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nAe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sAe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iAe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ed=e=>Cp(e)||eAe.has(e)||Zhe.test(e),Xu=e=>Rg(e,"length",AAe),Cp=e=>!!e&&!Number.isNaN(Number(e)),uC=e=>Rg(e,"number",Cp),I0=e=>!!e&&Number.isInteger(Number(e)),aAe=e=>e.endsWith("%")&&Cp(e.slice(0,-1)),Br=e=>pK.test(e),Ju=e=>tAe.test(e),oAe=new Set(["length","size","percentage"]),lAe=e=>Rg(e,oAe,gK),cAe=e=>Rg(e,"position",gK),dAe=new Set(["image","url"]),uAe=e=>Rg(e,dAe,mAe),hAe=e=>Rg(e,"",fAe),T0=()=>!0,Rg=(e,t,r)=>{const n=pK.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},AAe=e=>rAe.test(e)&&!nAe.test(e),gK=()=>!1,fAe=e=>sAe.test(e),mAe=e=>iAe.test(e),pAe=()=>{const e=Kn("colors"),t=Kn("spacing"),r=Kn("blur"),n=Kn("brightness"),i=Kn("borderColor"),a=Kn("borderRadius"),o=Kn("borderSpacing"),l=Kn("borderWidth"),c=Kn("contrast"),d=Kn("grayscale"),u=Kn("hueRotate"),A=Kn("invert"),f=Kn("gap"),m=Kn("gradientColorStops"),x=Kn("gradientColorStopPositions"),p=Kn("inset"),v=Kn("margin"),y=Kn("opacity"),b=Kn("padding"),w=Kn("saturate"),j=Kn("scale"),N=Kn("sepia"),B=Kn("skew"),I=Kn("space"),P=Kn("translate"),T=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Br,t],E=()=>[Br,t],Q=()=>["",Ed,Xu],F=()=>["auto",Cp,Br],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Br],te=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Cp,Br];return{cacheSize:500,separator:":",theme:{colors:[T0],spacing:[Ed,Xu],blur:["none","",Ju,Br],brightness:le(),borderColor:[e],borderRadius:["none","","full",Ju,Br],borderSpacing:E(),borderWidth:Q(),contrast:le(),grayscale:ee(),hueRotate:le(),invert:ee(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[aAe,Xu],inset:k(),margin:k(),opacity:le(),padding:E(),saturate:le(),scale:le(),sepia:ee(),skew:le(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",Br]}],container:["container"],columns:[{columns:[Ju]}],"break-after":[{"break-after":te()}],"break-before":[{"break-before":te()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Br]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",I0,Br]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Br]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",I0,Br]}],"grid-cols":[{"grid-cols":[T0]}],"col-start-end":[{col:["auto",{span:["full",I0,Br]},Br]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[T0]}],"row-start-end":[{row:["auto",{span:[I0,Br]},Br]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Br]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Br]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Br,t]}],"min-w":[{"min-w":[Br,t,"min","max","fit"]}],"max-w":[{"max-w":[Br,t,"none","full","min","max","fit","prose",{screen:[Ju]},Ju]}],h:[{h:[Br,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Br,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Br,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Br,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ju,Xu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",uC]}],"font-family":[{font:[T0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Br]}],"line-clamp":[{"line-clamp":["none",Cp,uC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ed,Br]}],"list-image":[{"list-image":["none",Br]}],"list-style-type":[{list:["none","disc","decimal",Br]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ed,Xu]}],"underline-offset":[{"underline-offset":["auto",Ed,Br]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Br]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Br]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),cAe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lAe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uAe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Ed,Br]}],"outline-w":[{outline:[Ed,Xu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ed,Xu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ju,hAe]}],"shadow-color":[{shadow:[T0]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ju,Br]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[A]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Br]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",Br]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",Br]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[I0,Br]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Br]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Br]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Br]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ed,Xu,uC]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gAe=Jhe(pAe);function dn(...e){return gAe(gr(e))}const xAe=Mhe,xK=_.forwardRef(({className:e,...t},r)=>s.jsx(aK,{ref:r,className:dn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xK.displayName=aK.displayName;const yAe=r6("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yK=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(oK,{ref:n,className:dn(yAe({variant:t}),e),...r}));yK.displayName=oK.displayName;const vAe=_.forwardRef(({className:e,...t},r)=>s.jsx(dK,{ref:r,className:dn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vAe.displayName=dK.displayName;const vK=_.forwardRef(({className:e,...t},r)=>s.jsx(uK,{ref:r,className:dn("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(or,{className:"h-4 w-4"})}));vK.displayName=uK.displayName;const bK=_.forwardRef(({className:e,...t},r)=>s.jsx(lK,{ref:r,className:dn("text-sm font-semibold [&+div]:text-xs",e),...t}));bK.displayName=lK.displayName;const wK=_.forwardRef(({className:e,...t},r)=>s.jsx(cK,{ref:r,className:dn("text-sm opacity-90",e),...t}));wK.displayName=cK.displayName;function jK(){const{toasts:e}=xc();return s.jsxs(xAe,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(yK,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(bK,{children:r}),n&&s.jsx(wK,{children:n})]}),i,s.jsx(vK,{})]},t)}),s.jsx(xK,{})]})}const O0=({children:e,direction:t="up",delay:r=0,duration:n=.8,distance:i=50,className:a="",once:o=!0})=>{const l=_.useRef(null),c=hue(l,{once:o,margin:"0px"}),d=cue(),u={up:{hidden:{opacity:0,y:i},visible:{opacity:1,y:0}},down:{hidden:{opacity:0,y:-i},visible:{opacity:1,y:0}},left:{hidden:{opacity:0,x:i},visible:{opacity:1,x:0}},right:{hidden:{opacity:0,x:-i},visible:{opacity:1,x:0}},scale:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}},fade:{hidden:{opacity:0},visible:{opacity:1}}};return _.useEffect(()=>{c?d.start("visible"):o||d.start("hidden")},[c,d,o]),s.jsx(Z.div,{ref:l,animate:d,initial:"hidden",variants:u[t],transition:{duration:n,delay:r,ease:[.4,0,.2,1]},className:a,children:e})},bAe=()=>{_.useEffect(()=>{(()=>{const r=localStorage.getItem("authToken"),n=localStorage.getItem("user");if(r&&n)try{const i=JSON.parse(n);console.log("Home: User logged in with role:",i.role),i.role===2?window.location.href="/admin-dashboard":i.role===3?window.location.href="/owner-dashboard":i.role}catch(i){console.error("Home: Error parsing user data:",i)}})()},[]);const e=[{icon:wr,title:"Smart PG Location Finder",description:"Find verified PGs and hostels within 1km radius using GPS technology and live location tracking."},{icon:Vr,title:"AI Roommate Matching",description:"Advanced algorithms match you with compatible roommates based on lifestyle and preferences."},{icon:tr,title:"Verified Properties",description:"Background-verified PG owners and secure rental agreements like OYO's verified hotels."},{icon:vue,title:"Transparent Pricing",description:"Clear monthly rent, food charges, and utility costs with no hidden fees."},{icon:ca,title:"Instant Booking",description:"Book PGs instantly with secure payments, just like booking hotels on OYO."},{icon:nu,title:"Safety & Security",description:"24/7 security, CCTV cameras, and verified PG accommodations for your safety."},{icon:ks,title:"Digital Agreements",description:"Paperless PG rental agreements with e-signatures and secure document storage."},{icon:wr,title:"Nearby Amenities",description:"Interactive maps showing nearby colleges, offices, transport links, and neighborhood insights."}];return s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-16 overflow-x-hidden",children:s.jsxs("div",{className:"bg-white overflow-x-hidden relative",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none z-10",children:[[...Array(20)].map((t,r)=>s.jsx(Z.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-gray-200 rounded-full opacity-40",animate:{x:[0,30,-20,40,10,-30,0],y:[0,-40,30,-60,20,-50,0],scale:[.5,1.5,.8,1.2,.6,1.4,.5],opacity:[.2,.6,.3,.7,.2,.5,.2]},transition:{duration:8+r*.5,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`bg-particle-${r}`)),[...Array(15)].map((t,r)=>s.jsx(Z.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%4===0?"bg-red-300":r%4===1?"bg-blue-300":r%4===2?"bg-yellow-300":"bg-purple-300"} opacity-60`,animate:{x:[0,-50,30,-40,20,-30,0],y:[0,30,-40,20,-30,40,0],scale:[.8,1.6,.5,1.3,.7,1.1,.8],opacity:[.3,.8,.2,.6,.4,.7,.3]},transition:{duration:10+r*.8,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`color-particle-${r}`)),[...Array(12)].map((t,r)=>s.jsx(Z.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full opacity-70",animate:{x:[0,25,-15,30,-10,20,0],y:[0,-30,20,-25,15,-20,0],scale:[.4,2,.3,1.8,.5,1.5,.4],opacity:[.2,1,.1,.9,.3,.8,.2]},transition:{duration:6+r*.6,repeat:1/0,delay:r*.5,ease:"easeInOut"},style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`}},`sparkle-${r}`))]}),s.jsx("div",{className:"relative pt-20 pb-4 px-2 sm:px-6 lg:px-8 sm:pt-28 lg:pt-32 overflow-hidden",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsx(Z.div,{initial:{opacity:1},animate:{opacity:1},transition:{duration:.3},children:s.jsxs("div",{className:"flex flex-col items-center justify-center mb-12",children:[s.jsxs(Z.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"text-center mb-8 overflow-hidden",children:[s.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black mb-8 relative",children:[s.jsx(Z.div,{animate:{scale:[1.05,1.1,1.05],opacity:[.6,.8,.6],rotate:[-12,-10,-12]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-red-100 via-yellow-100 to-red-100 rounded-2xl transform -skew-x-12 opacity-60 -z-10"}),s.jsxs(Z.span,{whileHover:{scale:1.05,textShadow:"0 0 30px rgba(239, 68, 68, 0.8)"},animate:{textShadow:["0 0 20px rgba(239, 68, 68, 0.3)","0 0 30px rgba(239, 68, 68, 0.6)","0 0 20px rgba(239, 68, 68, 0.3)"]},transition:{duration:.3,textShadow:{duration:3,repeat:1/0,ease:"easeInOut"}},className:"relative",children:[s.jsxs(Z.span,{animate:{y:[0,-2,0],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"text-red-500 drop-shadow-lg relative",children:["Lyvo",s.jsx(Z.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-300 rounded-full opacity-80"}),s.jsx(Z.div,{animate:{rotate:[360,0],scale:[1,1.3,1]},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute -bottom-1 -left-1 w-1 h-1 sm:w-2 sm:h-2 bg-blue-300 rounded-full opacity-70"})]}),s.jsxs(Z.span,{whileHover:{scale:1.1,rotate:8,textShadow:"0 0 25px rgba(0, 0, 0, 0.6)"},animate:{y:[0,1,0],rotate:[0,1,-1,0]},transition:{duration:.3,y:{duration:4,repeat:1/0,ease:"easeInOut"},rotate:{duration:6,repeat:1/0,ease:"easeInOut"}},className:"text-gray-900 drop-shadow-lg relative",children:["+",s.jsx(Z.div,{animate:{scale:[1,1.4,.8,1.2,1],opacity:[.7,1,.5,.9,.7],y:[0,-2,0,-1,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 w-2 h-2 sm:w-3 sm:h-3 bg-yellow-400 rounded-full shadow-sm"}),s.jsx(Z.div,{animate:{rotate:[0,180,360],scale:[.8,1.2,.8]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute -top-3 -right-3 w-1 h-1 sm:w-2 sm:h-2 bg-orange-300 rounded-full opacity-60"})]})]}),s.jsx(Z.div,{animate:{scale:[1,1.5,.8,1.3,1],opacity:[.6,1,.3,.9,.6],rotate:[0,45,90,135,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 -right-1 sm:-top-4 sm:-right-4 w-2 h-2 sm:w-4 sm:h-4 bg-gradient-to-br from-red-400 to-orange-400 rounded-full shadow-lg"}),s.jsx(Z.div,{animate:{scale:[1,1.3,.7,1.2,1],opacity:[.6,1,.4,.8,.6],rotate:[0,-45,-90,-135,0]},transition:{duration:3.5,repeat:1/0,ease:"easeInOut"},className:"absolute -bottom-1 -left-1 sm:-bottom-4 sm:-left-4 w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-br from-blue-400 to-purple-400 rounded-full shadow-lg"}),s.jsx(Z.div,{animate:{x:[0,5,-3,4,0],y:[0,-3,2,-4,0],scale:[1,1.2,.8,1.1,1]},transition:{duration:7,repeat:1/0,ease:"easeInOut"},className:"absolute top-2 right-2 sm:top-6 sm:right-6 w-1 h-1 sm:w-2 sm:h-2 bg-green-400 rounded-full shadow-md"}),s.jsx(Z.div,{animate:{x:[0,-4,3,-2,0],y:[0,2,-3,1,0],scale:[1,1.1,.9,1.2,1]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-2 left-2 sm:bottom-6 sm:left-6 w-1 h-1 sm:w-2 sm:h-2 bg-pink-400 rounded-full shadow-md"})]}),s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.4},className:"mt-8",children:s.jsxs("p",{className:"text-base sm:text-lg text-gray-600 font-medium tracking-wide px-2",children:[s.jsx("span",{className:"text-red-500",children:"["}),s.jsx("span",{className:"mx-1 sm:mx-2",children:"INDIA'S #1 PG & CO-LIVING PLATFORM"}),s.jsx("span",{className:"text-red-500",children:"]"})]})})]}),s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},className:"relative mt-8",children:[s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[[...Array(12)].map((t,r)=>{const n=r*30*(Math.PI/180),i=80+r%3*20;return s.jsx(Z.div,{className:"absolute w-2 h-2 sm:w-3 sm:h-3 bg-gradient-to-r from-red-400 via-orange-400 to-yellow-400 rounded-full shadow-lg",animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/6)*(i+10),Math.cos(n+Math.PI/3)*(i-5),Math.cos(n+Math.PI/2)*(i+15),Math.cos(n+2*Math.PI/3)*(i-10),Math.cos(n+5*Math.PI/6)*(i+5),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/6)*(i+10),Math.sin(n+Math.PI/3)*(i-5),Math.sin(n+Math.PI/2)*(i+15),Math.sin(n+2*Math.PI/3)*(i-10),Math.sin(n+5*Math.PI/6)*(i+5),Math.sin(n+Math.PI)*i],scale:[1,1.5,.8,1.3,.9,1.2,1],opacity:[.6,1,.3,.9,.4,.8,.6]},transition:{duration:6+r*.3,repeat:1/0,delay:r*.2,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r)}),[...Array(8)].map((t,r)=>{const n=r*45*(Math.PI/180),i=40+r%2*15;return s.jsx(Z.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-yellow-300 rounded-full shadow-sm",animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/4)*(i+8),Math.cos(n+Math.PI/2)*(i-3),Math.cos(n+3*Math.PI/4)*(i+12),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/4)*(i+8),Math.sin(n+Math.PI/2)*(i-3),Math.sin(n+3*Math.PI/4)*(i+12),Math.sin(n+Math.PI)*i],scale:[.5,1.8,.4,1.5,.5],opacity:[.3,1,.2,.8,.3]},transition:{duration:4+r*.4,repeat:1/0,delay:r*.3,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`sparkle-${r}`)}),[...Array(6)].map((t,r)=>{const n=r*60*(Math.PI/180),i=120+r%2*30;return s.jsx(Z.div,{className:`absolute ${r%2===0?"w-2 h-2 sm:w-3 sm:h-3 bg-blue-400 rounded-full":"w-3 h-3 sm:w-4 sm:h-4 bg-purple-400 transform rotate-45"} shadow-md`,animate:{x:[Math.cos(n)*i,Math.cos(n+Math.PI/3)*(i+20),Math.cos(n+2*Math.PI/3)*(i-15),Math.cos(n+Math.PI)*i],y:[Math.sin(n)*i,Math.sin(n+Math.PI/3)*(i+20),Math.sin(n+2*Math.PI/3)*(i-15),Math.sin(n+Math.PI)*i],scale:[1,1.6,.7,1],opacity:[.4,.9,.2,.4],rotate:r%2===0?[0,180,360]:[0,-180,-360]},transition:{duration:8+r*.6,repeat:1/0,delay:r*.4,ease:"easeInOut"},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},`accent-${r}`)})]}),s.jsx(Z.div,{initial:{width:0},animate:{width:"auto"},transition:{delay:.4,duration:.8,ease:"easeOut"},className:"overflow-hidden whitespace-normal break-words sm:whitespace-nowrap mx-auto text-center px-2",children:s.jsx(Z.span,{className:"text-xl sm:text-xl font-semibold text-red-600",children:"Find Your Perfect PG, Hostel & Co-Living Space"})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.3},className:"mt-12",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-red-200 max-w-md mx-auto mx-2",children:[s.jsxs("p",{className:"text-sm sm:text-sm text-gray-700 mb-3",children:[s.jsx("span",{className:"text-red-600 font-semibold",children:" Quick Start:"})," Sign up in 30 seconds and find your perfect PG!"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx(Tt,{to:"/signup",children:s.jsx("button",{className:"w-full sm:w-auto bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-700 transition-colors",children:"Sign Up Free"})}),s.jsx(Tt,{to:"/login",children:s.jsx("button",{className:"w-full sm:w-auto text-red-600 px-4 py-2 rounded-lg text-sm font-semibold hover:bg-red-50 transition-colors",children:"Login"})})]})]})})]})]})})})}),s.jsxs("div",{className:"py-8 sm:py-12 px-2 sm:px-6 lg:px-8 relative",children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((t,r)=>s.jsx(Z.div,{className:`absolute w-1 h-1 sm:w-2 sm:h-2 rounded-full ${r%3===0?"bg-red-200":r%3===1?"bg-blue-200":"bg-yellow-200"} opacity-50`,animate:{x:[0,20,-15,25,-10,15,0],y:[0,-25,15,-20,10,-15,0],scale:[.6,1.4,.5,1.2,.7,1.1,.6],opacity:[.3,.7,.2,.6,.4,.5,.3]},transition:{duration:7+r*.7,repeat:1/0,delay:r*.6,ease:"easeInOut"},style:{left:`${20+r*10}%`,top:`${30+r%4*15}%`}},`section-particle-${r}`))}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[s.jsxs("h2",{className:"text-3xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-6 px-2",children:["Why Choose"," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),"?"]}),s.jsx("p",{className:"text-lg sm:text-lg text-gray-600 max-w-3xl mx-auto px-2 leading-relaxed",children:"Like OYO for hotels and Airbnb for homes, Lyvo+ is your go-to platform for finding verified PGs, hostels, and co-living spaces. Book instantly with secure payments and verified properties."})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mt-8",children:e.map((t,r)=>s.jsxs(Z.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-5 sm:p-6 hover:shadow-xl transition-all duration-200 relative",children:[r===0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full font-bold animate-pulse",children:"POPULAR"}),s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mb-4 sm:mb-5",children:s.jsx(t.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-lg font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-sm leading-relaxed",children:t.description}),r===0&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:s.jsx(Tt,{to:"/signup",children:s.jsx("button",{className:"w-full bg-red-50 text-red-600 py-2 rounded-lg text-sm font-semibold hover:bg-red-100 transition-colors",children:" Try Now - Free"})})})]},r))})]})]}),s.jsx("div",{className:"py-20 sm:py-28 lg:py-32 relative overflow-hidden bg-gray-50",children:s.jsx("div",{className:"max-w-5xl mx-auto px-2 sm:px-6 lg:px-8 text-center relative z-10",children:s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[s.jsxs("h2",{className:"text-4xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-8 sm:mb-10 font-display px-2",children:["Ready to Book Your ",s.jsx("span",{className:"text-red-600",children:"Perfect PG"}),"?"]}),s.jsx("p",{className:"text-xl sm:text-xl lg:text-2xl text-gray-600 mb-10 sm:mb-14 font-medium max-w-3xl mx-auto px-2 leading-relaxed",children:"Join thousands of students and professionals who have found their ideal PG, hostel, and co-living space with Lyvo+."}),s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-3 sm:p-4 mb-6 sm:mb-8 max-w-2xl mx-auto mx-2",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1 sm:space-x-2 text-red-700 font-semibold text-base sm:text-base",children:[s.jsx("span",{className:"animate-pulse",children:""}),s.jsx("span",{children:"Limited Time: Get 500 OFF on your first month!"}),s.jsx("span",{className:"animate-pulse",children:""})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-6 sm:mb-8 text-sm sm:text-sm text-gray-600 px-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-red-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-200 rounded-full border-2 border-white"}),s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-yellow-200 rounded-full border-2 border-white"})]}),s.jsx("span",{children:"500+ PGs booked this week"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-yellow-500",children:""}),s.jsx("span",{children:"4.8/5 from 10K+ reviews"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center mb-6 sm:mb-8 px-2",children:[s.jsx(Tt,{to:"/signup",children:s.jsxs(Z.button,{whileHover:{scale:1.05,boxShadow:"0 30px 60px rgba(0, 0, 0, 0.3)"},whileTap:{scale:.95},className:"w-full sm:w-auto bg-red-600 text-white px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl flex items-center justify-center space-x-2 sm:space-x-4 shadow-2xl hover:bg-red-700 transition-all duration-300",children:[s.jsx("span",{className:"relative z-10",children:"Sign Up - Get 500 OFF"}),s.jsx(kV,{className:"w-5 h-5 sm:w-7 sm:h-7 relative z-10 group-hover:translate-x-2 transition-transform duration-300"})]})}),s.jsx(Tt,{to:"/login",children:s.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto border-2 border-red-600 text-red-600 px-8 sm:px-12 py-4 sm:py-6 rounded-2xl font-bold text-xl sm:text-2xl hover:bg-red-50 transition-all duration-300",children:"Login"})})]}),s.jsx("div",{className:"text-center text-sm sm:text-sm text-gray-500 px-2",children:s.jsx("p",{children:" Secure & Verified   No Hidden Charges   Instant Booking"})})]})})})]})})},wAe=async e=>{if(!e||!e._id)return console.error("Invalid user object for role repair"),e;try{console.log(" Attempting to repair user role for:",e.email);const t=await fetch(`http://localhost:4002/api/user/public/user/${e._id}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const r=await t.json();if(console.log(" Retrieved user data from backend:",r),r.role!==void 0&&r.role!==null){const n={...e,role:r.role};return localStorage.setItem("user",JSON.stringify(n)),console.log(" User role repaired and saved to localStorage"),n}else return console.warn(" Backend also has undefined role, attempting manual fix"),await hC(e)}else return console.error(" Failed to fetch user data from backend:",t.status),await hC(e)}catch(t){return console.error(" Error repairing user role:",t),await hC(e)}},hC=async e=>{console.log(" Attempting manual role fix for:",e.email);let t=1;if(e.email){const n=e.email.toLowerCase();n.includes("admin")||n.includes("lyvo")?t=2:(n.includes("owner")||n.includes("property")||n.includes("anandupg2022"))&&(t=3)}e.name&&(e.name.includes("Owner")||e.name.includes("Property"))&&(t=3);const r={...e,role:t};return localStorage.setItem("user",JSON.stringify(r)),console.log(` Manual role fix applied: estimated role ${t} for ${e.email}`),r},jAe=e=>!e||e.role===void 0||e.role===null,NAe=async e=>jAe(e)?(console.log(" User role needs repair, attempting auto-repair..."),await wAe(e)):e,Iv=e=>{if(!e)return null;const t=e.role;return t==null?(console.warn("User role is undefined/null, attempting to determine from email or other data"),e.email&&e.email.includes("admin")?2:e.email&&(e.email.includes("owner")||e.email.includes("property"))?3:(console.warn("Could not determine user role, defaulting to seeker (1)"),1)):typeof t=="string"?parseInt(t,10):t},Tv=()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):t}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},_Ae=async()=>{try{const e=localStorage.getItem("user");if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?(console.error("Invalid user data in localStorage"),null):await NAe(t)}catch(e){return console.error("Error parsing user data from localStorage:",e),null}},Jc=()=>localStorage.getItem("authToken"),Lx=e=>{const t=Iv(e);switch(console.log("getRedirectUrl: Processing user:",{userRole:t,userRoleType:typeof t,isNewUser:e==null?void 0:e.isNewUser,hasCompletedBehaviorQuestions:e==null?void 0:e.hasCompletedBehaviorQuestions,userEmail:e==null?void 0:e.email,rawUser:e}),t){case 2:return console.log("getRedirectUrl: Redirecting admin to /admin-dashboard"),"/admin-dashboard";case 3:return console.log("getRedirectUrl: Redirecting owner to /owner-dashboard"),"/owner-dashboard";case 1:return e.isNewUser&&!e.hasCompletedBehaviorQuestions?(console.log("getRedirectUrl: Redirecting new seeker to /seeker-onboarding"),"/seeker-onboarding"):(console.log("getRedirectUrl: Redirecting seeker to /seeker-dashboard"),"/seeker-dashboard");default:return console.log("getRedirectUrl: Unknown role, redirecting to /login"),"/login"}},CAe=()=>{const e=console.error;console.error=(...r)=>{const n=r.join(" ");n.includes("Refused to get unsafe header")||n.includes("x-rtb-fingerprint-id")||e.apply(console,r)};const t=console.warn;console.warn=(...r)=>{const n=r.join(" ");n.includes("Expected length")&&n.includes("auto")||t.apply(console,r)},window.addEventListener("error",r=>{if(r.message.includes("MutationObserver")&&r.message.includes("parameter 1 is not of type"))return r.preventDefault(),!1})};function NK(e,t){return function(){return e.apply(t,arguments)}}const{toString:BAe}=Object.prototype,{getPrototypeOf:s6}=Object,{iterator:EN,toStringTag:_K}=Symbol,PN=(e=>t=>{const r=BAe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yc=e=>(e=e.toLowerCase(),t=>PN(t)===e),IN=e=>t=>typeof t===e,{isArray:Mg}=Array,rg=IN("undefined");function Ov(e){return e!==null&&!rg(e)&&e.constructor!==null&&!rg(e.constructor)&&Za(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const CK=yc("ArrayBuffer");function SAe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&CK(e.buffer),t}const kAe=IN("string"),Za=IN("function"),BK=IN("number"),Lv=e=>e!==null&&typeof e=="object",EAe=e=>e===!0||e===!1,u1=e=>{if(PN(e)!=="object")return!1;const t=s6(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(_K in e)&&!(EN in e)},PAe=e=>{if(!Lv(e)||Ov(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},IAe=yc("Date"),TAe=yc("File"),OAe=yc("Blob"),LAe=yc("FileList"),FAe=e=>Lv(e)&&Za(e.pipe),UAe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Za(e.append)&&((t=PN(e))==="formdata"||t==="object"&&Za(e.toString)&&e.toString()==="[object FormData]"))},RAe=yc("URLSearchParams"),[MAe,DAe,QAe,$Ae]=["ReadableStream","Request","Response","Headers"].map(yc),HAe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Mg(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Ov(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let l;for(n=0;n<o;n++)l=a[n],t.call(null,e[l],l,e)}}function SK(e,t){if(Ov(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const tf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kK=e=>!rg(e)&&e!==tf;function k4(){const{caseless:e,skipUndefined:t}=kK(this)&&this||{},r={},n=(i,a)=>{const o=e&&SK(r,a)||a;u1(r[o])&&u1(i)?r[o]=k4(r[o],i):u1(i)?r[o]=k4({},i):Mg(i)?r[o]=i.slice():(!t||!rg(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Fv(arguments[i],n);return r}const zAe=(e,t,r,{allOwnKeys:n}={})=>(Fv(t,(i,a)=>{r&&Za(i)?e[a]=NK(i,r):e[a]=i},{allOwnKeys:n}),e),VAe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),KAe=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},WAe=(e,t,r,n)=>{let i,a,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&s6(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},GAe=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},qAe=e=>{if(!e)return null;if(Mg(e))return e;let t=e.length;if(!BK(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},YAe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&s6(Uint8Array)),XAe=(e,t)=>{const n=(e&&e[EN]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},JAe=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},ZAe=yc("HTMLFormElement"),efe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),IF=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),tfe=yc("RegExp"),EK=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Fv(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},rfe=e=>{EK(e,(t,r)=>{if(Za(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Za(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nfe=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Mg(e)?n(e):n(String(e).split(t)),r},sfe=()=>{},ife=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function afe(e){return!!(e&&Za(e.append)&&e[_K]==="FormData"&&e[EN])}const ofe=e=>{const t=new Array(10),r=(n,i)=>{if(Lv(n)){if(t.indexOf(n)>=0)return;if(Ov(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Mg(n)?[]:{};return Fv(n,(o,l)=>{const c=r(o,i+1);!rg(c)&&(a[l]=c)}),t[i]=void 0,a}}return n};return r(e,0)},lfe=yc("AsyncFunction"),cfe=e=>e&&(Lv(e)||Za(e))&&Za(e.then)&&Za(e.catch),PK=((e,t)=>e?setImmediate:t?((r,n)=>(tf.addEventListener("message",({source:i,data:a})=>{i===tf&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),tf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Za(tf.postMessage)),dfe=typeof queueMicrotask<"u"?queueMicrotask.bind(tf):typeof process<"u"&&process.nextTick||PK,ufe=e=>e!=null&&Za(e[EN]),Ve={isArray:Mg,isArrayBuffer:CK,isBuffer:Ov,isFormData:UAe,isArrayBufferView:SAe,isString:kAe,isNumber:BK,isBoolean:EAe,isObject:Lv,isPlainObject:u1,isEmptyObject:PAe,isReadableStream:MAe,isRequest:DAe,isResponse:QAe,isHeaders:$Ae,isUndefined:rg,isDate:IAe,isFile:TAe,isBlob:OAe,isRegExp:tfe,isFunction:Za,isStream:FAe,isURLSearchParams:RAe,isTypedArray:YAe,isFileList:LAe,forEach:Fv,merge:k4,extend:zAe,trim:HAe,stripBOM:VAe,inherits:KAe,toFlatObject:WAe,kindOf:PN,kindOfTest:yc,endsWith:GAe,toArray:qAe,forEachEntry:XAe,matchAll:JAe,isHTMLForm:ZAe,hasOwnProperty:IF,hasOwnProp:IF,reduceDescriptors:EK,freezeMethods:rfe,toObjectSet:nfe,toCamelCase:efe,noop:sfe,toFiniteNumber:ife,findKey:SK,global:tf,isContextDefined:kK,isSpecCompliantForm:afe,toJSONObject:ofe,isAsyncFn:lfe,isThenable:cfe,setImmediate:PK,asap:dfe,isIterable:ufe};function br(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ve.inherits(br,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ve.toJSONObject(this.config),code:this.code,status:this.status}}});const IK=br.prototype,TK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{TK[e]={value:e}});Object.defineProperties(br,TK);Object.defineProperty(IK,"isAxiosError",{value:!0});br.from=(e,t,r,n,i,a)=>{const o=Object.create(IK);Ve.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return br.call(o,l,c,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const hfe=null;function E4(e){return Ve.isPlainObject(e)||Ve.isArray(e)}function OK(e){return Ve.endsWith(e,"[]")?e.slice(0,-2):e}function TF(e,t,r){return e?e.concat(t).map(function(i,a){return i=OK(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Afe(e){return Ve.isArray(e)&&!e.some(E4)}const ffe=Ve.toFlatObject(Ve,{},null,function(t){return/^is[A-Z]/.test(t)});function TN(e,t,r){if(!Ve.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,v){return!Ve.isUndefined(v[p])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Ve.isSpecCompliantForm(t);if(!Ve.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Ve.isDate(x))return x.toISOString();if(Ve.isBoolean(x))return x.toString();if(!c&&Ve.isBlob(x))throw new br("Blob is not supported. Use a Buffer instead.");return Ve.isArrayBuffer(x)||Ve.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,v){let y=x;if(x&&!v&&typeof x=="object"){if(Ve.endsWith(p,"{}"))p=n?p:p.slice(0,-2),x=JSON.stringify(x);else if(Ve.isArray(x)&&Afe(x)||(Ve.isFileList(x)||Ve.endsWith(p,"[]"))&&(y=Ve.toArray(x)))return p=OK(p),y.forEach(function(w,j){!(Ve.isUndefined(w)||w===null)&&t.append(o===!0?TF([p],j,a):o===null?p:p+"[]",d(w))}),!1}return E4(x)?!0:(t.append(TF(v,p,a),d(x)),!1)}const A=[],f=Object.assign(ffe,{defaultVisitor:u,convertValue:d,isVisitable:E4});function m(x,p){if(!Ve.isUndefined(x)){if(A.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));A.push(x),Ve.forEach(x,function(y,b){(!(Ve.isUndefined(y)||y===null)&&i.call(t,y,Ve.isString(b)?b.trim():b,p,f))===!0&&m(y,p?p.concat(b):[b])}),A.pop()}}if(!Ve.isObject(e))throw new TypeError("data must be an object");return m(e),t}function OF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function i6(e,t){this._pairs=[],e&&TN(e,this,t)}const LK=i6.prototype;LK.append=function(t,r){this._pairs.push([t,r])};LK.toString=function(t){const r=t?function(n){return t.call(this,n,OF)}:OF;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function mfe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function FK(e,t,r){if(!t)return e;const n=r&&r.encode||mfe;Ve.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=Ve.isURLSearchParams(t)?t.toString():new i6(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class LF{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ve.forEach(this.handlers,function(n){n!==null&&t(n)})}}const UK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pfe=typeof URLSearchParams<"u"?URLSearchParams:i6,gfe=typeof FormData<"u"?FormData:null,xfe=typeof Blob<"u"?Blob:null,yfe={isBrowser:!0,classes:{URLSearchParams:pfe,FormData:gfe,Blob:xfe},protocols:["http","https","file","blob","url","data"]},a6=typeof window<"u"&&typeof document<"u",P4=typeof navigator=="object"&&navigator||void 0,vfe=a6&&(!P4||["ReactNative","NativeScript","NS"].indexOf(P4.product)<0),bfe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wfe=a6&&window.location.href||"http://localhost",jfe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:a6,hasStandardBrowserEnv:vfe,hasStandardBrowserWebWorkerEnv:bfe,navigator:P4,origin:wfe},Symbol.toStringTag,{value:"Module"})),ia={...jfe,...yfe};function Nfe(e,t){return TN(e,new ia.classes.URLSearchParams,{visitor:function(r,n,i,a){return ia.isNode&&Ve.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function _fe(e){return Ve.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cfe(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function RK(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&Ve.isArray(i)?i.length:o,c?(Ve.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!l):((!i[o]||!Ve.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&Ve.isArray(i[o])&&(i[o]=Cfe(i[o])),!l)}if(Ve.isFormData(e)&&Ve.isFunction(e.entries)){const r={};return Ve.forEachEntry(e,(n,i)=>{t(_fe(n),i,r,0)}),r}return null}function Bfe(e,t,r){if(Ve.isString(e))try{return(t||JSON.parse)(e),Ve.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Uv={transitional:UK,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Ve.isObject(t);if(a&&Ve.isHTMLForm(t)&&(t=new FormData(t)),Ve.isFormData(t))return i?JSON.stringify(RK(t)):t;if(Ve.isArrayBuffer(t)||Ve.isBuffer(t)||Ve.isStream(t)||Ve.isFile(t)||Ve.isBlob(t)||Ve.isReadableStream(t))return t;if(Ve.isArrayBufferView(t))return t.buffer;if(Ve.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nfe(t,this.formSerializer).toString();if((l=Ve.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return TN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Bfe(t)):t}],transformResponse:[function(t){const r=this.transitional||Uv.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ve.isResponse(t)||Ve.isReadableStream(t))return t;if(t&&Ve.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?br.from(l,br.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ve.forEach(["delete","get","head","post","put","patch"],e=>{Uv.headers[e]={}});const Sfe=Ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kfe=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&Sfe[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},FF=Symbol("internals");function L0(e){return e&&String(e).trim().toLowerCase()}function h1(e){return e===!1||e==null?e:Ve.isArray(e)?e.map(h1):String(e)}function Efe(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Pfe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function AC(e,t,r,n,i){if(Ve.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Ve.isString(t)){if(Ve.isString(n))return t.indexOf(n)!==-1;if(Ve.isRegExp(n))return n.test(t)}}function Ife(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Tfe(e,t){const r=Ve.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let eo=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(l,c,d){const u=L0(c);if(!u)throw new Error("header name must be a non-empty string");const A=Ve.findKey(i,u);(!A||i[A]===void 0||d===!0||d===void 0&&i[A]!==!1)&&(i[A||c]=h1(l))}const o=(l,c)=>Ve.forEach(l,(d,u)=>a(d,u,c));if(Ve.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Ve.isString(t)&&(t=t.trim())&&!Pfe(t))o(kfe(t),r);else if(Ve.isObject(t)&&Ve.isIterable(t)){let l={},c,d;for(const u of t){if(!Ve.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Ve.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=L0(t),t){const n=Ve.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return Efe(i);if(Ve.isFunction(r))return r.call(this,i,n);if(Ve.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=L0(t),t){const n=Ve.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||AC(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=L0(o),o){const l=Ve.findKey(n,o);l&&(!r||AC(n,n[l],l,r))&&(delete n[l],i=!0)}}return Ve.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||AC(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return Ve.forEach(this,(i,a)=>{const o=Ve.findKey(n,a);if(o){r[o]=h1(i),delete r[a];return}const l=t?Ife(a):String(a).trim();l!==a&&delete r[a],r[l]=h1(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ve.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Ve.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[FF]=this[FF]={accessors:{}}).accessors,i=this.prototype;function a(o){const l=L0(o);n[l]||(Tfe(i,o),n[l]=!0)}return Ve.isArray(t)?t.forEach(a):a(t),this}};eo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ve.reduceDescriptors(eo.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ve.freezeMethods(eo);function fC(e,t){const r=this||Uv,n=t||r,i=eo.from(n.headers);let a=n.data;return Ve.forEach(e,function(l){a=l.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function MK(e){return!!(e&&e.__CANCEL__)}function Dg(e,t,r){br.call(this,e??"canceled",br.ERR_CANCELED,t,r),this.name="CanceledError"}Ve.inherits(Dg,br,{__CANCEL__:!0});function DK(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new br("Request failed with status code "+r.status,[br.ERR_BAD_REQUEST,br.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ofe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Lfe(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];o||(o=d),r[i]=c,n[i]=d;let A=a,f=0;for(;A!==i;)f+=r[A++],A=A%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<t)return;const m=u&&d-u;return m?Math.round(f*1e3/m):void 0}}function Ffe(e,t){let r=0,n=1e3/t,i,a;const o=(d,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),A=u-r;A>=n?o(d,u):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},n-A)))},()=>i&&o(i)]}const g2=(e,t,r=3)=>{let n=0;const i=Lfe(50,250);return Ffe(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,d=i(c),u=o<=l;n=o;const A={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(A)},r)},UF=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},RF=e=>(...t)=>Ve.asap(()=>e(...t)),Ufe=ia.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ia.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ia.origin),ia.navigator&&/(msie|trident)/i.test(ia.navigator.userAgent)):()=>!0,Rfe=ia.hasStandardBrowserEnv?{write(e,t,r,n,i,a,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Ve.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Ve.isString(n)&&l.push(`path=${n}`),Ve.isString(i)&&l.push(`domain=${i}`),a===!0&&l.push("secure"),Ve.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mfe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Dfe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function QK(e,t,r){let n=!Mfe(t);return e&&(n||r==!1)?Dfe(e,t):t}const MF=e=>e instanceof eo?{...e}:e;function Tf(e,t){t=t||{};const r={};function n(d,u,A,f){return Ve.isPlainObject(d)&&Ve.isPlainObject(u)?Ve.merge.call({caseless:f},d,u):Ve.isPlainObject(u)?Ve.merge({},u):Ve.isArray(u)?u.slice():u}function i(d,u,A,f){if(Ve.isUndefined(u)){if(!Ve.isUndefined(d))return n(void 0,d,A,f)}else return n(d,u,A,f)}function a(d,u){if(!Ve.isUndefined(u))return n(void 0,u)}function o(d,u){if(Ve.isUndefined(u)){if(!Ve.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,A){if(A in t)return n(d,u);if(A in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,A)=>i(MF(d),MF(u),A,!0)};return Ve.forEach(Object.keys({...e,...t}),function(u){const A=c[u]||i,f=A(e[u],t[u],u);Ve.isUndefined(f)&&A!==l||(r[u]=f)}),r}const $K=e=>{const t=Tf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:l}=t;if(t.headers=o=eo.from(o),t.url=FK(QK(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ve.isFormData(r)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ve.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,A])=>{d.includes(u.toLowerCase())&&o.set(u,A)})}}if(ia.hasStandardBrowserEnv&&(n&&Ve.isFunction(n)&&(n=n(t)),n||n!==!1&&Ufe(t.url))){const c=i&&a&&Rfe.read(a);c&&o.set(i,c)}return t},Qfe=typeof XMLHttpRequest<"u",$fe=Qfe&&function(e){return new Promise(function(r,n){const i=$K(e);let a=i.data;const o=eo.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,u,A,f,m,x;function p(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const w=eo.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};DK(function(I){r(I),p()},function(I){n(I),p()},N),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new br("Request aborted",br.ECONNABORTED,e,v)),v=null)},v.onerror=function(j){const N=j&&j.message?j.message:"Network Error",B=new br(N,br.ERR_NETWORK,e,v);B.event=j||null,n(B),v=null},v.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||UK;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new br(j,N.clarifyTimeoutError?br.ETIMEDOUT:br.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&Ve.forEach(o.toJSON(),function(j,N){v.setRequestHeader(N,j)}),Ve.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),l&&l!=="json"&&(v.responseType=i.responseType),d&&([f,x]=g2(d,!0),v.addEventListener("progress",f)),c&&v.upload&&([A,m]=g2(c),v.upload.addEventListener("progress",A),v.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=w=>{v&&(n(!w||w.type?new Dg(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=Ofe(i.url);if(b&&ia.protocols.indexOf(b)===-1){n(new br("Unsupported protocol "+b+":",br.ERR_BAD_REQUEST,e));return}v.send(a||null)})},Hfe=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(d){if(!i){i=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof br?u:new Dg(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new br(`timeout ${t} of ms exceeded`,br.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>Ve.asap(l),c}},zfe=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},Vfe=async function*(e,t){for await(const r of Kfe(e))yield*zfe(r,t)},Kfe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},DF=(e,t,r,n)=>{const i=Vfe(e,t);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){l(),c.close();return}let A=u.byteLength;if(r){let f=a+=A;r(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},QF=64*1024,{isFunction:Hb}=Ve,Wfe=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ve.global),{ReadableStream:$F,TextEncoder:HF}=Ve.global,zF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gfe=e=>{e=Ve.merge.call({skipUndefined:!0},Wfe,e);const{fetch:t,Request:r,Response:n}=e,i=t?Hb(t):typeof fetch=="function",a=Hb(r),o=Hb(n);if(!i)return!1;const l=i&&Hb($F),c=i&&(typeof HF=="function"?(x=>p=>x.encode(p))(new HF):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=a&&l&&zF(()=>{let x=!1;const p=new r(ia.origin,{body:new $F,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&zF(()=>Ve.isReadableStream(new n("").body)),A={stream:u&&(x=>x.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!A[x]&&(A[x]=(p,v)=>{let y=p&&p[x];if(y)return y.call(p);throw new br(`Response type '${x}' is not supported`,br.ERR_NOT_SUPPORT,v)})});const f=async x=>{if(x==null)return 0;if(Ve.isBlob(x))return x.size;if(Ve.isSpecCompliantForm(x))return(await new r(ia.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Ve.isArrayBufferView(x)||Ve.isArrayBuffer(x))return x.byteLength;if(Ve.isURLSearchParams(x)&&(x=x+""),Ve.isString(x))return(await c(x)).byteLength},m=async(x,p)=>{const v=Ve.toFiniteNumber(x.getContentLength());return v??f(p)};return async x=>{let{url:p,method:v,data:y,signal:b,cancelToken:w,timeout:j,onDownloadProgress:N,onUploadProgress:B,responseType:I,headers:P,withCredentials:T="same-origin",fetchOptions:U}=$K(x),k=t||fetch;I=I?(I+"").toLowerCase():"text";let E=Hfe([b,w&&w.toAbortSignal()],j),Q=null;const F=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let K;try{if(B&&d&&v!=="get"&&v!=="head"&&(K=await m(P,y))!==0){let le=new r(p,{method:"POST",body:y,duplex:"half"}),$;if(Ve.isFormData(y)&&($=le.headers.get("content-type"))&&P.setContentType($),le.body){const[X,V]=UF(K,g2(RF(B)));y=DF(le.body,QF,X,V)}}Ve.isString(T)||(T=T?"include":"omit");const W=a&&"credentials"in r.prototype,D={...U,signal:E,method:v.toUpperCase(),headers:P.normalize().toJSON(),body:y,duplex:"half",credentials:W?T:void 0};Q=a&&new r(p,D);let z=await(a?k(Q,U):k(p,D));const ee=u&&(I==="stream"||I==="response");if(u&&(N||ee&&F)){const le={};["status","statusText","headers"].forEach(ne=>{le[ne]=z[ne]});const $=Ve.toFiniteNumber(z.headers.get("content-length")),[X,V]=N&&UF($,g2(RF(N),!0))||[];z=new n(DF(z.body,QF,X,()=>{V&&V(),F&&F()}),le)}I=I||"text";let te=await A[Ve.findKey(A,I)||"text"](z,x);return!ee&&F&&F(),await new Promise((le,$)=>{DK(le,$,{data:te,headers:eo.from(z.headers),status:z.status,statusText:z.statusText,config:x,request:Q})})}catch(W){throw F&&F(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new br("Network Error",br.ERR_NETWORK,x,Q),{cause:W.cause||W}):br.from(W,W&&W.code,x,Q)}}},qfe=new Map,HK=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,l=o,c,d,u=qfe;for(;l--;)c=a[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:Gfe(t)),u=d;return d};HK();const o6={http:hfe,xhr:$fe,fetch:{get:HK}};Ve.forEach(o6,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const VF=e=>`- ${e}`,Yfe=e=>Ve.isFunction(e)||e===null||e===!1;function Xfe(e,t){e=Ve.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let l;if(i=n,!Yfe(n)&&(i=o6[(l=String(n)).toLowerCase()],i===void 0))throw new br(`Unknown adapter '${l}'`);if(i&&(Ve.isFunction(i)||(i=i.get(t))))break;a[l||"#"+o]=i}if(!i){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(VF).join(`
`):" "+VF(o[0]):"as no adapter specified";throw new br("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const zK={getAdapter:Xfe,adapters:o6};function mC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dg(null,e)}function KF(e){return mC(e),e.headers=eo.from(e.headers),e.data=fC.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),zK.getAdapter(e.adapter||Uv.adapter,e)(e).then(function(n){return mC(e),n.data=fC.call(e,e.transformResponse,n),n.headers=eo.from(n.headers),n},function(n){return MK(n)||(mC(e),n&&n.response&&(n.response.data=fC.call(e,e.transformResponse,n.response),n.response.headers=eo.from(n.response.headers))),Promise.reject(n)})}const VK="1.13.2",ON={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ON[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const WF={};ON.transitional=function(t,r,n){function i(a,o){return"[Axios v"+VK+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(t===!1)throw new br(i(o," has been removed"+(r?" in "+r:"")),br.ERR_DEPRECATED);return r&&!WF[o]&&(WF[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,l):!0}};ON.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Jfe(e,t,r){if(typeof e!="object")throw new br("options must be an object",br.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const l=e[a],c=l===void 0||o(l,a,e);if(c!==!0)throw new br("option "+a+" must be "+c,br.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new br("Unknown option "+a,br.ERR_BAD_OPTION)}}const A1={assertOptions:Jfe,validators:ON},Uc=A1.validators;let pf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new LF,response:new LF}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Tf(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&A1.assertOptions(n,{silentJSONParsing:Uc.transitional(Uc.boolean),forcedJSONParsing:Uc.transitional(Uc.boolean),clarifyTimeoutError:Uc.transitional(Uc.boolean)},!1),i!=null&&(Ve.isFunction(i)?r.paramsSerializer={serialize:i}:A1.assertOptions(i,{encode:Uc.function,serialize:Uc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),A1.assertOptions(r,{baseUrl:Uc.spelling("baseURL"),withXsrfToken:Uc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Ve.merge(a.common,a[r.method]);a&&Ve.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),r.headers=eo.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,A=0,f;if(!c){const x=[KF.bind(this),void 0];for(x.unshift(...l),x.push(...d),f=x.length,u=Promise.resolve(r);A<f;)u=u.then(x[A++],x[A++]);return u}f=l.length;let m=r;for(;A<f;){const x=l[A++],p=l[A++];try{m=x(m)}catch(v){p.call(this,v);break}}try{u=KF.call(this,m)}catch(x){return Promise.reject(x)}for(A=0,f=d.length;A<f;)u=u.then(d[A++],d[A++]);return u}getUri(t){t=Tf(this.defaults,t);const r=QK(t.baseURL,t.url,t.allowAbsoluteUrls);return FK(r,t.params,t.paramsSerializer)}};Ve.forEach(["delete","get","head","options"],function(t){pf.prototype[t]=function(r,n){return this.request(Tf(n||{},{method:t,url:r,data:(n||{}).data}))}});Ve.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,l){return this.request(Tf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}pf.prototype[t]=r(),pf.prototype[t+"Form"]=r(!0)});let Zfe=class KK{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,l){n.reason||(n.reason=new Dg(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new KK(function(i){t=i}),cancel:t}}};function eme(e){return function(r){return e.apply(null,r)}}function tme(e){return Ve.isObject(e)&&e.isAxiosError===!0}const I4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(I4).forEach(([e,t])=>{I4[t]=e});function WK(e){const t=new pf(e),r=NK(pf.prototype.request,t);return Ve.extend(r,pf.prototype,t,{allOwnKeys:!0}),Ve.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return WK(Tf(e,i))},r}const xr=WK(Uv);xr.Axios=pf;xr.CanceledError=Dg;xr.CancelToken=Zfe;xr.isCancel=MK;xr.VERSION=VK;xr.toFormData=TN;xr.AxiosError=br;xr.Cancel=xr.CanceledError;xr.all=function(t){return Promise.all(t)};xr.spread=eme;xr.isAxiosError=tme;xr.mergeConfig=Tf;xr.AxiosHeaders=eo;xr.formToJSON=e=>RK(Ve.isHTMLForm(e)?new FormData(e):e);xr.getAdapter=zK.getAdapter;xr.HttpStatusCode=I4;xr.default=xr;const{Axios:qZe,AxiosError:YZe,CanceledError:XZe,isCancel:JZe,CancelToken:ZZe,VERSION:eet,all:tet,Cancel:ret,isAxiosError:net,spread:set,toFormData:iet,AxiosHeaders:aet,HttpStatusCode:oet,formToJSON:cet,getAdapter:det,mergeConfig:uet}=xr,l6=({currentImage:e,onImageUpdate:t,className:r=""})=>{const[n,i]=_.useState(!1),[a,o]=_.useState(null),l=_.useRef(null),c=f=>{const m=f.target.files[0];if(m){if(!m.type.startsWith("image/")){alert("Please select an image file");return}if(m.size>5*1024*1024){alert("File size must be less than 5MB");return}const x=new FileReader;x.onload=p=>{o(p.target.result)},x.readAsDataURL(m)}},d=async()=>{var f;if(a){i(!0);try{const m=localStorage.getItem("authToken");if(!m)throw new Error("No authentication token found. Please log in again.");const p=await(await fetch(a)).blob(),v=new FormData;v.append("profilePicture",p,"profile-picture.jpg");const y=await xr.post("http://localhost:5000/api/user/upload-profile-picture",v,{headers:{Authorization:`Bearer ${m}`,"Content-Type":"multipart/form-data"}});if(y.data.user){const w={...JSON.parse(localStorage.getItem("user")),profilePicture:y.data.user.profilePicture};localStorage.setItem("user",JSON.stringify(w)),t(y.data.user.profilePicture),window.dispatchEvent(new Event("lyvo-profile-update")),o(null)}}catch(m){console.error("Upload error:",m);let x="Failed to upload image. Please try again.";m.response?(x=((f=m.response.data)==null?void 0:f.message)||x,console.error("Server error:",m.response.data),m.response.status===401&&(x="Your session has expired. Please log in again.",localStorage.removeItem("authToken"),localStorage.removeItem("user"),setTimeout(()=>{window.location.href="/login"},2e3))):m.request?(x="Network error. Please check your connection.",console.error("Network error:",m.request)):console.error("Error:",m.message),alert(x)}finally{i(!1)}}},u=()=>{o(null),l.current&&(l.current.value="")},A=()=>a||e||null;return s.jsxs("div",{className:`relative ${r}`,children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl border-4 border-white shadow-lg overflow-hidden bg-gradient-to-r from-red-500 to-red-600 flex items-center justify-center",children:A()?s.jsx("img",{src:A(),alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(ar,{className:"w-12 h-12 text-white"})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-2xl flex items-center justify-center",children:s.jsx("button",{onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},className:"text-white hover:text-gray-200 transition-colors",disabled:n,children:s.jsx(ts,{className:"w-6 h-6"})})})]}),s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:c,className:"hidden"}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview Profile Picture"}),s.jsx("button",{onClick:u,className:"text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-4",children:s.jsx("img",{src:a,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:u,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:d,disabled:n,className:"flex-1 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg font-medium hover:shadow-lg transition-all duration-300 disabled:opacity-50 flex items-center justify-center space-x-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Uploading..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(XP,{className:"w-4 h-4"}),s.jsx("span",{children:"Upload"})]})})]})]})})]})},rme=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const i=Math.floor(n/60);if(i<60)return`${i} minute${i>1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a>1?"s":""} ago`;const o=Math.floor(a/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},GK=({onMenuToggle:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(!1),[a,o]=_.useState([]),[l,c]=_.useState(0),[d,u]=_.useState(!1),[A,f]=_.useState({}),m="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";to();const x=cr();_.useEffect(()=>{try{const w=localStorage.getItem("user");w&&f(JSON.parse(w))}catch(w){console.error("Error parsing user data:",w),f({})}},[]);const p=async()=>{try{u(!0);const w=localStorage.getItem("authToken"),j=JSON.parse(localStorage.getItem("user")||"{}");if(!w||!j._id)return;const B=await fetch("http://localhost:5000/api/notifications",{headers:{Authorization:`Bearer ${w}`,"x-user-id":j._id}});if(B.ok){const I=await B.json();I.success&&(o(I.data||[]),c(I.unread_count||0))}}catch(w){console.error("Error fetching notifications:",w)}finally{u(!1)}},v=async()=>{try{const w=localStorage.getItem("authToken"),j=JSON.parse(localStorage.getItem("user")||"{}");if(!w||!j._id)return;(await fetch("http://localhost:5000/api/notifications/mark-all-read",{method:"PATCH",headers:{Authorization:`Bearer ${w}`,"x-user-id":j._id}})).ok&&p()}catch(w){console.error("Error marking all notifications as read:",w)}},y=async w=>{try{const j=localStorage.getItem("authToken"),N=JSON.parse(localStorage.getItem("user")||"{}");if(!j||!N._id)return;(await fetch(`http://localhost:5000/api/notifications/${w}`,{method:"DELETE",headers:{Authorization:`Bearer ${j}`,"x-user-id":N._id}})).ok&&p()}catch(j){console.error("Error deleting notification:",j)}};_.useEffect(()=>{p();const w=setInterval(p,3e4);return window.lyvoIntervals||(window.lyvoIntervals=[]),window.lyvoIntervals.push(w),()=>{if(clearInterval(w),window.lyvoIntervals){const j=window.lyvoIntervals.indexOf(w);j>-1&&window.lyvoIntervals.splice(j,1)}}},[]),_.useEffect(()=>{const w=j=>{console.log(" SeekerNavbar received new-notification event:",j.detail),p()};return window.addEventListener("new-notification",w),()=>window.removeEventListener("new-notification",w)},[]),_.useEffect(()=>{const w=j=>{j.target.closest("[data-logout-button]")||j.target.closest("[data-profile-button]")||j.target.closest(".dropdown-container")||(i(!1),r(!1))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const b=()=>{console.log(" Navbar handleLogout called"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log(" Dispatching logout event..."),window.dispatchEvent(new Event("lyvo-logout")),console.log(" Navigating to login..."),x("/login"),console.log(" Navbar logout completed")};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:e,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(_N,{className:"w-5 h-5 text-gray-600"})}),s.jsxs(Tt,{to:"/seeker-dashboard",className:"flex items-center space-x-2",children:[s.jsx(Z.div,{className:"w-8 h-8 rounded-lg flex items-center justify-center overflow-hidden",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-black",children:"+"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Z.button,{onClick:()=>r(!t),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(Wh,{className:"w-5 h-5 text-gray-600"}),l>0&&s.jsx(Z.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:l>9?"9+":l})]}),s.jsx(gn,{children:t&&s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1)}),s.jsxs(Z.div,{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),l>0&&s.jsx("button",{onClick:v,className:"text-sm text-red-600 hover:text-red-700 transition-colors",children:"Mark all as read"})]})}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:d?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-2",children:"Loading notifications..."})]}):a.length>0?a.map(w=>s.jsx("div",{className:`p-4 border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors ${w.is_read?"":"bg-blue-50"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${w.type==="booking_approved"?"bg-green-500":w.type==="booking_rejected"?"bg-red-500":w.type==="booking_request"?"bg-blue-500":"bg-yellow-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.message}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:rme(w.created_at)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!w.is_read&&s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("button",{onClick:()=>y(w._id),className:"p-1 hover:bg-gray-200 rounded-full transition-colors",title:"Close notification",children:s.jsx(or,{className:"w-4 h-4 text-gray-500 hover:text-gray-700"})})]})]})},w._id)):s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Wh,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"No notifications yet"})]})})]})]})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs(Z.button,{onClick:()=>i(!n),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-red-50 transition-colors group",whileHover:{scale:1.05},whileTap:{scale:.95},children:[s.jsx(Z.div,{className:"relative w-8 h-8 rounded-full overflow-hidden shadow-md",whileHover:{scale:1.08},transition:{duration:.2},children:s.jsx("img",{src:(A==null?void 0:A.profilePicture)||m,alt:"Profile",className:"w-full h-full object-cover",onError:w=>{w.currentTarget.src=m}})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 group-hover:text-red-700 transition-colors",children:A.name||"User"})]}),s.jsx(gn,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{className:"fixed inset-0 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)}),s.jsx(Z.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50",initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},children:s.jsxs("div",{className:"py-2",children:[s.jsxs(Tt,{to:"/seeker-profile","data-profile-button":!0,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>{console.log(" Profile button clicked"),i(!1)},children:[s.jsx(ar,{className:"w-4 h-4 mr-3"}),"Profile"]}),s.jsx("hr",{className:"my-2"}),s.jsxs("button",{"data-logout-button":!0,onClick:w=>{w.preventDefault(),w.stopPropagation(),console.log(" Navbar logout button clicked"),i(!1),b()},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(hc,{className:"w-4 h-4 mr-3"}),"Logout"]})]})})]})})]})]})]})})},nme=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(!0),[i,a]=_.useState(null),o=_.useRef(!1),l=_.useCallback(async()=>{if(o.current&&r){console.log("Booking status check already in progress, skipping...");return}o.current=!0;try{n(!0),a(null);const d=JSON.parse(localStorage.getItem("user")||"{}");if(!(d.id||d._id||d.userId)){console.log("No user ID found"),t(!1),n(!1);return}const A="http://localhost:5000/api/property",f=new AbortController,m=setTimeout(()=>f.abort(),5e3),x=localStorage.getItem("authToken");try{const p=await fetch(`${A}/user/bookings`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},signal:f.signal});if(clearTimeout(m),!p.ok)throw new Error(`Failed to fetch bookings: ${p.status}`);const y=(await p.json()).bookings||[],b=y.filter(w=>{var j;return w.status==="confirmed"&&((j=w.payment)==null?void 0:j.paymentStatus)==="completed"});t(b.length>0),y.length>0&&console.log("Booking status check:",{totalBookings:y.length,confirmedBookings:b.length,hasConfirmedBooking:b.length>0})}catch(p){if(clearTimeout(m),p.name==="AbortError")console.warn("Booking status check timed out - continuing without booking data");else throw p}}catch(d){console.error("Error checking booking status:",d),a(d.message),t(!1)}finally{n(!1),o.current=!1}},[]);_.useEffect(()=>{l()},[l]);const c=_.useCallback(()=>{o.current=!1,l()},[l]);return{hasConfirmedBooking:e,loading:r,error:i,refreshBookingStatus:c}},sme="http://localhost:5000/api",sm=()=>{const[e,t]=_.useState(!1),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(null),c=_.useCallback(async()=>{try{a(!0),l(null);const u=localStorage.getItem("authToken");if(!u){t(!1),n(null),a(!1);return}const A=await xr.get(`${sme}/property/user/tenant-status`,{headers:{Authorization:`Bearer ${u}`}});t(A.data.isTenant),n(A.data.tenantData)}catch(u){console.error("Error fetching tenant status:",u),l(u.message),t(!1),n(null)}finally{a(!1)}},[]);_.useEffect(()=>{c()},[c]);const d=_.useCallback(()=>{c()},[c]);return{isTenant:e,tenantData:r,loading:i,error:o,refreshTenantStatus:d}},GF=({onClose:e})=>{const t=to(),r=cr(),[n,i]=_.useState({}),[a,o]=_.useState(!1),l="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face";_.useEffect(()=>{try{const I=localStorage.getItem("user");if(I){const P=JSON.parse(I);if(i(P),(P==null?void 0:P.role)===2){const T=[!P.phone,!P.location,P.age===void 0||P.age===null||P.age==="",!P.occupation,!P.gender].some(Boolean);o(T)}}}catch(I){console.error("Error parsing user data:",I),i({})}},[]);const{hasConfirmedBooking:c,loading:d,refreshBookingStatus:u}=nme(),{isTenant:A,loading:f}=sm(),m=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")};_.useEffect(()=>{const I=()=>{u()};return window.addEventListener("booking-status-changed",I),window.addEventListener("booking-approved",I),window.addEventListener("booking-cancelled",I),()=>{window.removeEventListener("booking-status-changed",I),window.removeEventListener("booking-approved",I),window.removeEventListener("booking-cancelled",I)}},[u]);const x=[{name:"Profile",href:"/seeker-profile",icon:ar}],w=a?[{name:"Profile",href:"/seeker-profile",icon:ar},{name:"Identity Verification",href:"/seeker-kyc",icon:tr}]:A?[...[{name:"Dashboard",href:"/tenant-dashboard",icon:Ir},{name:"Payment History",href:"/tenant-payments",icon:ti},{name:"Split Expenses",href:"/tenant-expenses",icon:CN},{name:"Request Maintenance",href:"/tenant-maintenance",icon:zd},{name:"View Agreement",href:"/tenant-agreement",icon:ks},{name:"Roommates",href:"/tenant-roommates",icon:ar}],...x]:c?[...[{name:"My Room",href:"/my-room",icon:Ir},{name:"Messages",href:"/seeker-messages",icon:ca}],...x]:[...[{name:"Dashboard",href:"/seeker-dashboard",icon:Ir},{name:"Identity Verification",href:"/seeker-kyc",icon:tr},{name:"My Booking",href:"/seeker-bookings",icon:Or},{name:"Favorites",href:"/seeker-favorites",icon:Gh}],...x],j=I=>t.pathname===I,N={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},B={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(Z.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-red-200/50 flex flex-col shadow-2xl h-screen",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute top-10 left-4 w-32 h-32 bg-red-400 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-4 w-24 h-24 bg-red-300 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-red-500 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"relative flex-shrink-0 flex items-center justify-between p-4 border-b border-red-200/50 bg-red-50/30",children:[s.jsxs(Z.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsxs(Z.div,{className:"relative w-10 h-10 flex items-center justify-center overflow-hidden bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg",whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},whileTap:{scale:.95},transition:{duration:.2},children:[s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-6 h-6 object-contain filter brightness-0 invert"}),s.jsx("div",{className:"absolute inset-0 bg-red-400 rounded-xl blur-md opacity-0 group-hover:opacity-50 transition-opacity duration-300"})]}),s.jsxs("div",{children:[s.jsxs(Z.div,{className:"flex items-center",whileHover:{scale:1.05},transition:{duration:.2},children:[s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-red-600 to-red-700 bg-clip-text text-transparent",children:"Lyvo"}),s.jsx(Z.span,{className:"text-xl font-bold text-gray-800 ml-1",animate:{scale:[1,1.1,1],opacity:[1,.7,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"+"})]}),s.jsx(Z.p,{className:"text-xs text-gray-600 font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:A?"Tenant Portal":"Seeker Portal"})]})]}),s.jsx("button",{onClick:e,className:"lg:hidden p-1 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"relative flex-shrink-0 p-4 border-b border-red-200/50 bg-red-50/20",children:s.jsxs(Z.div,{className:"relative flex items-center space-x-3 p-3 rounded-xl bg-white border border-red-100/50 shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},whileHover:{scale:1.02,transition:{duration:.2}},children:[s.jsx(Z.div,{className:"relative w-12 h-12 rounded-full overflow-hidden shadow-lg",whileHover:{scale:1.05,transition:{duration:.2}},children:s.jsx("img",{src:(n==null?void 0:n.profilePicture)||l,alt:"Profile",className:"w-full h-full object-cover",onError:I=>{I.currentTarget.src=l}})}),s.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[s.jsx(Z.p,{className:"text-sm font-semibold text-gray-900 truncate",whileHover:{scale:1.02},transition:{duration:.2},children:n.name||"User"}),s.jsx(Z.p,{className:"text-xs text-gray-600 break-words",whileHover:{scale:1.01},transition:{duration:.2},children:n.email||"user@example.com"}),!d&&!f&&s.jsxs(Z.div,{className:"mt-1 flex items-center space-x-1",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${A?"bg-green-500":c?"bg-blue-400":"bg-yellow-400"}`}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:A?"Active Tenant":c?"Booking Confirmed":"Looking for Room"})]})]}),s.jsx(Z.div,{className:"w-3 h-3 bg-green-400 rounded-full shadow-sm",animate:{scale:[1,1.2,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:w.map((I,P)=>s.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1+P*.05,duration:.3},variants:N,whileHover:"hover",whileTap:"tap",children:s.jsxs(Tt,{to:I.href,className:`group relative flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-300 ${j(I.href)?"bg-gradient-to-r from-red-50 to-red-100 text-red-700 border-r-4 border-red-500 shadow-lg":"text-gray-700 hover:bg-gradient-to-r hover:from-red-50/50 hover:to-red-100/50 hover:text-red-700 hover:shadow-md"}`,children:[s.jsx(Z.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400/20 to-red-600/20 rounded-xl opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsxs(Z.div,{className:"relative z-10 flex items-center w-full",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(Z.div,{className:`mr-4 h-6 w-6 flex items-center justify-center rounded-lg transition-all duration-300 ${j(I.href)?"bg-red-100 text-red-600":"text-gray-400 group-hover:bg-red-100 group-hover:text-red-600"}`,whileHover:{scale:1.1,rotate:[0,-5,5,0],transition:{duration:.3}},children:s.jsx(I.icon,{className:"h-4 w-4"})}),s.jsx("span",{className:"flex-1 font-semibold",children:I.name}),j(I.href)&&s.jsxs(Z.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:[s.jsx(Z.div,{className:"w-2 h-2 bg-red-500 rounded-full",animate:{scale:[1,1.3,1],opacity:[1,.7,1]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}}),s.jsx(Z.div,{className:"w-1 h-1 bg-red-400 rounded-full",animate:{scale:[1,1.2,1],opacity:[.8,.4,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.3}})]})]})]})},I.name))}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-red-200/50",children:s.jsxs(Z.button,{onClick:m,className:"group relative w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white bg-gradient-to-r from-red-500 to-red-600 rounded-xl hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl overflow-hidden",variants:B,whileHover:"hover",whileTap:"tap",children:[s.jsx(Z.div,{className:"absolute inset-0 bg-gradient-to-r from-red-400 to-red-500 opacity-0 group-hover:opacity-100",transition:{duration:.3}}),s.jsx(Z.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),s.jsxs(Z.div,{className:"relative z-10 flex items-center",whileHover:{x:2},transition:{duration:.2},children:[s.jsx(Z.div,{className:"mr-3 p-1 rounded-lg bg-white/20",whileHover:{rotate:[0,-10,10,0],transition:{duration:.3}},children:s.jsx(hc,{className:"h-4 w-4"})}),s.jsx("span",{children:"Logout"})]})]})})]})},ime=()=>{new Date().getFullYear();const e={"Quick Links":[{name:"Dashboard",href:"/seeker-dashboard",icon:Ir},{name:"Favorites",href:"/seeker-favorites",icon:Gh},{name:"Bookings",href:"/seeker-bookings",icon:Or}],Account:[{name:"Profile",href:"/seeker-profile",icon:ar},{name:"Settings",href:"/seeker-settings",icon:nc},{name:"Messages",href:"/seeker-messages",icon:ca}],Support:[{name:"Help Center",href:"/help",icon:null},{name:"Contact Us",href:"/contact",icon:null},{name:"Privacy Policy",href:"/privacy",icon:null},{name:"Terms of Service",href:"/terms",icon:null}]},t=[{name:"Facebook",href:"#",icon:""},{name:"Twitter",href:"#",icon:""},{name:"Instagram",href:"#",icon:""},{name:"LinkedIn",href:"#",icon:""}];return s.jsxs("footer",{className:"bg-white border-t border-gray-200 text-gray-800",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Z.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-xl font-bold text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-xl font-bold text-gray-800",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Seeker Portal"})]})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Find your perfect PG, hostel, and co-living space with India's #1 platform. Verified properties, secure payments, and instant booking."}),s.jsx("div",{className:"flex space-x-4",children:t.map((r,n)=>s.jsx(Z.a,{href:r.href,className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-red-100 transition-colors duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},initial:{opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{delay:n*.1,duration:.3},viewport:{once:!0},children:s.jsx("span",{className:"text-sm",children:r.icon})},r.name))})]})}),Object.entries(e).map(([r,n],i)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx(Z.h4,{className:"text-lg font-semibold text-gray-800",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:i*.1,duration:.6},viewport:{once:!0},children:r}),s.jsx("ul",{className:"space-y-2",children:n.map((a,o)=>s.jsx(Z.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},transition:{delay:i*.1+o*.05,duration:.6},viewport:{once:!0},children:s.jsxs(Tt,{to:a.href,className:"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors duration-200 group",children:[a.icon&&s.jsx(a.icon,{className:"w-4 h-4 text-gray-500 group-hover:text-red-500 transition-colors duration-200"}),s.jsx("span",{className:"text-sm",children:a.name})]})},a.name))})]},r))]})}),s.jsx("div",{className:"lg:hidden bg-gray-50 border-t border-gray-200",children:s.jsx("div",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex justify-around",children:[s.jsxs(Tt,{to:"/seeker-dashboard",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Ir,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Home"})]}),s.jsxs(Tt,{to:"/seeker-favorites",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Gh,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Favorites"})]}),s.jsxs(Tt,{to:"/seeker-bookings",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(Or,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Bookings"})]}),s.jsxs(Tt,{to:"/seeker-profile",className:"flex flex-col items-center space-y-1 text-gray-600 hover:text-red-600 transition-colors duration-200",children:[s.jsx(ar,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xs",children:"Profile"})]})]})})})]})},cd=Object.create(null);cd.open="0";cd.close="1";cd.ping="2";cd.pong="3";cd.message="4";cd.upgrade="5";cd.noop="6";const f1=Object.create(null);Object.keys(cd).forEach(e=>{f1[cd[e]]=e});const T4={type:"error",data:"parser error"},qK=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",YK=typeof ArrayBuffer=="function",XK=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,c6=({type:e,data:t},r,n)=>qK&&t instanceof Blob?r?n(t):qF(t,n):YK&&(t instanceof ArrayBuffer||XK(t))?r?n(t):qF(new Blob([t]),n):n(cd[e]+(t||"")),qF=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function YF(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let pC;function ame(e,t){if(qK&&e.data instanceof Blob)return e.data.arrayBuffer().then(YF).then(t);if(YK&&(e.data instanceof ArrayBuffer||XK(e.data)))return t(YF(e.data));c6(e,!1,r=>{pC||(pC=new TextEncoder),t(pC.encode(r))})}const XF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<XF.length;e++)lx[XF.charCodeAt(e)]=e;const ome=e=>{let t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),u=new Uint8Array(d);for(n=0;n<r;n+=4)a=lx[e.charCodeAt(n)],o=lx[e.charCodeAt(n+1)],l=lx[e.charCodeAt(n+2)],c=lx[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},lme=typeof ArrayBuffer=="function",d6=(e,t)=>{if(typeof e!="string")return{type:"message",data:JK(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:cme(e.substring(1),t)}:f1[r]?e.length>1?{type:f1[r],data:e.substring(1)}:{type:f1[r]}:T4},cme=(e,t)=>{if(lme){const r=ome(e);return JK(r,t)}else return{base64:!0,data:e}},JK=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},ZK="",dme=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((a,o)=>{c6(a,!1,l=>{n[o]=l,++i===r&&t(n.join(ZK))})})},ume=(e,t)=>{const r=e.split(ZK),n=[];for(let i=0;i<r.length;i++){const a=d6(r[i],t);if(n.push(a),a.type==="error")break}return n};function hme(){return new TransformStream({transform(e,t){ame(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let gC;function zb(e){return e.reduce((t,r)=>t+r.length,0)}function Vb(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Ame(e,t){gC||(gC=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(zb(r)<1)break;const c=Vb(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(zb(r)<2)break;const c=Vb(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(zb(r)<8)break;const c=Vb(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,21)-1){l.enqueue(T4);break}i=u*Math.pow(2,32)+d.getUint32(4),n=3}else{if(zb(r)<i)break;const c=Vb(r,i);l.enqueue(d6(a?c:gC.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(T4);break}}}})}const eW=4;function Ys(e){if(e)return fme(e)}function fme(e){for(var t in Ys.prototype)e[t]=Ys.prototype[t];return e}Ys.prototype.on=Ys.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ys.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ys.prototype.off=Ys.prototype.removeListener=Ys.prototype.removeAllListeners=Ys.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ys.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Ys.prototype.emitReserved=Ys.prototype.emit;Ys.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ys.prototype.hasListeners=function(e){return!!this.listeners(e).length};const LN=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),il=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mme="arraybuffer";function tW(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const pme=il.setTimeout,gme=il.clearTimeout;function FN(e,t){t.useNativeTimers?(e.setTimeoutFn=pme.bind(il),e.clearTimeoutFn=gme.bind(il)):(e.setTimeoutFn=il.setTimeout.bind(il),e.clearTimeoutFn=il.clearTimeout.bind(il))}const xme=1.33;function yme(e){return typeof e=="string"?vme(e):Math.ceil((e.byteLength||e.size)*xme)}function vme(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function rW(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function bme(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function wme(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class jme extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class u6 extends Ys{constructor(t){super(),this.writable=!1,FN(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new jme(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=d6(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=bme(t);return r.length?"?"+r:""}}class Nme extends u6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ume(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,dme(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=rW()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let nW=!1;try{nW=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const _me=nW;function Cme(){}class Bme extends Nme{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Zc extends Ys{constructor(t,r,n){super(),this.createRequest=t,FN(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=tW(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Zc.requestsCount++,Zc.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Cme,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Zc.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Zc.requestsCount=0;Zc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",JF);else if(typeof addEventListener=="function"){const e="onpagehide"in il?"pagehide":"unload";addEventListener(e,JF,!1)}}function JF(){for(let e in Zc.requests)Zc.requests.hasOwnProperty(e)&&Zc.requests[e].abort()}const Sme=function(){const e=sW({xdomain:!1});return e&&e.responseType!==null}();class kme extends Bme{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=Sme&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Zc(sW,this.uri(),t)}}function sW(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||_me))return new XMLHttpRequest}catch{}if(!t)try{return new il[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const iW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Eme extends u6{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=iW?{}:tW(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;c6(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&LN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=rW()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const xC=il.WebSocket||il.MozWebSocket;class Pme extends Eme{createSocket(t,r,n){return iW?new xC(t,r,n):r?new xC(t,r):new xC(t)}doWrite(t,r){this.ws.send(r)}}class Ime extends u6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Ame(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=hme();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&LN(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Tme={websocket:Pme,webtransport:Ime,polling:kme},Ome=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lme=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function O4(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=Ome.exec(e||""),a={},o=14;for(;o--;)a[Lme[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=Fme(a,a.path),a.queryKey=Ume(a,a.query),a}function Fme(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ume(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const L4=typeof addEventListener=="function"&&typeof removeEventListener=="function",m1=[];L4&&addEventListener("offline",()=>{m1.forEach(e=>e())},!1);class Uh extends Ys{constructor(t,r){if(super(),this.binaryType=mme,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=O4(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=O4(r.host).host);FN(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=wme(this.opts.query)),L4&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},m1.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=eW,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Uh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Uh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=yme(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,LN(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:t,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Uh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),L4&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=m1.indexOf(this._offlineEventListener);n!==-1&&m1.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Uh.protocol=eW;class Rme extends Uh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;Uh.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",A=>{if(!n)if(A.type==="pong"&&A.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Uh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function a(){n||(n=!0,u(),r.close(),r=null)}const o=A=>{const f=new Error("probe error: "+A);f.transport=r.name,a(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function d(A){r&&A.name!==r.name&&a()}const u=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",d)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Mme=class extends Rme{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Tme[i]).filter(i=>!!i)),super(t,n)}};function Dme(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=O4(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const Qme=typeof ArrayBuffer=="function",$me=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,aW=Object.prototype.toString,Hme=typeof Blob=="function"||typeof Blob<"u"&&aW.call(Blob)==="[object BlobConstructor]",zme=typeof File=="function"||typeof File<"u"&&aW.call(File)==="[object FileConstructor]";function h6(e){return Qme&&(e instanceof ArrayBuffer||$me(e))||Hme&&e instanceof Blob||zme&&e instanceof File}function p1(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(p1(e[r]))return!0;return!1}if(h6(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return p1(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&p1(e[r]))return!0;return!1}function Vme(e){const t=[],r=e.data,n=e;return n.data=F4(r,t),n.attachments=t.length,{packet:n,buffers:t}}function F4(e,t){if(!e)return e;if(h6(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=F4(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=F4(e[n],t));return r}return e}function Kme(e,t){return e.data=U4(e.data,t),delete e.attachments,e}function U4(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=U4(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=U4(e[r],t));return e}const oW=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Wme=5;var kr;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(kr||(kr={}));class Gme{constructor(t){this.replacer=t}encode(t){return(t.type===kr.EVENT||t.type===kr.ACK)&&p1(t)?this.encodeAsBinary({type:t.type===kr.EVENT?kr.BINARY_EVENT:kr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===kr.BINARY_EVENT||t.type===kr.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=Vme(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}class A6 extends Ys{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===kr.BINARY_EVENT;n||r.type===kr.BINARY_ACK?(r.type=n?kr.EVENT:kr.ACK,this.reconstructor=new qme(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(h6(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(kr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===kr.BINARY_EVENT||n.type===kr.BINARY_ACK){const a=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(a,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(a,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(a,r+1))}if(t.charAt(++r)){const a=this.tryParse(t.substr(r));if(A6.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case kr.CONNECT:return x2(r);case kr.DISCONNECT:return r===void 0;case kr.CONNECT_ERROR:return typeof r=="string"||x2(r);case kr.EVENT:case kr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&oW.indexOf(r[0])===-1);case kr.ACK:case kr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class qme{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=Kme(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Yme(e){return typeof e=="string"}const Xme=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function Jme(e){return e===void 0||Xme(e)}function x2(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zme(e,t){switch(e){case kr.CONNECT:return t===void 0||x2(t);case kr.DISCONNECT:return t===void 0;case kr.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&oW.indexOf(t[0])===-1);case kr.ACK:return Array.isArray(t);case kr.CONNECT_ERROR:return typeof t=="string"||x2(t);default:return!1}}function epe(e){return Yme(e.nsp)&&Jme(e.id)&&Zme(e.type,e.data)}const tpe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:A6,Encoder:Gme,get PacketType(){return kr},isPacketValid:epe,protocol:Wme},Symbol.toStringTag,{value:"Module"}));function Jl(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const rpe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class lW extends Ys{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Jl(t,"open",this.onopen.bind(this)),Jl(t,"packet",this.onpacket.bind(this)),Jl(t,"error",this.onerror.bind(this)),Jl(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,a;if(rpe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:kr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,A=r.pop();this._registerAckCallback(u,A),o.id=u}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...a)=>(this._queue[0],i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:kr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case kr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case kr.EVENT:case kr.BINARY_EVENT:this.onevent(t);break;case kr.ACK:case kr.BINARY_ACK:this.onack(t);break;case kr.DISCONNECT:this.ondisconnect();break;case kr.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:kr.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:kr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Qg(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Qg.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Qg.prototype.reset=function(){this.attempts=0};Qg.prototype.setMin=function(e){this.ms=e};Qg.prototype.setMax=function(e){this.max=e};Qg.prototype.setJitter=function(e){this.jitter=e};class R4 extends Ys{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,FN(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Qg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||tpe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Mme(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Jl(r,"open",function(){n.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Jl(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Jl(t,"ping",this.onping.bind(this)),Jl(t,"data",this.ondata.bind(this)),Jl(t,"error",this.onerror.bind(this)),Jl(t,"close",this.onclose.bind(this)),Jl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){LN(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new lW(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const F0={};function g1(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Dme(e,t.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=F0[i]&&a in F0[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new R4(n,t):(F0[i]||(F0[i]=new R4(n,t)),c=F0[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(g1,{Manager:R4,Socket:lW,io:g1,connect:g1});class npe{constructor(){this.socket=null,this.isConnected=!1,this.currentChatId=null,this.eventListeners=new Map,this.apiBaseUrl="http://localhost:5000"}connect(t){return this.socket&&this.disconnect(),console.log(" Connecting to chat service..."),this.socket=g1(this.apiBaseUrl,{auth:{token:t},transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Connected to chat service"),this.isConnected=!0,this.emit("connected")}),this.socket.on("disconnect",r=>{console.log(" Disconnected from chat service:",r),this.isConnected=!1,this.emit("disconnected",r)}),this.socket.on("connect_error",r=>{console.error(" Chat service connection error:",r),this.emit("error",r)}),this.socket.on("error",r=>{console.error(" Chat service error:",r),this.emit("error",r)}),this.socket}disconnect(){this.socket&&(console.log(" Disconnecting from chat service..."),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.currentChatId=null)}joinChat(t){this.socket&&this.isConnected?(console.log(" Joining chat:",t),this.socket.emit("join_chat",{chatId:t}),this.currentChatId=t):console.warn(" Cannot join chat: not connected to chat service")}leaveChat(){this.socket&&this.currentChatId&&(console.log(" Leaving chat:",this.currentChatId),this.socket.emit("leave_chat",{chatId:this.currentChatId}),this.currentChatId=null)}sendNotification(t){this.socket&&this.isConnected?(console.log(" Sending notification:",t),this.socket.emit("send_notification",t)):console.warn(" Cannot send notification: not connected")}sendMessage(t,r="text",n={}){this.socket&&this.isConnected&&this.currentChatId?(console.log(" Sending message:",t),this.socket.emit("send_message",{chatId:this.currentChatId,content:t,contentType:r,metadata:n})):console.warn(" Cannot send message: not connected or no active chat")}markAsRead(t=[]){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("mark_read",{chatId:this.currentChatId,messageIds:t})}setTyping(t){this.socket&&this.isConnected&&this.currentChatId&&this.socket.emit("typing",{chatId:this.currentChatId,isTyping:t})}on(t,r){this.socket&&this.socket.on(t,r),this.eventListeners.has(t)||this.eventListeners.set(t,[]),this.eventListeners.get(t).push(r)}off(t,r){if(this.socket&&this.socket.off(t,r),this.eventListeners.has(t)){const n=this.eventListeners.get(t),i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,r){this.eventListeners.has(t)&&this.eventListeners.get(t).forEach(n=>{try{n(r)}catch(i){console.error("Error in event listener:",i)}})}async getUserChats(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/user/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return i.success?i.data.chats:[]}catch(r){return console.error("Error fetching user chats:",r),[]}}async getChatMessages(t,r=1,n=50){try{const i=localStorage.getItem("authToken"),a=await fetch(`${this.apiBaseUrl}/api/chat/${t}/messages?page=${r}&limit=${n}`,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=await a.json();return o.success?o.data.messages:[]}catch(i){return console.error("Error fetching chat messages:",i),[]}}async getChatDetails(t){try{const r=localStorage.getItem("authToken"),n=await fetch(`${this.apiBaseUrl}/api/chat/${t}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();return i.success?i.data:null}catch(r){return console.error("Error fetching chat details:",r),null}}async sendMessageAPI(t,r,n="text",i={}){try{const a=localStorage.getItem("authToken"),o=await fetch(`${this.apiBaseUrl}/api/chat/${t}/message`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({content:r,contentType:n,metadata:i})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const l=await o.json();return l.success?l.data:null}catch(a){return console.error("Error sending message via API:",a),null}}async markAsReadAPI(t,r=[]){try{const n=localStorage.getItem("authToken"),i=await fetch(`${this.apiBaseUrl}/api/chat/${t}/read`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({messageIds:r})});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return(await i.json()).success}catch(n){return console.error("Error marking messages as read via API:",n),!1}}getConnectionStatus(){var t;return{isConnected:this.isConnected,currentChatId:this.currentChatId,socketId:(t=this.socket)==null?void 0:t.id}}}const Pr=new npe,cW=()=>(_.useEffect(()=>{const e=Jc();if(e){Pr.isConnected||Pr.connect(e);const t=r=>{console.log(" New notification received via socket:",r),window.dispatchEvent(new CustomEvent("new-notification",{detail:r}))};return Pr.on("new_notification",t),()=>{Pr.off("new_notification",t)}}},[]),null),jr=({children:e,hideFooter:t=!1,hideNavbar:r=!1})=>{const[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState(!1),d=()=>{i(!n)},u=()=>{i(!1)},A={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},f={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},m=()=>{try{const x=localStorage.getItem("user");if(!x)return;const p=JSON.parse(x);if((p==null?void 0:p.role)===2){const v=[!p.phone,p.age===null||p.age===void 0||p.age==="",!p.occupation,!p.gender].some(Boolean);o(v),c(v)}}catch{}};return _.useEffect(()=>{m()},[]),_.useEffect(()=>{const x=v=>{v.key==="user"&&m()},p=()=>m();return window.addEventListener("storage",x),window.addEventListener("lyvo-profile-update",p),()=>{window.removeEventListener("storage",x),window.removeEventListener("lyvo-profile-update",p)}},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(GF,{onClose:u})}),s.jsxs("div",{className:"lg:ml-64",children:[!r&&s.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:s.jsx(GK,{onMenuToggle:d})}),a&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsx("div",{className:"bg-white border border-blue-300 rounded-xl shadow-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Complete Your Profile"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add your preferences to find better PG matches"}),s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{onClick:()=>o(!1),className:"text-xs bg-blue-600 text-white px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors",children:"Complete Now"}),s.jsx("button",{onClick:()=>o(!1),className:"text-xs text-gray-500 hover:text-gray-700 transition-colors",children:"Later"})]})]}),s.jsx("button",{onClick:()=>o(!1),className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx(gn,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",variants:f,initial:"hidden",animate:"visible",exit:"hidden",onClick:u}),s.jsx(Z.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] lg:hidden",variants:A,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(GF,{onClose:u})})]})}),s.jsx("main",{className:"min-h-screen",children:l?s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white border border-blue-200 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please fill in phone, age, occupation, and gender to continue."}),s.jsx("a",{href:"/seeker-profile",className:"inline-flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700",children:"Go to Profile"})]})}):s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e})}),!t&&s.jsx(ime,{}),s.jsx(cW,{})]})]})},spe=()=>{const e=cr(),[t,r]=_.useState(!1),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(!1),[d,u]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[A,f]=_.useState({current:!1,new:!1,confirm:!1}),[m,x]=_.useState({type:"",message:""}),[p,v]=_.useState({name:"",email:"",phone:"",location:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""});_.useEffect(()=>{(async()=>{try{const P=localStorage.getItem("authToken"),T=localStorage.getItem("user");if(!P||!T){i(null),o(!1),e("/login");return}const U=JSON.parse(T);if(console.log("Profile: User role check:",U.role),U.role===2){console.log("Profile: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(U.role===3){console.log("Profile: Redirecting owner to owner profile"),window.location.href="/owner-profile";return}else if(U.role===1)console.log("Profile: Regular user, staying on profile page"),i(U);else{console.error("Profile: Invalid user role:",U.role),e("/login");return}v(k=>({...k,name:U.name||"",email:U.email||"",profilePicture:U.profilePicture||"",phone:U.phone||"",location:U.location||"",bio:U.bio||"",isVerified:U.isVerified||!1,trustScore:95,joinDate:U.createdAt?new Date(U.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}))}catch(P){console.error("Error fetching user data:",P),i(null),e("/login")}finally{o(!1)}})()},[e]);const y=(I,P)=>{v(T=>({...T,[I]:P}))},b=(I,P)=>{u(T=>({...T,[I]:P}))},w=I=>{f(P=>({...P,[I]:!P[I]}))},j=async()=>{try{x({type:"loading",message:"Saving changes..."});const I=localStorage.getItem("authToken");if(!I)throw new Error("No authentication token found");const P={name:p.name,phone:p.phone,location:p.location,bio:p.bio},T=await fetch(`http://localhost:5000/api/user/profile/${n._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify(P)});if(!T.ok){const Q=await T.json();throw new Error(Q.message||"Failed to update profile")}const U=await T.json(),E={...JSON.parse(localStorage.getItem("user")),...U.user};localStorage.setItem("user",JSON.stringify(E)),i(E),r(!1),x({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(I){console.error("Profile update error:",I),x({type:"error",message:I.message||"Failed to update profile"}),setTimeout(()=>{x({type:"",message:""})},3e3)}},N=I=>{v(P=>({...P,profilePicture:I})),x({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>{x({type:"",message:""})},3e3)},B=async()=>{try{if(d.newPassword!==d.confirmPassword){x({type:"error",message:"New passwords do not match"});return}if(d.newPassword.length<6){x({type:"error",message:"Password must be at least 6 characters long"});return}x({type:"loading",message:"Updating password..."});const I=localStorage.getItem("authToken");if(!I)throw new Error("No authentication token found");const P=await fetch("http://localhost:5000/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({currentPassword:d.currentPassword,newPassword:d.newPassword})});if(!P.ok){const T=await P.json();throw new Error(T.message||"Failed to update password")}x({type:"success",message:"Password updated successfully!"}),c(!1),u({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{x({type:"",message:""})},3e3)}catch(I){console.error("Password update error:",I),x({type:"error",message:I.message||"Failed to update password"}),setTimeout(()=>{x({type:"",message:""})},3e3)}};return a?s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n?s.jsx(jr,{children:s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(O0,{children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsxs("div",{className:"absolute bottom-6 left-8 flex items-end space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(l6,{currentImage:p.profilePicture,onImageUpdate:N,className:"w-24 h-24"}),p.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(tr,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:p.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center space-x-2",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",p.joinDate||"Recently"]})]})]})]}),s.jsx("div",{className:"absolute top-6 right-8",children:s.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-4 py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300",children:[t?s.jsx(or,{className:"w-4 h-4"}):s.jsx(mf,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(O0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:p.name,onChange:I=>y("name",I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:p.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(yn,{className:"w-4 h-4 mr-2 text-gray-400"}),p.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:p.phone,onChange:I=>y("phone",I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(ms,{className:"w-4 h-4 mr-2 text-gray-400"}),p.phone||"Not provided"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),t?s.jsx("input",{type:"text",value:p.location,onChange:I=>y("location",I.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter your location"}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 text-gray-400"}),p.location||"Not provided"]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),t?s.jsx("textarea",{value:p.bio,onChange:I=>y("bio",I.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300 resize-none",placeholder:"Tell us about yourself..."}):s.jsx("p",{className:"text-gray-600 leading-relaxed",children:p.bio||"No bio provided"})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(O0,{delay:.1,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:p.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(O0,{delay:.2,children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>c(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(uc,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(O0,{delay:.4,children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:m.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Sv,{className:"w-5 h-5"}),s.jsx("span",{children:m.type==="loading"?"Saving...":"Save Changes"})]})})}),m.message&&s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-50 px-6 py-3 rounded-xl shadow-lg ${m.type==="success"?"bg-green-100 border border-green-300 text-green-800":m.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:m.message}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.current?"text":"password",value:d.currentPassword,onChange:I=>b("currentPassword",I.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>w("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.current?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.new?"text":"password",value:d.newPassword,onChange:I=>b("newPassword",I.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>w("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.new?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:A.confirm?"text":"password",value:d.confirmPassword,onChange:I=>b("confirmPassword",I.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>w("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:A.confirm?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:B,disabled:m.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:m.type==="loading"?"Updating...":"Update Password"})]})]})]})})]})})}):s.jsx("div",{className:"pt-16 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ar,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})},ipe=()=>{const e=[{icon:Gh,title:"Community First",description:"We believe in building strong, supportive communities where everyone feels at home."},{icon:tr,title:"Trust & Security",description:"Your safety and privacy are our top priorities with verified listings and secure transactions."},{icon:nu,title:"Innovation",description:"Leveraging cutting-edge technology to make co-living seamless and enjoyable."},{icon:Rue,title:"Transparency",description:"Clear pricing, honest reviews, and open communication at every step."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(Z.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["About ",s.jsx("span",{className:"text-red-600",children:"Lyvo+"})]}),s.jsx(Z.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Revolutionizing the co-living experience through technology, community, and trust."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Mission"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"To create a world where finding the perfect co-living space is effortless, where communities thrive, and where technology enhances human connections rather than replacing them."})]})}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Why Co-Living Matters"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"In today's fast-paced world, traditional housing models often leave people feeling isolated. Co-living offers a solution that combines affordability, community, and flexibility."}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We believe everyone deserves a place they can call home, surrounded by like-minded individuals who share their values and aspirations."}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Au,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Growing Trend"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Co-living is the future of urban living"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-2xl p-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Smart Matching"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Community Building"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Secure Transactions"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"24/7 Support"})]})]})})})]})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:["Our ",s.jsx("span",{className:"text-red-600",children:"Values"})]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The principles that guide everything we do"})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>s.jsxs(Z.div,{whileHover:{y:-5},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all duration-200 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(t.icon,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},r))})]})})]})},ape=()=>{const[e,t]=_.useState({name:"",email:"",subject:"",message:""}),[r,n]=_.useState(!1),[i,a]=_.useState(!1),o=d=>{t({...e,[d.target.name]:d.target.value})},l=async d=>{d.preventDefault(),a(!0),await new Promise(u=>setTimeout(u,1500)),n(!0),a(!1)},c=[{question:"How quickly do you respond to inquiries?",answer:"We typically respond to all inquiries within 24 hours during business days."},{question:"Can I schedule a demo of your platform?",answer:"Absolutely! We'd love to show you around. Contact us to schedule a personalized demo."},{question:"Do you offer support for property owners?",answer:"Yes, we provide comprehensive support for both property owners and tenants."},{question:"What cities do you currently operate in?",answer:"We're currently active in 15+ major cities across India with plans to expand further."}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-red-50 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs(Z.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:["Get in ",s.jsx("span",{className:"text-red-600",children:"Touch"})]}),s.jsx(Z.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),s.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-start",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-600",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),r?s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(jt,{className:"h-10 w-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Message Sent!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for reaching out! We'll get back to you within 24 hours."}),s.jsx("button",{onClick:()=>n(!1),className:"bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 transition-all duration-200",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",name:"name",id:"name",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"John Doe",value:e.name,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",id:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"john@example.com",value:e.email,onChange:o})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"How can we help you?",value:e.subject,onChange:o})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{name:"message",id:"message",rows:6,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 resize-none",placeholder:"Tell us more about your inquiry...",value:e.message,onChange:o})]}),s.jsx(Z.button,{type:"submit",disabled:i,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-red-600 text-white py-4 px-6 rounded-lg font-semibold shadow-sm hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(qh,{className:"h-5 w-5"}),s.jsx("span",{children:"Send Message"})]})})]})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Why Choose Lyvo+?"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(ka,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Expert Support Team"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Our dedicated team is here to help 24/7"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(ka,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Quick Response Time"}),s.jsx("p",{className:"text-sm text-gray-600",children:"We respond to all inquiries within 24 hours"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx(ka,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Personalized Solutions"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Tailored assistance for your specific needs"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),s.jsx("div",{className:"space-y-4",children:c.map((d,u)=>s.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:d.question}),s.jsx("p",{className:"text-sm text-gray-600",children:d.answer})]},u))})]})]})})]})})})]})},ope=()=>s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Tt,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Z.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,type:"spring",stiffness:100},className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"text-8xl md:text-9xl font-bold text-red-500 mb-4 tracking-tight",children:"404"}),s.jsx(Z.div,{animate:{y:[0,-10,0],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute -top-4 -right-4 w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(ha,{className:"w-8 h-8 text-white"})})]})}),s.jsxs(Z.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"mb-12",children:[s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6",children:"Page Not Found"}),s.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Oops! The page you're looking for doesn't exist or has been moved. Don't worry, there are plenty of amazing co-living opportunities waiting for you!"})]}),s.jsxs(Z.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8 mb-8",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(Z.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-red-50 to-red-100 rounded-xl border border-red-200",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(Ir,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Go Home"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Return to the main page and explore our co-living community"}),s.jsx(Tt,{to:"/",children:s.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-red-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Home"})})]}),s.jsxs(Z.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(wr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Find Accommodations"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Discover available co-living spaces in your area"}),s.jsx(Tt,{to:"/dashboard",children:s.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-blue-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Browse"})})]}),s.jsxs(Z.div,{whileHover:{scale:1.02},className:"p-6 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center mb-4 mx-auto",children:s.jsx(Vr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Join Community"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with other co-living enthusiasts"}),s.jsx(Tt,{to:"/login",children:s.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-green-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Sign In"})})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[s.jsx(Tt,{to:"/",children:s.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5"}),"Go Home"]})}),s.jsx(Tt,{to:"/login",children:s.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"border-2 border-gray-300 text-gray-700 hover:border-red-500 hover:text-red-500 px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2",children:[s.jsx(Js,{className:"w-5 h-5"}),"Back to Login"]})})]})]})]}),s.jsxs(Z.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.8},className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Need Help?"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"If you're having trouble finding what you're looking for, our support team is here to help."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("a",{href:"mailto:support@lyvo.com",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Contact Support"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/help",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"Help Center"}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("a",{href:"/faq",className:"text-red-600 hover:text-red-700 font-medium transition-colors",children:"FAQ"})]})]})]})})}),s.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none",children:[s.jsx(Z.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-1/4 left-1/4 w-32 h-32 bg-gradient-to-r from-red-500/10 to-red-600/10 rounded-full blur-3xl"}),s.jsx(Z.div,{animate:{scale:[1.2,1,1.2],rotate:[360,180,0]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-1/4 right-1/4 w-48 h-48 bg-gradient-to-r from-blue-500/10 to-blue-600/10 rounded-full blur-3xl"}),s.jsx(Z.div,{animate:{scale:[1,1.1,1],rotate:[0,90,180,270,360]},transition:{duration:30,repeat:1/0,ease:"linear"},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-gradient-to-r from-green-500/10 to-green-600/10 rounded-full blur-2xl"})]})]}),lpe="http://localhost:5000/api",su=xr.create({baseURL:lpe,withCredentials:!0,timeout:1e4}),cpe=()=>{};var ZF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},dpe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],l=e[r++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},uW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,l=o?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,u=a>>2,A=(a&3)<<4|l>>4;let f=(l&15)<<2|d>>6,m=d&63;c||(m=64,o||(f=64)),n.push(r[u],r[A],r[f],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dpe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],l=i<e.length?r[e.charAt(i)]:0;++i;const d=i<e.length?r[e.charAt(i)]:64;++i;const A=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||l==null||d==null||A==null)throw new upe;const f=a<<2|l>>4;if(n.push(f),d!==64){const m=l<<4&240|d>>2;if(n.push(m),A!==64){const x=d<<6&192|A;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class upe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hpe=function(e){const t=dW(e);return uW.encodeByteArray(t,!0)},hW=function(e){return hpe(e).replace(/\./g,"")},AW=function(e){try{return uW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ape(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fpe=()=>Ape().__FIREBASE_DEFAULTS__,mpe=()=>{if(typeof process>"u"||typeof ZF>"u")return;const e=ZF.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ppe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&AW(e[1]);return t&&JSON.parse(t)},f6=()=>{try{return cpe()||fpe()||mpe()||ppe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},gpe=e=>{var t,r;return(r=(t=f6())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},fW=()=>{var e;return(e=f6())==null?void 0:e.config},mW=e=>{var t;return(t=f6())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xpe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ype(e){return(await fetch(e,{credentials:"include"})).ok}const Fx={};function vpe(){const e={prod:[],emulator:[]};for(const t of Object.keys(Fx))Fx[t]?e.emulator.push(t):e.prod.push(t);return e}function bpe(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let eU=!1;function wpe(e,t){if(typeof window>"u"||typeof document>"u"||!UN(window.location.host)||Fx[e]===t||Fx[e]||eU)return;Fx[e]=t;function r(f){return`__firebase__banner__${f}`}const n="__firebase__banner",a=vpe().prod.length>0;function o(){const f=document.getElementById(n);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{eU=!0,o()},f}function u(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function A(){const f=bpe(n),m=r("text"),x=document.getElementById(m)||document.createElement("span"),p=r("learnmore"),v=document.getElementById(p)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),u(v,p);const j=d();c(b,y),w.append(b,x,v,j),document.body.appendChild(w)}a?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jpe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pa())}function Npe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _pe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cpe(){const e=Pa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gW(){try{return typeof indexedDB=="object"}catch{return!1}}function xW(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}function Bpe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe="FirebaseError";class Ad extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=Spe,Object.setPrototypeOf(this,Ad.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,im.prototype.create)}}class im{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?kpe(a,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ad(i,l,n)}}function kpe(e,t){return e.replace(Epe,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const Epe=/\{\$([^}]+)}/g;function Ppe(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Of(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(tU(a)&&tU(o)){if(!Of(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function tU(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function cx(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function dx(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function Ipe(e,t){const r=new Tpe(e,t);return r.subscribe.bind(r)}class Tpe{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Ope(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=yC),i.error===void 0&&(i.error=yC),i.complete===void 0&&(i.complete=yC);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ope(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function yC(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lpe=1e3,Fpe=2,Upe=4*60*60*1e3,Rpe=.5;function rU(e,t=Lpe,r=Fpe){const n=t*Math.pow(r,e),i=Math.round(Rpe*n*(Math.random()-.5)*2);return Math.min(Upe,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(e){return e&&e._delegate?e._delegate:e}class dd{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mpe{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new xpe;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Qpe(t))try{this.getOrInitializeService({instanceIdentifier:QA})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=QA){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=QA){return this.instances.has(t)}getOptions(t=QA){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Dpe(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=QA){return this.component?this.component.multipleInstances?t:QA:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Dpe(e){return e===QA?void 0:e}function Qpe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $pe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Mpe(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(In||(In={}));const Hpe={debug:In.DEBUG,verbose:In.VERBOSE,info:In.INFO,warn:In.WARN,error:In.ERROR,silent:In.SILENT},zpe=In.INFO,Vpe={[In.DEBUG]:"log",[In.VERBOSE]:"log",[In.INFO]:"info",[In.WARN]:"warn",[In.ERROR]:"error"},Kpe=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Vpe[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let m6=class{constructor(t){this.name=t,this._logLevel=zpe,this._logHandler=Kpe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in In))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Hpe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,In.DEBUG,...t),this._logHandler(this,In.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,In.VERBOSE,...t),this._logHandler(this,In.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,In.INFO,...t),this._logHandler(this,In.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,In.WARN,...t),this._logHandler(this,In.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,In.ERROR,...t),this._logHandler(this,In.ERROR,...t)}};const Wpe=(e,t)=>t.some(r=>e instanceof r);let nU,sU;function Gpe(){return nU||(nU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qpe(){return sU||(sU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yW=new WeakMap,M4=new WeakMap,vW=new WeakMap,vC=new WeakMap,p6=new WeakMap;function Ype(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Rh(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&yW.set(r,e)}).catch(()=>{}),p6.set(t,e),t}function Xpe(e){if(M4.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});M4.set(e,t)}let D4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return M4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||vW.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Rh(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Jpe(e){D4=e(D4)}function Zpe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(bC(this),t,...r);return vW.set(n,t.sort?t.sort():[t]),Rh(n)}:qpe().includes(e)?function(...t){return e.apply(bC(this),t),Rh(yW.get(this))}:function(...t){return Rh(e.apply(bC(this),t))}}function ege(e){return typeof e=="function"?Zpe(e):(e instanceof IDBTransaction&&Xpe(e),Wpe(e,Gpe())?new Proxy(e,D4):e)}function Rh(e){if(e instanceof IDBRequest)return Ype(e);if(vC.has(e))return vC.get(e);const t=ege(e);return t!==e&&(vC.set(e,t),p6.set(t,e)),t}const bC=e=>p6.get(e);function bW(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),l=Rh(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Rh(o.result),c.oldVersion,c.newVersion,Rh(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const tge=["get","getKey","getAll","getAllKeys","count"],rge=["put","add","delete","clear"],wC=new Map;function iU(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(wC.get(t))return wC.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=rge.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||tge.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(l.shift())),(await Promise.all([d[r](...l),i&&c.done]))[0]};return wC.set(t,a),a}Jpe(e=>({...e,get:(t,r,n)=>iU(t,r)||e.get(t,r,n),has:(t,r)=>!!iU(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nge{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(sge(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function sge(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Q4="@firebase/app",aU="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new m6("@firebase/app"),ige="@firebase/app-compat",age="@firebase/analytics-compat",oge="@firebase/analytics",lge="@firebase/app-check-compat",cge="@firebase/app-check",dge="@firebase/auth",uge="@firebase/auth-compat",hge="@firebase/database",Age="@firebase/data-connect",fge="@firebase/database-compat",mge="@firebase/functions",pge="@firebase/functions-compat",gge="@firebase/installations",xge="@firebase/installations-compat",yge="@firebase/messaging",vge="@firebase/messaging-compat",bge="@firebase/performance",wge="@firebase/performance-compat",jge="@firebase/remote-config",Nge="@firebase/remote-config-compat",_ge="@firebase/storage",Cge="@firebase/storage-compat",Bge="@firebase/firestore",Sge="@firebase/ai",kge="@firebase/firestore-compat",Ege="firebase",Pge="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="[DEFAULT]",Ige={[Q4]:"fire-core",[ige]:"fire-core-compat",[oge]:"fire-analytics",[age]:"fire-analytics-compat",[cge]:"fire-app-check",[lge]:"fire-app-check-compat",[dge]:"fire-auth",[uge]:"fire-auth-compat",[hge]:"fire-rtdb",[Age]:"fire-data-connect",[fge]:"fire-rtdb-compat",[mge]:"fire-fn",[pge]:"fire-fn-compat",[gge]:"fire-iid",[xge]:"fire-iid-compat",[yge]:"fire-fcm",[vge]:"fire-fcm-compat",[bge]:"fire-perf",[wge]:"fire-perf-compat",[jge]:"fire-rc",[Nge]:"fire-rc-compat",[_ge]:"fire-gcs",[Cge]:"fire-gcs-compat",[Bge]:"fire-fst",[kge]:"fire-fst-compat",[Sge]:"fire-vertex","fire-js":"fire-js",[Ege]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Map,Tge=new Map,H4=new Map;function oU(e,t){try{e.container.addComponent(t)}catch(r){fu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function mu(e){const t=e.name;if(H4.has(t))return fu.debug(`There were multiple attempts to register component ${t}.`),!1;H4.set(t,e);for(const r of y2.values())oU(r,e);for(const r of Tge.values())oU(r,e);return!0}function $g(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function ol(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oge={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mh=new im("app","Firebase",Oge);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lge{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=Pge;function wW(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:$4,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw Mh.create("bad-app-name",{appName:String(i)});if(r||(r=fW()),!r)throw Mh.create("no-options");const a=y2.get(i);if(a){if(Of(r,a.options)&&Of(n,a.config))return a;throw Mh.create("duplicate-app",{appName:i})}const o=new $pe(i);for(const c of H4.values())o.addComponent(c);const l=new Lge(r,n,o);return y2.set(i,l),l}function jW(e=$4){const t=y2.get(e);if(!t&&e===$4&&fW())return wW();if(!t)throw Mh.create("no-app",{appName:e});return t}function ed(e,t,r){let n=Ige[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${t}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fu.warn(o.join(" "));return}mu(new dd(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fge="firebase-heartbeat-database",Uge=1,jy="firebase-heartbeat-store";let jC=null;function NW(){return jC||(jC=bW(Fge,Uge,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(jy)}catch(r){console.warn(r)}}}}).catch(e=>{throw Mh.create("idb-open",{originalErrorMessage:e.message})})),jC}async function Rge(e){try{const r=(await NW()).transaction(jy),n=await r.objectStore(jy).get(_W(e));return await r.done,n}catch(t){if(t instanceof Ad)fu.warn(t.message);else{const r=Mh.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});fu.warn(r.message)}}}async function lU(e,t){try{const n=(await NW()).transaction(jy,"readwrite");await n.objectStore(jy).put(t,_W(e)),await n.done}catch(r){if(r instanceof Ad)fu.warn(r.message);else{const n=Mh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fu.warn(n.message)}}}function _W(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mge=1024,Dge=30;class Qge{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Hge(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cU();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Dge){const o=zge(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){fu.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=cU(),{heartbeatsToSend:n,unsentEntries:i}=$ge(this._heartbeatsCache.heartbeats),a=hW(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return fu.warn(r),""}}}function cU(){return new Date().toISOString().substring(0,10)}function $ge(e,t=Mge){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),dU(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),dU(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Hge{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gW()?xW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Rge(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return lU(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return lU(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function dU(e){return hW(JSON.stringify({version:2,heartbeats:e})).length}function zge(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vge(e){mu(new dd("platform-logger",t=>new nge(t),"PRIVATE")),mu(new dd("heartbeat",t=>new Qge(t),"PRIVATE")),ed(Q4,aU,e),ed(Q4,aU,"esm2020"),ed("fire-js","")}Vge("");function CW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kge=CW,BW=new im("auth","Firebase",CW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new m6("@firebase/auth");function Wge(e,...t){v2.logLevel<=In.WARN&&v2.warn(`Auth (${Mv}): ${e}`,...t)}function x1(e,...t){v2.logLevel<=In.ERROR&&v2.error(`Auth (${Mv}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(e,...t){throw x6(e,...t)}function oc(e,...t){return x6(e,...t)}function g6(e,t,r){const n={...Kge(),[t]:r};return new im("auth","Firebase",n).create(t,{appName:e.name})}function iu(e){return g6(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gge(e,t,r){const n=r;if(!(t instanceof n))throw n.name!==t.constructor.name&&yl(e,"argument-error"),g6(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x6(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return BW.create(e,...t)}function lr(e,t,...r){if(!e)throw x6(t,...r)}function Vd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw x1(t),new Error(t)}function pu(e,t){e||Vd(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function qge(){return uU()==="http:"||uU()==="https:"}function uU(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yge(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qge()||pW()||"connection"in navigator)?navigator.onLine:!0}function Xge(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,r){this.shortDelay=t,this.longDelay=r,pu(r>t,"Short delay should be less than long delay!"),this.isMobile=jpe()||_pe()}get(){return Yge()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(e,t){pu(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zge=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e0e=new Dv(3e4,6e4);function Cu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function fd(e,t,r,n,i={}){return kW(e,i,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const l=Rv({key:e.config.apiKey,...o}).slice(1),c=await e._getAdditionalHeaders();c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode);const d={method:t,headers:c,...a};return Npe()||(d.referrerPolicy="no-referrer"),e.emulatorConfig&&UN(e.emulatorConfig.host)&&(d.credentials="include"),SW.fetch()(await EW(e,e.config.apiHost,r,l),d)})}async function kW(e,t,r){e._canInitEmulator=!1;const n={...Jge,...t};try{const i=new r0e(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Kb(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kb(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Kb(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw Kb(e,"user-disabled",o);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw g6(e,u,d);yl(e,u)}}catch(i){if(i instanceof Ad)throw i;yl(e,"network-request-failed",{message:String(i)})}}async function Qv(e,t,r,n,i={}){const a=await fd(e,t,r,n,i);return"mfaPendingCredential"in a&&yl(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function EW(e,t,r,n){const i=`${t}${r}?${n}`,a=e,o=a.config.emulator?y6(e.config,i):`${e.config.apiScheme}://${i}`;return Zge.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function t0e(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class r0e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(oc(this.auth,"network-request-failed")),e0e.get())})}}function Kb(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=oc(e,t,n);return i.customData._tokenResponse=r,i}function hU(e){return e!==void 0&&e.enterprise!==void 0}class n0e{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return t0e(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s0e(e,t){return fd(e,"GET","/v2/recaptchaConfig",Cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0e(e,t){return fd(e,"POST","/v1/accounts:delete",t)}async function b2(e,t){return fd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function a0e(e,t=!1){const r=Uo(e),n=await r.getIdToken(t),i=v6(n);lr(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Ux(NC(i.auth_time)),issuedAtTime:Ux(NC(i.iat)),expirationTime:Ux(NC(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function NC(e){return Number(e)*1e3}function v6(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return x1("JWT malformed, contained fewer than 3 sections"),null;try{const i=AW(r);return i?JSON.parse(i):(x1("Failed to decode base64 JWT payload"),null)}catch(i){return x1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function AU(e){const t=v6(e);return lr(t,"internal-error"),lr(typeof t.exp<"u","internal-error"),lr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Ad&&o0e(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function o0e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ux(this.lastLoginAt),this.creationTime=Ux(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(e){var A;const t=e.auth,r=await e.getIdToken(),n=await ng(e,b2(t,{idToken:r}));lr(n==null?void 0:n.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const a=(A=i.providerUserInfo)!=null&&A.length?PW(i.providerUserInfo):[],o=d0e(e.providerData,a),l=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new V4(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(e,u)}async function c0e(e){const t=Uo(e);await w2(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function d0e(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function PW(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0e(e,t){const r=await kW(e,{},async()=>{const n=Rv({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=await EW(e,i,"/v1/token",`key=${a}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return e.emulatorConfig&&UN(e.emulatorConfig.host)&&(c.credentials="include"),SW.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function h0e(e,t){return fd(e,"POST","/v2/accounts:revokeToken",Cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){lr(t.idToken,"internal-error"),lr(typeof t.idToken<"u","internal-error"),lr(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):AU(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){lr(t.length!==0,"internal-error");const r=AU(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(lr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await u0e(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Bp;return n&&(lr(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(lr(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(lr(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Bp,this.toJSON())}_performRefresh(){return Vd("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(e,t){lr(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class sc{constructor({uid:t,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new l0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V4(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await ng(this,this.stsTokenManager.getToken(this.auth,t));return lr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return a0e(this,t)}reload(){return c0e(this)}_assign(t){this!==t&&(lr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new sc({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){lr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await w2(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ol(this.auth.app))return Promise.reject(iu(this.auth));const t=await this.getIdToken();return await ng(this,i0e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,l=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:A,emailVerified:f,isAnonymous:m,providerData:x,stsTokenManager:p}=r;lr(A&&p,t,"internal-error");const v=Bp.fromJSON(this.name,p);lr(typeof A=="string",t,"internal-error"),Zu(n,t.name),Zu(i,t.name),lr(typeof f=="boolean",t,"internal-error"),lr(typeof m=="boolean",t,"internal-error"),Zu(a,t.name),Zu(o,t.name),Zu(l,t.name),Zu(c,t.name),Zu(d,t.name),Zu(u,t.name);const y=new sc({uid:A,auth:t,email:i,emailVerified:f,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:v,createdAt:d,lastLoginAt:u});return x&&Array.isArray(x)&&(y.providerData=x.map(b=>({...b}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(t,r,n=!1){const i=new Bp;i.updateFromServerResponse(r);const a=new sc({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await w2(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];lr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PW(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Bp;l.updateFromIdToken(n);const c=new sc({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new V4(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Map;function Kd(e){pu(e instanceof Function,"Expected a class definition");let t=fU.get(e);return t?(pu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fU.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}IW.type="NONE";const mU=IW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e,t,r){return`firebase:${e}:${t}:${r}`}class Sp{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=y1(this.userKey,i.apiKey,a),this.fullPersistenceKey=y1("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await b2(this.auth,{idToken:t}).catch(()=>{});return r?sc._fromGetAccountInfoResponse(this.auth,r,t):null}return sc._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Sp(Kd(mU),t,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Kd(mU);const o=y1(n,t.config.apiKey,t.name);let l=null;for(const d of r)try{const u=await d._get(o);if(u){let A;if(typeof u=="string"){const f=await b2(t,{idToken:u}).catch(()=>{});if(!f)break;A=await sc._fromGetAccountInfoResponse(t,f,u)}else A=sc._fromJSON(t,u);d!==a&&(l=A),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Sp(a,t,n):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new Sp(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(FW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RW(t))return"Blackberry";if(MW(t))return"Webos";if(OW(t))return"Safari";if((t.includes("chrome/")||LW(t))&&!t.includes("edge/"))return"Chrome";if(UW(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function TW(e=Pa()){return/firefox\//i.test(e)}function OW(e=Pa()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LW(e=Pa()){return/crios\//i.test(e)}function FW(e=Pa()){return/iemobile/i.test(e)}function UW(e=Pa()){return/android/i.test(e)}function RW(e=Pa()){return/blackberry/i.test(e)}function MW(e=Pa()){return/webos/i.test(e)}function b6(e=Pa()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function A0e(e=Pa()){var t;return b6(e)&&!!((t=window.navigator)!=null&&t.standalone)}function f0e(){return Cpe()&&document.documentMode===10}function DW(e=Pa()){return b6(e)||UW(e)||MW(e)||RW(e)||/windows phone/i.test(e)||FW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(e,t=[]){let r;switch(e){case"Browser":r=pU(Pa());break;case"Worker":r=`${pU(Pa())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Mv}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,l)=>{try{const c=t(a);o(c)}catch(c){l(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p0e(e,t={}){return fd(e,"GET","/v2/passwordPolicy",Cu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0e=6;class x0e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??g0e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0e{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gU(this),this.idTokenSubscription=new gU(this),this.beforeStateQueue=new m0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Kd(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Sp.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await b2(this,{idToken:t}),n=await sc._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(ol(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!o||o===l)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return lr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await w2(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Xge()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ol(this.app))return Promise.reject(iu(this));const r=t?Uo(t):null;return r&&lr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&lr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ol(this.app)?Promise.reject(iu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ol(this.app)?Promise.reject(iu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kd(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await p0e(this),r=new x0e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new im("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await h0e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Kd(t)||this._popupRedirectResolver;lr(r,this,"argument-error"),this.redirectPersistenceManager=await Sp.create(this,[Kd(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lr(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const c=t.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=t.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return lr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(ol(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&Wge(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function cA(e){return Uo(e)}class gU{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ipe(r=>this.observer=r)}get next(){return lr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v0e(e){RN=e}function $W(e){return RN.loadJS(e)}function b0e(){return RN.recaptchaEnterpriseScript}function w0e(){return RN.gapiScript}function j0e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class N0e{constructor(){this.enterprise=new _0e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class _0e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const C0e="recaptcha-enterprise",HW="NO_RECAPTCHA";class B0e{constructor(t){this.type=C0e,this.auth=cA(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{s0e(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new n0e(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;hU(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:t}).then(d=>{o(d)}).catch(()=>{o(HW)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N0e().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{n(this.auth).then(l=>{if(!r&&hU(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=b0e();c.length!==0&&(c+=l),$W(c).then(()=>{i(l,a,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function xU(e,t,r,n=!1,i=!1){const a=new B0e(e);let o;if(i)o=HW;else try{o=await a.verify(r)}catch{o=await a.verify(r,!0)}const l={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function K4(e,t,r,n,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xU(e,t,r,r==="getOobCode");return n(e,o)}else return n(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await xU(e,t,r,r==="getOobCode");return n(e,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0e(e,t){const r=$g(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Of(a,t??{}))return i;yl(i,"already-initialized")}return r.initialize({options:t})}function k0e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Kd);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function E0e(e,t,r){const n=cA(e);lr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=zW(t),{host:o,port:l}=P0e(t),c=l===null?"":`:${l}`,d={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){lr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),lr(Of(d,n.config.emulator)&&Of(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,UN(o)?(ype(`${a}//${o}${c}`),wpe("Auth",!0)):I0e()}function zW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function P0e(e){const t=zW(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:yU(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:yU(o)}}}function yU(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function I0e(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Vd("not implemented")}_getIdTokenResponse(t){return Vd("not implemented")}_linkToIdToken(t,r){return Vd("not implemented")}_getReauthenticationResolver(t){return Vd("not implemented")}}async function T0e(e,t){return fd(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O0e(e,t){return Qv(e,"POST","/v1/accounts:signInWithPassword",Cu(e,t))}async function L0e(e,t){return fd(e,"POST","/v1/accounts:sendOobCode",Cu(e,t))}async function F0e(e,t){return L0e(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0e(e,t){return Qv(e,"POST","/v1/accounts:signInWithEmailLink",Cu(e,t))}async function R0e(e,t){return Qv(e,"POST","/v1/accounts:signInWithEmailLink",Cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends w6{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new Ny(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Ny(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K4(t,r,"signInWithPassword",O0e);case"emailLink":return U0e(t,{email:this._email,oobCode:this._password});default:yl(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K4(t,n,"signUpPassword",T0e);case"emailLink":return R0e(t,{idToken:r,email:this._email,oobCode:this._password});default:yl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kp(e,t){return Qv(e,"POST","/v1/accounts:signInWithIdp",Cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0e="http://localhost";class Lf extends w6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Lf(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):yl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new Lf(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return kp(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,kp(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,kp(t,r)}buildRequest(){const t={requestUri:M0e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Rv(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q0e(e){const t=cx(dx(e)).link,r=t?cx(dx(t)).deep_link_id:null,n=cx(dx(e)).deep_link_id;return(n?cx(dx(n)).link:null)||n||r||t||e}class j6{constructor(t){const r=cx(dx(t)),n=r.apiKey??null,i=r.oobCode??null,a=D0e(r.mode??null);lr(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=Q0e(t);try{return new j6(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.providerId=Hg.PROVIDER_ID}static credential(t,r){return Ny._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=j6.parseLink(r);return lr(n,"argument-error"),Ny._fromEmailAndCode(t,n.code,n.tenantId)}}Hg.PROVIDER_ID="password";Hg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends N6{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends $v{constructor(){super("facebook.com")}static credential(t){return Lf._fromParams({providerId:mh.PROVIDER_ID,signInMethod:mh.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mh.credentialFromTaggedObject(t)}static credentialFromError(t){return mh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mh.credential(t.oauthAccessToken)}catch{return null}}}mh.FACEBOOK_SIGN_IN_METHOD="facebook.com";mh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends $v{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Lf._fromParams({providerId:Dd.PROVIDER_ID,signInMethod:Dd.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Dd.credentialFromTaggedObject(t)}static credentialFromError(t){return Dd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Dd.credential(r,n)}catch{return null}}}Dd.GOOGLE_SIGN_IN_METHOD="google.com";Dd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends $v{constructor(){super("github.com")}static credential(t){return Lf._fromParams({providerId:ph.PROVIDER_ID,signInMethod:ph.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ph.credentialFromTaggedObject(t)}static credentialFromError(t){return ph.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ph.credential(t.oauthAccessToken)}catch{return null}}}ph.GITHUB_SIGN_IN_METHOD="github.com";ph.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends $v{constructor(){super("twitter.com")}static credential(t,r){return Lf._fromParams({providerId:gh.PROVIDER_ID,signInMethod:gh.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return gh.credentialFromTaggedObject(t)}static credentialFromError(t){return gh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return gh.credential(r,n)}catch{return null}}}gh.TWITTER_SIGN_IN_METHOD="twitter.com";gh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0e(e,t){return Qv(e,"POST","/v1/accounts:signUp",Cu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await sc._fromIdTokenResponse(t,n,i),o=vU(n);return new Ff({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=vU(n);return new Ff({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function vU(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2 extends Ad{constructor(t,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,j2.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new j2(t,r,n,i)}}function VW(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?j2._fromErrorAndOperation(e,a,t,n):a})}async function H0e(e,t,r=!1){const n=await ng(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Ff._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0e(e,t,r=!1){const{auth:n}=e;if(ol(n.app))return Promise.reject(iu(n));const i="reauthenticate";try{const a=await ng(e,VW(n,i,t,e),r);lr(a.idToken,n,"internal-error");const o=v6(a.idToken);lr(o,n,"internal-error");const{sub:l}=o;return lr(e.uid===l,n,"user-mismatch"),Ff._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(e,t,r=!1){if(ol(e.app))return Promise.reject(iu(e));const n="signIn",i=await VW(e,n,t),a=await Ff._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function V0e(e,t){return KW(cA(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WW(e){const t=cA(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GW(e,t,r){if(ol(e.app))return Promise.reject(iu(e));const n=cA(e),o=await K4(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$0e).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&WW(e),c}),l=await Ff._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function K0e(e,t,r){return ol(e.app)?Promise.reject(iu(e)):V0e(Uo(e),Hg.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&WW(e),n})}async function qW(e,t){const r=Uo(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:a}=await F0e(r.auth,i);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0e(e,t){return fd(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=Uo(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await ng(n,W0e(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const l=n.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=n.displayName,l.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function G0e(e,t,r,n){return Uo(e).onIdTokenChanged(t,r,n)}function q0e(e,t,r){return Uo(e).beforeAuthStateChanged(t,r)}function Y0e(e){return Uo(e).signOut()}const N2="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(N2,"1"),this.storage.removeItem(N2),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0e=1e3,J0e=10;class JW extends XW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);f0e()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,J0e):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},X0e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}JW.type="LOCAL";const Z0e=JW;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW extends XW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}ZW.type="SESSION";const eG=ZW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function exe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new MN(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async d=>d(r.origin,a)),c=await exe(l);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}MN.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class txe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const d=_6("",20);i.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(A){const f=A;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(u),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){return window}function rxe(e){td().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tG(){return typeof td().WorkerGlobalScope<"u"&&typeof td().importScripts=="function"}async function nxe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sxe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function ixe(){return tG()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="firebaseLocalStorageDb",axe=1,_2="firebaseLocalStorage",nG="fbase_key";class Hv{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function DN(e,t){return e.transaction([_2],t?"readwrite":"readonly").objectStore(_2)}function oxe(){const e=indexedDB.deleteDatabase(rG);return new Hv(e).toPromise()}function W4(){const e=indexedDB.open(rG,axe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(_2,{keyPath:nG})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(_2)?t(n):(n.close(),await oxe(),t(await W4()))})})}async function bU(e,t,r){const n=DN(e,!0).put({[nG]:t,value:r});return new Hv(n).toPromise()}async function lxe(e,t){const r=DN(e,!1).get(t),n=await new Hv(r).toPromise();return n===void 0?null:n.value}function wU(e,t){const r=DN(e,!0).delete(t);return new Hv(r).toPromise()}const cxe=800,dxe=3;class sG{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W4(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>dxe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tG()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=MN._getInstance(ixe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await nxe(),!this.activeServiceWorker)return;this.sender=new txe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sxe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await W4();return await bU(t,N2,"1"),await wU(t,N2),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>bU(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>lxe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>wU(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=DN(i,!1).getAll();return new Hv(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sG.type="LOCAL";const uxe=sG;new Dv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(e,t){return t?Kd(t):(lr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6 extends w6{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return kp(t,this._buildIdpRequest())}_linkToIdToken(t,r){return kp(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return kp(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function hxe(e){return KW(e.auth,new C6(e),e.bypassAuthState)}function Axe(e){const{auth:t,user:r}=e;return lr(r,t,"internal-error"),z0e(r,new C6(e),e.bypassAuthState)}async function fxe(e){const{auth:t,user:r}=e;return lr(r,t,"internal-error"),H0e(r,new C6(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:l}=t;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hxe;case"linkViaPopup":case"linkViaRedirect":return fxe;case"reauthViaPopup":case"reauthViaRedirect":return Axe;default:yl(this.auth,"internal-error")}}resolve(t){pu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mxe=new Dv(2e3,1e4);async function pxe(e,t,r){if(ol(e.app))return Promise.reject(oc(e,"operation-not-supported-in-this-environment"));const n=cA(e);Gge(e,t,N6);const i=iG(n,r);return new rf(n,"signInViaPopup",t,i).executeNotNull()}class rf extends aG{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,rf.currentPopupAction&&rf.currentPopupAction.cancel(),rf.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return lr(t,this.auth,"internal-error"),t}async onExecution(){pu(this.filter.length===1,"Popup operations only handle one event");const t=_6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(oc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rf.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,mxe.get())};t()}}rf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gxe="pendingRedirect",v1=new Map;class xxe extends aG{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=v1.get(this.auth._key());if(!t){try{const n=await yxe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}v1.set(this.auth._key(),t)}return this.bypassAuthState||v1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yxe(e,t){const r=wxe(t),n=bxe(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function vxe(e,t){v1.set(e._key(),t)}function bxe(e){return Kd(e._redirectPersistence)}function wxe(e){return y1(gxe,e.config.apiKey,e.name)}async function jxe(e,t,r=!1){if(ol(e.app))return Promise.reject(iu(e));const n=cA(e),i=iG(n,t),o=await new xxe(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nxe=10*60*1e3;class _xe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Cxe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!oG(t)){const i=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(oc(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nxe&&this.cachedEventUids.clear(),this.cachedEventUids.has(jU(t))}saveEventToCache(t){this.cachedEventUids.add(jU(t)),this.lastProcessedEventTime=Date.now()}}function jU(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function oG({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Cxe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oG(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bxe(e,t={}){return fd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sxe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kxe=/^https?/;async function Exe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Bxe(e);for(const r of t)try{if(Pxe(r))return}catch{}yl(e,"unauthorized-domain")}function Pxe(e){const t=z4(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!kxe.test(r))return!1;if(Sxe.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ixe=new Dv(3e4,6e4);function NU(){const e=td().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Txe(e){return new Promise((t,r)=>{var i,a,o;function n(){NU(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{NU(),r(oc(e,"network-request-failed"))},timeout:Ixe.get()})}if((a=(i=td().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((o=td().gapi)!=null&&o.load)n();else{const l=j0e("iframefcb");return td()[l]=()=>{gapi.load?n():r(oc(e,"network-request-failed"))},$W(`${w0e()}?onload=${l}`).catch(c=>r(c))}}).catch(t=>{throw b1=null,t})}let b1=null;function Oxe(e){return b1=b1||Txe(e),b1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lxe=new Dv(5e3,15e3),Fxe="__/auth/iframe",Uxe="emulator/auth/iframe",Rxe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mxe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dxe(e){const t=e.config;lr(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?y6(t,Uxe):`https://${e.config.authDomain}/${Fxe}`,n={apiKey:t.apiKey,appName:e.name,v:Mv},i=Mxe.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Rv(n).slice(1)}`}async function Qxe(e){const t=await Oxe(e),r=td().gapi;return lr(r,e,"internal-error"),t.open({where:document.body,url:Dxe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rxe,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=oc(e,"network-request-failed"),l=td().setTimeout(()=>{a(o)},Lxe.get());function c(){td().clearTimeout(l),i(n)}n.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $xe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hxe=500,zxe=600,Vxe="_blank",Kxe="http://localhost";class _U{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wxe(e,t,r,n=Hxe,i=zxe){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...$xe,width:n.toString(),height:i.toString(),top:a,left:o},d=Pa().toLowerCase();r&&(l=LW(d)?Vxe:r),TW(d)&&(t=t||Kxe,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[m,x])=>`${f}${m}=${x},`,"");if(A0e(d)&&l!=="_self")return Gxe(t||"",l),new _U(null);const A=window.open(t||"",l,u);lr(A,e,"popup-blocked");try{A.focus()}catch{}return new _U(A)}function Gxe(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qxe="__/auth/handler",Yxe="emulator/auth/handler",Xxe=encodeURIComponent("fac");async function CU(e,t,r,n,i,a){lr(e.config.authDomain,e,"auth-domain-config-required"),lr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Mv,eventId:i};if(t instanceof N6){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ppe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,A]of Object.entries({}))o[u]=A}if(t instanceof $v){const u=t.getScopes().filter(A=>A!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await e._getAppCheckToken(),d=c?`#${Xxe}=${encodeURIComponent(c)}`:"";return`${Jxe(e)}?${Rv(l).slice(1)}${d}`}function Jxe({config:e}){return e.emulator?y6(e,Yxe):`https://${e.authDomain}/${qxe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="webStorageSupport";class Zxe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eG,this._completeRedirectFn=jxe,this._overrideRedirectResult=vxe}async _openPopup(t,r,n,i){var o;pu((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await CU(t,r,n,z4(),i);return Wxe(t,a,_6())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await CU(t,r,n,z4(),i);return rxe(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(pu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Qxe(t),n=new _xe(t);return r.register("authEvent",i=>(lr(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(_C,{type:_C},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[_C];a!==void 0&&r(!!a),yl(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Exe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return DW()||OW()||b6()}}const eye=Zxe;var BU="@firebase/auth",SU="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tye{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){lr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rye(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nye(e){mu(new dd("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;lr(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QW(e)},d=new y0e(n,i,a,c);return k0e(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),mu(new dd("auth-internal",t=>{const r=cA(t.getProvider("auth").getImmediate());return(n=>new tye(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ed(BU,SU,rye(e)),ed(BU,SU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sye=5*60,iye=mW("authIdTokenMaxAge")||sye;let kU=null;const aye=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>iye)return;const i=r==null?void 0:r.token;kU!==i&&(kU=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function oye(e=jW()){const t=$g(e,"auth");if(t.isInitialized())return t.getImmediate();const r=S0e(e,{popupRedirectResolver:eye,persistence:[uxe,Z0e,eG]}),n=mW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=aye(a.toString());q0e(r,o,()=>o(r.currentUser)),G0e(r,l=>o(l))}}const i=gpe("auth");return i&&E0e(r,`http://${i}`),r}function lye(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}v0e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=oc("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",lye().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nye("Browser");var cye="firebase",dye="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ed(cye,dye,"app");const lG="@firebase/installations",B6="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=1e4,dG=`w:${B6}`,uG="FIS_v2",uye="https://firebaseinstallations.googleapis.com/v1",hye=60*60*1e3,Aye="installations",fye="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mye={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Uf=new im(Aye,fye,mye);function hG(e){return e instanceof Ad&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AG({projectId:e}){return`${uye}/projects/${e}/installations`}function fG(e){return{token:e.token,requestStatus:2,expiresIn:gye(e.expiresIn),creationTime:Date.now()}}async function mG(e,t){const n=(await t.json()).error;return Uf.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function pG({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function pye(e,{refreshToken:t}){const r=pG(e);return r.append("Authorization",xye(t)),r}async function gG(e){const t=await e();return t.status>=500&&t.status<600?e():t}function gye(e){return Number(e.replace("s","000"))}function xye(e){return`${uG} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yye({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=AG(e),i=pG(e),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={fid:r,authVersion:uG,appId:e.appId,sdkVersion:dG},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await gG(()=>fetch(n,l));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:fG(d.authToken)}}else throw await mG("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vye(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bye=/^[cdef][\w-]{21}$/,G4="";function wye(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=jye(e);return bye.test(r)?r:G4}catch{return G4}}function jye(e){return vye(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=new Map;function vG(e,t){const r=QN(e);bG(r,t),Nye(r,t)}function bG(e,t){const r=yG.get(e);if(r)for(const n of r)n(t)}function Nye(e,t){const r=_ye();r&&r.postMessage({key:e,fid:t}),Cye()}let nf=null;function _ye(){return!nf&&"BroadcastChannel"in self&&(nf=new BroadcastChannel("[Firebase] FID Change"),nf.onmessage=e=>{bG(e.data.key,e.data.fid)}),nf}function Cye(){yG.size===0&&nf&&(nf.close(),nf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bye="firebase-installations-database",Sye=1,Rf="firebase-installations-store";let CC=null;function S6(){return CC||(CC=bW(Bye,Sye,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Rf)}}})),CC}async function C2(e,t){const r=QN(e),i=(await S6()).transaction(Rf,"readwrite"),a=i.objectStore(Rf),o=await a.get(r);return await a.put(t,r),await i.done,(!o||o.fid!==t.fid)&&vG(e,t.fid),t}async function wG(e){const t=QN(e),n=(await S6()).transaction(Rf,"readwrite");await n.objectStore(Rf).delete(t),await n.done}async function $N(e,t){const r=QN(e),i=(await S6()).transaction(Rf,"readwrite"),a=i.objectStore(Rf),o=await a.get(r),l=t(o);return l===void 0?await a.delete(r):await a.put(l,r),await i.done,l&&(!o||o.fid!==l.fid)&&vG(e,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(e){let t;const r=await $N(e.appConfig,n=>{const i=kye(n),a=Eye(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===G4?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function kye(e){const t=e||{fid:wye(),registrationStatus:0};return jG(t)}function Eye(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Uf.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=Pye(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Iye(e)}:{installationEntry:t}}async function Pye(e,t){try{const r=await yye(e,t);return C2(e.appConfig,r)}catch(r){throw hG(r)&&r.customData.serverCode===409?await wG(e.appConfig):await C2(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function Iye(e){let t=await EU(e.appConfig);for(;t.registrationStatus===1;)await xG(100),t=await EU(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await k6(e);return n||r}return t}function EU(e){return $N(e,t=>{if(!t)throw Uf.create("installation-not-found");return jG(t)})}function jG(e){return Tye(e)?{fid:e.fid,registrationStatus:0}:e}function Tye(e){return e.registrationStatus===1&&e.registrationTime+cG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oye({appConfig:e,heartbeatServiceProvider:t},r){const n=Lye(e,r),i=pye(e,r),a=t.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const o={installation:{sdkVersion:dG,appId:e.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await gG(()=>fetch(n,l));if(c.ok){const d=await c.json();return fG(d)}else throw await mG("Generate Auth Token",c)}function Lye(e,{fid:t}){return`${AG(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(e,t=!1){let r;const n=await $N(e.appConfig,a=>{if(!NG(a))throw Uf.create("not-registered");const o=a.authToken;if(!t&&Rye(o))return a;if(o.requestStatus===1)return r=Fye(e,t),a;{if(!navigator.onLine)throw Uf.create("app-offline");const l=Dye(a);return r=Uye(e,l),l}});return r?await r:n.authToken}async function Fye(e,t){let r=await PU(e.appConfig);for(;r.authToken.requestStatus===1;)await xG(100),r=await PU(e.appConfig);const n=r.authToken;return n.requestStatus===0?E6(e,t):n}function PU(e){return $N(e,t=>{if(!NG(t))throw Uf.create("not-registered");const r=t.authToken;return Qye(r)?{...t,authToken:{requestStatus:0}}:t})}async function Uye(e,t){try{const r=await Oye(e,t),n={...t,authToken:r};return await C2(e.appConfig,n),r}catch(r){if(hG(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await wG(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await C2(e.appConfig,n)}throw r}}function NG(e){return e!==void 0&&e.registrationStatus===2}function Rye(e){return e.requestStatus===2&&!Mye(e)}function Mye(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hye}function Dye(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Qye(e){return e.requestStatus===1&&e.requestTime+cG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ye(e){const t=e,{installationEntry:r,registrationPromise:n}=await k6(t);return n?n.catch(console.error):E6(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hye(e,t=!1){const r=e;return await zye(r),(await E6(r,t)).token}async function zye(e){const{registrationPromise:t}=await k6(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vye(e){if(!e||!e.options)throw BC("App Configuration");if(!e.name)throw BC("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw BC(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function BC(e){return Uf.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="installations",Kye="installations-internal",Wye=e=>{const t=e.getProvider("app").getImmediate(),r=Vye(t),n=$g(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Gye=e=>{const t=e.getProvider("app").getImmediate(),r=$g(t,_G).getImmediate();return{getId:()=>$ye(r),getToken:i=>Hye(r,i)}};function qye(){mu(new dd(_G,Wye,"PUBLIC")),mu(new dd(Kye,Gye,"PRIVATE"))}qye();ed(lG,B6);ed(lG,B6,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="analytics",Yye="firebase_id",Xye="origin",Jye=60*1e3,Zye="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",P6="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new m6("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eve={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ko=new im("analytics","Analytics",eve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tve(e){if(!e.startsWith(P6)){const t=ko.create("invalid-gtag-resource",{gtagURL:e});return Ea.warn(t.message),""}return e}function CG(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function rve(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function nve(e,t){const r=rve("firebase-js-sdk-policy",{createScriptURL:tve}),n=document.createElement("script"),i=`${P6}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function sve(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function ive(e,t,r,n,i,a){const o=n[i];try{if(o)await t[o];else{const c=(await CG(r)).find(d=>d.measurementId===i);c&&await t[c.appId]}}catch(l){Ea.error(l)}e("config",i,a)}async function ave(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await CG(r);for(const c of o){const d=l.find(A=>A.measurementId===c),u=d&&t[d.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){Ea.error(a)}}function ove(e,t,r,n){async function i(a,...o){try{if(a==="event"){const[l,c]=o;await ave(e,t,r,l,c)}else if(a==="config"){const[l,c]=o;await ive(e,t,r,n,l,c)}else if(a==="consent"){const[l,c]=o;e("consent",l,c)}else if(a==="get"){const[l,c,d]=o;e("get",l,c,d)}else if(a==="set"){const[l]=o;e("set",l)}else e(a,...o)}catch(l){Ea.error(l)}}return i}function lve(e,t,r,n,i){let a=function(...o){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=ove(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function cve(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(P6)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dve=30,uve=1e3;class hve{constructor(t={},r=uve){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const BG=new hve;function Ave(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fve(e){var o;const{appId:t,apiKey:r}=e,n={method:"GET",headers:Ave(r)},i=Zye.replace("{app-id}",t),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();(o=c.error)!=null&&o.message&&(l=c.error.message)}catch{}throw ko.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function mve(e,t=BG,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw ko.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw ko.create("no-api-key")}const o=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new xve;return setTimeout(async()=>{l.abort()},Jye),SG({appId:n,apiKey:i,measurementId:a},o,l,t)}async function SG(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=BG){var l;const{appId:a,measurementId:o}=e;try{await pve(n,t)}catch(c){if(o)return Ea.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:o};throw c}try{const c=await fve(e);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!gve(d)){if(i.deleteThrottleMetadata(a),o)return Ea.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:o};throw c}const u=Number((l=d==null?void 0:d.customData)==null?void 0:l.httpStatus)===503?rU(r,i.intervalMillis,dve):rU(r,i.intervalMillis),A={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(a,A),Ea.debug(`Calling attemptFetch again in ${u} millis`),SG(e,A,n,i)}}function pve(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(ko.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function gve(e){if(!(e instanceof Ad)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class xve{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function yve(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,o={...n,send_to:a};e("event",r,o)}}async function vve(e,t,r,n){if(n&&n.global){const i={};for(const a of Object.keys(r))i[`user_properties.${a}`]=r[a];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bve(){if(gW())try{await xW()}catch(e){return Ea.warn(ko.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ea.warn(ko.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wve(e,t,r,n,i,a,o){const l=mve(e);l.then(f=>{r[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&Ea.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ea.error(f)),t.push(l);const c=bve().then(f=>{if(f)return n.getId()}),[d,u]=await Promise.all([l,c]);cve(a)||nve(a,d.measurementId),i("js",new Date);const A=(o==null?void 0:o.config)??{};return A[Xye]="firebase",A.update=!0,u!=null&&(A[Yye]=u),i("config",d.measurementId,A),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jve{constructor(t){this.app=t}_delete(){return delete Ep[this.app.options.appId],Promise.resolve()}}let Ep={},IU=[];const TU={};let SC="dataLayer",Nve="gtag",OU,I6,LU=!1;function _ve(){const e=[];if(pW()&&e.push("This is a browser extension environment."),Bpe()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=ko.create("invalid-analytics-context",{errorInfo:t});Ea.warn(r.message)}}function Cve(e,t,r){_ve();const n=e.options.appId;if(!n)throw ko.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ea.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ko.create("no-api-key");if(Ep[n]!=null)throw ko.create("already-exists",{id:n});if(!LU){sve(SC);const{wrappedGtag:a,gtagCore:o}=lve(Ep,IU,TU,SC,Nve);I6=a,OU=o,LU=!0}return Ep[n]=wve(e,IU,TU,t,OU,SC,r),new jve(e)}function Bve(e=jW()){e=Uo(e);const t=$g(e,B2);return t.isInitialized()?t.getImmediate():Sve(e)}function Sve(e,t={}){const r=$g(e,B2);if(r.isInitialized()){const i=r.getImmediate();if(Of(t,r.getOptions()))return i;throw ko.create("already-initialized")}return r.initialize({options:t})}function kve(e,t,r){e=Uo(e),vve(I6,Ep[e.app.options.appId],t,r).catch(n=>Ea.error(n))}function Eve(e,t,r,n){e=Uo(e),yve(I6,Ep[e.app.options.appId],t,r,n).catch(i=>Ea.error(i))}const FU="@firebase/analytics",UU="0.10.19";function Pve(){mu(new dd(B2,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return Cve(n,i,r)},"PUBLIC")),mu(new dd("analytics-internal",e,"PRIVATE")),ed(FU,UU),ed(FU,UU,"esm2020");function e(t){try{const r=t.getProvider(B2).getImmediate();return{logEvent:(n,i,a)=>Eve(r,n,i,a),setUserProperties:(n,i)=>kve(r,n,i)}}catch(r){throw ko.create("interop-component-reg-failed",{reason:r})}}}Pve();const Ive={apiKey:"AIzaSyDzhAKzSVS-Y-s8s4yIufbGufzIWGg-hK0",authDomain:"lyvo-ce4ce.firebaseapp.com",projectId:"lyvo-ce4ce",storageBucket:"lyvo-ce4ce.firebasestorage.app",messagingSenderId:"369723896940",appId:"1:369723896940:web:110502102b415be5f59449",measurementId:"G-RW4WQDGN7R"},kG=wW(Ive);Bve(kG);const Rx=oye(kG),Tve=()=>{const[e,t]=_.useState({email:"",password:""}),[r,n]=_.useState(null),[i,a]=_.useState(!1),[o,l]=_.useState(!1),[c,d]=_.useState(!1),u=cr();_.useEffect(()=>{(()=>{const p="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",v=document.createElement("script");v.src="https://accounts.google.com/gsi/client",v.async=!0,v.defer=!0,document.head.appendChild(v),v.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:p,callback:A,auto_select:!1,cancel_on_tap_outside:!0}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signin_with",shape:"rectangular",width:"100%"})}catch(y){console.error("Error initializing Google Sign-In:",y);const b=document.getElementById("google-signin-button");b&&(b.style.display="none"),toast.error("Google Sign-in is temporarily unavailable. Please use email/password login.")}},v.onerror=()=>{console.error("Failed to load Google Sign-In script");const y=document.getElementById("google-signin-button");y&&(y.style.display="none"),toast.error("Google Sign-in is temporarily unavailable. Please use email/password login.")}})()},[]),_.useEffect(()=>{const x=Jc(),p=Tv();if(x&&p){Iv(p);const v=Lx(p);u(v,{replace:!0})}},[u]);const A=async x=>{var p,v,y,b;try{if(d(!0),n(null),!x||!x.credential)throw new Error("No credential received from Google");const w=await su.post("/user/google-signin",{credential:x.credential});localStorage.setItem("authToken",w.data.token),localStorage.setItem("user",JSON.stringify(w.data.user)),console.log("Login: Google sign-in successful, stored data:",{token:w.data.token?"present":"missing",user:w.data.user}),window.dispatchEvent(new Event("lyvo-login"));const j=w.data.user||{};if(console.log("Login: User data after Google sign-in:",{role:j.role,roleType:typeof j.role,isNewUser:j.isNewUser,hasCompletedBehaviorQuestions:j.hasCompletedBehaviorQuestions,email:j.email,name:j.name}),j.role===1&&j.isNewUser&&!j.hasCompletedBehaviorQuestions){console.log("Login: Redirecting seeker to onboarding for behavioral questions"),u("/onboarding");return}if(j&&j.role===1&&(!j.phone||!j.location||j.age===void 0||j.age===null||j.age===""||!j.occupation||!j.gender)){u("/seeker-profile");return}const B=Lx(j);console.log("Login: Final redirect URL for Google sign-in user:",{role:j.role,redirectUrl:B,userData:j}),u(B)}catch(w){console.error("Google Sign-in Error:",w),((p=w.response)==null?void 0:p.status)===403?n("Google Sign-in is not configured for this domain. Please use email/password login."):((v=w.response)==null?void 0:v.status)===400?n("Invalid Google credentials. Please try again."):w.message==="No credential received from Google"?n("Google Sign-in failed. Please try again."):n(((b=(y=w.response)==null?void 0:y.data)==null?void 0:b.message)||"Google sign-in failed. Please try again.");const j=document.getElementById("google-signin-button");j&&(j.style.display="none")}finally{d(!1)}},f=x=>{t({...e,[x.target.id]:x.target.value})},m=async x=>{var p,v;x.preventDefault(),a(!0),n(null);try{const b=(await K0e(Rx,e.email,e.password)).user;if(!b.emailVerified){n("Please verify your email address before logging in."),a(!1);return}const w=await b.getIdToken(),j=await su.post("/user/auth/firebase",{},{headers:{Authorization:`Bearer ${w}`}});localStorage.setItem("authToken",j.data.token),localStorage.setItem("user",JSON.stringify(j.data.user)),console.log("Login: Firebase login successful, stored data:",{token:j.data.token?"present":"missing",user:j.data.user}),window.dispatchEvent(new Event("lyvo-login"));const N=j.data.user||{};if(N.role===1&&N.isNewUser&&!N.hasCompletedBehaviorQuestions){u("/onboarding");return}if(N&&N.role===1&&(!N.phone||!N.location||N.age===void 0||N.age===null||N.age===""||!N.occupation||!N.gender)){u("/seeker-profile");return}const I=Lx(N);u(I)}catch(y){console.error("Login Error:",y),y.code==="auth/invalid-credential"?n("Invalid email or password."):y.code==="auth/user-not-found"?n("No user found with this email."):n(((v=(p=y.response)==null?void 0:p.data)==null?void 0:v.message)||y.message||"An unexpected error occurred.")}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Sign in to your account"})]}),s.jsx(gn,{children:r&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(Zt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{id:"google-signin-button",className:"w-full"}),c&&s.jsx("div",{className:"mt-3 text-center",children:s.jsxs("div",{className:"inline-flex items-center text-sm text-gray-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500 mr-2"}),"Signing in with Google..."]})}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email",value:e.email,onChange:f})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your password",value:e.password,onChange:f}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Tt,{to:"/forgot-password",className:"text-sm text-red-600 hover:text-red-700 hover:underline",children:"Forgot your password?"}),s.jsx(Tt,{to:"/resend-verification",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Resend verification email"})]}),s.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:i,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:bg-red-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign in"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(Tt,{to:"/signup",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign up"})]})})]})})})},RU={score:0,label:"",color:"",barColor:""},Ove=()=>{const[e,t]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(!1),[x,p]=_.useState(RU),[v,y]=_.useState(""),[b,w]=_.useState(!1),[j,N]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[B,I]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[P,T]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[U,k]=_.useState(!1),[E,Q]=_.useState(!1),[F,K]=_.useState(null),W=cr();_.useEffect(()=>{(()=>{const Y="864948749872-dh9vc6atlj2psgd53oiqg99kqgdbusfe.apps.googleusercontent.com",je=document.createElement("script");je.src="https://accounts.google.com/gsi/client",je.async=!0,je.defer=!0,document.head.appendChild(je),je.onload=()=>{if(window.google)try{window.google.accounts.id.initialize({client_id:Y,callback:D,auto_select:!1,cancel_on_tap_outside:!0}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",text:"signup_with",shape:"rectangular",width:"100%"})}catch(xe){console.error("Error initializing Google Sign-In:",xe)}},je.onerror=()=>{console.error("Failed to load Google Sign-In script")}})()},[]);const D=async fe=>{var Y,je,xe,re;try{m(!0),n(null),a(null);const Ce=await su.post("/user/google-signin",{credential:fe.credential,role:1});localStorage.setItem("authToken",Ce.data.token),localStorage.setItem("user",JSON.stringify(Ce.data.user)),window.dispatchEvent(new Event("lyvo-login"));const Ie=Ce.data.user;Ie.isNewUser&&!Ie.hasCompletedBehaviorQuestions?W("/seeker-onboarding"):W("/seeker-dashboard")}catch(Ce){((je=(Y=Ce.response)==null?void 0:Y.data)==null?void 0:je.errorCode)==="ROLE_CONFLICT"?n(Ce.response.data.message):n(((re=(xe=Ce.response)==null?void 0:xe.data)==null?void 0:re.message)||"Google sign-in failed. Please try again.")}finally{m(!1)}},z={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},ee=fe=>{if(!fe)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let Y=0,je="";fe.length>=8&&(Y+=20),fe.length>=12&&(Y+=10),/[a-z]/.test(fe)&&(Y+=20),/[A-Z]/.test(fe)&&(Y+=20),/\d/.test(fe)&&(Y+=20),/[@$!%*?&]/.test(fe)&&(Y+=20),fe.length>8&&/[a-z]/.test(fe)&&/[A-Z]/.test(fe)&&(Y+=10),fe.length>8&&/\d/.test(fe)&&/[@$!%*?&]/.test(fe)&&(Y+=10),Y=Math.min(Y,100);let xe="",re="",Ce="";return Y<20||Y<40?(xe="weak",re="text-orange-500",Ce="bg-orange-500"):Y<60?(xe="medium",re="text-yellow-500",Ce="bg-gradient-to-r from-orange-500 to-yellow-500"):Y<80?(xe="good",re="text-yellow-500",Ce="bg-gradient-to-r from-orange-500 to-yellow-500"):(xe="strong",re="text-green-500",Ce="bg-gradient-to-r from-red-500 via-orange-500 via-yellow-500 to-green-500"),Y<20?je="This password is not acceptable. Add another word or two.":Y<40?je="Weak password. Try adding numbers and special characters.":Y<60?je="Fair password. Add more variety to make it stronger.":Y<80?je="Good password. Almost there!":je="Excellent! Your password is strong.",y(je),{score:Y,label:xe,color:re,barColor:Ce}},te=Object.values(z).every(Boolean);_.useEffect(()=>{const fe=ee(e.password);p(fe)},[e.password]),_.useEffect(()=>{if(te&&b){const fe=setTimeout(()=>{w(!1)},1e3);return()=>clearTimeout(fe)}},[te,b]);const le=fe=>{if(!fe.trim())return"Full name is required";if(fe.trim().length<2)return"Full name must be at least 2 characters long";if(fe.trim().length>50)return"Full name must be less than 50 characters"},$=fe=>{if(!fe.trim())return"Email is required";if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(fe.trim()))return"Please enter a valid email address"},X=fe=>{if(!fe)return"Password is required";if(fe.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(fe))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(fe))return"Password must contain at least one lowercase letter";if(!/\d/.test(fe))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(fe))return"Password must contain at least one special character (@$!%*?&)"},V=(fe,Y)=>{if(!fe)return"Please confirm your password";if(fe!==Y)return"Passwords do not match"},ne=fe=>{const Y=["name","email","password","confirmPassword"],je=Y.indexOf(fe);if(je===0)return!0;const xe=Y[je-1],re=P[xe];if(fe==="password"){const Ce=P.email,Ie=E&&F&&F.isVerified;return Ce&&!Ie}return re},ae=()=>P.name&&P.email&&P.password&&P.confirmPassword,he=async fe=>{if(!fe||!fe.includes("@")){Q(!1),K(null);return}try{k(!0);const Y="http://localhost:5000/api";console.log("Checking email:",fe,"at URL:",`${Y}/user/check-email?email=${encodeURIComponent(fe)}`);const je=await fetch(`${Y}/user/check-email?email=${encodeURIComponent(fe)}`),xe=await je.json();if(console.log("Email check response:",xe),je.ok)if(xe.exists===!0)Q(!0),K({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),I(re=>({...re,email:"Email already registered. Please use a different email."})),T(re=>({...re,email:!1}));else if(xe.isUnverified===!0)Q(!0),K({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),I(re=>({...re,email:""})),T(re=>({...re,email:!0}));else{Q(!1),K(null),I(Ce=>({...Ce,email:""}));const re=$(fe);T(Ce=>({...Ce,email:!re}))}else console.error("Email check failed:",xe),Q(!1),K(null)}catch(Y){console.error("Error checking email:",Y),Q(!1),K(null)}finally{k(!1)}};_.useEffect(()=>{const fe=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?he(e.email):e.email&&!e.email.includes("@")&&(Q(!1),I(Y=>({...Y,email:""})),T(Y=>({...Y,email:!1})))},500);return()=>clearTimeout(fe)},[e.email]);const ge=fe=>{N(je=>({...je,[fe]:!0}));let Y;switch(fe){case"name":Y=le(e.name);break;case"email":Y=$(e.email);break;case"password":Y=X(e.password);break;case"confirmPassword":Y=V(e.confirmPassword,e.password);break}I(je=>({...je,[fe]:Y})),T(je=>({...je,[fe]:!Y}))},J=fe=>{const{id:Y,value:je}=fe.target;t({...e,[Y]:je}),B[Y]&&I(re=>({...re,[Y]:""})),Y==="password"&&je&&!b&&w(!0);let xe="";switch(Y){case"name":xe=le(je);break;case"email":xe=$(je);break;case"password":xe=X(je);break;case"confirmPassword":xe=V(je,e.password);break}if(I(re=>({...re,[Y]:xe||""})),T(re=>({...re,[Y]:!xe})),Y==="password"&&j.confirmPassword){const re=V(e.confirmPassword,je);I(Ce=>({...Ce,confirmPassword:re||""})),T(Ce=>({...Ce,confirmPassword:!re}))}},ue=async fe=>{fe.preventDefault();const Y=le(e.name),je=$(e.email),xe=X(e.password),re=V(e.confirmPassword,e.password);if(I({name:Y||"",email:je||"",password:xe||"",confirmPassword:re||""}),N({name:!0,email:!0,password:!0,confirmPassword:!0}),Y||je||xe||re){n("Please fix the errors above before submitting.");return}l(!0),n(null),a(null);try{const Ie=(await GW(Rx,e.email,e.password)).user;await YW(Ie,{displayName:e.name}),await qW(Ie),a("Account created successfully! Please check your email to verify your account."),t({name:"",email:"",password:"",confirmPassword:""}),p(RU),y(""),w(!1),I({name:"",email:"",password:"",confirmPassword:""}),N({name:!1,email:!1,password:!1,confirmPassword:!1}),T({name:!1,email:!1,password:!1,confirmPassword:!1}),k(!1),Q(!1)}catch(Ce){console.error("Signup Error:",Ce),Ce.code==="auth/email-already-in-use"?n("This email is already registered. Please login instead."):Ce.code==="auth/weak-password"?n("Password should be at least 6 characters."):n(Ce.message||"An unexpected error occurred.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a Room Seeker"]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Find your perfect co-living space and connect with roommates"})]}),s.jsxs(gn,{children:[r&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(Zt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),i&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(jt,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:i}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link to complete your registration."})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{id:"google-signin-button",className:"w-full"}),f&&s.jsx("div",{className:"mt-3 text-center",children:s.jsxs("div",{className:"inline-flex items-center text-sm text-gray-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500 mr-2"}),"Signing in with Google..."]})}),!1]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",P.name&&s.jsx(jt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!ne("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ne("name")?j.name&&B.name?"border-red-300 bg-red-50":P.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:J,onBlur:()=>ge("name")})]}),j.name&&B.name&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),B.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",P.email&&!E&&s.jsx(jt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!ne("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ne("email")?e.email&&(B.email||E)?"border-red-300 bg-red-50":e.email&&P.email&&!E?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:J,onBlur:()=>ge("email")}),U&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(B.email||E&&F&&F.isVerified)&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),E&&F&&F.isVerified?"Email already registered. Please use a different email.":B.email]}),e.email&&!B.email&&!E&&P.email&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!B.email&&F&&F.isUnverified&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-4 h-4"}),F.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password ",P.password&&s.jsx(jt,{className:"inline w-4 h-4 text-green-500 ml-1"}),!ne("password")&&E&&F&&F.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),!ne("password")&&E&&F&&F.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!ne("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ne("password")?j.password&&B.password?"border-red-300 bg-red-50":P.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:J,onBlur:()=>ge("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!ne("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),e.password&&s.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password strength"}),s.jsx("span",{className:`text-xs font-medium ${x.color}`,children:x.label})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Z.div,{className:`h-2 rounded-full ${x.barColor}`,initial:{width:0},animate:{width:`${x.score}%`},transition:{duration:.3,ease:"easeOut"}})})]}),v&&s.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`text-xs ${x.color}`,children:v}),s.jsx(gn,{children:b&&!te&&s.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Password requirements"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.length?"text-green-600":"text-gray-500"}`,children:[z.length?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.uppercase?"text-green-600":"text-gray-500"}`,children:[z.uppercase?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One uppercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.lowercase?"text-green-600":"text-gray-500"}`,children:[z.lowercase?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One lowercase letter"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.number?"text-green-600":"text-gray-500"}`,children:[z.number?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One number"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs ${z.special?"text-green-600":"text-gray-500"}`,children:[z.special?s.jsx(zm,{className:"w-3 h-3"}):s.jsx(or,{className:"w-3 h-3"}),s.jsx("span",{children:"One special character (@$!%*?&)"})]})]})]})})]}),j.password&&B.password&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),B.password]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:["Confirm Password ",P.confirmPassword&&s.jsx(jt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:u?"text":"password",required:!0,disabled:!ne("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${ne("confirmPassword")?j.confirmPassword&&B.confirmPassword?"border-red-300 bg-red-50":j.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:J,onBlur:()=>ge("confirmPassword")}),s.jsx("button",{type:"button",onClick:()=>A(!u),disabled:!ne("confirmPassword"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:u?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),j.confirmPassword&&B.confirmPassword&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),B.confirmPassword]}),j.confirmPassword&&e.confirmPassword&&e.confirmPassword===e.password&&!B.confirmPassword&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-4 h-4"}),"Passwords match"]})]}),s.jsx(Z.button,{whileHover:ae()?{scale:1.02}:{},whileTap:ae()?{scale:.98}:{},type:"submit",disabled:o||!ae(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${ae()?"bg-red-600 text-white hover:bg-red-700":"bg-gray-300 text-gray-500 cursor-not-allowed"} disabled:opacity-50 disabled:cursor-not-allowed`,children:o?"Creating account...":ae()?"Create account":"Complete all fields to continue"})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Tt,{to:"/login",className:"font-semibold text-red-600 hover:text-red-700 underline",children:"Sign in"})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Are you a property owner?"}),s.jsxs(Tt,{to:"/room-owner-signup",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 underline",children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),"Sign up as Property Owner"]})]})]})]})})})},Lve={score:0,label:"",color:"",barColor:""},Fve=()=>{const[e,t]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[r,n]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(Lve),[x,p]=_.useState(""),[v,y]=_.useState(!1),[b,w]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[j,N]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[B,I]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[P,T]=_.useState(!1),[U,k]=_.useState(!1),[E,Q]=_.useState(null),F=cr(),K=async()=>{try{A(!0),n(null),a(null);const J=new Dd,Y=await(await pxe(Rx,J)).user.getIdToken(),je=await su.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${Y}`}});localStorage.setItem("authToken",je.data.token),localStorage.setItem("user",JSON.stringify(je.data.user)),window.dispatchEvent(new Event("lyvo-login")),F("/owner-dashboard")}catch(J){console.error("Google Sign-in error:",J),J.code==="auth/popup-closed-by-user"?n("Sign-in cancelled"):n(J.message||"Google sign-in failed")}finally{A(!1)}},W={length:e.password.length>=8,uppercase:/[A-Z]/.test(e.password),lowercase:/[a-z]/.test(e.password),number:/\d/.test(e.password),special:/[@$!%*?&]/.test(e.password)},D=J=>{if(!J)return{score:0,label:"",color:"text-gray-400",barColor:"bg-gray-200"};let ue=0;J.length>=8&&(ue+=20),J.length>=12&&(ue+=10),/[a-z]/.test(J)&&(ue+=20),/[A-Z]/.test(J)&&(ue+=20),/\d/.test(J)&&(ue+=20),/[@$!%*?&]/.test(J)&&(ue+=20),J.length>8&&/[a-z]/.test(J)&&/[A-Z]/.test(J)&&(ue+=10),J.length>8&&/\d/.test(J)&&/[@$!%*?&]/.test(J)&&(ue+=10),ue=Math.min(ue,100);let fe="",Y="",je="";ue<40?(fe="weak",Y="text-orange-500",je="bg-orange-500"):ue<80?(fe="good",Y="text-yellow-500",je="bg-yellow-500"):(fe="strong",Y="text-green-500",je="bg-green-500");let xe="";return ue<40?xe="Weak password.":ue<80?xe="Good password.":xe="Strong password!",p(xe),{score:ue,label:fe,color:Y,barColor:je}},z=J=>J.trim()?J.length<2?"Too short":void 0:"Name required",ee=J=>J.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J)?void 0:"Invalid email":"Email required",te=J=>{if(!J)return"Password is required";if(J.length<8)return"Password must be at least 8 characters long";if(!/[A-Z]/.test(J))return"Password must contain at least one uppercase letter";if(!/[a-z]/.test(J))return"Password must contain at least one lowercase letter";if(!/\d/.test(J))return"Password must contain at least one number";if(!/[@$!%*?&]/.test(J))return"Password must contain at least one special character (@$!%*?&)"},le=(J,ue)=>J!==ue?"Passwords do not match":void 0,$=J=>{const ue=["name","email","password","confirmPassword"],fe=ue.indexOf(J);if(fe===0)return!0;const Y=ue[fe-1],je=B[Y];if(J==="password"){const xe=B.email,re=U&&E&&E.isVerified;return xe&&!re}return je},X=Object.values(W).every(Boolean);_.useEffect(()=>{m(D(e.password))},[e.password]),_.useEffect(()=>{if(X&&v){const J=setTimeout(()=>y(!1),1e3);return()=>clearTimeout(J)}},[X,v]);const V=async J=>{if(!J||!J.includes("@")){k(!1),Q(null);return}try{T(!0);const fe=(await su.get(`/user/check-email?email=${encodeURIComponent(J)}`)).data;if(console.log("Email check response:",fe),fe.exists===!0)k(!0),Q({isVerified:!0,note:"This email is already registered. Please use a different email or try logging in."}),N(Y=>({...Y,email:"Email already registered. Please use a different email."})),I(Y=>({...Y,email:!1}));else if(fe.isUnverified===!0)k(!0),Q({isUnverified:!0,note:"This email was previously registered but not verified. You can register again."}),N(Y=>({...Y,email:""})),I(Y=>({...Y,email:!0}));else{k(!1),Q(null),N(je=>({...je,email:""}));const Y=ee(J);I(je=>({...je,email:!Y}))}}catch(ue){console.error("Error checking email:",ue),k(!1),Q(null)}finally{T(!1)}};_.useEffect(()=>{const J=setTimeout(()=>{e.email&&e.email.includes("@")&&e.email.includes(".")?V(e.email):e.email&&!e.email.includes("@")&&(k(!1),N(ue=>({...ue,email:""})),I(ue=>({...ue,email:!1})))},500);return()=>clearTimeout(J)},[e.email]);const ne=J=>{w(fe=>({...fe,[J]:!0}));let ue;switch(J){case"name":ue=z(e.name);break;case"email":ue=ee(e.email);break;case"password":ue=te(e.password);break;case"confirmPassword":ue=le(e.confirmPassword,e.password);break}N(fe=>({...fe,[J]:ue})),I(fe=>({...fe,[J]:!ue}))},ae=J=>{const{id:ue,value:fe}=J.target;t(je=>({...je,[ue]:fe})),ue==="password"&&fe.length>0&&y(!0),j[ue]&&N(je=>({...je,[ue]:""}));let Y="";switch(ue){case"name":Y=z(fe);break;case"email":Y=ee(fe);break;case"password":Y=te(fe);break;case"confirmPassword":Y=le(fe,e.password);break}if(N(je=>({...je,[ue]:Y||""})),I(je=>({...je,[ue]:!Y})),ue==="password"&&b.confirmPassword){const je=le(e.confirmPassword,fe);N(xe=>({...xe,confirmPassword:je||""}))}},he=()=>B.name&&B.email&&B.password&&B.confirmPassword&&!j.name&&!j.email&&!j.password&&!j.confirmPassword&&!P&&(!U||E&&E.isUnverified),ge=async J=>{J.preventDefault(),w({name:!0,email:!0,password:!0,confirmPassword:!0});const ue=z(e.name),fe=ee(e.email),Y=te(e.password),je=le(e.confirmPassword,e.password);if(N({name:ue||"",email:fe||"",password:Y||"",confirmPassword:je||""}),ue||fe||Y||je||U&&(E!=null&&E.isVerified)){n("Please fix the highlighted errors before submitting.");return}if(P){n("Please wait, checking email availability...");return}l(!0),n(null),a(null);try{const re=(await GW(Rx,e.email,e.password)).user;await YW(re,{displayName:e.name}),await qW(re);const Ce=await re.getIdToken();await su.post("/user/auth/firebase",{role:3},{headers:{Authorization:`Bearer ${Ce}`}}),await Y0e(Rx),a("Account created successfully!"),t({name:"",email:"",password:"",confirmPassword:""}),k(!1),Q(null),I({name:!1,email:!1,password:!1,confirmPassword:!1}),w({name:!1,email:!1,password:!1,confirmPassword:!1})}catch(xe){console.error(xe),xe.code==="auth/email-already-in-use"?n("Email is already registered. Please log in."):xe.code==="auth/weak-password"?n("Password is too weak."):n(xe.message||"Signup failed.")}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"flex items-center space-x-3 group",children:s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})})}),s.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-3 relative",children:[s.jsxs("span",{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Join ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," as a"]}),s.jsx("br",{}),s.jsx("span",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-700 to-indigo-700 bg-clip-text text-transparent drop-shadow-sm",children:"PROPERTY OWNER"}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"List your properties and connect with room seekers"})]}),s.jsxs(gn,{children:[r&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(Zt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:r})]}),i&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center gap-3",children:[s.jsx(jt,{className:"w-5 h-5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:i}),s.jsx("div",{className:"text-xs mt-1",children:"Please check your email and click the verification link."})]})]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("button",{type:"button",onClick:K,disabled:u,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all font-medium",children:[u?s.jsx("div",{className:"w-5 h-5 border-2 border-gray-500 border-t-transparent rounded-full animate-spin"}):s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),s.jsx("span",{children:"Sign up with Google"})]})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with email"})})]}),s.jsxs("form",{onSubmit:ge,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",B.name&&s.jsx(jt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"name",type:"text",required:!0,disabled:!$("name"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${$("name")?b.name&&j.name?"border-red-300 bg-red-50":B.name?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your full name",value:e.name,onChange:ae,onBlur:()=>ne("name")})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",B.email&&!U&&s.jsx(jt,{className:"inline w-4 h-4 text-green-500 ml-1"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,disabled:!$("email"),className:`w-full pl-10 pr-4 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${$("email")?e.email&&(j.email||U)?"border-red-300 bg-red-50":e.email&&B.email&&!U?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your email",value:e.email,onChange:ae,onBlur:()=>ne("email")}),P&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-500"})})]}),e.email&&(j.email||U&&E&&E.isVerified)&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(or,{className:"w-4 h-4"}),U&&E&&E.isVerified?"Email already registered. Please use a different email.":j.email]}),e.email&&!j.email&&!U&&B.email&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-4 h-4"}),"Email is available"]}),e.email&&!j.email&&E&&E.isUnverified&&s.jsxs(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-1 text-sm text-blue-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-4 h-4"}),E.note||"This email was previously registered but not verified. You can register again."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:["Password",U&&E&&E.isVerified&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(Email already registered - use different email)"}),U&&E&&E.isUnverified&&s.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"(Complete email validation first)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:c?"text":"password",required:!0,disabled:!$("password"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${$("password")?b.password&&j.password?"border-red-300 bg-red-50":B.password?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Enter your password",value:e.password,onChange:ae,onBlur:()=>ne("password")}),s.jsx("button",{type:"button",onClick:()=>d(!c),disabled:!$("password"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 disabled:cursor-not-allowed",children:c?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),v&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"flex h-2 overflow-hidden rounded-full bg-gray-200",children:s.jsx("div",{className:`h-full transition-all duration-300 ${f.barColor}`,style:{width:`${f.score}%`}})}),s.jsx("div",{className:"mt-2 flex justify-between text-xs",children:s.jsx("span",{className:`${f.color} font-medium`,children:x})}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1 text-xs text-gray-500",children:[s.jsx("div",{className:W.length?"text-green-600":"",children:" 8+ characters"}),s.jsx("div",{className:W.uppercase?"text-green-600":"",children:" Uppercase"}),s.jsx("div",{className:W.lowercase?"text-green-600":"",children:" Lowercase"}),s.jsx("div",{className:W.number?"text-green-600":"",children:" Number"}),s.jsx("div",{className:W.special?"text-green-600":"",children:" Special char"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirmPassword",type:c?"text":"password",required:!0,disabled:!$("confirmPassword"),className:`w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 ${$("confirmPassword")?b.confirmPassword&&j.confirmPassword?"border-red-300 bg-red-50":B.confirmPassword?"border-green-300 bg-green-50":"border-gray-300":"border-gray-200 bg-gray-50 cursor-not-allowed"}`,placeholder:"Confirm your password",value:e.confirmPassword,onChange:ae,onBlur:()=>ne("confirmPassword")})]})]}),s.jsx("button",{type:"submit",disabled:o,className:`w-full flex justify-center py-4 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white transition-all transform hover:scale-[1.02] ${o?"opacity-70 cursor-not-allowed":""} ${he()?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500":"bg-gray-400 cursor-pointer hover:bg-gray-500"}`,children:o?s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Create Owner Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(Tt,{to:"/login",className:"font-medium text-red-600 hover:text-red-500 transition-colors",children:"Sign in here"})]})})]})})})},Uve="http://localhost:4002/api/user",Rve=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(null),[i,a]=_.useState(!1),[o,l]=_.useState(!1),c=async d=>{var u,A;d.preventDefault(),l(!0),n(null),a(!1);try{const f=await xr.post(`${Uve}/forgot-password`,{email:e});a(!0)}catch(f){n(((A=(u=f.response)==null?void 0:u.data)==null?void 0:A.message)||"An unexpected error occurred.")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Tt,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Tt,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(Z.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tr,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Enter your email to receive a secure reset link"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(gn,{children:[r&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:r})]})]}),i&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(jt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Password reset link sent to your email"})]})]})]}),i?s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(jt,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Check Your Email"}),s.jsx("p",{className:"text-gray-600",children:"We've sent a secure password reset link to:"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 bg-gray-50 px-4 py-2 rounded-lg",children:e})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 text-left",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"What's next?"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Check your email inbox (and spam folder)"}),s.jsx("li",{children:" Click the reset link in the email"}),s.jsx("li",{children:" Create a new secure password"})]})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Tt,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Js,{className:"w-4 h-4"}),"Back to Login"]})})]}):s.jsxs(Z.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:c,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your email address",value:e,onChange:d=>t(d.target.value)})]})]}),s.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending Reset Link..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yn,{className:"w-5 h-5"}),"Send Reset Link"]})})]}),!i&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Tt,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Js,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Mve="http://localhost:4002/api/user",Dve=()=>{const[e]=W9(),t=e.get("token"),[r,n]=_.useState(""),[i,a]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState(null),[f,m]=_.useState(!1),[x,p]=_.useState(!1);cr();const y=(w=>{if(!w)return{score:0,label:"",color:""};let j=0,N=[];return w.length>=8?(j+=1,N.push("8+ characters")):w.length>=6&&(j+=.5,N.push("6+ characters")),/[a-z]/.test(w)&&(j+=1,N.push("lowercase")),/[A-Z]/.test(w)&&(j+=1,N.push("uppercase")),/[0-9]/.test(w)&&(j+=1,N.push("number")),/[^A-Za-z0-9]/.test(w)&&(j+=1,N.push("symbol")),j>=4?{score:4,label:"Strong",color:"bg-green-500",feedback:N}:j>=3?{score:3,label:"Good",color:"bg-blue-500",feedback:N}:j>=2?{score:2,label:"Fair",color:"bg-yellow-500",feedback:N}:j>=1?{score:1,label:"Weak",color:"bg-red-500",feedback:N}:{score:0,label:"Very Weak",color:"bg-gray-300",feedback:N}})(r);if(!t)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex justify-between items-center py-4",children:s.jsxs(Tt,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]})})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(Z.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Zt,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Invalid Reset Link"}),s.jsx("p",{className:"text-red-100 text-sm",children:"This password reset link is invalid or has expired"})]}),s.jsx("div",{className:"px-8 py-8 text-center",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:"The password reset link you're trying to use is no longer valid. This could be because:"}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-left",children:s.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[s.jsx("li",{children:" The link has expired (links expire after 1 hour)"}),s.jsx("li",{children:" The link has already been used"}),s.jsx("li",{children:" The link was copied incorrectly"})]})}),s.jsx("div",{className:"pt-4",children:s.jsxs(Tt,{to:"/forgot-password",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Js,{className:"w-4 h-4"}),"Request a new reset link"]})})]})})]})})})]});const b=async w=>{var j,N;if(w.preventDefault(),A(null),r.length<6){A("Password must be at least 6 characters.");return}if(r!==i){A("Passwords do not match.");return}p(!0);try{await xr.post(`${Mve}/reset-password`,{token:t,password:r}),m(!0)}catch(B){A(((N=(j=B.response)==null?void 0:j.data)==null?void 0:N.message)||"An unexpected error occurred.")}finally{p(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[s.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs(Tt,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:s.jsx(Ir,{className:"w-5 h-5 text-white"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsx(Tt,{to:"/login",className:"text-sm text-gray-600 hover:text-red-500 transition-colors",children:"Back to Login"})]})})}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-80px)] py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-8 py-6 text-center",children:[s.jsx(Z.div,{initial:{scale:.8},animate:{scale:1},className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tr,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Create New Password"}),s.jsx("p",{className:"text-red-100 text-sm",children:"Choose a strong password for your account"})]}),s.jsxs("div",{className:"px-8 py-8",children:[s.jsxs(gn,{children:[u&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-red-50 border border-red-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:u})]})]}),f&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-start gap-3",children:[s.jsx(jt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800",children:"Success!"}),s.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your password has been reset successfully"})]})]})]}),f?s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-6",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(jt,{className:"w-10 h-10 text-green-600"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Password Updated!"}),s.jsx("p",{className:"text-gray-600",children:"Your password has been successfully reset. You can now sign in with your new password."})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-green-800 mb-2",children:"Security Tip"}),s.jsx("p",{className:"text-sm text-green-700",children:"For your security, we recommend using a unique password that you don't use on other websites."})]}),s.jsx("div",{className:"pt-4",children:s.jsxs(Tt,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Js,{className:"w-4 h-4"}),"Sign in to your account"]})})]}):s.jsxs(Z.form,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",onSubmit:b,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"password",type:o?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Enter your new password",value:r,onChange:w=>n(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:o?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),r&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 space-y-2",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(w=>s.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${y.score>=w?y.color:"bg-gray-200"}`},w))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs font-medium ${y.score>=4?"text-green-600":y.score>=3?"text-blue-600":y.score>=2?"text-yellow-600":y.score>=1?"text-red-600":"text-gray-500"}`,children:y.label}),s.jsxs("span",{className:"text-xs text-gray-500",children:[r.length,"/8+ characters"]})]}),y.feedback.length>0&&s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Includes: "}),y.feedback.join(", ")]})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"confirm",type:c?"text":"password",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Confirm your new password",value:i,onChange:w=>a(w.target.value)}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:c?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),i&&s.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2",children:s.jsxs("div",{className:`flex items-center gap-2 text-xs ${r===i?"text-green-600":"text-red-600"}`,children:[r===i?s.jsx(jt,{className:"w-4 h-4"}):s.jsx(Zt,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:r===i?"Passwords match":"Passwords do not match"})]})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Password Requirements"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" At least 6 characters long"}),s.jsx("li",{children:" Use a mix of letters, numbers, and symbols"}),s.jsx("li",{children:" Avoid common passwords"})]})]}),s.jsx(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:x,className:"w-full bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Updating Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-5 h-5"}),"Update Password"]})})]}),!f&&s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Remember your password?"}),s.jsxs(Tt,{to:"/login",className:"inline-flex items-center gap-2 text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[s.jsx(Js,{className:"w-4 h-4"}),"Sign in to your account"]})]})})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-xs text-gray-500",children:"Need help? Contact our support team"})})]})})]})},Qve=()=>{const[e]=W9(),t=cr(),[r,n]=_.useState("verifying"),[i,a]=_.useState(""),[o,l]=_.useState(!1),[c,d]=_.useState("");_.useEffect(()=>{(async()=>{var m,x,p;const f=e.get("token");if(!f){n("error"),d("No verification token provided. Please check your email link."),l(!0);return}try{console.log("Verifying email with token:",f);const v=await su.get(`/user/verify-email/${f}`,{timeout:1e4});console.log("Verification response:",v),console.log("Response status:",v.status),console.log("Response data:",v.data),v.data&&v.data.message&&v.data.message.includes("verified successfully")?(n("success"),a(v.data.message),l(!0)):(n("error"),d(((m=v.data)==null?void 0:m.message)||"Email verification failed. The link may be invalid or expired."),l(!0))}catch(v){console.error("Verification error:",v),n("error"),d(((p=(x=v.response)==null?void 0:x.data)==null?void 0:p.message)||"Email verification failed. Please try again."),l(!0)}})()},[e,t]);const u=()=>{l(!1),t("/login")};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100 py-12 px-4 sm:px-6 lg:px-8",children:[r==="verifying"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Z.div,{initial:{scale:.8},animate:{scale:1},className:"mx-auto w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 rounded-2xl flex items-center justify-center shadow-lg mb-6",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 font-display",children:"Verifying Email..."}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Please wait while we verify your email address"})]}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-xl p-8 border border-blue-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Z.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx("div",{className:"w-12 h-12 animate-spin text-red-500 mx-auto border-4 border-red-200 border-t-red-500 rounded-full"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 font-display",children:"Processing Verification"}),s.jsx("p",{className:"text-sm text-blue-700 mb-6",children:"We're verifying your email address..."}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600",children:[s.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-blue-200 border-t-blue-600 rounded-full"}),s.jsx("span",{children:"Please wait..."})]})]})})]}),s.jsx(gn,{children:o&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:u,children:s.jsxs(Z.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 relative",onClick:A=>A.stopPropagation(),children:[s.jsx("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsx("div",{className:"text-center",children:r==="success"?s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx(jt,{className:"w-16 h-16 text-green-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Email Verified Successfully!"}),s.jsx("p",{className:"text-gray-700 mb-6",children:i}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-green-700 font-medium",children:" Your email has been verified! You can now log in to your account."})}),s.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-green-600 hover:to-emerald-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(ru,{className:"w-5 h-5"}),"Go to Login"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{initial:{scale:.8},animate:{scale:1},className:"mb-6",children:s.jsx(Zt,{className:"w-16 h-16 text-blue-500 mx-auto"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 font-display",children:" Login Using Your Account"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Your account may already be verified or the verification link has expired."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" Try logging in with your email and password. If you don't have an account, you can sign up."})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-500 text-white py-3 px-4 rounded-lg font-semibold shadow-sm hover:from-blue-600 hover:to-indigo-600 transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(ru,{className:"w-5 h-5"}),"Go to Login"]}),s.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/signup"),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-semibold hover:bg-gray-200 transition-all duration-200",children:"Try Signing Up Again"})]})]})})]})})})]})},MU="http://localhost:4002/api/user",$ve=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(""),[o,l]=_.useState(""),[c,d]=_.useState(null),[u,A]=_.useState(!1);cr(),_.useEffect(()=>{if(!e.trim()){d(null),a(""),l("");return}const b=setTimeout(async()=>{await f(e.trim())},500);return()=>clearTimeout(b)},[e]);const f=async b=>{try{A(!0),d("checking");const w=await xr.get(`${MU}/check-email?email=${encodeURIComponent(b)}`);w.data.exists&&w.data.isVerified?(d("verified"),a("This email is already verified. Please log in to your account."),l("info")):w.data.isUnverified?(d("unverified"),a("This email is registered but not verified. You can request a new verification email."),l("info")):(d("not_found"),a("This email is not registered. Please check your email address or sign up for a new account."),l("error"))}catch(w){console.error("Email check error:",w),d("error"),a("Unable to check email status. Please try again."),l("error")}finally{A(!1)}},m=async b=>{var w;if(b.preventDefault(),!(!e||c==="verified"||c==="not_found")){n(!0),a(""),l("");try{(await xr.post(`${MU}/resend-verification`,{email:e.trim()})).status===200&&(a("Verification email sent! Please check your inbox and spam folder."),l("success"),t(""),d(null))}catch(j){if(console.error("Resend verification error:",j),j.response){const N=((w=j.response.data)==null?void 0:w.message)||"Failed to send verification email.";a(N),j.response.status===404?l("error"):j.response.status===400?l("info"):l("error")}else a("Network error. Please check your internet connection and try again."),l("error")}finally{n(!1)}}},x=()=>{switch(o){case"success":return s.jsx(jt,{className:"w-5 h-5 text-green-500"});case"error":return s.jsx(sr,{className:"w-5 h-5 text-red-500"});case"info":return s.jsx(yn,{className:"w-5 h-5 text-blue-500"});default:return null}},p=()=>{switch(o){case"success":return"bg-green-50 border-green-200 text-green-700";case"error":return"bg-red-50 border-red-200 text-red-700";case"info":return"bg-blue-50 border-blue-200 text-blue-700";default:return"bg-gray-50 border-gray-200 text-gray-700"}},v=()=>r||!e.trim()||c==="verified"||c==="not_found"||c==="checking"||u,y=()=>r?"Sending...":u||c==="checking"?"Checking...":c==="verified"?"Email Already Verified":c==="not_found"?"Email Not Found":"Send Verification Email";return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"flex items-center space-x-3 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg transition-all duration-300 overflow-hidden",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Logo",className:"w-full h-full object-contain"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Co-Living Platform"})]})]})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Resend Verification Email"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enter your email address to receive a new verification link"})]}),s.jsx(gn,{children:i&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`mb-6 border rounded-lg px-4 py-3 flex items-center gap-3 ${p()}`,children:[x(),s.jsx("span",{className:"text-sm font-medium",children:i})]})}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{id:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all duration-200",placeholder:"Enter your email address",value:e,onChange:b=>t(b.target.value)}),u&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Pue,{className:"w-5 h-5 text-gray-400 animate-spin"})})]})]}),s.jsx(Z.button,{whileHover:{scale:c==="unverified"?1.02:1},whileTap:{scale:c==="unverified"?.98:1},type:"submit",disabled:v(),className:`w-full py-3 px-4 rounded-lg font-semibold shadow-sm transition-all duration-200 ${c==="unverified"?"bg-red-600 text-white hover:bg-red-700":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:y()})]}),s.jsxs("div",{className:"mt-6 text-center space-y-3",children:[s.jsxs(Tt,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-700 hover:underline",children:[s.jsx(Js,{className:"w-4 h-4 mr-1"}),"Back to Login"]}),s.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Don't have an account?"}),s.jsx(Tt,{to:"/signup",className:"inline-flex items-center text-sm font-medium text-red-600 hover:text-red-700 underline",children:"Sign up for Lyvo+"})]})]})]})})})},Hve=()=>{const[e,t]=_.useState({}),[r,n]=_.useState(!1),i=()=>{const l=localStorage.getItem("authToken"),c=localStorage.getItem("user"),d=c?JSON.parse(c):null;t({authToken:l?"Present":"Not found",user:c?"Present":"Not found",parsedUser:d?d.name:"N/A"}),n(!!l)},a=()=>{console.log("=== MANUAL LOGOUT TEST ==="),console.log("Before logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),localStorage.removeItem("authToken"),localStorage.removeItem("user"),console.log("After logout:"),console.log("authToken:",localStorage.getItem("authToken")),console.log("user:",localStorage.getItem("user")),window.dispatchEvent(new Event("moodbites-logout")),i()},o=()=>{localStorage.setItem("authToken","test-token"),localStorage.setItem("user",JSON.stringify({name:"Test User",email:"test@example.com"})),window.dispatchEvent(new Event("moodbites-login")),i()};return _.useEffect(()=>{i();const l=()=>{i()},c=()=>{console.log("Custom logout event received"),i()};return window.addEventListener("storage",l),window.addEventListener("moodbites-logout",c),()=>{window.removeEventListener("storage",l),window.removeEventListener("moodbites-logout",c)}},[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100 pt-20 px-4",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-3xl shadow-professional p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Debug Logout"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Current State"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:["Login Status: ",s.jsx("span",{className:r?"text-green-600":"text-red-600",children:r?"Logged In":"Not Logged In"})]}),s.jsxs("div",{children:["Auth Token: ",s.jsx("span",{className:"font-mono",children:e.authToken})]}),s.jsxs("div",{children:["User Data: ",s.jsx("span",{className:"font-mono",children:e.user})]}),s.jsxs("div",{children:["User Name: ",s.jsx("span",{className:"font-mono",children:e.parsedUser})]})]})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{onClick:o,className:"px-6 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700 transition-colors",children:"Simulate Login"}),s.jsx("button",{onClick:a,className:"px-6 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors",children:"Test Logout"}),s.jsx("button",{onClick:i,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Refresh State"})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Instructions"}),s.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1",children:[s.jsx("li",{children:'1. Click "Simulate Login" to set test data'}),s.jsx("li",{children:"2. Check the navbar - it should show user icon"}),s.jsx("li",{children:'3. Click "Test Logout" to clear data'}),s.jsx("li",{children:"4. Check the navbar - it should show login/signup buttons"}),s.jsx("li",{children:"5. Open browser console to see debug logs"})]})]})]})]})})})},zve=()=>{var k;const e=cr(),[t,r]=_.useState(!0),[n,i]=_.useState([]),[a,o]=_.useState({budget:8e3}),[l,c]=_.useState(null),[d,u]=_.useState(0),[A,f]=_.useState(!1),[m,x]=_.useState(!1),p=localStorage.getItem("authToken"),v=localStorage.getItem("user");_.useEffect(()=>{if(!p||!v){e("/login",{replace:!0});return}(async()=>{try{const Q=await su.get("/behaviour/questions",{headers:{Authorization:`Bearer ${p}`}});i(Q.data.questions||[])}catch(Q){console.error("Error fetching questions:",Q),n.length===0&&i([{id:"budget",text:"Monthly Budget",type:"range",min:5e3,max:5e4},{id:"occupation",text:"Occupation",options:["Student","Professional","Other"]}])}finally{r(!1)}})()},[e,p,v]);const y=(E,Q)=>{o(F=>({...F,[E]:Q}))},b=()=>{d<n.length-1&&u(d+1)},w=()=>{d>0&&u(d-1)},j=()=>{d<n.length-1&&u(d+1)},N=async()=>{var E,Q;try{c(null),f(!0),await su.post("/behaviour/answers",{answers:a},{headers:{Authorization:`Bearer ${p}`}});const F=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...F,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),x(!0),setTimeout(()=>{F.role===1?e("/seeker-profile",{replace:!0}):e(F.role===3?"/owner-dashboard":"/admin-dashboard",{replace:!0})},1500)}catch(F){const K=((Q=(E=F==null?void 0:F.response)==null?void 0:E.data)==null?void 0:Q.message)||(F==null?void 0:F.message)||"Failed to submit.";c(K),f(!1)}},B=E=>{const Q=E.toLowerCase();return Q.includes("budget")||Q.includes("price")?s.jsx(ti,{className:"w-6 h-6 text-gray-700"}):Q.includes("occupation")||Q.includes("work")?s.jsx(yue,{className:"w-6 h-6 text-gray-700"}):s.jsx(nc,{className:"w-6 h-6 text-gray-700"})},I=(d+1)/n.length*100;if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Loading preferences..."})]})});if(m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(jt,{className:"w-10 h-10 text-green-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Preferences Saved"}),s.jsx("p",{className:"text-gray-600",children:"Setting up your dashboard..."})]})});const P=n[d],T=d===n.length-1,U=a[P==null?void 0:P.id]!==void 0;return s.jsx("div",{className:"min-h-screen bg-gray-50 pt-20 pb-12 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Setup Your Preferences"}),s.jsx("p",{className:"text-gray-600",children:"Help us customize your living experience."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-500 mb-2",children:[s.jsxs("span",{children:["Step ",d+1," of ",n.length]}),s.jsxs("span",{children:[Math.round(I),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Z.div,{className:"h-2 bg-red-600 rounded-full",initial:{width:0},animate:{width:`${I}%`},transition:{duration:.3}})})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 min-h-[400px] flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:B((P==null?void 0:P.text)||"")}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:P==null?void 0:P.text})]}),s.jsxs("div",{className:"flex-grow",children:[!(P!=null&&P.type)&&s.jsx("div",{className:"grid grid-cols-1 gap-3",children:(k=P==null?void 0:P.options)==null?void 0:k.map(E=>s.jsx("button",{onClick:()=>y(P.id,E),className:`w-full text-left px-5 py-4 rounded-lg border transition-all ${a[P.id]===E?"border-red-600 bg-red-50 text-red-700 ring-1 ring-red-600":"border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-700"}`,children:s.jsx("span",{className:"font-medium",children:E})},E))}),(P==null?void 0:P.type)==="range"&&s.jsxs("div",{className:"px-4 py-8",children:[s.jsx("input",{type:"range",min:P.min,max:P.max,step:P.step||100,value:a[P.id]??P.min,onChange:E=>y(P.id,Number(E.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-600"}),s.jsxs("div",{className:"mt-6 flex justify-between items-center text-gray-900",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["",a[P.id]??P.min]}),s.jsx("span",{className:"text-gray-500 font-medium badge px-3 py-1 bg-gray-100 rounded-md",children:"Monthly Budget"})]})]})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("button",{onClick:w,disabled:d===0,className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${d===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:"Back"}),s.jsxs("div",{className:"flex gap-3",children:[!T&&s.jsx("button",{onClick:j,className:"px-4 py-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors",children:"Skip"}),s.jsx("button",{onClick:T?N:b,disabled:!U&&T,className:"px-6 py-2.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:T?A?"Saving...":"Finish":"Continue"})]})]})]},d)]})})},Vve=()=>s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-60",children:[s.jsxs("div",{className:"relative flex items-center justify-center w-24 h-24",children:[s.jsx("span",{className:"absolute text-4xl font-extrabold text-red-600 select-none z-10",style:{letterSpacing:"0.05em"},children:"L"}),s.jsx("span",{className:"absolute w-4 h-4 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-600 shadow-lg animate-lyvo-orbit",style:{top:0,left:"50%",transform:"translate(-50%, -50%)"}}),s.jsx("span",{className:"absolute w-3 h-3 rounded-full bg-gradient-to-br from-orange-400 via-red-500 to-red-600 shadow-md animate-lyvo-orbit2",style:{right:0,top:"50%",transform:"translate(50%, -50%)"}}),s.jsx("span",{className:"absolute w-2.5 h-2.5 rounded-full bg-gradient-to-br from-red-600 via-orange-400 to-red-500 shadow animate-lyvo-orbit3",style:{bottom:0,left:"50%",transform:"translate(-50%, 50%)"}})]}),s.jsx("style",{children:`
      @keyframes lyvo-orbit {
        0% { transform: rotate(0deg) translateY(-44px) rotate(0deg); }
        100% { transform: rotate(360deg) translateY(-44px) rotate(-360deg); }
      }
      @keyframes lyvo-orbit2 {
        0% { transform: rotate(120deg) translateY(-36px) rotate(-120deg); }
        100% { transform: rotate(480deg) translateY(-36px) rotate(-480deg); }
      }
      @keyframes lyvo-orbit3 {
        0% { transform: rotate(240deg) translateY(-28px) rotate(-240deg); }
        100% { transform: rotate(600deg) translateY(-28px) rotate(-600deg); }
      }
      .animate-lyvo-orbit {
        animation: lyvo-orbit 1.2s linear infinite;
      }
      .animate-lyvo-orbit2 {
        animation: lyvo-orbit2 1.2s linear infinite;
      }
      .animate-lyvo-orbit3 {
        animation: lyvo-orbit3 1.2s linear infinite;
      }
    `})]}),Kve=({children:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(!1);return _.useEffect(()=>{(async()=>{try{r(!0),console.log(" RoleRepairProvider: Starting role repair...");const o=Tv();o&&(o.role===void 0||o.role===null)?(console.log(" RoleRepairProvider: User role is undefined, attempting repair..."),await _Ae(),console.log(" RoleRepairProvider: Role repair completed")):console.log(" RoleRepairProvider: User role is already defined"),i(!0)}catch(o){console.error(" RoleRepairProvider: Error during role repair:",o),i(!0)}finally{r(!1)}})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Repairing user role..."})]})}):e};class Wve extends _e.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-xl shadow-lg p-8",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Zt,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-600",children:"The page encountered an error while loading"})]})]}),this.state.error&&s.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:"Error Details:"}),s.jsx("p",{className:"text-sm text-red-700 font-mono",children:this.state.error.toString()})]}),this.state.errorInfo&&s.jsxs("details",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (Click to expand)"}),s.jsx("pre",{className:"mt-2 text-xs text-gray-700 overflow-x-auto whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]}),s.jsxs("div",{className:"mt-6 flex space-x-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Reload Page"}),s.jsx("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Go Home"})]})]})}):this.props.children}}const Gve=()=>{var y;const e=cr(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState("overview");_.useEffect(()=>{(()=>{const w=localStorage.getItem("authToken"),j=localStorage.getItem("user");if(!w||!j){e("/login");return}try{const N=JSON.parse(j);if(N.role!==3){e("/login");return}r(N)}catch(N){console.error("Error parsing user data:",N),e("/login");return}i(!1)})()},[e]);const l={totalProperties:4,activeListings:3,totalTenants:8,monthlyRevenue:85e3,occupancyRate:92},c=[{id:1,title:"Modern 2BHK Apartment",location:"Koramangala, Bangalore",price:"25,000",type:"Apartment",bedrooms:2,bathrooms:2,area:"1200 sq ft",status:"Occupied",rating:4.8,tenants:3,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:"2024-04-15",amenities:["WiFi","Parking","Gym","Security"]},{id:2,title:"Cozy Studio Room",location:"Indiranagar, Bangalore",price:"15,000",type:"Studio",bedrooms:1,bathrooms:1,area:"600 sq ft",status:"Available",rating:4.6,tenants:0,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:null,amenities:["WiFi","Kitchen","Laundry"]},{id:3,title:"Premium 3BHK Villa",location:"Whitefield, Bangalore",price:"45,000",type:"Villa",bedrooms:3,bathrooms:3,area:"2000 sq ft",status:"Occupied",rating:4.9,tenants:4,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",nextPayment:"2024-04-20",amenities:["WiFi","Parking","Garden","Security","Pool"]}],d=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",amount:"25,000",type:"Rent",status:"Completed",date:"2024-04-01"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",amount:"45,000",type:"Rent",status:"Pending",date:"2024-04-05"},{id:3,property:"Cozy Studio Room",tenant:"Alex Kumar",amount:"15,000",type:"Deposit",status:"Completed",date:"2024-03-28"}],u=[{id:1,property:"Modern 2BHK Apartment",tenant:"Sarah Johnson",issue:"AC not working",priority:"High",status:"In Progress",date:"2024-04-02"},{id:2,property:"Premium 3BHK Villa",tenant:"Mike Chen",issue:"Water leakage",priority:"Medium",status:"Completed",date:"2024-03-30"}],A=[{month:"Jan",revenue:75e3},{month:"Feb",revenue:82e3},{month:"Mar",revenue:78e3},{month:"Apr",revenue:85e3},{month:"May",revenue:9e4},{month:"Jun",revenue:95e3}],f=[{name:"Occupied",value:92,color:"#10b981"},{name:"Vacant",value:8,color:"#ef4444"}],m=[{name:"Apartments",value:2,color:"#3b82f6"},{name:"Studios",value:1,color:"#f59e0b"},{name:"Villas",value:1,color:"#10b981"}],x=[{name:"Overview",icon:_p,tab:"overview"},{name:"Properties",icon:Ir,tab:"properties"},{name:"Tenants",icon:Vr,tab:"tenants"},{name:"Payments",icon:Xp,tab:"payments"},{name:"Maintenance",icon:tr,tab:"maintenance"},{name:"Analytics",icon:Au,tab:"analytics"},{name:"Settings",icon:nc,tab:"settings"},{name:"Logout",icon:hc,tab:"logout"}],p=b=>{switch(b){case"Occupied":return"text-green-600 bg-green-100";case"Available":return"text-blue-600 bg-blue-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Rented":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},v=b=>{switch(b){case"High":return"text-red-600 bg-red-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-stone-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsxs("aside",{className:"w-64 bg-white border-r border-gray-200 flex flex-col py-8 px-4 shadow-lg",children:[s.jsxs("div",{className:"flex items-center mb-10",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 via-orange-400 to-red-700 rounded-xl flex items-center justify-center shadow-lg mr-3",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"L"})}),s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]})]}),s.jsx("nav",{className:"flex-1",children:s.jsx("ul",{className:"space-y-2",children:x.map(b=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>o(b.tab),className:`w-full flex items-center px-3 py-2 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-all ${a===b.tab?"bg-red-50 text-red-600":""}`,children:[s.jsx(b.icon,{className:"w-5 h-5 mr-3"}),s.jsx("span",{className:"font-medium",children:b.name})]})},b.name))})}),s.jsxs("div",{className:"mt-10 text-xs text-gray-400 text-center",children:[" ",new Date().getFullYear()," ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[s.jsxs("header",{className:"flex items-center justify-between px-8 py-6 bg-white border-b border-gray-200 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Owner Dashboard"}),s.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","! Manage your properties here."]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900",children:[s.jsx(Wh,{className:"w-6 h-6"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),s.jsx("span",{className:"text-gray-700 font-medium",children:(t==null?void 0:t.name)||"Owner"}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 via-orange-400 to-red-700 flex items-center justify-center text-white font-bold text-lg shadow",children:((y=t==null?void 0:t.name)==null?void 0:y.charAt(0))||"O"})]})]}),s.jsxs("div",{className:"flex-1 p-8",children:[a==="overview"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalProperties})]}),s.jsx(Jr,{className:"w-8 h-8 text-red-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.activeListings})]}),s.jsx(Ir,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalTenants})]}),s.jsx(Vr,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",l.monthlyRevenue.toLocaleString()]})]}),s.jsx(ti,{className:"w-8 h-8 text-purple-500"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Revenue Trend"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(LineChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#ef4444",strokeWidth:3,dot:{r:5}})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Occupancy Rate"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:f.map((b,w)=>s.jsx(Cell,{fill:b.color},`cell-${w}`))}),s.jsx(Tooltip,{})]})}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.occupancyRate,"%"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Occupancy Rate"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Properties"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.slice(0,3).map(b=>s.jsxs(Z.div,{whileHover:{y:-5},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:b.title}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(b.status)}`,children:b.status})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),b.location]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ti,{className:"w-4 h-4 mr-2"}),b.price,"/month"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vr,{className:"w-4 h-4 mr-2"}),b.tenants," tenants"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ka,{className:"w-4 h-4 mr-2 text-yellow-500"}),b.rating," rating"]})]})]},b.id))})})]})]}),a==="properties"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Properties"}),s.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[s.jsx(ld,{className:"w-5 h-5"}),"Add Property"]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(b=>s.jsxs(Z.div,{whileHover:{y:-5},className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"h-48 bg-gray-200 relative",children:[s.jsx("img",{src:b.image,alt:b.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(b.status)}`,children:b.status})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:b.title}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(wr,{className:"w-4 h-4 mr-2"}),b.location]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),b.bedrooms]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(xue,{className:"w-4 h-4 mr-1"}),b.bathrooms]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ox,{className:"w-4 h-4 mr-1"}),b.area]})]}),s.jsx("div",{className:"text-lg font-bold text-gray-900",children:b.price})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ka,{className:"w-4 h-4 text-yellow-500 mr-1"}),s.jsx("span",{className:"text-sm text-gray-600",children:b.rating})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vr,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[b.tenants," tenants"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[s.jsxs("button",{className:"text-red-500 hover:text-red-700 text-sm font-medium flex items-center",children:[s.jsx(mf,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs("button",{className:"text-gray-500 hover:text-gray-700 text-sm font-medium flex items-center",children:[s.jsx(Er,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})]})]},b.id))})]}),a==="payments"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment History"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Recent Transactions"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:d.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(CN,{className:"w-5 h-5 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",b.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-gray-900",children:b.amount}),s.jsx("p",{className:"text-sm text-gray-600",children:b.date})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"text-green-600 bg-green-100":"text-yellow-600 bg-yellow-100"}`,children:b.status})})]},b.id))})})]})]}),a==="maintenance"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Requests"}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Active Requests"})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:u.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(Zt,{className:"w-5 h-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:b.property}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Issue: ",b.issue]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tenant: ",b.tenant]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:b.date}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(b.priority)}`,children:b.priority})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"text-green-600 bg-green-100":b.status==="In Progress"?"text-blue-600 bg-blue-100":"text-gray-600 bg-gray-100"}`,children:b.status})})]},b.id))})})]})]}),a==="analytics"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Property Types"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(PieChart,{children:[s.jsx(Pie,{data:m,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:m.map((b,w)=>s.jsx(Cell,{fill:b.color},`cell-${w}`))}),s.jsx(Tooltip,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monthly Revenue"}),s.jsx(ResponsiveContainer,{width:"100%",height:250,children:s.jsxs(BarChart,{data:A,children:[s.jsx(CartesianGrid,{strokeDasharray:"3 3"}),s.jsx(XAxis,{dataKey:"month"}),s.jsx(YAxis,{}),s.jsx(Tooltip,{}),s.jsx(Bar,{dataKey:"revenue",fill:"#ef4444",radius:[4,4,0,0]})]})})]})]})]}),a==="settings"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"Settings page coming soon..."})})]}),a==="logout"&&s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[s.jsx(hc,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Logout"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to logout?"}),s.jsx("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login")},className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Logout"})]})}),a!=="overview"&&a!=="properties"&&a!=="logout"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.charAt(0).toUpperCase()+a.slice(1)}),s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsx("p",{className:"text-gray-600",children:"This section is coming soon..."})})]})]})]})]})};function EG(e,t){const r=_.useRef(t);_.useEffect(function(){t!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),t!=null&&e.attributionControl.addAttribution(t)),r.current=t},[e,t])}function qve(e,t,r){t.center!==r.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==r.radius&&e.setRadius(t.radius)}const Yve=1;function Xve(e){return Object.freeze({__version:Yve,map:e})}function PG(e,t){return Object.freeze({...e,...t})}const IG=_.createContext(null),TG=IG.Provider;function HN(){const e=_.useContext(IG);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function OG(e){function t(r,n){const{instance:i,context:a}=e(r).current;return _.useImperativeHandle(n,()=>i),r.children==null?null:_e.createElement(TG,{value:a},r.children)}return _.forwardRef(t)}function Jve(e){function t(r,n){const[i,a]=_.useState(!1),{instance:o}=e(r,a).current;_.useImperativeHandle(n,()=>o),_.useEffect(function(){i&&o.update()},[o,i,r.children]);const l=o._contentNode;return l?aA.createPortal(r.children,l):null}return _.forwardRef(t)}function Zve(e){function t(r,n){const{instance:i}=e(r).current;return _.useImperativeHandle(n,()=>i),null}return _.forwardRef(t)}function T6(e,t){const r=_.useRef();_.useEffect(function(){return t!=null&&e.instance.on(t),r.current=t,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,t])}function zN(e,t){const r=e.pane??t.pane;return r?{...e,pane:r}:e}function ebe(e,t){return function(n,i){const a=HN(),o=e(zN(n,a),a);return EG(a.map,n.attribution),T6(o.current,n.eventHandlers),t(o.current,a,n,i),o}}var q4={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(r,n){n(t)})(Z0,function(r){var n="1.9.4";function i(h){var g,S,M,q;for(S=1,M=arguments.length;S<M;S++){q=arguments[S];for(g in q)h[g]=q[g]}return h}var a=Object.create||function(){function h(){}return function(g){return h.prototype=g,new h}}();function o(h,g){var S=Array.prototype.slice;if(h.bind)return h.bind.apply(h,S.call(arguments,1));var M=S.call(arguments,2);return function(){return h.apply(g,M.length?M.concat(S.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function d(h,g,S){var M,q,ce,Se;return Se=function(){M=!1,q&&(ce.apply(S,q),q=!1)},ce=function(){M?q=arguments:(h.apply(S,arguments),setTimeout(Se,g),M=!0)},ce}function u(h,g,S){var M=g[1],q=g[0],ce=M-q;return h===M&&S?h:((h-q)%ce+ce)%ce+q}function A(){return!1}function f(h,g){if(g===!1)return h;var S=Math.pow(10,g===void 0?6:g);return Math.round(h*S)/S}function m(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function x(h){return m(h).split(/\s+/)}function p(h,g){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?a(h.options):{});for(var S in g)h.options[S]=g[S];return h.options}function v(h,g,S){var M=[];for(var q in h)M.push(encodeURIComponent(S?q.toUpperCase():q)+"="+encodeURIComponent(h[q]));return(!g||g.indexOf("?")===-1?"?":"&")+M.join("&")}var y=/\{ *([\w_ -]+) *\}/g;function b(h,g){return h.replace(y,function(S,M){var q=g[M];if(q===void 0)throw new Error("No value provided for variable "+S);return typeof q=="function"&&(q=q(g)),q})}var w=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function j(h,g){for(var S=0;S<h.length;S++)if(h[S]===g)return S;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var I=0;function P(h){var g=+new Date,S=Math.max(0,16-(g-I));return I=g+S,window.setTimeout(h,S)}var T=window.requestAnimationFrame||B("RequestAnimationFrame")||P,U=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function k(h,g,S){if(S&&T===P)h.call(g);else return T.call(window,o(h,g))}function E(h){h&&U.call(window,h)}var Q={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:c,throttle:d,wrapNum:u,falseFn:A,formatNum:f,trim:m,splitWords:x,setOptions:p,getParamString:v,template:b,isArray:w,indexOf:j,emptyImageUrl:N,requestFn:T,cancelFn:U,requestAnimFrame:k,cancelAnimFrame:E};function F(){}F.extend=function(h){var g=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=g.__super__=this.prototype,M=a(S);M.constructor=g,g.prototype=M;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(g[q]=this[q]);return h.statics&&i(g,h.statics),h.includes&&(K(h.includes),i.apply(null,[M].concat(h.includes))),i(M,h),delete M.statics,delete M.includes,M.options&&(M.options=S.options?a(S.options):{},i(M.options,h.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var ce=0,Se=M._initHooks.length;ce<Se;ce++)M._initHooks[ce].call(this)}},g},F.include=function(h){var g=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=g,this.mergeOptions(h.options)),this},F.mergeOptions=function(h){return i(this.prototype.options,h),this},F.addInitHook=function(h){var g=Array.prototype.slice.call(arguments,1),S=typeof h=="function"?h:function(){this[h].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function K(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=w(h)?h:[h];for(var g=0;g<h.length;g++)h[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(h,g,S){if(typeof h=="object")for(var M in h)this._on(M,h[M],g);else{h=x(h);for(var q=0,ce=h.length;q<ce;q++)this._on(h[q],g,S)}return this},off:function(h,g,S){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var M in h)this._off(M,h[M],g);else{h=x(h);for(var q=arguments.length===1,ce=0,Se=h.length;ce<Se;ce++)q?this._off(h[ce]):this._off(h[ce],g,S)}return this},_on:function(h,g,S,M){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(h,g,S)===!1){S===this&&(S=void 0);var q={fn:g,ctx:S};M&&(q.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(q)}},_off:function(h,g,S){var M,q,ce;if(this._events&&(M=this._events[h],!!M)){if(arguments.length===1){if(this._firingCount)for(q=0,ce=M.length;q<ce;q++)M[q].fn=A;delete this._events[h];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var Se=this._listens(h,g,S);if(Se!==!1){var Re=M[Se];this._firingCount&&(Re.fn=A,this._events[h]=M=M.slice()),M.splice(Se,1)}}},fire:function(h,g,S){if(!this.listens(h,S))return this;var M=i({},g,{type:h,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var q=this._events[h];if(q){this._firingCount=this._firingCount+1||1;for(var ce=0,Se=q.length;ce<Se;ce++){var Re=q[ce],He=Re.fn;Re.once&&this.off(h,He,Re.ctx),He.call(Re.ctx||this,M)}this._firingCount--}}return S&&this._propagateEvent(M),this},listens:function(h,g,S,M){typeof h!="string"&&console.warn('"string" type argument expected');var q=g;typeof g!="function"&&(M=!!g,q=void 0,S=void 0);var ce=this._events&&this._events[h];if(ce&&ce.length&&this._listens(h,q,S)!==!1)return!0;if(M){for(var Se in this._eventParents)if(this._eventParents[Se].listens(h,g,S,M))return!0}return!1},_listens:function(h,g,S){if(!this._events)return!1;var M=this._events[h]||[];if(!g)return!!M.length;S===this&&(S=void 0);for(var q=0,ce=M.length;q<ce;q++)if(M[q].fn===g&&M[q].ctx===S)return q;return!1},once:function(h,g,S){if(typeof h=="object")for(var M in h)this._on(M,h[M],g,!0);else{h=x(h);for(var q=0,ce=h.length;q<ce;q++)this._on(h[q],g,S,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var g in this._eventParents)this._eventParents[g].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var D=F.extend(W);function z(h,g,S){this.x=S?Math.round(h):h,this.y=S?Math.round(g):g}var ee=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(h){return this.clone()._add(te(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(te(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new z(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new z(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(h){h=te(h);var g=h.x-this.x,S=h.y-this.y;return Math.sqrt(g*g+S*S)},equals:function(h){return h=te(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=te(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+f(this.x)+", "+f(this.y)+")"}};function te(h,g,S){return h instanceof z?h:w(h)?new z(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new z(h.x,h.y):new z(h,g,S)}function le(h,g){if(h)for(var S=g?[h,g]:h,M=0,q=S.length;M<q;M++)this.extend(S[M])}le.prototype={extend:function(h){var g,S;if(!h)return this;if(h instanceof z||typeof h[0]=="number"||"x"in h)g=S=te(h);else if(h=$(h),g=h.min,S=h.max,!g||!S)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=S.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(h){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var g,S;return typeof h[0]=="number"||h instanceof z?h=te(h):h=$(h),h instanceof le?(g=h.min,S=h.max):g=S=h,g.x>=this.min.x&&S.x<=this.max.x&&g.y>=this.min.y&&S.y<=this.max.y},intersects:function(h){h=$(h);var g=this.min,S=this.max,M=h.min,q=h.max,ce=q.x>=g.x&&M.x<=S.x,Se=q.y>=g.y&&M.y<=S.y;return ce&&Se},overlaps:function(h){h=$(h);var g=this.min,S=this.max,M=h.min,q=h.max,ce=q.x>g.x&&M.x<S.x,Se=q.y>g.y&&M.y<S.y;return ce&&Se},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var g=this.min,S=this.max,M=Math.abs(g.x-S.x)*h,q=Math.abs(g.y-S.y)*h;return $(te(g.x-M,g.y-q),te(S.x+M,S.y+q))},equals:function(h){return h?(h=$(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function $(h,g){return!h||h instanceof le?h:new le(h,g)}function X(h,g){if(h)for(var S=g?[h,g]:h,M=0,q=S.length;M<q;M++)this.extend(S[M])}X.prototype={extend:function(h){var g=this._southWest,S=this._northEast,M,q;if(h instanceof ne)M=h,q=h;else if(h instanceof X){if(M=h._southWest,q=h._northEast,!M||!q)return this}else return h?this.extend(ae(h)||V(h)):this;return!g&&!S?(this._southWest=new ne(M.lat,M.lng),this._northEast=new ne(q.lat,q.lng)):(g.lat=Math.min(M.lat,g.lat),g.lng=Math.min(M.lng,g.lng),S.lat=Math.max(q.lat,S.lat),S.lng=Math.max(q.lng,S.lng)),this},pad:function(h){var g=this._southWest,S=this._northEast,M=Math.abs(g.lat-S.lat)*h,q=Math.abs(g.lng-S.lng)*h;return new X(new ne(g.lat-M,g.lng-q),new ne(S.lat+M,S.lng+q))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ne||"lat"in h?h=ae(h):h=V(h);var g=this._southWest,S=this._northEast,M,q;return h instanceof X?(M=h.getSouthWest(),q=h.getNorthEast()):M=q=h,M.lat>=g.lat&&q.lat<=S.lat&&M.lng>=g.lng&&q.lng<=S.lng},intersects:function(h){h=V(h);var g=this._southWest,S=this._northEast,M=h.getSouthWest(),q=h.getNorthEast(),ce=q.lat>=g.lat&&M.lat<=S.lat,Se=q.lng>=g.lng&&M.lng<=S.lng;return ce&&Se},overlaps:function(h){h=V(h);var g=this._southWest,S=this._northEast,M=h.getSouthWest(),q=h.getNorthEast(),ce=q.lat>g.lat&&M.lat<S.lat,Se=q.lng>g.lng&&M.lng<S.lng;return ce&&Se},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,g){return h?(h=V(h),this._southWest.equals(h.getSouthWest(),g)&&this._northEast.equals(h.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function V(h,g){return h instanceof X?h:new X(h,g)}function ne(h,g,S){if(isNaN(h)||isNaN(g))throw new Error("Invalid LatLng object: ("+h+", "+g+")");this.lat=+h,this.lng=+g,S!==void 0&&(this.alt=+S)}ne.prototype={equals:function(h,g){if(!h)return!1;h=ae(h);var S=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return S<=(g===void 0?1e-9:g)},toString:function(h){return"LatLng("+f(this.lat,h)+", "+f(this.lng,h)+")"},distanceTo:function(h){return ge.distance(this,ae(h))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(h){var g=180*h/40075017,S=g/Math.cos(Math.PI/180*this.lat);return V([this.lat-g,this.lng-S],[this.lat+g,this.lng+S])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function ae(h,g,S){return h instanceof ne?h:w(h)&&typeof h[0]!="object"?h.length===3?new ne(h[0],h[1],h[2]):h.length===2?new ne(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ne(h.lat,"lng"in h?h.lng:h.lon,h.alt):g===void 0?null:new ne(h,g,S)}var he={latLngToPoint:function(h,g){var S=this.projection.project(h),M=this.scale(g);return this.transformation._transform(S,M)},pointToLatLng:function(h,g){var S=this.scale(g),M=this.transformation.untransform(h,S);return this.projection.unproject(M)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var g=this.projection.bounds,S=this.scale(h),M=this.transformation.transform(g.min,S),q=this.transformation.transform(g.max,S);return new le(M,q)},infinite:!1,wrapLatLng:function(h){var g=this.wrapLng?u(h.lng,this.wrapLng,!0):h.lng,S=this.wrapLat?u(h.lat,this.wrapLat,!0):h.lat,M=h.alt;return new ne(S,g,M)},wrapLatLngBounds:function(h){var g=h.getCenter(),S=this.wrapLatLng(g),M=g.lat-S.lat,q=g.lng-S.lng;if(M===0&&q===0)return h;var ce=h.getSouthWest(),Se=h.getNorthEast(),Re=new ne(ce.lat-M,ce.lng-q),He=new ne(Se.lat-M,Se.lng-q);return new X(Re,He)}},ge=i({},he,{wrapLng:[-180,180],R:6371e3,distance:function(h,g){var S=Math.PI/180,M=h.lat*S,q=g.lat*S,ce=Math.sin((g.lat-h.lat)*S/2),Se=Math.sin((g.lng-h.lng)*S/2),Re=ce*ce+Math.cos(M)*Math.cos(q)*Se*Se,He=2*Math.atan2(Math.sqrt(Re),Math.sqrt(1-Re));return this.R*He}}),J=6378137,ue={R:J,MAX_LATITUDE:85.0511287798,project:function(h){var g=Math.PI/180,S=this.MAX_LATITUDE,M=Math.max(Math.min(S,h.lat),-S),q=Math.sin(M*g);return new z(this.R*h.lng*g,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(h){var g=180/Math.PI;return new ne((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*g,h.x*g/this.R)},bounds:function(){var h=J*Math.PI;return new le([-h,-h],[h,h])}()};function fe(h,g,S,M){if(w(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=g,this._c=S,this._d=M}fe.prototype={transform:function(h,g){return this._transform(h.clone(),g)},_transform:function(h,g){return g=g||1,h.x=g*(this._a*h.x+this._b),h.y=g*(this._c*h.y+this._d),h},untransform:function(h,g){return g=g||1,new z((h.x/g-this._b)/this._a,(h.y/g-this._d)/this._c)}};function Y(h,g,S,M){return new fe(h,g,S,M)}var je=i({},ge,{code:"EPSG:3857",projection:ue,transformation:function(){var h=.5/(Math.PI*ue.R);return Y(h,.5,-h,.5)}()}),xe=i({},je,{code:"EPSG:900913"});function re(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function Ce(h,g){var S="",M,q,ce,Se,Re,He;for(M=0,ce=h.length;M<ce;M++){for(Re=h[M],q=0,Se=Re.length;q<Se;q++)He=Re[q],S+=(q?"L":"M")+He.x+" "+He.y;S+=g?Bt.svg?"z":"x":""}return S||"M0 0"}var Ie=document.documentElement.style,Ue="ActiveXObject"in window,Oe=Ue&&!document.addEventListener,Xe="msLaunchUri"in navigator&&!("documentMode"in document),et=fr("webkit"),me=fr("android"),Be=fr("android 2")||fr("android 3"),Ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ee=me&&fr("Google")&&Ne<537&&!("AudioNode"in window),$e=!!window.opera,ot=!Xe&&fr("chrome"),nt=fr("gecko")&&!et&&!$e&&!Ue,tt=!ot&&fr("safari"),Ke=fr("phantom"),it="OTransition"in Ie,lt=navigator.platform.indexOf("Win")===0,yt=Ue&&"transition"in Ie,Ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Be,wt="MozPerspective"in Ie,$t=!window.L_DISABLE_3D&&(yt||Ct||wt)&&!it&&!Ke,gt=typeof orientation<"u"||fr("mobile"),mt=gt&&et,at=gt&&Ct,At=!window.PointerEvent&&window.MSPointerEvent,rt=!!(window.PointerEvent||At),ze="ontouchstart"in window||!!window.TouchEvent,Et=!window.L_NO_TOUCH&&(ze||rt),Ft=gt&&$e,_n=gt&&nt,er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yr=function(){var h=!1;try{var g=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",A,g),window.removeEventListener("testPassiveEventSupport",A,g)}catch{}return h}(),Cn=function(){return!!document.createElement("canvas").getContext}(),Lt=!!(document.createElementNS&&re("svg").createSVGRect),gs=!!Lt&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xs=!Lt&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var g=h.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),On=navigator.platform.indexOf("Mac")===0,Ln=navigator.platform.indexOf("Linux")===0;function fr(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Bt={ie:Ue,ielt9:Oe,edge:Xe,webkit:et,android:me,android23:Be,androidStock:Ee,opera:$e,chrome:ot,gecko:nt,safari:tt,phantom:Ke,opera12:it,win:lt,ie3d:yt,webkit3d:Ct,gecko3d:wt,any3d:$t,mobile:gt,mobileWebkit:mt,mobileWebkit3d:at,msPointer:At,pointer:rt,touch:Et,touchNative:ze,mobileOpera:Ft,mobileGecko:_n,retina:er,passiveEvents:Yr,canvas:Cn,svg:Lt,vml:xs,inlineSvg:gs,mac:On,linux:Ln},un=Bt.msPointer?"MSPointerDown":"pointerdown",ri=Bt.msPointer?"MSPointerMove":"pointermove",zs=Bt.msPointer?"MSPointerUp":"pointerup",is=Bt.msPointer?"MSPointerCancel":"pointercancel",as={touchstart:un,touchmove:ri,touchend:zs,touchcancel:is},os={touchstart:Qe,touchmove:we,touchend:we,touchcancel:we},Bn={},qe=!1;function Nt(h,g,S){return g==="touchstart"&&Fr(),os[g]?(S=os[g].bind(this,S),h.addEventListener(as[g],S,!1),S):(console.warn("wrong event specified:",g),A)}function kt(h,g,S){if(!as[g]){console.warn("wrong event specified:",g);return}h.removeEventListener(as[g],S,!1)}function ut(h){Bn[h.pointerId]=h}function Ut(h){Bn[h.pointerId]&&(Bn[h.pointerId]=h)}function bn(h){delete Bn[h.pointerId]}function Fr(){qe||(document.addEventListener(un,ut,!0),document.addEventListener(ri,Ut,!0),document.addEventListener(zs,bn,!0),document.addEventListener(is,bn,!0),qe=!0)}function we(h,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var S in Bn)g.touches.push(Bn[S]);g.changedTouches=[g],h(g)}}function Qe(h,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Hn(g),we(h,g)}function Ge(h){var g={},S,M;for(M in h)S=h[M],g[M]=S&&S.bind?S.bind(h):S;return h=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var xt=200;function Ht(h,g){h.addEventListener("dblclick",g);var S=0,M;function q(ce){if(ce.detail!==1){M=ce.detail;return}if(!(ce.pointerType==="mouse"||ce.sourceCapabilities&&!ce.sourceCapabilities.firesTouchEvents)){var Se=Do(ce);if(!(Se.some(function(He){return He instanceof HTMLLabelElement&&He.attributes.for})&&!Se.some(function(He){return He instanceof HTMLInputElement||He instanceof HTMLSelectElement}))){var Re=Date.now();Re-S<=xt?(M++,M===2&&g(Ge(ce))):M=1,S=Re}}}return h.addEventListener("click",q),{dblclick:g,simDblclick:q}}function Kr(h,g){h.removeEventListener("dblclick",g.dblclick),h.removeEventListener("click",g.simDblclick)}var en=Tu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ni=Tu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_c=ni==="webkitTransition"||ni==="OTransition"?ni+"End":"transitionend";function La(h){return typeof h=="string"?document.getElementById(h):h}function so(h,g){var S=h.style[g]||h.currentStyle&&h.currentStyle[g];if((!S||S==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(h,null);S=M?M[g]:null}return S==="auto"?null:S}function mr(h,g,S){var M=document.createElement(h);return M.className=g||"",S&&S.appendChild(M),M}function tn(h){var g=h.parentNode;g&&g.removeChild(h)}function Iu(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Sn(h){var g=h.parentNode;g&&g.lastChild!==h&&g.appendChild(h)}function Nl(h){var g=h.parentNode;g&&g.firstChild!==h&&g.insertBefore(h,g.firstChild)}function Fa(h,g){if(h.classList!==void 0)return h.classList.contains(g);var S=Jn(h);return S.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(S)}function ur(h,g){if(h.classList!==void 0)for(var S=x(g),M=0,q=S.length;M<q;M++)h.classList.add(S[M]);else if(!Fa(h,g)){var ce=Jn(h);Mi(h,(ce?ce+" ":"")+g)}}function Fn(h,g){h.classList!==void 0?h.classList.remove(g):Mi(h,m((" "+Jn(h)+" ").replace(" "+g+" "," ")))}function Mi(h,g){h.className.baseVal===void 0?h.className=g:h.className.baseVal=g}function Jn(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function ys(h,g){"opacity"in h.style?h.style.opacity=g:"filter"in h.style&&Am(h,g)}function Am(h,g){var S=!1,M="DXImageTransform.Microsoft.Alpha";try{S=h.filters.item(M)}catch{if(g===1)return}g=Math.round(g*100),S?(S.Enabled=g!==100,S.Opacity=g):h.style.filter+=" progid:"+M+"(opacity="+g+")"}function Tu(h){for(var g=document.documentElement.style,S=0;S<h.length;S++)if(h[S]in g)return h[S];return!1}function _l(h,g,S){var M=g||new z(0,0);h.style[en]=(Bt.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(S?" scale("+S+")":"")}function Xr(h,g){h._leaflet_pos=g,Bt.any3d?_l(h,g):(h.style.left=g.x+"px",h.style.top=g.y+"px")}function Ro(h){return h._leaflet_pos||new z(0,0)}var Cc,Mo,Cl;if("onselectstart"in document)Cc=function(){_t(window,"selectstart",Hn)},Mo=function(){rn(window,"selectstart",Hn)};else{var bd=Tu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Cc=function(){if(bd){var h=document.documentElement.style;Cl=h[bd],h[bd]="none"}},Mo=function(){bd&&(document.documentElement.style[bd]=Cl,Cl=void 0)}}function gA(){_t(window,"dragstart",Hn)}function xA(){rn(window,"dragstart",Hn)}var Bc,Ou;function Aa(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Lu(),Bc=h,Ou=h.style.outlineStyle,h.style.outlineStyle="none",_t(window,"keydown",Lu))}function Lu(){Bc&&(Bc.style.outlineStyle=Ou,Bc=void 0,Ou=void 0,rn(window,"keydown",Lu))}function Sc(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function wd(h){var g=h.getBoundingClientRect();return{x:g.width/h.offsetWidth||1,y:g.height/h.offsetHeight||1,boundingClientRect:g}}var c0={__proto__:null,TRANSFORM:en,TRANSITION:ni,TRANSITION_END:_c,get:La,getStyle:so,create:mr,remove:tn,empty:Iu,toFront:Sn,toBack:Nl,hasClass:Fa,addClass:ur,removeClass:Fn,setClass:Mi,getClass:Jn,setOpacity:ys,testProp:Tu,setTransform:_l,setPosition:Xr,getPosition:Ro,get disableTextSelection(){return Cc},get enableTextSelection(){return Mo},disableImageDrag:gA,enableImageDrag:xA,preventOutline:Aa,restoreOutline:Lu,getSizedParentNode:Sc,getScale:wd};function _t(h,g,S,M){if(g&&typeof g=="object")for(var q in g)ao(h,q,g[q],S);else{g=x(g);for(var ce=0,Se=g.length;ce<Se;ce++)ao(h,g[ce],S,M)}return this}var Ua="_leaflet_events";function rn(h,g,S,M){if(arguments.length===1)fm(h),delete h[Ua];else if(g&&typeof g=="object")for(var q in g)yA(h,q,g[q],S);else if(g=x(g),arguments.length===2)fm(h,function(Re){return j(g,Re)!==-1});else for(var ce=0,Se=g.length;ce<Se;ce++)yA(h,g[ce],S,M);return this}function fm(h,g){for(var S in h[Ua]){var M=S.split(/\d/)[0];(!g||g(M))&&yA(h,M,null,null,S)}}var io={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ao(h,g,S,M){var q=g+c(S)+(M?"_"+c(M):"");if(h[Ua]&&h[Ua][q])return this;var ce=function(Re){return S.call(M||h,Re||window.event)},Se=ce;!Bt.touchNative&&Bt.pointer&&g.indexOf("touch")===0?ce=Nt(h,g,ce):Bt.touch&&g==="dblclick"?ce=Ht(h,ce):"addEventListener"in h?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?h.addEventListener(io[g]||g,ce,Bt.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(ce=function(Re){Re=Re||window.event,Uu(h,Re)&&Se(Re)},h.addEventListener(io[g],ce,!1)):h.addEventListener(g,Se,!1):h.attachEvent("on"+g,ce),h[Ua]=h[Ua]||{},h[Ua][q]=ce}function yA(h,g,S,M,q){q=q||g+c(S)+(M?"_"+c(M):"");var ce=h[Ua]&&h[Ua][q];if(!ce)return this;!Bt.touchNative&&Bt.pointer&&g.indexOf("touch")===0?kt(h,g,ce):Bt.touch&&g==="dblclick"?Kr(h,ce):"removeEventListener"in h?h.removeEventListener(io[g]||g,ce,!1):h.detachEvent("on"+g,ce),h[Ua][q]=null}function Bl(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function kc(h){return ao(h,"wheel",Bl),this}function Sl(h){return _t(h,"mousedown touchstart dblclick contextmenu",Bl),h._leaflet_disable_click=!0,this}function Hn(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function kl(h){return Hn(h),Bl(h),this}function Do(h){if(h.composedPath)return h.composedPath();for(var g=[],S=h.target;S;)g.push(S),S=S.parentNode;return g}function mm(h,g){if(!g)return new z(h.clientX,h.clientY);var S=wd(g),M=S.boundingClientRect;return new z((h.clientX-M.left)/S.x-g.clientLeft,(h.clientY-M.top)/S.y-g.clientTop)}var vA=Bt.linux&&Bt.chrome?window.devicePixelRatio:Bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fu(h){return Bt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/vA:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Uu(h,g){var S=g.relatedTarget;if(!S)return!0;try{for(;S&&S!==h;)S=S.parentNode}catch{return!1}return S!==h}var El={__proto__:null,on:_t,off:rn,stopPropagation:Bl,disableScrollPropagation:kc,disableClickPropagation:Sl,preventDefault:Hn,stop:kl,getPropagationPath:Do,getMousePosition:mm,getWheelDelta:Fu,isExternalTarget:Uu,addListener:_t,removeListener:rn},Ru=D.extend({run:function(h,g,S,M){this.stop(),this._el=h,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Ro(h),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(h){var g=+new Date-this._startTime,S=this._duration*1e3;g<S?this._runFrame(this._easeOut(g/S),h):(this._runFrame(1),this._complete())},_runFrame:function(h,g){var S=this._startPos.add(this._offset.multiplyBy(h));g&&S._round(),Xr(this._el,S),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Nr=D.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,g){g=p(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(ae(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ni&&Bt.any3d&&!Bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_t(this._proxy,_c,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,g,S){if(g=g===void 0?this._zoom:this._limitZoom(g),h=this._limitCenter(ae(h),g,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var M=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,g,S.zoom):this._tryAnimatedPan(h,S.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(h,g,S.pan&&S.pan.noMoveStart),this},setZoom:function(h,g){return this._loaded?this.setView(this.getCenter(),h,{zoom:g}):(this._zoom=h,this)},zoomIn:function(h,g){return h=h||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,g)},zoomOut:function(h,g){return h=h||(Bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,g)},setZoomAround:function(h,g,S){var M=this.getZoomScale(g),q=this.getSize().divideBy(2),ce=h instanceof z?h:this.latLngToContainerPoint(h),Se=ce.subtract(q).multiplyBy(1-1/M),Re=this.containerPointToLatLng(q.add(Se));return this.setView(Re,g,{zoom:S})},_getBoundsCenterZoom:function(h,g){g=g||{},h=h.getBounds?h.getBounds():V(h);var S=te(g.paddingTopLeft||g.padding||[0,0]),M=te(g.paddingBottomRight||g.padding||[0,0]),q=this.getBoundsZoom(h,!1,S.add(M));if(q=typeof g.maxZoom=="number"?Math.min(g.maxZoom,q):q,q===1/0)return{center:h.getCenter(),zoom:q};var ce=M.subtract(S).divideBy(2),Se=this.project(h.getSouthWest(),q),Re=this.project(h.getNorthEast(),q),He=this.unproject(Se.add(Re).divideBy(2).add(ce),q);return{center:He,zoom:q}},fitBounds:function(h,g){if(h=V(h),!h.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(h,g);return this.setView(S.center,S.zoom,g)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,g){return this.setView(h,this._zoom,{pan:g})},panBy:function(h,g){if(h=te(h).round(),g=g||{},!h.x&&!h.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ru,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){ur(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,S,g.duration||.25,g.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,g,S){if(S=S||{},S.animate===!1||!Bt.any3d)return this.setView(h,g,S);this._stop();var M=this.project(this.getCenter()),q=this.project(h),ce=this.getSize(),Se=this._zoom;h=ae(h),g=g===void 0?Se:g;var Re=Math.max(ce.x,ce.y),He=Re*this.getZoomScale(Se,g),dt=q.distanceTo(M)||1,Pt=1.42,Jt=Pt*Pt;function Sr(hn){var Bi=hn?-1:1,c_=hn?He:Re,d_=He*He-Re*Re+Bi*Jt*Jt*dt*dt,lb=2*c_*Jt*dt,Nm=d_/lb,g0=Math.sqrt(Nm*Nm+1)-Nm,cb=g0<1e-9?-18:Math.log(g0);return cb}function Ci(hn){return(Math.exp(hn)-Math.exp(-hn))/2}function Is(hn){return(Math.exp(hn)+Math.exp(-hn))/2}function Ha(hn){return Ci(hn)/Is(hn)}var zi=Sr(0);function Vu(hn){return Re*(Is(zi)/Is(zi+Pt*hn))}function o_(hn){return Re*(Is(zi)*Ha(zi+Pt*hn)-Ci(zi))/Jt}function Lc(hn){return 1-Math.pow(1-hn,1.5)}var uo=Date.now(),Yo=(Sr(1)-zi)/Pt,l_=S.duration?1e3*S.duration:1e3*Yo*.8;function p0(){var hn=(Date.now()-uo)/l_,Bi=Lc(hn)*Yo;hn<=1?(this._flyToFrame=k(p0,this),this._move(this.unproject(M.add(q.subtract(M).multiplyBy(o_(Bi)/dt)),Se),this.getScaleZoom(Re/Vu(Bi),Se),{flyTo:!0})):this._move(h,g)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),p0.call(this),this},flyToBounds:function(h,g){var S=this._getBoundsCenterZoom(h,g);return this.flyTo(S.center,S.zoom,g)},setMaxBounds:function(h){return h=V(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var g=this.options.minZoom;return this.options.minZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var g=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,g){this._enforcingBounds=!0;var S=this.getCenter(),M=this._limitCenter(S,this._zoom,V(h));return S.equals(M)||this.panTo(M,g),this._enforcingBounds=!1,this},panInside:function(h,g){g=g||{};var S=te(g.paddingTopLeft||g.padding||[0,0]),M=te(g.paddingBottomRight||g.padding||[0,0]),q=this.project(this.getCenter()),ce=this.project(h),Se=this.getPixelBounds(),Re=$([Se.min.add(S),Se.max.subtract(M)]),He=Re.getSize();if(!Re.contains(ce)){this._enforcingBounds=!0;var dt=ce.subtract(Re.getCenter()),Pt=Re.extend(ce).getSize().subtract(He);q.x+=dt.x<0?-Pt.x:Pt.x,q.y+=dt.y<0?-Pt.y:Pt.y,this.panTo(this.unproject(q),g),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),M=g.divideBy(2).round(),q=S.divideBy(2).round(),ce=M.subtract(q);return!ce.x&&!ce.y?this:(h.animate&&h.pan?this.panBy(ce):(h.pan&&this._rawPanBy(ce),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,S,h):navigator.geolocation.getCurrentPosition(g,S,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var g=h.code,S=h.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var g=h.coords.latitude,S=h.coords.longitude,M=new ne(g,S),q=M.toBounds(h.coords.accuracy*2),ce=this._locateOptions;if(ce.setView){var Se=this.getBoundsZoom(q);this.setView(M,ce.maxZoom?Math.min(Se,ce.maxZoom):Se)}var Re={latlng:M,bounds:q,timestamp:h.timestamp};for(var He in h.coords)typeof h.coords[He]=="number"&&(Re[He]=h.coords[He]);this.fire("locationfound",Re)}},addHandler:function(h,g){if(!g)return this;var S=this[h]=new g(this);return this._handlers.push(S),this.options[h]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)tn(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,g){var S="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),M=mr("div",S,g||this._mapPane);return h&&(this._panes[h]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),g=this.unproject(h.getBottomLeft()),S=this.unproject(h.getTopRight());return new X(g,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,g,S){h=V(h),S=te(S||[0,0]);var M=this.getZoom()||0,q=this.getMinZoom(),ce=this.getMaxZoom(),Se=h.getNorthWest(),Re=h.getSouthEast(),He=this.getSize().subtract(S),dt=$(this.project(Re,M),this.project(Se,M)).getSize(),Pt=Bt.any3d?this.options.zoomSnap:1,Jt=He.x/dt.x,Sr=He.y/dt.y,Ci=g?Math.max(Jt,Sr):Math.min(Jt,Sr);return M=this.getScaleZoom(Ci,M),Pt&&(M=Math.round(M/(Pt/100))*(Pt/100),M=g?Math.ceil(M/Pt)*Pt:Math.floor(M/Pt)*Pt),Math.max(q,Math.min(ce,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,g){var S=this._getTopLeftPoint(h,g);return new le(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,g){var S=this.options.crs;return g=g===void 0?this._zoom:g,S.scale(h)/S.scale(g)},getScaleZoom:function(h,g){var S=this.options.crs;g=g===void 0?this._zoom:g;var M=S.zoom(h*S.scale(g));return isNaN(M)?1/0:M},project:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(ae(h),g)},unproject:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(te(h),g)},layerPointToLatLng:function(h){var g=te(h).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(h){var g=this.project(ae(h))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ae(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(V(h))},distance:function(h,g){return this.options.crs.distance(ae(h),ae(g))},containerPointToLayerPoint:function(h){return te(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return te(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var g=this.containerPointToLayerPoint(te(h));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(h)))},mouseEventToContainerPoint:function(h){return mm(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var g=this._container=La(h);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_t(g,"scroll",this._onScroll,this),this._containerId=c(g)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Bt.any3d,ur(h,"leaflet-container"+(Bt.touch?" leaflet-touch":"")+(Bt.retina?" leaflet-retina":"")+(Bt.ielt9?" leaflet-oldie":"")+(Bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=so(h,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Xr(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ur(h.markerPane,"leaflet-zoom-hide"),ur(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,g,S){Xr(this._mapPane,new z(0,0));var M=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var q=this._zoom!==g;this._moveStart(q,S)._move(h,g)._moveEnd(q),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(h,g){return h&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(h,g,S,M){g===void 0&&(g=this._zoom);var q=this._zoom!==g;return this._zoom=g,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),M?S&&S.pinch&&this.fire("zoom",S):((q||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){Xr(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var g=h?rn:_t;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Bt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,g){for(var S=[],M,q=g==="mouseout"||g==="mouseover",ce=h.target||h.srcElement,Se=!1;ce;){if(M=this._targets[c(ce)],M&&(g==="click"||g==="preclick")&&this._draggableMoved(M)){Se=!0;break}if(M&&M.listens(g,!0)&&(q&&!Uu(ce,h)||(S.push(M),q))||ce===this._container)break;ce=ce.parentNode}return!S.length&&!Se&&!q&&this.listens(g,!0)&&(S=[this]),S},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var g=h.target||h.srcElement;if(!(!this._loaded||g._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(g))){var S=h.type;S==="mousedown"&&Aa(g),this._fireDOMEvent(h,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,g,S){if(h.type==="click"){var M=i({},h);M.type="preclick",this._fireDOMEvent(M,M.type,S)}var q=this._findEventTargets(h,g);if(S){for(var ce=[],Se=0;Se<S.length;Se++)S[Se].listens(g,!0)&&ce.push(S[Se]);q=ce.concat(q)}if(q.length){g==="contextmenu"&&Hn(h);var Re=q[0],He={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var dt=Re.getLatLng&&(!Re._radius||Re._radius<=10);He.containerPoint=dt?this.latLngToContainerPoint(Re.getLatLng()):this.mouseEventToContainerPoint(h),He.layerPoint=this.containerPointToLayerPoint(He.containerPoint),He.latlng=dt?Re.getLatLng():this.layerPointToLatLng(He.layerPoint)}for(Se=0;Se<q.length;Se++)if(q[Se].fire(g,He,!0),He.originalEvent._stopped||q[Se].options.bubblingMouseEvents===!1&&j(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,g=this._handlers.length;h<g;h++)this._handlers[h].disable()},whenReady:function(h,g){return this._loaded?h.call(g||this,{target:this}):this.on("load",h,g),this},_getMapPanePos:function(){return Ro(this._mapPane)||new z(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,g){var S=h&&g!==void 0?this._getNewPixelOrigin(h,g):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,g){var S=this.getSize()._divideBy(2);return this.project(h,g)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,g,S){var M=this._getNewPixelOrigin(S,g);return this.project(h,g)._subtract(M)},_latLngBoundsToNewLayerBounds:function(h,g,S){var M=this._getNewPixelOrigin(S,g);return $([this.project(h.getSouthWest(),g)._subtract(M),this.project(h.getNorthWest(),g)._subtract(M),this.project(h.getSouthEast(),g)._subtract(M),this.project(h.getNorthEast(),g)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,g,S){if(!S)return h;var M=this.project(h,g),q=this.getSize().divideBy(2),ce=new le(M.subtract(q),M.add(q)),Se=this._getBoundsOffset(ce,S,g);return Math.abs(Se.x)<=1&&Math.abs(Se.y)<=1?h:this.unproject(M.add(Se),g)},_limitOffset:function(h,g){if(!g)return h;var S=this.getPixelBounds(),M=new le(S.min.add(h),S.max.add(h));return h.add(this._getBoundsOffset(M,g))},_getBoundsOffset:function(h,g,S){var M=$(this.project(g.getNorthEast(),S),this.project(g.getSouthWest(),S)),q=M.min.subtract(h.min),ce=M.max.subtract(h.max),Se=this._rebound(q.x,-ce.x),Re=this._rebound(q.y,-ce.y);return new z(Se,Re)},_rebound:function(h,g){return h+g>0?Math.round(h-g)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(g))},_limitZoom:function(h){var g=this.getMinZoom(),S=this.getMaxZoom(),M=Bt.any3d?this.options.zoomSnap:1;return M&&(h=Math.round(h/M)*M),Math.max(g,Math.min(S,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Fn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,g){var S=this._getCenterOffset(h)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,g),!0)},_createAnimProxy:function(){var h=this._proxy=mr("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(g){var S=en,M=this._proxy.style[S];_l(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),M===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),g=this.getZoom();_l(this._proxy,this.project(h,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,g,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(g),q=this._getCenterOffset(h)._divideBy(1-1/M);return S.animate!==!0&&!this.getSize().contains(q)?!1:(k(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(h,g,!0)},this),!0)},_animateZoom:function(h,g,S,M){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=g,ur(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:g,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Fn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function bA(h,g){return new Nr(h,g)}var si=F.extend({options:{position:"topright"},initialize:function(h){p(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var g=this._map;return g&&g.removeControl(this),this.options.position=h,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var g=this._container=this.onAdd(h),S=this.getPosition(),M=h._controlCorners[S];return ur(g,"leaflet-control"),S.indexOf("bottom")!==-1?M.insertBefore(g,M.firstChild):M.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),Pl=function(h){return new si(h)};Nr.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},g="leaflet-",S=this._controlContainer=mr("div",g+"control-container",this._container);function M(q,ce){var Se=g+q+" "+g+ce;h[q+ce]=mr("div",Se,S)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)tn(this._controlCorners[h]);tn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wA=si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,g,S,M){return S<M?-1:M<S?1:0}},initialize:function(h,g,S){p(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in h)this._addLayer(h[M],M);for(M in g)this._addLayer(g[M],M,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return si.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,g){return this._addLayer(h,g),this._map?this._update():this},addOverlay:function(h,g){return this._addLayer(h,g,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var g=this._getLayer(c(h));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){ur(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(ur(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Fn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Fn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",g=this._container=mr("div",h),S=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Sl(g),kc(g);var M=this._section=mr("section",h+"-list");S&&(this._map.on("click",this.collapse,this),_t(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=mr("a",h+"-toggle",g);q.href="#",q.title="Layers",q.setAttribute("role","button"),_t(q,{keydown:function(ce){ce.keyCode===13&&this._expandSafely()},click:function(ce){Hn(ce),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=mr("div",h+"-base",M),this._separator=mr("div",h+"-separator",M),this._overlaysList=mr("div",h+"-overlays",M),g.appendChild(M)},_getLayer:function(h){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&c(this._layers[g].layer)===h)return this._layers[g]},_addLayer:function(h,g,S){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:g,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(M,q){return this.options.sortFunction(M.layer,q.layer,M.name,q.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Iu(this._baseLayersList),Iu(this._overlaysList),this._layerControlInputs=[];var h,g,S,M,q=0;for(S=0;S<this._layers.length;S++)M=this._layers[S],this._addItem(M),g=g||M.overlay,h=h||!M.overlay,q+=M.overlay?0:1;return this.options.hideSingleBase&&(h=h&&q>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=g&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var g=this._getLayer(c(h.target)),S=g.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;S&&this._map.fire(S,g)},_createRadioElement:function(h,g){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(g?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=S,M.firstChild},_addItem:function(h){var g=document.createElement("label"),S=this._map.hasLayer(h.layer),M;h.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=S):M=this._createRadioElement("leaflet-base-layers_"+c(this),S),this._layerControlInputs.push(M),M.layerId=c(h.layer),_t(M,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+h.name;var ce=document.createElement("span");g.appendChild(ce),ce.appendChild(M),ce.appendChild(q);var Se=h.overlay?this._overlaysList:this._baseLayersList;return Se.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,g,S,M=[],q=[];this._handlingClick=!0;for(var ce=h.length-1;ce>=0;ce--)g=h[ce],S=this._getLayer(g.layerId).layer,g.checked?M.push(S):g.checked||q.push(S);for(ce=0;ce<q.length;ce++)this._map.hasLayer(q[ce])&&this._map.removeLayer(q[ce]);for(ce=0;ce<M.length;ce++)this._map.hasLayer(M[ce])||this._map.addLayer(M[ce]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,g,S,M=this._map.getZoom(),q=h.length-1;q>=0;q--)g=h[q],S=this._getLayer(g.layerId).layer,g.disabled=S.options.minZoom!==void 0&&M<S.options.minZoom||S.options.maxZoom!==void 0&&M>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,_t(h,"click",Hn),this.expand();var g=this;setTimeout(function(){rn(h,"click",Hn),g._preventClick=!1})}}),pm=function(h,g,S){return new wA(h,g,S)},oo=si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var g="leaflet-control-zoom",S=mr("div",g+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,g+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,g+"-out",S,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,g,S,M,q){var ce=mr("a",S,M);return ce.innerHTML=h,ce.href="#",ce.title=g,ce.setAttribute("role","button"),ce.setAttribute("aria-label",g),Sl(ce),_t(ce,"click",kl),_t(ce,"click",q,this),_t(ce,"click",this._refocusOnMap,this),ce},_updateDisabled:function(){var h=this._map,g="leaflet-disabled";Fn(this._zoomInButton,g),Fn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(ur(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(ur(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Nr.mergeOptions({zoomControl:!0}),Nr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oo,this.addControl(this.zoomControl))});var Il=function(h){return new oo(h)},jA=si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var g="leaflet-control-scale",S=mr("div",g),M=this.options;return this._addScales(M,g+"-line",S),h.on(M.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),S},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,g,S){h.metric&&(this._mScale=mr("div",g,S)),h.imperial&&(this._iScale=mr("div",g,S))},_update:function(){var h=this._map,g=h.getSize().y/2,S=h.distance(h.containerPointToLatLng([0,g]),h.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(S)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var g=this._getRoundNum(h),S=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,S,g/h)},_updateImperial:function(h){var g=h*3.2808399,S,M,q;g>5280?(S=g/5280,M=this._getRoundNum(S),this._updateScale(this._iScale,M+" mi",M/S)):(q=this._getRoundNum(g),this._updateScale(this._iScale,q+" ft",q/g))},_updateScale:function(h,g,S){h.style.width=Math.round(this.options.maxWidth*S)+"px",h.innerHTML=g},_getRoundNum:function(h){var g=Math.pow(10,(Math.floor(h)+"").length-1),S=h/g;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,g*S}}),jd=function(h){return new jA(h)},gm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',R=si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Bt.inlineSvg?gm+" ":"")+"Leaflet</a>"},initialize:function(h){p(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=mr("div","leaflet-control-attribution"),Sl(this._container);for(var g in h._layers)h._layers[g].getAttribution&&this.addAttribution(h._layers[g].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var g in this._attributions)this._attributions[g]&&h.push(g);var S=[];this.options.prefix&&S.push(this.options.prefix),h.length&&S.push(h.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Nr.mergeOptions({attributionControl:!0}),Nr.addInitHook(function(){this.options.attributionControl&&new R().addTo(this)});var se=function(h){return new R(h)};si.Layers=wA,si.Zoom=oo,si.Scale=jA,si.Attribution=R,Pl.layers=pm,Pl.zoom=Il,Pl.scale=jd,Pl.attribution=se;var ye=F.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ye.addTo=function(h,g){return h.addHandler(g,this),this};var ke={Events:W},Le=Bt.touch?"touchstart mousedown":"mousedown",We=D.extend({options:{clickTolerance:3},initialize:function(h,g,S,M){p(this,M),this._element=h,this._dragStartTarget=g||h,this._preventOutline=S},enable:function(){this._enabled||(_t(this._dragStartTarget,Le,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(We._dragging===this&&this.finishDrag(!0),rn(this._dragStartTarget,Le,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Fa(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){We._dragging===this&&this.finishDrag();return}if(!(We._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(We._dragging=this,this._preventOutline&&Aa(this._element),gA(),Cc(),!this._moving)){this.fire("down");var g=h.touches?h.touches[0]:h,S=Sc(this._element);this._startPoint=new z(g.clientX,g.clientY),this._startPos=Ro(this._element),this._parentScale=wd(S);var M=h.type==="mousedown";_t(document,M?"mousemove":"touchmove",this._onMove,this),_t(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var g=h.touches&&h.touches.length===1?h.touches[0]:h,S=new z(g.clientX,g.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Hn(h),this._moved||(this.fire("dragstart"),this._moved=!0,ur(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ur(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),Xr(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Fn(document.body,"leaflet-dragging"),this._lastTarget&&(Fn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rn(document,"mousemove touchmove",this._onMove,this),rn(document,"mouseup touchend touchcancel",this._onUp,this),xA(),Mo();var g=this._moved&&this._moving;this._moving=!1,We._dragging=!1,g&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function ct(h,g,S){var M,q=[1,4,2,8],ce,Se,Re,He,dt,Pt,Jt,Sr;for(ce=0,Pt=h.length;ce<Pt;ce++)h[ce]._code=ii(h[ce],g);for(Re=0;Re<4;Re++){for(Jt=q[Re],M=[],ce=0,Pt=h.length,Se=Pt-1;ce<Pt;Se=ce++)He=h[ce],dt=h[Se],He._code&Jt?dt._code&Jt||(Sr=Ra(dt,He,Jt,g,S),Sr._code=ii(Sr,g),M.push(Sr)):(dt._code&Jt&&(Sr=Ra(dt,He,Jt,g,S),Sr._code=ii(Sr,g),M.push(Sr)),M.push(He));h=M}return h}function Rt(h,g){var S,M,q,ce,Se,Re,He,dt,Pt;if(!h||h.length===0)throw new Error("latlngs not passed");ai(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Jt=ae([0,0]),Sr=V(h),Ci=Sr.getNorthWest().distanceTo(Sr.getSouthWest())*Sr.getNorthEast().distanceTo(Sr.getNorthWest());Ci<1700&&(Jt=Vt(h));var Is=h.length,Ha=[];for(S=0;S<Is;S++){var zi=ae(h[S]);Ha.push(g.project(ae([zi.lat-Jt.lat,zi.lng-Jt.lng])))}for(Re=He=dt=0,S=0,M=Is-1;S<Is;M=S++)q=Ha[S],ce=Ha[M],Se=q.y*ce.x-ce.y*q.x,He+=(q.x+ce.x)*Se,dt+=(q.y+ce.y)*Se,Re+=Se*3;Re===0?Pt=Ha[0]:Pt=[He/Re,dt/Re];var Vu=g.unproject(te(Pt));return ae([Vu.lat+Jt.lat,Vu.lng+Jt.lng])}function Vt(h){for(var g=0,S=0,M=0,q=0;q<h.length;q++){var ce=ae(h[q]);g+=ce.lat,S+=ce.lng,M++}return ae([g/M,S/M])}var dr={__proto__:null,clipPolygon:ct,polygonCenter:Rt,centroid:Vt};function pr(h,g){if(!g||!h.length)return h.slice();var S=g*g;return h=Es(h,S),h=vs(h,S),h}function Ur(h,g,S){return Math.sqrt(Ol(h,g,S,!0))}function zn(h,g,S){return Ol(h,g,S)}function vs(h,g){var S=h.length,M=typeof Uint8Array<"u"?Uint8Array:Array,q=new M(S);q[0]=q[S-1]=1,nn(h,q,g,0,S-1);var ce,Se=[];for(ce=0;ce<S;ce++)q[ce]&&Se.push(h[ce]);return Se}function nn(h,g,S,M,q){var ce=0,Se,Re,He;for(Re=M+1;Re<=q-1;Re++)He=Ol(h[Re],h[M],h[q],!0),He>ce&&(Se=Re,ce=He);ce>S&&(g[Se]=1,nn(h,g,S,M,Se),nn(h,g,S,Se,q))}function Es(h,g){for(var S=[h[0]],M=1,q=0,ce=h.length;M<ce;M++)Tl(h[M],h[q])>g&&(S.push(h[M]),q=M);return q<ce-1&&S.push(h[ce-1]),S}var ls;function Vs(h,g,S,M,q){var ce=M?ls:ii(h,S),Se=ii(g,S),Re,He,dt;for(ls=Se;;){if(!(ce|Se))return[h,g];if(ce&Se)return!1;Re=ce||Se,He=Ra(h,g,Re,S,q),dt=ii(He,S),Re===ce?(h=He,ce=dt):(g=He,Se=dt)}}function Ra(h,g,S,M,q){var ce=g.x-h.x,Se=g.y-h.y,Re=M.min,He=M.max,dt,Pt;return S&8?(dt=h.x+ce*(He.y-h.y)/Se,Pt=He.y):S&4?(dt=h.x+ce*(Re.y-h.y)/Se,Pt=Re.y):S&2?(dt=He.x,Pt=h.y+Se*(He.x-h.x)/ce):S&1&&(dt=Re.x,Pt=h.y+Se*(Re.x-h.x)/ce),new z(dt,Pt,q)}function ii(h,g){var S=0;return h.x<g.min.x?S|=1:h.x>g.max.x&&(S|=2),h.y<g.min.y?S|=4:h.y>g.max.y&&(S|=8),S}function Tl(h,g){var S=g.x-h.x,M=g.y-h.y;return S*S+M*M}function Ol(h,g,S,M){var q=g.x,ce=g.y,Se=S.x-q,Re=S.y-ce,He=Se*Se+Re*Re,dt;return He>0&&(dt=((h.x-q)*Se+(h.y-ce)*Re)/He,dt>1?(q=S.x,ce=S.y):dt>0&&(q+=Se*dt,ce+=Re*dt)),Se=h.x-q,Re=h.y-ce,M?Se*Se+Re*Re:new z(q,ce)}function ai(h){return!w(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Ll(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ai(h)}function Ec(h,g){var S,M,q,ce,Se,Re,He,dt;if(!h||h.length===0)throw new Error("latlngs not passed");ai(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Pt=ae([0,0]),Jt=V(h),Sr=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());Sr<1700&&(Pt=Vt(h));var Ci=h.length,Is=[];for(S=0;S<Ci;S++){var Ha=ae(h[S]);Is.push(g.project(ae([Ha.lat-Pt.lat,Ha.lng-Pt.lng])))}for(S=0,M=0;S<Ci-1;S++)M+=Is[S].distanceTo(Is[S+1])/2;if(M===0)dt=Is[0];else for(S=0,ce=0;S<Ci-1;S++)if(Se=Is[S],Re=Is[S+1],q=Se.distanceTo(Re),ce+=q,ce>M){He=(ce-M)/q,dt=[Re.x-He*(Re.x-Se.x),Re.y-He*(Re.y-Se.y)];break}var zi=g.unproject(te(dt));return ae([zi.lat+Pt.lat,zi.lng+Pt.lng])}var Nd={__proto__:null,simplify:pr,pointToSegmentDistance:Ur,closestPointOnSegment:zn,clipSegment:Vs,_getEdgeIntersection:Ra,_getBitCode:ii,_sqClosestPointOnSegment:Ol,isFlat:ai,_flat:Ll,polylineCenter:Ec},Qo={project:function(h){return new z(h.lng,h.lat)},unproject:function(h){return new ne(h.y,h.x)},bounds:new le([-180,-90],[180,90])},Ps={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var g=Math.PI/180,S=this.R,M=h.lat*g,q=this.R_MINOR/S,ce=Math.sqrt(1-q*q),Se=ce*Math.sin(M),Re=Math.tan(Math.PI/4-M/2)/Math.pow((1-Se)/(1+Se),ce/2);return M=-S*Math.log(Math.max(Re,1e-10)),new z(h.lng*g*S,M)},unproject:function(h){for(var g=180/Math.PI,S=this.R,M=this.R_MINOR/S,q=Math.sqrt(1-M*M),ce=Math.exp(-h.y/S),Se=Math.PI/2-2*Math.atan(ce),Re=0,He=.1,dt;Re<15&&Math.abs(He)>1e-7;Re++)dt=q*Math.sin(Se),dt=Math.pow((1-dt)/(1+dt),q/2),He=Math.PI/2-2*Math.atan(ce*dt)-Se,Se+=He;return new ne(Se*g,h.x*g/S)}},_d={__proto__:null,LonLat:Qo,Mercator:Ps,SphericalMercator:ue},Cd=i({},ge,{code:"EPSG:3395",projection:Ps,transformation:function(){var h=.5/(Math.PI*Ps.R);return Y(h,.5,-h,.5)}()}),Mu=i({},ge,{code:"EPSG:4326",projection:Qo,transformation:Y(1/180,1,-1/180,.5)}),NA=i({},he,{projection:Qo,transformation:Y(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,g){var S=g.lng-h.lng,M=g.lat-h.lat;return Math.sqrt(S*S+M*M)},infinite:!0});he.Earth=ge,he.EPSG3395=Cd,he.EPSG3857=je,he.EPSG900913=xe,he.EPSG4326=Mu,he.Simple=NA;var kn=D.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var g=h.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var S=this.getEvents();g.on(S,this),this.once("remove",function(){g.off(S,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Nr.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var g=c(h);return this._layers[g]?this:(this._layers[g]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var g=c(h);return this._layers[g]?(this._loaded&&h.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,g){for(var S in this._layers)h.call(g,this._layers[S]);return this},_addLayers:function(h){h=h?w(h)?h:[h]:[];for(var g=0,S=h.length;g<S;g++)this.addLayer(h[g])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var g=c(h);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,g=-1/0,S=this._getZoomSpan();for(var M in this._zoomBoundLayers){var q=this._zoomBoundLayers[M].options;h=q.minZoom===void 0?h:Math.min(h,q.minZoom),g=q.maxZoom===void 0?g:Math.max(g,q.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=h===1/0?void 0:h,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Di=kn.extend({initialize:function(h,g){p(this,g),this._layers={};var S,M;if(h)for(S=0,M=h.length;S<M;S++)this.addLayer(h[S])},addLayer:function(h){var g=this.getLayerId(h);return this._layers[g]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var g=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(h){var g=typeof h=="number"?h:this.getLayerId(h);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var g=Array.prototype.slice.call(arguments,1),S,M;for(S in this._layers)M=this._layers[S],M[h]&&M[h].apply(M,g);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,g){for(var S in this._layers)h.call(g,this._layers[S]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Du=function(h,g){return new Di(h,g)},Ma=Di.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),Di.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),Di.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new X;for(var g in this._layers){var S=this._layers[g];h.extend(S.getBounds?S.getBounds():S.getLatLng())}return h}}),Da=function(h,g){return new Ma(h,g)},Qa=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){p(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,g){var S=this._getIconUrl(h);if(!S){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(S,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(M,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(h,g){var S=this.options,M=S[g+"Size"];typeof M=="number"&&(M=[M,M]);var q=te(M),ce=te(g==="shadow"&&S.shadowAnchor||S.iconAnchor||q&&q.divideBy(2,!0));h.className="leaflet-marker-"+g+" "+(S.className||""),ce&&(h.style.marginLeft=-ce.x+"px",h.style.marginTop=-ce.y+"px"),q&&(h.style.width=q.x+"px",h.style.height=q.y+"px")},_createImg:function(h,g){return g=g||document.createElement("img"),g.src=h,g},_getIconUrl:function(h){return Bt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function _A(h){return new Qa(h)}var Fl=Qa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Fl.imagePath!="string"&&(Fl.imagePath=this._detectIconPath()),(this.options.imagePath||Fl.imagePath)+Qa.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var g=function(S,M,q){var ce=M.exec(S);return ce&&ce[q]};return h=g(h,/^url\((['"])?(.+)\1\)$/,2),h&&g(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=mr("div","leaflet-default-icon-path",document.body),g=so(h,"background-image")||so(h,"backgroundImage");if(document.body.removeChild(h),g=this._stripUrl(g),g)return g;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),Ul=ye.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new We(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ur(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Fn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var g=this._marker,S=g._map,M=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,ce=Ro(g._icon),Se=S.getPixelBounds(),Re=S.getPixelOrigin(),He=$(Se.min._subtract(Re).add(q),Se.max._subtract(Re).subtract(q));if(!He.contains(ce)){var dt=te((Math.max(He.max.x,ce.x)-He.max.x)/(Se.max.x-He.max.x)-(Math.min(He.min.x,ce.x)-He.min.x)/(Se.min.x-He.min.x),(Math.max(He.max.y,ce.y)-He.max.y)/(Se.max.y-He.max.y)-(Math.min(He.min.y,ce.y)-He.min.y)/(Se.min.y-He.min.y)).multiplyBy(M);S.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),Xr(g._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=k(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,h)))},_onDrag:function(h){var g=this._marker,S=g._shadow,M=Ro(g._icon),q=g._map.layerPointToLatLng(M);S&&Xr(S,M),g._latlng=q,h.latlng=q,h.oldLatLng=this._oldLatLng,g.fire("move",h).fire("drag",h)},_onDragEnd:function(h){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),$o=kn.extend({options:{icon:new Fl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,g){p(this,g),this._latlng=ae(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var g=this._latlng;return this._latlng=ae(h),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=h.icon.createIcon(this._icon),M=!1;S!==this._icon&&(this._icon&&this._removeIcon(),M=!0,h.title&&(S.title=h.title),S.tagName==="IMG"&&(S.alt=h.alt||"")),ur(S,g),h.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(S,"focus",this._panOnFocus,this);var q=h.icon.createShadow(this._shadow),ce=!1;q!==this._shadow&&(this._removeShadow(),ce=!0),q&&(ur(q,g),q.alt=""),this._shadow=q,h.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&ce&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rn(this._icon,"focus",this._panOnFocus,this),tn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tn(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&Xr(this._icon,h),this._shadow&&Xr(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(ur(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ul)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ul(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&ys(this._icon,h),this._shadow&&ys(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var g=this.options.icon.options,S=g.iconSize?te(g.iconSize):te(0,0),M=g.iconAnchor?te(g.iconAnchor):te(0,0);h.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:S.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fa(h,g){return new $o(h,g)}var bs=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return p(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),lo=bs.extend({options:{fill:!0,radius:10},initialize:function(h,g){p(this,g),this._latlng=ae(h),this._radius=this.options.radius},setLatLng:function(h){var g=this._latlng;return this._latlng=ae(h),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var g=h&&h.radius||this._radius;return bs.prototype.setStyle.call(this,h),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,g=this._radiusY||h,S=this._clickTolerance(),M=[h+S,g+S];this._pxBounds=new le(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Rl(h,g){return new lo(h,g)}var Ho=lo.extend({initialize:function(h,g,S){if(typeof g=="number"&&(g=i({},S,{radius:g})),p(this,g),this._latlng=ae(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:bs.prototype.setStyle,_project:function(){var h=this._latlng.lng,g=this._latlng.lat,S=this._map,M=S.options.crs;if(M.distance===ge.distance){var q=Math.PI/180,ce=this._mRadius/ge.R/q,Se=S.project([g+ce,h]),Re=S.project([g-ce,h]),He=Se.add(Re).divideBy(2),dt=S.unproject(He).lat,Pt=Math.acos((Math.cos(ce*q)-Math.sin(g*q)*Math.sin(dt*q))/(Math.cos(g*q)*Math.cos(dt*q)))/q;(isNaN(Pt)||Pt===0)&&(Pt=ce/Math.cos(Math.PI/180*g)),this._point=He.subtract(S.getPixelOrigin()),this._radius=isNaN(Pt)?0:He.x-S.project([dt,h-Pt]).x,this._radiusY=He.y-Se.y}else{var Jt=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Jt).x}this._updateBounds()}});function CA(h,g,S){return new Ho(h,g,S)}var Qi=bs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,g){p(this,g),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var g=1/0,S=null,M=Ol,q,ce,Se=0,Re=this._parts.length;Se<Re;Se++)for(var He=this._parts[Se],dt=1,Pt=He.length;dt<Pt;dt++){q=He[dt-1],ce=He[dt];var Jt=M(h,q,ce,!0);Jt<g&&(g=Jt,S=M(h,q,ce))}return S&&(S.distance=Math.sqrt(g)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ec(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,g){return g=g||this._defaultShape(),h=ae(h),g.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new X,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return ai(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var g=[],S=ai(h),M=0,q=h.length;M<q;M++)S?(g[M]=ae(h[M]),this._bounds.extend(g[M])):g[M]=this._convertLatLngs(h[M]);return g},_project:function(){var h=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),g=new z(h,h);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(h,g,S){var M=h[0]instanceof ne,q=h.length,ce,Se;if(M){for(Se=[],ce=0;ce<q;ce++)Se[ce]=this._map.latLngToLayerPoint(h[ce]),S.extend(Se[ce]);g.push(Se)}else for(ce=0;ce<q;ce++)this._projectLatlngs(h[ce],g,S)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,S,M,q,ce,Se,Re,He;for(S=0,q=0,ce=this._rings.length;S<ce;S++)for(He=this._rings[S],M=0,Se=He.length;M<Se-1;M++)Re=Vs(He[M],He[M+1],h,M,!0),Re&&(g[q]=g[q]||[],g[q].push(Re[0]),(Re[1]!==He[M+1]||M===Se-2)&&(g[q].push(Re[1]),q++))}},_simplifyPoints:function(){for(var h=this._parts,g=this.options.smoothFactor,S=0,M=h.length;S<M;S++)h[S]=pr(h[S],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,g){var S,M,q,ce,Se,Re,He=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(S=0,ce=this._parts.length;S<ce;S++)for(Re=this._parts[S],M=0,Se=Re.length,q=Se-1;M<Se;q=M++)if(!(!g&&M===0)&&Ur(h,Re[q],Re[M])<=He)return!0;return!1}});function cs(h,g){return new Qi(h,g)}Qi._flat=Ll;var Ml=Qi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var g=Qi.prototype._convertLatLngs.call(this,h),S=g.length;return S>=2&&g[0]instanceof ne&&g[0].equals(g[S-1])&&g.pop(),g},_setLatLngs:function(h){Qi.prototype._setLatLngs.call(this,h),ai(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ai(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,g=this.options.weight,S=new z(g,g);if(h=new le(h.min.subtract(S),h.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,q=this._rings.length,ce;M<q;M++)ce=ct(this._rings[M],h,!0),ce.length&&this._parts.push(ce)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var g=!1,S,M,q,ce,Se,Re,He,dt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ce=0,He=this._parts.length;ce<He;ce++)for(S=this._parts[ce],Se=0,dt=S.length,Re=dt-1;Se<dt;Re=Se++)M=S[Se],q=S[Re],M.y>h.y!=q.y>h.y&&h.x<(q.x-M.x)*(h.y-M.y)/(q.y-M.y)+M.x&&(g=!g);return g||Qi.prototype._containsPoint.call(this,h,!0)}});function zo(h,g){return new Ml(h,g)}var Ks=Ma.extend({initialize:function(h,g){p(this,g),this._layers={},h&&this.addData(h)},addData:function(h){var g=w(h)?h:h.features,S,M,q;if(g){for(S=0,M=g.length;S<M;S++)q=g[S],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var ce=this.options;if(ce.filter&&!ce.filter(h))return this;var Se=Pc(h,ce);return Se?(Se.feature=Ko(h),Se.defaultOptions=Se.options,this.resetStyle(Se),ce.onEachFeature&&ce.onEachFeature(h,Se),this.addLayer(Se)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(g){this._setLayerStyle(g,h)},this)},_setLayerStyle:function(h,g){h.setStyle&&(typeof g=="function"&&(g=g(h.feature)),h.setStyle(g))}});function Pc(h,g){var S=h.type==="Feature"?h.geometry:h,M=S?S.coordinates:null,q=[],ce=g&&g.pointToLayer,Se=g&&g.coordsToLatLng||Bd,Re,He,dt,Pt;if(!M&&!S)return null;switch(S.type){case"Point":return Re=Se(M),Qu(ce,h,Re,g);case"MultiPoint":for(dt=0,Pt=M.length;dt<Pt;dt++)Re=Se(M[dt]),q.push(Qu(ce,h,Re,g));return new Ma(q);case"LineString":case"MultiLineString":return He=Ic(M,S.type==="LineString"?0:1,Se),new Qi(He,g);case"Polygon":case"MultiPolygon":return He=Ic(M,S.type==="Polygon"?1:2,Se),new Ml(He,g);case"GeometryCollection":for(dt=0,Pt=S.geometries.length;dt<Pt;dt++){var Jt=Pc({geometry:S.geometries[dt],type:"Feature",properties:h.properties},g);Jt&&q.push(Jt)}return new Ma(q);case"FeatureCollection":for(dt=0,Pt=S.features.length;dt<Pt;dt++){var Sr=Pc(S.features[dt],g);Sr&&q.push(Sr)}return new Ma(q);default:throw new Error("Invalid GeoJSON object.")}}function Qu(h,g,S,M){return h?h(g,S):new $o(S,M&&M.markersInheritOptions&&M)}function Bd(h){return new ne(h[1],h[0],h[2])}function Ic(h,g,S){for(var M=[],q=0,ce=h.length,Se;q<ce;q++)Se=g?Ic(h[q],g-1,S):(S||Bd)(h[q]),M.push(Se);return M}function Vo(h,g){return h=ae(h),h.alt!==void 0?[f(h.lng,g),f(h.lat,g),f(h.alt,g)]:[f(h.lng,g),f(h.lat,g)]}function co(h,g,S,M){for(var q=[],ce=0,Se=h.length;ce<Se;ce++)q.push(g?co(h[ce],ai(h[ce])?0:g-1,S,M):Vo(h[ce],M));return!g&&S&&q.length>0&&q.push(q[0].slice()),q}function ma(h,g){return h.feature?i({},h.feature,{geometry:g}):Ko(g)}function Ko(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Wo={toGeoJSON:function(h){return ma(this,{type:"Point",coordinates:Vo(this.getLatLng(),h)})}};$o.include(Wo),Ho.include(Wo),lo.include(Wo),Qi.include({toGeoJSON:function(h){var g=!ai(this._latlngs),S=co(this._latlngs,g?1:0,!1,h);return ma(this,{type:(g?"Multi":"")+"LineString",coordinates:S})}}),Ml.include({toGeoJSON:function(h){var g=!ai(this._latlngs),S=g&&!ai(this._latlngs[0]),M=co(this._latlngs,S?2:g?1:0,!0,h);return g||(M=[M]),ma(this,{type:(S?"Multi":"")+"Polygon",coordinates:M})}}),Di.include({toMultiPoint:function(h){var g=[];return this.eachLayer(function(S){g.push(S.toGeoJSON(h).geometry.coordinates)}),ma(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(h){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(h);var S=g==="GeometryCollection",M=[];return this.eachLayer(function(q){if(q.toGeoJSON){var ce=q.toGeoJSON(h);if(S)M.push(ce.geometry);else{var Se=Ko(ce);Se.type==="FeatureCollection"?M.push.apply(M,Se.features):M.push(Se)}}}),S?ma(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function Tc(h,g){return new Ks(h,g)}var $a=Tc,pa=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,g,S){this._url=h,this._bounds=V(g),p(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ur(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Sn(this._image),this},bringToBack:function(){return this._map&&Nl(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=V(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",g=this._image=h?this._url:mr("img");if(ur(g,"leaflet-image-layer"),this._zoomAnimated&&ur(g,"leaflet-zoom-animated"),this.options.className&&ur(g,this.options.className),g.onselectstart=A,g.onmousemove=A,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(h){var g=this._map.getZoomScale(h.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;_l(this._image,S,g)},_reset:function(){var h=this._image,g=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=g.getSize();Xr(h,g.min),h.style.width=S.x+"px",h.style.height=S.y+"px"},_updateOpacity:function(){ys(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Wr=function(h,g,S){return new pa(h,g,S)},sn=pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",g=this._image=h?this._url:mr("video");if(ur(g,"leaflet-image-layer"),this._zoomAnimated&&ur(g,"leaflet-zoom-animated"),this.options.className&&ur(g,this.options.className),g.onselectstart=A,g.onmousemove=A,g.onloadeddata=o(this.fire,this,"load"),h){for(var S=g.getElementsByTagName("source"),M=[],q=0;q<S.length;q++)M.push(S[q].src);this._url=S.length>0?M:[g.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var ce=0;ce<this._url.length;ce++){var Se=mr("source");Se.src=this._url[ce],g.appendChild(Se)}}});function ds(h,g,S){return new sn(h,g,S)}var ws=pa.extend({_initImage:function(){var h=this._image=this._url;ur(h,"leaflet-image-layer"),this._zoomAnimated&&ur(h,"leaflet-zoom-animated"),this.options.className&&ur(h,this.options.className),h.onselectstart=A,h.onmousemove=A}});function Dl(h,g,S){return new ws(h,g,S)}var $i=kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,g){h&&(h instanceof ne||w(h))?(this._latlng=ae(h),p(this,g)):(p(this,h),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&ys(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&ys(this._container,1),this.bringToFront(),this.options.interactive&&(ur(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(ys(this._container,0),this._removeTimeout=setTimeout(o(tn,void 0,this._container),200)):tn(this._container),this.options.interactive&&(Fn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ae(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Sn(this._container),this},bringToBack:function(){return this._map&&Nl(this._container),this},_prepareOpen:function(h){var g=this._source;if(!g._map)return!1;if(g instanceof Ma){g=null;var S=this._source._layers;for(var M in S)if(S[M]._map){g=S[M];break}if(!g)return!1;this._source=g}if(!h)if(g.getCenter)h=g.getCenter();else if(g.getLatLng)h=g.getLatLng();else if(g.getBounds)h=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")h.innerHTML=g;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),g=te(this.options.offset),S=this._getAnchor();this._zoomAnimated?Xr(this._container,h.add(S)):g=g.add(h).add(S);var M=this._containerBottom=-g.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=M+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});Nr.include({_initOverlay:function(h,g,S,M){var q=g;return q instanceof h||(q=new h(M).setContent(g)),S&&q.setLatLng(S),q}}),kn.include({_initOverlay:function(h,g,S,M){var q=S;return q instanceof h?(p(q,M),q._source=this):(q=g&&!M?g:new h(M,this),q.setContent(S)),q}});var Ql=$i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,$i.prototype.openOn.call(this,h)},onAdd:function(h){$i.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof bs||this._source.on("preclick",Bl))},onRemove:function(h){$i.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof bs||this._source.off("preclick",Bl))},getEvents:function(){var h=$i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",g=this._container=mr("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=mr("div",h+"-content-wrapper",g);if(this._contentNode=mr("div",h+"-content",S),Sl(g),kc(this._contentNode),_t(g,"contextmenu",Bl),this._tipContainer=mr("div",h+"-tip-container",g),this._tip=mr("div",h+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=mr("a",h+"-close-button",g);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',_t(M,"click",function(q){Hn(q),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,g=h.style;g.width="",g.whiteSpace="nowrap";var S=h.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),g.width=S+1+"px",g.whiteSpace="",g.height="";var M=h.offsetHeight,q=this.options.maxHeight,ce="leaflet-popup-scrolled";q&&M>q?(g.height=q+"px",ur(h,ce)):Fn(h,ce),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),S=this._getAnchor();Xr(this._container,g.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,g=parseInt(so(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+g,M=this._containerWidth,q=new z(this._containerLeft,-S-this._containerBottom);q._add(Ro(this._container));var ce=h.layerPointToContainerPoint(q),Se=te(this.options.autoPanPadding),Re=te(this.options.autoPanPaddingTopLeft||Se),He=te(this.options.autoPanPaddingBottomRight||Se),dt=h.getSize(),Pt=0,Jt=0;ce.x+M+He.x>dt.x&&(Pt=ce.x+M-dt.x+He.x),ce.x-Pt-Re.x<0&&(Pt=ce.x-Re.x),ce.y+S+He.y>dt.y&&(Jt=ce.y+S-dt.y+He.y),ce.y-Jt-Re.y<0&&(Jt=ce.y-Re.y),(Pt||Jt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Pt,Jt]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xm=function(h,g){return new Ql(h,g)};Nr.mergeOptions({closePopupOnClick:!0}),Nr.include({openPopup:function(h,g,S){return this._initOverlay(Ql,h,g,S).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),kn.include({bindPopup:function(h,g){return this._popup=this._initOverlay(Ql,this._popup,h,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof Ma||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){kl(h);var g=h.layer||h.target;if(this._popup._source===g&&!(g instanceof bs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=g,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var BA=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){$i.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){$i.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=$i.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",g=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mr("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var g,S,M=this._map,q=this._container,ce=M.latLngToContainerPoint(M.getCenter()),Se=M.layerPointToContainerPoint(h),Re=this.options.direction,He=q.offsetWidth,dt=q.offsetHeight,Pt=te(this.options.offset),Jt=this._getAnchor();Re==="top"?(g=He/2,S=dt):Re==="bottom"?(g=He/2,S=0):Re==="center"?(g=He/2,S=dt/2):Re==="right"?(g=0,S=dt/2):Re==="left"?(g=He,S=dt/2):Se.x<ce.x?(Re="right",g=0,S=dt/2):(Re="left",g=He+(Pt.x+Jt.x)*2,S=dt/2),h=h.subtract(te(g,S,!0)).add(Pt).add(Jt),Fn(q,"leaflet-tooltip-right"),Fn(q,"leaflet-tooltip-left"),Fn(q,"leaflet-tooltip-top"),Fn(q,"leaflet-tooltip-bottom"),ur(q,"leaflet-tooltip-"+Re),Xr(q,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&ys(this._container,h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(g)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rb=function(h,g){return new BA(h,g)};Nr.include({openTooltip:function(h,g,S){return this._initOverlay(BA,h,g,S).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),kn.include({bindTooltip:function(h,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(BA,this._tooltip,h,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var g=h?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[g](S),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof Ma||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&(_t(g,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),_t(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var g=h.latlng,S,M;this._tooltip.options.sticky&&h.originalEvent&&(S=this._map.mouseEventToContainerPoint(h.originalEvent),M=this._map.containerPointToLayerPoint(S),g=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(g)}});var d0=Qa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var g=h&&h.tagName==="DIV"?h:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Iu(g),g.appendChild(S.html)):g.innerHTML=S.html!==!1?S.html:"",S.bgPos){var M=te(S.bgPos);g.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function nb(h){return new d0(h)}Qa.Default=Fl;var $u=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){p(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),tn(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Sn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Nl(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof z?h:new z(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var g=this.getPane().children,S=-h(-1/0,1/0),M=0,q=g.length,ce;M<q;M++)ce=g[M].style.zIndex,g[M]!==this._container&&ce&&(S=h(S,+ce));isFinite(S)&&(this.options.zIndex=S+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Bt.ielt9){ys(this._container,this.options.opacity);var h=+new Date,g=!1,S=!1;for(var M in this._tiles){var q=this._tiles[M];if(!(!q.current||!q.loaded)){var ce=Math.min(1,(h-q.loaded)/200);ys(q.el,ce),ce<1?g=!0:(q.active?S=!0:this._onOpaqueTile(q),q.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),g&&(E(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=mr("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,g=this.options.maxZoom;if(h!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===h?(this._levels[S].el.style.zIndex=g-Math.abs(h-S),this._onUpdateLevel(S)):(tn(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var M=this._levels[h],q=this._map;return M||(M=this._levels[h]={},M.el=mr("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=g,M.origin=q.project(q.unproject(q.getPixelOrigin()),h).round(),M.zoom=h,this._setZoomTransform(M,q.getCenter(),q.getZoom()),A(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var h,g,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)g=this._tiles[h],g.retain=g.current;for(h in this._tiles)if(g=this._tiles[h],g.current&&!g.active){var M=g.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var g in this._tiles)this._tiles[g].coords.z===h&&this._removeTile(g)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)tn(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,g,S,M){var q=Math.floor(h/2),ce=Math.floor(g/2),Se=S-1,Re=new z(+q,+ce);Re.z=+Se;var He=this._tileCoordsToKey(Re),dt=this._tiles[He];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),Se>M?this._retainParent(q,ce,Se,M):!1)},_retainChildren:function(h,g,S,M){for(var q=2*h;q<2*h+2;q++)for(var ce=2*g;ce<2*g+2;ce++){var Se=new z(q,ce);Se.z=S+1;var Re=this._tileCoordsToKey(Se),He=this._tiles[Re];if(He&&He.active){He.retain=!0;continue}else He&&He.loaded&&(He.retain=!0);S+1<M&&this._retainChildren(q,ce,S+1,M)}},_resetView:function(h){var g=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var g=this.options;return g.minNativeZoom!==void 0&&h<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<h?g.maxNativeZoom:h},_setView:function(h,g,S,M){var q=Math.round(g);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var ce=this.options.updateWhenZooming&&q!==this._tileZoom;(!M||ce)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(h),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(h,g)},_setZoomTransforms:function(h,g){for(var S in this._levels)this._setZoomTransform(this._levels[S],h,g)},_setZoomTransform:function(h,g,S){var M=this._map.getZoomScale(S,h.zoom),q=h.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(g,S)).round();Bt.any3d?_l(h.el,q,M):Xr(h.el,q)},_resetGrid:function(){var h=this._map,g=h.options.crs,S=this._tileSize=this.getTileSize(),M=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,g.wrapLng[0]],M).x/S.x),Math.ceil(h.project([0,g.wrapLng[1]],M).x/S.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([g.wrapLat[0],0],M).y/S.x),Math.ceil(h.project([g.wrapLat[1],0],M).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var g=this._map,S=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),M=g.getZoomScale(S,this._tileZoom),q=g.project(h,this._tileZoom).floor(),ce=g.getSize().divideBy(M*2);return new le(q.subtract(ce),q.add(ce))},_update:function(h){var g=this._map;if(g){var S=this._clampZoom(g.getZoom());if(h===void 0&&(h=g.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(h),q=this._pxBoundsToTileRange(M),ce=q.getCenter(),Se=[],Re=this.options.keepBuffer,He=new le(q.getBottomLeft().subtract([Re,-Re]),q.getTopRight().add([Re,-Re]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var Pt=this._tiles[dt].coords;(Pt.z!==this._tileZoom||!He.contains(new z(Pt.x,Pt.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(h,S);return}for(var Jt=q.min.y;Jt<=q.max.y;Jt++)for(var Sr=q.min.x;Sr<=q.max.x;Sr++){var Ci=new z(Sr,Jt);if(Ci.z=this._tileZoom,!!this._isValidTile(Ci)){var Is=this._tiles[this._tileCoordsToKey(Ci)];Is?Is.current=!0:Se.push(Ci)}}if(Se.sort(function(zi,Vu){return zi.distanceTo(ce)-Vu.distanceTo(ce)}),Se.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ha=document.createDocumentFragment();for(Sr=0;Sr<Se.length;Sr++)this._addTile(Se[Sr],Ha);this._level.el.appendChild(Ha)}}}},_isValidTile:function(h){var g=this._map.options.crs;if(!g.infinite){var S=this._globalTileRange;if(!g.wrapLng&&(h.x<S.min.x||h.x>S.max.x)||!g.wrapLat&&(h.y<S.min.y||h.y>S.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(h);return V(this.options.bounds).overlaps(M)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var g=this._map,S=this.getTileSize(),M=h.scaleBy(S),q=M.add(S),ce=g.unproject(M,h.z),Se=g.unproject(q,h.z);return[ce,Se]},_tileCoordsToBounds:function(h){var g=this._tileCoordsToNwSe(h),S=new X(g[0],g[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var g=h.split(":"),S=new z(+g[0],+g[1]);return S.z=+g[2],S},_removeTile:function(h){var g=this._tiles[h];g&&(tn(g.el),delete this._tiles[h],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){ur(h,"leaflet-tile");var g=this.getTileSize();h.style.width=g.x+"px",h.style.height=g.y+"px",h.onselectstart=A,h.onmousemove=A,Bt.ielt9&&this.options.opacity<1&&ys(h,this.options.opacity)},_addTile:function(h,g){var S=this._getTilePos(h),M=this._tileCoordsToKey(h),q=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(q),this.createTile.length<2&&k(o(this._tileReady,this,h,null,q)),Xr(q,S),this._tiles[M]={el:q,coords:h,current:!0},g.appendChild(q),this.fire("tileloadstart",{tile:q,coords:h})},_tileReady:function(h,g,S){g&&this.fire("tileerror",{error:g,tile:S,coords:h});var M=this._tileCoordsToKey(h);S=this._tiles[M],S&&(S.loaded=+new Date,this._map._fadeAnimated?(ys(S.el,0),E(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),g||(ur(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Bt.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var g=new z(this._wrapX?u(h.x,this._wrapX):h.x,this._wrapY?u(h.y,this._wrapY):h.y);return g.z=h.z,g},_pxBoundsToTileRange:function(h){var g=this.getTileSize();return new le(h.min.unscaleBy(g).floor(),h.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function sb(h){return new $u(h)}var Go=$u.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,g){this._url=h,g=p(this,g),g.detectRetina&&Bt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,g){return this._url===h&&g===void 0&&(g=!0),this._url=h,g||this.redraw(),this},createTile:function(h,g){var S=document.createElement("img");return _t(S,"load",o(this._tileOnLoad,this,g,S)),_t(S,"error",o(this._tileOnError,this,g,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(h),S},getTileUrl:function(h){var g={r:Bt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-h.y;this.options.tms&&(g.y=S),g["-y"]=S}return b(this._url,i(g,this.options))},_tileOnLoad:function(h,g){Bt.ielt9?setTimeout(o(h,this,null,g),0):h(null,g)},_tileOnError:function(h,g,S){var M=this.options.errorTileUrl;M&&g.getAttribute("src")!==M&&(g.src=M),h(S,g)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,g=this.options.maxZoom,S=this.options.zoomReverse,M=this.options.zoomOffset;return S&&(h=g-h),h+M},_getSubdomain:function(h){var g=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var h,g;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(g=this._tiles[h].el,g.onload=A,g.onerror=A,!g.complete)){g.src=N;var S=this._tiles[h].coords;tn(g),delete this._tiles[h],this.fire("tileabort",{tile:g,coords:S})}},_removeTile:function(h){var g=this._tiles[h];if(g)return g.el.setAttribute("src",N),$u.prototype._removeTile.call(this,h)},_tileReady:function(h,g,S){if(!(!this._map||S&&S.getAttribute("src")===N))return $u.prototype._tileReady.call(this,h,g,S)}});function u0(h,g){return new Go(h,g)}var h0=Go.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,g){this._url=h;var S=i({},this.defaultWmsParams);for(var M in g)M in this.options||(S[M]=g[M]);g=p(this,g);var q=g.detectRetina&&Bt.retina?2:1,ce=this.getTileSize();S.width=ce.x*q,S.height=ce.y*q,this.wmsParams=S},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,Go.prototype.onAdd.call(this,h)},getTileUrl:function(h){var g=this._tileCoordsToNwSe(h),S=this._crs,M=$(S.project(g[0]),S.project(g[1])),q=M.min,ce=M.max,Se=(this._wmsVersion>=1.3&&this._crs===Mu?[q.y,q.x,ce.y,ce.x]:[q.x,q.y,ce.x,ce.y]).join(","),Re=Go.prototype.getTileUrl.call(this,h);return Re+v(this.wmsParams,Re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Se},setParams:function(h,g){return i(this.wmsParams,h),g||this.redraw(),this}});function ib(h,g){return new h0(h,g)}Go.WMS=h0,u0.wms=ib;var qo=kn.extend({options:{padding:.1},initialize:function(h){p(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ur(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,g){var S=this._map.getZoomScale(g,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,g),ce=M.multiplyBy(-S).add(q).subtract(this._map._getNewPixelOrigin(h,g));Bt.any3d?_l(this._container,ce,S):Xr(this._container,ce)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,g=this._map.getSize(),S=this._map.containerPointToLayerPoint(g.multiplyBy(-h)).round();this._bounds=new le(S,S.add(g.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),A0=qo.extend({options:{tolerance:0},getEvents:function(){var h=qo.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");_t(h,"mousemove",this._onMouseMove,this),_t(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_t(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,tn(this._container),rn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var g in this._layers)h=this._layers[g],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qo.prototype._update.call(this);var h=this._bounds,g=this._container,S=h.getSize(),M=Bt.retina?2:1;Xr(g,h.min),g.width=M*S.x,g.height=M*S.y,g.style.width=S.x+"px",g.style.height=S.y+"px",Bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){qo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var g=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var g=h._order,S=g.next,M=g.prev;S?S.prev=M:this._drawLast=M,M?M.next=S:this._drawFirst=S,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var g=h.options.dashArray.split(/[, ]+/),S=[],M,q;for(q=0;q<g.length;q++){if(M=Number(g[q]),isNaN(M))return;S.push(M)}h.options._dashArray=S}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var g=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(h._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(h._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var g=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,g=this._redrawBounds;if(this._ctx.save(),g){var S=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)h=M.layer,(!g||h._pxBounds&&h._pxBounds.intersects(g))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,g){if(this._drawing){var S,M,q,ce,Se=h._parts,Re=Se.length,He=this._ctx;if(Re){for(He.beginPath(),S=0;S<Re;S++){for(M=0,q=Se[S].length;M<q;M++)ce=Se[S][M],He[M?"lineTo":"moveTo"](ce.x,ce.y);g&&He.closePath()}this._fillStroke(He,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var g=h._point,S=this._ctx,M=Math.max(Math.round(h._radius),1),q=(Math.max(Math.round(h._radiusY),1)||M)/M;q!==1&&(S.save(),S.scale(1,q)),S.beginPath(),S.arc(g.x,g.y/q,M,0,Math.PI*2,!1),q!==1&&S.restore(),this._fillStroke(S,h)}},_fillStroke:function(h,g){var S=g.options;S.fill&&(h.globalAlpha=S.fillOpacity,h.fillStyle=S.fillColor||S.color,h.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(h.setLineDash&&h.setLineDash(g.options&&g.options._dashArray||[]),h.globalAlpha=S.opacity,h.lineWidth=S.weight,h.strokeStyle=S.color,h.lineCap=S.lineCap,h.lineJoin=S.lineJoin,h.stroke())},_onClick:function(h){for(var g=this._map.mouseEventToLayerPoint(h),S,M,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(S))&&(M=S);this._fireEvent(M?[M]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,g)}},_handleMouseOut:function(h){var g=this._hoveredLayer;g&&(Fn(this._container,"leaflet-interactive"),this._fireEvent([g],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,g){if(!this._mouseHoverThrottled){for(var S,M,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(M=S);M!==this._hoveredLayer&&(this._handleMouseOut(h),M&&(ur(this._container,"leaflet-interactive"),this._fireEvent([M],h,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,g,S){this._map._fireDOMEvent(g,S||g.type,h)},_bringToFront:function(h){var g=h._order;if(g){var S=g.next,M=g.prev;if(S)S.prev=M;else return;M?M.next=S:S&&(this._drawFirst=S),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(h)}},_bringToBack:function(h){var g=h._order;if(g){var S=g.next,M=g.prev;if(M)M.next=S;else return;S?S.prev=M:M&&(this._drawLast=M),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(h)}}});function f0(h){return Bt.canvas?new A0(h):null}var Hu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ab={_initContainer:function(){this._container=mr("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qo.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var g=h._container=Hu("shape");ur(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",h._path=Hu("path"),g.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var g=h._container;this._container.appendChild(g),h.options.interactive&&h.addInteractiveTarget(g)},_removePath:function(h){var g=h._container;tn(g),h.removeInteractiveTarget(g),delete this._layers[c(h)]},_updateStyle:function(h){var g=h._stroke,S=h._fill,M=h.options,q=h._container;q.stroked=!!M.stroke,q.filled=!!M.fill,M.stroke?(g||(g=h._stroke=Hu("stroke")),q.appendChild(g),g.weight=M.weight+"px",g.color=M.color,g.opacity=M.opacity,M.dashArray?g.dashStyle=w(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=M.lineCap.replace("butt","flat"),g.joinstyle=M.lineJoin):g&&(q.removeChild(g),h._stroke=null),M.fill?(S||(S=h._fill=Hu("fill")),q.appendChild(S),S.color=M.fillColor||M.color,S.opacity=M.fillOpacity):S&&(q.removeChild(S),h._fill=null)},_updateCircle:function(h){var g=h._point.round(),S=Math.round(h._radius),M=Math.round(h._radiusY||S);this._setPath(h,h._empty()?"M0 0":"AL "+g.x+","+g.y+" "+S+","+M+" 0,"+65535*360)},_setPath:function(h,g){h._path.v=g},_bringToFront:function(h){Sn(h._container)},_bringToBack:function(h){Nl(h._container)}},zu=Bt.vml?Hu:re,Oc=qo.extend({_initContainer:function(){this._container=zu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tn(this._container),rn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qo.prototype._update.call(this);var h=this._bounds,g=h.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,S.setAttribute("width",g.x),S.setAttribute("height",g.y)),Xr(S,h.min),S.setAttribute("viewBox",[h.min.x,h.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(h){var g=h._path=zu("path");h.options.className&&ur(g,h.options.className),h.options.interactive&&ur(g,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){tn(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var g=h._path,S=h.options;g&&(S.stroke?(g.setAttribute("stroke",S.color),g.setAttribute("stroke-opacity",S.opacity),g.setAttribute("stroke-width",S.weight),g.setAttribute("stroke-linecap",S.lineCap),g.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?g.setAttribute("stroke-dasharray",S.dashArray):g.removeAttribute("stroke-dasharray"),S.dashOffset?g.setAttribute("stroke-dashoffset",S.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),S.fill?(g.setAttribute("fill",S.fillColor||S.color),g.setAttribute("fill-opacity",S.fillOpacity),g.setAttribute("fill-rule",S.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(h,g){this._setPath(h,Ce(h._parts,g))},_updateCircle:function(h){var g=h._point,S=Math.max(Math.round(h._radius),1),M=Math.max(Math.round(h._radiusY),1)||S,q="a"+S+","+M+" 0 1,0 ",ce=h._empty()?"M0 0":"M"+(g.x-S)+","+g.y+q+S*2+",0 "+q+-S*2+",0 ";this._setPath(h,ce)},_setPath:function(h,g){h._path.setAttribute("d",g)},_bringToFront:function(h){Sn(h._path)},_bringToBack:function(h){Nl(h._path)}});Bt.vml&&Oc.include(ab);function Hi(h){return Bt.svg||Bt.vml?new Oc(h):null}Nr.include({getRenderer:function(h){var g=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var g=this._paneRenderers[h];return g===void 0&&(g=this._createRenderer({pane:h}),this._paneRenderers[h]=g),g},_createRenderer:function(h){return this.options.preferCanvas&&f0(h)||Hi(h)}});var ga=Ml.extend({initialize:function(h,g){Ml.prototype.initialize.call(this,this._boundsToLatLngs(h),g)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=V(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function ym(h,g){return new ga(h,g)}Oc.create=zu,Oc.pointsToPath=Ce,Ks.geometryToLayer=Pc,Ks.coordsToLatLng=Bd,Ks.coordsToLatLngs=Ic,Ks.latLngToCoords=Vo,Ks.latLngsToCoords=co,Ks.getFeature=ma,Ks.asFeature=Ko,Nr.mergeOptions({boxZoom:!0});var SA=ye.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Cc(),gA(),this._startPoint=this._map.mouseEventToContainerPoint(h),_t(document,{contextmenu:kl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=mr("div","leaflet-zoom-box",this._container),ur(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var g=new le(this._point,this._startPoint),S=g.getSize();Xr(this._box,g.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(tn(this._box),Fn(this._container,"leaflet-crosshair")),Mo(),xA(),rn(document,{contextmenu:kl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Nr.addInitHook("addHandler","boxZoom",SA),Nr.mergeOptions({doubleClickZoom:!0});var m0=ye.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var g=this._map,S=g.getZoom(),M=g.options.zoomDelta,q=h.originalEvent.shiftKey?S-M:S+M;g.options.doubleClickZoom==="center"?g.setZoom(q):g.setZoomAround(h.containerPoint,q)}});Nr.addInitHook("addHandler","doubleClickZoom",m0),Nr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kA=ye.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new We(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}ur(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Fn(this._map._container,"leaflet-grab"),Fn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=V(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var g=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(g),this._prunePositions(g)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,g){return h-(h-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;h.x<g.min.x&&(h.x=this._viscousLimit(h.x,g.min.x)),h.y<g.min.y&&(h.y=this._viscousLimit(h.y,g.min.y)),h.x>g.max.x&&(h.x=this._viscousLimit(h.x,g.max.x)),h.y>g.max.y&&(h.y=this._viscousLimit(h.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,g=Math.round(h/2),S=this._initialWorldOffset,M=this._draggable._newPos.x,q=(M-g+S)%h+g-S,ce=(M+g+S)%h-g-S,Se=Math.abs(q+S)<Math.abs(ce+S)?q:ce;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Se},_onDragEnd:function(h){var g=this._map,S=g.options,M=!S.inertia||h.noInertia||this._times.length<2;if(g.fire("dragend",h),M)g.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),ce=(this._lastTime-this._times[0])/1e3,Se=S.easeLinearity,Re=q.multiplyBy(Se/ce),He=Re.distanceTo([0,0]),dt=Math.min(S.inertiaMaxSpeed,He),Pt=Re.multiplyBy(dt/He),Jt=dt/(S.inertiaDeceleration*Se),Sr=Pt.multiplyBy(-Jt/2).round();!Sr.x&&!Sr.y?g.fire("moveend"):(Sr=g._limitOffset(Sr,g.options.maxBounds),k(function(){g.panBy(Sr,{duration:Jt,easeLinearity:Se,noMoveStart:!0,animate:!0})}))}}});Nr.addInitHook("addHandler","dragging",kA),Nr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var EA=ye.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),_t(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,g=document.documentElement,S=h.scrollTop||g.scrollTop,M=h.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(M,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var g=this._panKeys={},S=this.keyCodes,M,q;for(M=0,q=S.left.length;M<q;M++)g[S.left[M]]=[-1*h,0];for(M=0,q=S.right.length;M<q;M++)g[S.right[M]]=[h,0];for(M=0,q=S.down.length;M<q;M++)g[S.down[M]]=[0,h];for(M=0,q=S.up.length;M<q;M++)g[S.up[M]]=[0,-1*h]},_setZoomDelta:function(h){var g=this._zoomKeys={},S=this.keyCodes,M,q;for(M=0,q=S.zoomIn.length;M<q;M++)g[S.zoomIn[M]]=h;for(M=0,q=S.zoomOut.length;M<q;M++)g[S.zoomOut[M]]=-h},_addHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var g=h.keyCode,S=this._map,M;if(g in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(M=this._panKeys[g],h.shiftKey&&(M=te(M).multiplyBy(3)),S.options.maxBounds&&(M=S._limitOffset(te(M),S.options.maxBounds)),S.options.worldCopyJump){var q=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(M)));S.panTo(q)}else S.panBy(M)}else if(g in this._zoomKeys)S.setZoom(S.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;kl(h)}}});Nr.addInitHook("addHandler","keyboard",EA),Nr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vm=ye.extend({addHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var g=Fu(h),S=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var M=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),kl(h)},_performZoom:function(){var h=this._map,g=h.getZoom(),S=this._map.options.zoomSnap||0;h._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,ce=S?Math.ceil(q/S)*S:q,Se=h._limitZoom(g+(this._delta>0?ce:-ce))-g;this._delta=0,this._startTime=null,Se&&(h.options.scrollWheelZoom==="center"?h.setZoom(g+Se):h.setZoomAround(this._lastMousePos,g+Se))}});Nr.addInitHook("addHandler","scrollWheelZoom",vm);var ob=600;Nr.mergeOptions({tapHold:Bt.touchNative&&Bt.safari&&Bt.mobile,tapTolerance:15});var bm=ye.extend({addHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var g=h.touches[0];this._startPos=this._newPos=new z(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(_t(document,"touchend",Hn),_t(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),ob),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){rn(document,"touchend",Hn),rn(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),rn(document,"touchend touchcancel contextmenu",this._cancel,this),rn(document,"touchmove",this._onMove,this)},_onMove:function(h){var g=h.touches[0];this._newPos=new z(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,g){var S=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});S._simulated=!0,g.target.dispatchEvent(S)}});Nr.addInitHook("addHandler","tapHold",bm),Nr.mergeOptions({touchZoom:Bt.touch,bounceAtZoomLimits:!0});var wm=ye.extend({addHooks:function(){ur(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Fn(this._map._container,"leaflet-touch-zoom"),rn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var g=this._map;if(!(!h.touches||h.touches.length!==2||g._animatingZoom||this._zooming)){var S=g.mouseEventToContainerPoint(h.touches[0]),M=g.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(S.add(M)._divideBy(2))),this._startDist=S.distanceTo(M),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),Hn(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var g=this._map,S=g.mouseEventToContainerPoint(h.touches[0]),M=g.mouseEventToContainerPoint(h.touches[1]),q=S.distanceTo(M)/this._startDist;if(this._zoom=g.getScaleZoom(q,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&q<1||this._zoom>g.getMaxZoom()&&q>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var ce=S._add(M)._divideBy(2)._subtract(this._centerPoint);if(q===1&&ce.x===0&&ce.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(ce),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var Se=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(Se,this,!0),Hn(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,E(this._animRequest),rn(document,"touchmove",this._onTouchMove,this),rn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Nr.addInitHook("addHandler","touchZoom",wm),Nr.BoxZoom=SA,Nr.DoubleClickZoom=m0,Nr.Drag=kA,Nr.Keyboard=EA,Nr.ScrollWheelZoom=vm,Nr.TapHold=bm,Nr.TouchZoom=wm,r.Bounds=le,r.Browser=Bt,r.CRS=he,r.Canvas=A0,r.Circle=Ho,r.CircleMarker=lo,r.Class=F,r.Control=si,r.DivIcon=d0,r.DivOverlay=$i,r.DomEvent=El,r.DomUtil=c0,r.Draggable=We,r.Evented=D,r.FeatureGroup=Ma,r.GeoJSON=Ks,r.GridLayer=$u,r.Handler=ye,r.Icon=Qa,r.ImageOverlay=pa,r.LatLng=ne,r.LatLngBounds=X,r.Layer=kn,r.LayerGroup=Di,r.LineUtil=Nd,r.Map=Nr,r.Marker=$o,r.Mixin=ke,r.Path=bs,r.Point=z,r.PolyUtil=dr,r.Polygon=Ml,r.Polyline=Qi,r.Popup=Ql,r.PosAnimation=Ru,r.Projection=_d,r.Rectangle=ga,r.Renderer=qo,r.SVG=Oc,r.SVGOverlay=ws,r.TileLayer=Go,r.Tooltip=BA,r.Transformation=fe,r.Util=Q,r.VideoOverlay=sn,r.bind=o,r.bounds=$,r.canvas=f0,r.circle=CA,r.circleMarker=Rl,r.control=Pl,r.divIcon=nb,r.extend=i,r.featureGroup=Da,r.geoJSON=Tc,r.geoJson=$a,r.gridLayer=sb,r.icon=_A,r.imageOverlay=Wr,r.latLng=ae,r.latLngBounds=V,r.layerGroup=Du,r.map=bA,r.marker=fa,r.point=te,r.polygon=zo,r.polyline=cs,r.popup=xm,r.rectangle=ym,r.setOptions=p,r.stamp=c,r.svg=Hi,r.svgOverlay=Dl,r.tileLayer=u0,r.tooltip=rb,r.transformation=Y,r.version=n,r.videoOverlay=ds;var jm=window.L;r.noConflict=function(){return window.L=jm,this},window.L=r})})(q4,q4.exports);var zg=q4.exports;const Oa=Zr(zg);function VN(e,t,r){return Object.freeze({instance:e,context:t,container:r})}function KN(e,t){return t==null?function(n,i){const a=_.useRef();return a.current||(a.current=e(n,i)),a}:function(n,i){const a=_.useRef();a.current||(a.current=e(n,i));const o=_.useRef(n),{instance:l}=a.current;return _.useEffect(function(){o.current!==n&&(t(l,n,o.current),o.current=n)},[l,n,i]),a}}function LG(e,t){_.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function FG(e){return function(r){const n=HN(),i=e(zN(r,n),n);return EG(n.map,r.attribution),T6(i.current,r.eventHandlers),LG(i.current,n),i}}function tbe(e,t){const r=_.useRef();_.useEffect(function(){if(t.pathOptions!==r.current){const i=t.pathOptions??{};e.instance.setStyle(i),r.current=i}},[e,t])}function rbe(e){return function(r){const n=HN(),i=e(zN(r,n),n);return T6(i.current,r.eventHandlers),LG(i.current,n),tbe(i.current,r),i}}function nbe(e,t){const r=KN(e,t),n=FG(r);return OG(n)}function sbe(e,t){const r=KN(e),n=ebe(r,t);return Jve(n)}function ibe(e,t){const r=KN(e,t),n=rbe(r);return OG(n)}function abe(e,t){const r=KN(e,t),n=FG(r);return Zve(n)}function obe(e,t,r){const{opacity:n,zIndex:i}=t;n!=null&&n!==r.opacity&&e.setOpacity(n),i!=null&&i!==r.zIndex&&e.setZIndex(i)}function lbe(){return HN().map}function WN(e){const t=lbe();return _.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const cbe=ibe(function({center:t,children:r,...n},i){const a=new zg.Circle(t,n);return VN(a,PG(i,{overlayContainer:a}))},qve);function Y4(){return Y4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y4.apply(this,arguments)}function dbe({bounds:e,boundsOptions:t,center:r,children:n,className:i,id:a,placeholder:o,style:l,whenReady:c,zoom:d,...u},A){const[f]=_.useState({className:i,id:a,style:l}),[m,x]=_.useState(null);_.useImperativeHandle(A,()=>(m==null?void 0:m.map)??null,[m]);const p=_.useCallback(y=>{if(y!==null&&m===null){const b=new zg.Map(y,u);r!=null&&d!=null?b.setView(r,d):e!=null&&b.fitBounds(e,t),c!=null&&b.whenReady(c),x(Xve(b))}},[]);_.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const v=m?_e.createElement(TG,{value:m},n):o??null;return _e.createElement("div",Y4({},f,{ref:p}),v)}const Yh=_.forwardRef(dbe),Xh=nbe(function({position:t,...r},n){const i=new zg.Marker(t,r);return VN(i,PG(n,{overlayContainer:i}))},function(t,r,n){r.position!==n.position&&t.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&t.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&t.setOpacity(r.opacity),t.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?t.dragging.enable():t.dragging.disable())}),_y=sbe(function(t,r){const n=new zg.Popup(t,r.overlayContainer);return VN(n,r)},function(t,r,{position:n},i){_.useEffect(function(){const{instance:o}=t;function l(d){d.popup===o&&(o.update(),i(!0))}function c(d){d.popup===o&&i(!1)}return r.map.on({popupopen:l,popupclose:c}),r.overlayContainer==null?(n!=null&&o.setLatLng(n),o.openOn(r.map)):r.overlayContainer.bindPopup(o),function(){var u;r.map.off({popupopen:l,popupclose:c}),(u=r.overlayContainer)==null||u.unbindPopup(),r.map.removeLayer(o)}},[t,r,i,n])}),Jh=abe(function({url:t,...r},n){const i=new zg.TileLayer(t,zN(r,n));return VN(i,n)},function(t,r,n){obe(t,r,n);const{url:i}=r;i!=null&&i!==n.url&&t.setUrl(i)});delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const ube=(e,t)=>{var r;return Oa.divIcon({className:"custom-div-icon",html:`
      <div style="
        background-color: ${t};
        width: 30px;
        height: 30px;
        border-radius: 50%;
        border: 3px solid white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        font-size: 12px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      ">
        ${((r=e==null?void 0:e.charAt(0))==null?void 0:r.toUpperCase())||"P"}
      </div>
    `,iconSize:[30,30],iconAnchor:[15,15]})},hbe=({properties:e=[],selectedLocation:t=null,radius:r=5,onPropertyClick:n=()=>{},height:i="320px",showRadius:a=!0})=>{const[o,l]=_.useState([12.9716,77.5946]),[c,d]=_.useState(12);_.useEffect(()=>{if(t&&t.lat&&t.lng){const f=parseFloat(t.lat),m=parseFloat(t.lng);!isNaN(f)&&!isNaN(m)&&(l([f,m]),d(15))}},[t]);const u=f=>{switch(f==null?void 0:f.toLowerCase()){case"pg":return"#ef4444";case"co-living":return"#3b82f6";case"apartment":return"#10b981";case"house":return"#f59e0b";default:return"#ef4444"}},A=f=>!f||typeof f!="object"?[]:Object.entries(f).filter(([m,x])=>x===!0).map(([m])=>m);return s.jsx("div",{className:"w-full rounded-lg border border-gray-200 overflow-hidden relative z-10",style:{height:i},children:s.jsxs(Yh,{center:o,zoom:c,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,zoomControl:!0,children:[s.jsx(Jh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(f=>{const m=parseFloat(f.lat),x=parseFloat(f.lng);if(isNaN(m)||isNaN(x))return null;const p=u(f.propertyType),v=ube(f.propertyType,p),y=A(f.amenities);return s.jsx(Xh,{position:[m,x],icon:v,eventHandlers:{click:()=>n(f.id)},children:s.jsx(_y,{maxWidth:300,minWidth:250,children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight",children:f.name}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 ml-2",children:f.propertyType||"PG"})]}),s.jsxs("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[s.jsx(wr,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"truncate",children:f.address})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-lg font-bold text-red-600",children:f.price}),f.distance&&f.distance!=="0 km"&&s.jsxs("p",{className:"text-xs text-gray-500",children:[f.distance," away"]})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[f.maxOccupancy&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Max Occupancy: ",f.maxOccupancy," people"]})]}),f.ownerName&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Jr,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Owner: ",f.ownerName]})]}),f.rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ka,{className:"w-3 h-3 mr-1 text-yellow-400 fill-current"}),s.jsxs("span",{children:["Rating: ",f.rating]})]})]}),y.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"font-medium mb-1 text-xs",children:"Amenities:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.slice(0,3).map((b,w)=>s.jsx("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:b},w)),y.length>3&&s.jsxs("span",{className:"px-1 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:["+",y.length-3," more"]})]})]}),f.images&&f.images.length>0&&s.jsx("div",{className:"mt-3",children:s.jsx("img",{src:f.images[0],alt:f.name,className:"w-full h-16 object-cover rounded border"})}),s.jsx("button",{onClick:()=>n(f.id),className:"w-full mt-3 bg-red-600 text-white text-xs py-2 px-3 rounded hover:bg-red-700 transition-colors",children:"View Details"})]})})},f.id)}),t&&a&&!isNaN(parseFloat(t.lat))&&!isNaN(parseFloat(t.lng))&&s.jsx(cbe,{center:[parseFloat(t.lat),parseFloat(t.lng)],radius:r*1e3,pathOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.1,weight:2}})]},`${o[0]}-${o[1]}-${c}`)})};class Abe{constructor(){this.googleMapsLoaded=!1,this.geocoder=null,this.autocomplete=null}async initializeGoogleMaps(){return this.googleMapsLoaded?Promise.resolve():new Promise((t,r)=>{if(window.google&&window.google.maps){this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t();return}const n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",n.async=!0,n.defer=!0,n.onload=()=>{this.googleMapsLoaded=!0,this.geocoder=new window.google.maps.Geocoder,t()},n.onerror=r,document.head.appendChild(n)})}async searchWithGooglePlaces(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),!this.autocomplete&&r&&(this.autocomplete=new window.google.maps.places.Autocomplete(r,{types:["establishment","geocode"],componentRestrictions:{country:"in"},fields:["place_id","geometry","name","formatted_address"]})),this.autocomplete}async searchWithNominatim(t){if(!t||t.length<3)return[];try{const r=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(t)}&countrycodes=in&limit=5&addressdetails=1`);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);return(await r.json()).map(i=>({id:i.place_id,name:i.display_name.split(",")[0],address:i.display_name,lat:parseFloat(i.lat),lng:parseFloat(i.lon),type:i.type,importance:i.importance})).sort((i,a)=>a.importance-i.importance)}catch(r){return console.error("Nominatim search error:",r),[]}}async reverseGeocodeWithGoogle(t,r){return this.googleMapsLoaded||await this.initializeGoogleMaps(),new Promise((n,i)=>{this.geocoder.geocode({location:{lat:t,lng:r}},(a,o)=>{if(o==="OK"&&a[0]){const l=a[0];let c="Current Location",d=l.formatted_address;if(l.address_components){const u=l.address_components,A=u.find(v=>v.types.includes("locality")),f=u.find(v=>v.types.includes("sublocality")),m=u.find(v=>v.types.includes("neighborhood")),x=u.find(v=>v.types.includes("administrative_area_level_1")),p=u.find(v=>v.types.includes("administrative_area_level_2"));A&&x?c=`${A.long_name}, ${x.long_name}`:f&&x?c=`${f.long_name}, ${x.long_name}`:m&&x?c=`${m.long_name}, ${x.long_name}`:p&&x?c=`${p.long_name}, ${x.long_name}`:c=l.formatted_address}n({name:c,address:d,lat:t,lng:r})}else i(new Error("Geocoding failed"))})})}async reverseGeocodeWithNominatim(t,r){try{const n=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${r}&addressdetails=1`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();let a="Current Location",o=i.display_name;if(i.address){const l=i.address;if(l.city||l.town||l.village){const c=l.city||l.town||l.village,d=l.state;a=d?`${c}, ${d}`:c}else if(l.suburb||l.neighbourhood){const c=l.suburb||l.neighbourhood,d=l.state;a=d?`${c}, ${d}`:c}else l.state&&(a=l.state)}return{name:a,address:o,lat:t,lng:r}}catch(n){return console.error("Nominatim reverse geocoding error:",n),{name:"Current Location",address:"Your current location",lat:t,lng:r}}}async searchLocation(t,r="google"){return r==="google"?null:await this.searchWithNominatim(t)}async reverseGeocode(t,r,n="google"){return n==="google"?await this.reverseGeocodeWithGoogle(t,r):await this.reverseGeocodeWithNominatim(t,r)}async getCurrentLocation(t="google"){return new Promise((r,n)=>{if(!navigator.geolocation){n(new Error("Geolocation is not supported by this browser."));return}navigator.geolocation.getCurrentPosition(async i=>{const{latitude:a,longitude:o}=i.coords;try{const l=await this.reverseGeocode(a,o,t);r({...l,accuracy:i.coords.accuracy,timestamp:new Date().toLocaleString()})}catch{r({name:"Current Location",address:"Your current location",lat:a,lng:o,accuracy:i.coords.accuracy,timestamp:new Date().toLocaleString()})}},i=>{let a="Unable to get your current location. ";switch(i.code){case i.PERMISSION_DENIED:a+="Location access denied by user.";break;case i.POSITION_UNAVAILABLE:a+="Location information unavailable.";break;case i.TIMEOUT:a+="Location request timed out.";break;default:a+="Unknown error occurred.";break}n(new Error(a))})})}}const Wb=new Abe,fbe=({mapType:e="google",onLocationSelect:t,placeholder:r="Search for a location (e.g., Koramangala, Bangalore)",className:n=""})=>{const[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(null),x=_.useRef(null),p=_.useRef(null),v=_.useRef(null);_.useEffect(()=>{e==="google"&&x.current&&y()},[e]);const y=async()=>{try{if(await Wb.initializeGoogleMaps(),x.current&&!f){const I=await Wb.searchWithGooglePlaces("",x.current);I.addListener("place_changed",()=>{const P=I.getPlace();if(P.geometry){const T={name:P.name||P.formatted_address,address:P.formatted_address,lat:P.geometry.location.lat(),lng:P.geometry.location.lng()};a(T.name),A(!1),t(T)}}),m(I)}}catch(I){console.error("Failed to initialize Google autocomplete:",I)}},b=async I=>{const P=I.target.value;if(a(P),v.current&&clearTimeout(v.current),P.length<3){l([]),A(!1);return}e==="leaflet"&&(v.current=setTimeout(async()=>{await w(P)},300))},w=async I=>{d(!0);try{const P=await Wb.searchWithNominatim(I);l(P),A(!0)}catch(P){console.error("Search error:",P),l([])}finally{d(!1)}},j=I=>{a(I.name),A(!1),t(I)},N=async()=>{d(!0);try{const I=await Wb.getCurrentLocation(e);a(I.name),A(!1),t(I)}catch(I){console.error("Current location error:",I),alert(I.message)}finally{d(!1)}},B=()=>{a(""),l([]),A(!1),x.current&&x.current.focus()};return _.useEffect(()=>{const I=P=>{p.current&&!p.current.contains(P.target)&&x.current&&!x.current.contains(P.target)&&A(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),s.jsxs("div",{className:`relative z-[9998] ${n}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{ref:x,type:"text",placeholder:r,value:i,onChange:b,onFocus:()=>{e==="leaflet"&&o.length>0&&A(!0)},className:"w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",autoComplete:"off"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[c&&s.jsx(oa,{className:"w-4 h-4 text-gray-400 animate-spin"}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?s.jsx("span",{className:"text-green-600",children:" Google"}):s.jsx("span",{className:"text-blue-600",children:" Leaflet"})}),i&&s.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(or,{className:"w-4 h-4"})})]})]}),e==="leaflet"&&u&&o.length>0&&s.jsx("div",{ref:p,className:"absolute z-[9999] w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-y-auto",style:{zIndex:9999},children:o.map((I,P)=>s.jsx("button",{onClick:()=>j(I),className:"w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:I.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:I.address}),I.type&&s.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:I.type})]})]})},I.id||P))}),s.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[s.jsxs("button",{onClick:N,disabled:c,className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsx("span",{children:"Use Current Location"})]}),s.jsx("div",{className:"text-xs text-gray-500",children:e==="google"?"Google Places Autocomplete":"OpenStreetMap Search"})]})]})},kC=()=>{const[e,t]=_.useState({}),[r,n]=_.useState([]),[i,a]=_.useState([]),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(""),[f,m]=_.useState(null),[x,p]=_.useState(null),[v,y]=_.useState(5),[b,w]=_.useState(!1),[j,N]=_.useState([]),[B,I]=_.useState([]),[P,T]=_.useState([]),U=cr(),[k,E]=_.useState(null);_.useEffect(()=>{te()},[]);const Q=J=>{m(J),A(J.name),F(J),D(J.lat,J.lng,v)},F=J=>{const ue={id:Date.now(),location:J.name,address:J.address,lat:J.lat,lng:J.lng,timestamp:new Date().toLocaleString(),radius:v,pgCount:0},fe=P.filter(je=>je.lat!==J.lat||je.lng!==J.lng),Y=[ue,...fe].slice(0,5);T(Y)},K=J=>{if(!J)return"Address not available";if(typeof J=="string")return J;const{street:ue,city:fe,state:Y,pincode:je,landmark:xe}=J;return[ue,xe,fe,Y,je].filter(Boolean).join(", ")},W=(J,ue,fe,Y)=>ee(J,ue,fe,Y),D=async(J,ue,fe=v)=>{try{const Y=await fetch("http://localhost:5000/api/property/public/properties",{method:"GET",headers:{"Content-Type":"application/json"}});if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);const je=Y.headers.get("content-type");if(!je||!je.includes("application/json")){const Ie=await Y.text();throw console.error("Non-JSON response:",Ie),new Error("Server returned non-JSON response")}const Ce=((await Y.json()).data||[]).filter(Ie=>Ie.latitude&&Ie.longitude).map(Ie=>{const Ue=W(J,ue,Ie.latitude,Ie.longitude);return{id:Ie._id,name:Ie.property_name||Ie.propertyName||"Unnamed Property",address:K(Ie.address),lat:Ie.latitude,lng:Ie.longitude,price:Ie.rent?`${Ie.rent.toLocaleString()}`:"Price not available",rating:4.5,distance:`${Ue.toFixed(1)} km`,_distanceKm:Ue,amenities:Ie.amenities?Object.entries(Ie.amenities).filter(([Oe,Xe])=>Xe===!0).map(([Oe])=>Oe):[],propertyType:Ie.propertyType||"PG",totalRooms:Ie.totalRooms||Ie.maxOccupancy||"N/A",images:Ie.images?[Ie.images.front,Ie.images.hall,...Ie.images.gallery||[]].filter(Boolean):[],ownerName:Ie.ownerName||"Unknown Owner"}}).filter(Ie=>Ie._distanceKm<=fe).sort((Ie,Ue)=>Ie._distanceKm-Ue._distanceKm);N(Ce),z(J,ue,Ce.length)}catch(Y){console.error("Error fetching properties:",Y),N([])}},z=(J,ue,fe)=>{T(Y=>Y.map(je=>Math.abs(je.lat-J)<.001&&Math.abs(je.lng-ue)<.001?{...je,pgCount:fe}:je))},ee=(J,ue,fe,Y)=>{const xe=(fe-J)*Math.PI/180,re=(Y-ue)*Math.PI/180,Ce=Math.sin(xe/2)*Math.sin(xe/2)+Math.cos(J*Math.PI/180)*Math.cos(fe*Math.PI/180)*Math.sin(re/2)*Math.sin(re/2);return 6371*(2*Math.atan2(Math.sqrt(Ce),Math.sqrt(1-Ce)))},te=async()=>{try{const J=await fetch("http://localhost:5000/api/property/public/properties",{method:"GET",headers:{"Content-Type":"application/json"}});if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const ue=J.headers.get("content-type");if(!ue||!ue.includes("application/json")){const xe=await J.text();throw console.error("Non-JSON response:",xe),new Error("Server returned non-JSON response")}const je=((await J.json()).data||[]).filter(xe=>xe.latitude&&xe.longitude).map(xe=>({id:xe._id,name:xe.property_name||xe.propertyName||"Unnamed Property",address:K(xe.address),lat:xe.latitude,lng:xe.longitude,price:xe.rent?`${xe.rent.toLocaleString()}`:"Price not available",rating:4.5,distance:"0 km",_distanceKm:0,amenities:xe.amenities?Object.entries(xe.amenities).filter(([re,Ce])=>Ce===!0).map(([re])=>re):[],propertyType:xe.propertyType||"PG",totalRooms:xe.totalRooms||xe.maxOccupancy||"N/A",images:xe.images||[],ownerName:xe.ownerName||"Unknown Owner"}));console.log(`Loaded ${je.length} properties`),I(je)}catch(J){console.error("Error loading properties:",J)}},le=J=>{U(`/seeker/property/${J}`)},$=J=>{const ue=parseInt(J.target.value);y(ue),f?D(f.lat,f.lng,ue):x&&D(x.lat,x.lng,ue)},X=async()=>{try{const J=JSON.parse(localStorage.getItem("user")||"{}");if(!(J.id||J._id||J.userId))return;const Y={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},je="http://localhost:5000/api/property";try{const xe=await fetch(`${je}/user/tenant-status`,{method:"GET",headers:Y});if(xe.ok){const re=await xe.json();if(re.success&&re.isTenant)return console.log("User has active tenancy, redirecting to TenantDashboard"),U("/tenant-dashboard"),!0}}catch(xe){console.error("Error checking tenant status:",xe)}}catch(J){console.error("Error checking dashboard redirect status:",J)}return!1};_.useEffect(()=>{const J=JSON.parse(localStorage.getItem("user")||"{}");t(J),(()=>{const je=`lastLogin_${J._id||J.id}`;localStorage.getItem(je)?(d(!1),localStorage.setItem(je,new Date().toISOString())):(d(!0),localStorage.setItem(je,new Date().toISOString()))})(),X().then(Y=>{Y||(T([]),V(),ne(),ae())});const fe=Y=>{console.log("Booking status change detected:",Y.detail),(Y.detail.status==="confirmed"||Y.detail.status==="approved")&&setTimeout(()=>{X()},1e3)};return window.addEventListener("booking-approved",fe),window.addEventListener("booking-status-changed",fe),()=>{window.removeEventListener("booking-approved",fe),window.removeEventListener("booking-status-changed",fe)}},[]);const V=async()=>{try{const J=await fetch("http://localhost:5000/api/property/public/properties",{method:"GET",headers:{"Content-Type":"application/json"}});if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const ue=J.headers.get("content-type");if(!ue||!ue.includes("application/json")){const xe=await J.text();throw console.error("Non-JSON response:",xe),new Error("Server returned non-JSON response")}const Y=(await J.json()).data||[];console.log("=== RAW PROPERTIES DATA ==="),console.log("Total properties from API:",Y.length),Y.forEach((xe,re)=>{console.log(`
Property ${re+1}:`),console.log("  _id:",xe._id),console.log("  propertyName:",xe.propertyName),console.log("  address:",xe.address),console.log("  rent:",xe.rent),console.log("  propertyType:",xe.propertyType),console.log("  maxOccupancy:",xe.maxOccupancy),console.log("  amenities:",xe.amenities),console.log("  images:",xe.images),console.log("  description:",xe.description),console.log("  latitude:",xe.latitude),console.log("  longitude:",xe.longitude)}),console.log("=== END RAW PROPERTIES ===");const je=Y.slice(0,4).map((xe,re)=>{var Ce,Ie,Ue,Oe,Xe,et,me;return{id:xe._id,name:xe.property_name||xe.propertyName||"Unnamed Property",location:K(xe.address),price:xe.rent?`${xe.rent.toLocaleString()}`:"Price not available",rating:4.5,image:(Ce=xe.images)!=null&&Ce.front||(Ie=xe.images)!=null&&Ie.hall||(Ue=xe.images)!=null&&Ue.gallery&&xe.images.gallery[0]?((Oe=xe.images)==null?void 0:Oe.front)||((Xe=xe.images)==null?void 0:Xe.hall)||((me=(et=xe.images)==null?void 0:et.gallery)==null?void 0:me[0]):"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",distance:`${(re+1)*2}.${re+1} km`,matchScore:95-re*5,propertyType:xe.propertyType||"PG",totalRooms:xe.maxOccupancy||"N/A",amenities:xe.amenities||[]}});l(je),console.log("=== RECOMMENDATIONS DATA ==="),console.log("Total recommendations:",je.length),je.forEach((xe,re)=>{console.log(`
Recommendation ${re+1}:`),console.log("  ID:",xe.id),console.log("  Name:",xe.name),console.log("  Location:",xe.location),console.log("  Price:",xe.price),console.log("  Rating:",xe.rating),console.log("  Distance:",xe.distance),console.log("  Match Score:",xe.matchScore+"%"),console.log("  Property Type:",xe.propertyType),console.log("  Max Occupancy:",xe.maxOccupancy),console.log("  Amenities:",xe.amenities),console.log("  Image URL:",xe.image)}),console.log("=== END RECOMMENDATIONS ===")}catch(J){console.error("Error fetching property recommendations:",J),l([])}},ne=async()=>{try{const J=JSON.parse(localStorage.getItem("user")||"{}"),ue=J.userId||J._id;if(console.log("Fetching favorites for userId:",ue),!ue){console.log("No userId found in localStorage");return}const Y="http://localhost:5000/api/property/favorites";console.log("Favorites API URL:",Y);const je=localStorage.getItem("authToken"),xe=await fetch(Y,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${je}`}});if(console.log("Favorites API response status:",xe.status),xe.ok){const re=await xe.json();console.log("Favorites data received:",re),n(re.favorites||[]),console.log("Favorites count:",(re.favorites||[]).length)}else{const re=await xe.text();console.error("Favorites API error:",xe.status,xe.statusText,re)}}catch(J){console.error("Error fetching favorites count:",J),n([])}},ae=async()=>{try{const J=JSON.parse(localStorage.getItem("user")||"{}"),ue=J.userId||J._id;if(console.log("Fetching bookings for userId:",ue),!ue){console.log("No userId found in localStorage");return}const Y="http://localhost:5000/api/property/user/bookings";console.log("Bookings API URL:",Y);const je=localStorage.getItem("authToken"),xe=await fetch(Y,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${je}`}});if(console.log("Bookings API response status:",xe.status),xe.ok){const re=await xe.json();console.log("Bookings data received:",re),a(re.bookings||[]),console.log("Bookings count:",(re.bookings||[]).length)}else{const re=await xe.text();console.error("Bookings API error:",xe.status,xe.statusText,re)}}catch(J){console.error("Error fetching bookings count:",J),a([])}},he=J=>{switch(J){case"confirmed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},ge=J=>{switch(J){case"confirmed":return s.jsx(jt,{className:"w-4 h-4"});case"pending":return s.jsx(ns,{className:"w-4 h-4"});case"cancelled":return s.jsx(Zt,{className:"w-4 h-4"});default:return s.jsx(ns,{className:"w-4 h-4"})}};return s.jsxs(jr,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[c?"Welcome":"Welcome back",", ",e.name||"User","! "]}),s.jsx("p",{className:"text-gray-600",children:c?"Welcome to Lyvo+! Let's help you find your perfect co-living space.":"Ready to find your perfect PG? Here's what's happening with your account."})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[s.jsx(wr,{className:"w-5 h-5 mr-2 text-red-600"}),"Find PGs Near You"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Interactive Map:"}),s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-blue-600",children:[s.jsx(kue,{className:"w-3 h-3"}),s.jsx("span",{children:"Leaflet + OpenStreetMap"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:s.jsx("div",{className:"lg:col-span-2",children:s.jsx(fbe,{mapType:"leaflet",onLocationSelect:Q,placeholder:"Search for a location (e.g., Koramangala, Bangalore)"})})}),s.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fue,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Search Radius:"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"range",min:"1",max:"20",value:v,onChange:$,className:"w-32 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 min-w-[3rem]",children:[v," km"]})]})]}),f&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"w-4 h-4 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:f.name}),s.jsx("p",{className:"text-sm text-gray-600",children:f.address})]})]})}),b&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Getting Your Location..."}),s.jsx("p",{className:"text-sm text-gray-600",children:"Please allow location access and wait a moment."})]})]})}),k&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 rounded-lg border border-red-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Zt,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Location Error"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k}),s.jsx("button",{onClick:()=>E(null),className:"text-xs text-red-600 hover:text-red-800 underline",children:"Dismiss"})]})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx(hbe,{properties:f?j:B,selectedLocation:f,radius:v,onPropertyClick:le,height:"320px",showRadius:!!f}),s.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[s.jsx("span",{className:"text-green-600",children:" Leaflet Map Loaded"}),s.jsx("span",{className:"ml-2 text-blue-600",children:"OpenStreetMap Tiles"})]})]}),j.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Found ",j.length," PGs within ",v," km"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map((J,ue)=>s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ue*.1,duration:.5},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>le(J.id),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:J.name}),s.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:J.distance})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:J.address}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ka,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-xs text-gray-600",children:J.rating})]}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:J.propertyType})]}),s.jsx("div",{className:"space-y-1 text-xs text-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Total Rooms:"}),s.jsx("span",{className:"font-medium",children:J.totalRooms||"N/A"})]})}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:J.amenities.slice(0,3).map((fe,Y)=>s.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:fe},Y))})]},J.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Searches"})}),s.jsxs("div",{className:"space-y-3",children:[P.map((J,ue)=>s.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+ue*.1,duration:.5},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>Q(J),children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:J.location}),s.jsx("p",{className:"text-sm text-gray-500",children:J.timestamp}),s.jsxs("p",{className:"text-xs text-blue-600",children:[J.radius,"km radius"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[J.pgCount>0&&s.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:[J.pgCount," PGs"]}),s.jsx(ha,{className:"w-4 h-4 text-gray-400"})]})]},J.id)),P.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(wr,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No recent searches yet"}),s.jsx("p",{className:"text-sm",children:"Search for a location to see it here"})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Available Rooms"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map((J,ue)=>s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+ue*.1,duration:.5},className:"group cursor-pointer",onClick:()=>le(J.id),children:[s.jsxs("div",{className:"relative overflow-hidden rounded-lg",children:[s.jsx("img",{src:J.image,alt:J.name,className:"w-full h-32 object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[s.jsxs("div",{className:"bg-red-600 text-white text-xs px-2 py-1 rounded-full font-medium",children:[J.matchScore,"% Match"]}),J.rooms&&J.rooms.length>0&&s.jsx("div",{className:`text-xs px-2 py-1 rounded-full font-medium ${J.rooms.filter(fe=>fe.room_status==="available"&&fe.isAvailable).length>0?"bg-green-600 text-white":"bg-orange-600 text-white"}`,children:J.rooms.filter(fe=>fe.room_status==="available"&&fe.isAvailable).length>0?"Rooms Available":"Fully Booked"})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-red-600 transition-colors",children:J.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(wr,{className:"w-3 h-3 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600",children:J.location}),s.jsxs("span",{className:"text-xs text-gray-400",children:[" ",J.distance]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ka,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-sm text-gray-600",children:J.rating})]}),s.jsx("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:J.propertyType})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Total Rooms:"}),s.jsx("span",{className:"font-medium",children:J.totalRooms||"N/A"})]}),J.rooms&&J.rooms.length>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Available:"}),s.jsxs("span",{className:"font-medium text-green-600",children:[J.rooms.filter(fe=>fe.room_status==="available"&&fe.isAvailable).length,"/",J.rooms.length]})]})]})]})]},J.id))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Stats"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-pink-50 rounded-lg border border-pink-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center",children:s.jsx(Gh,{className:"w-5 h-5 text-pink-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Favorites"})]}),s.jsx("span",{className:"text-2xl font-bold text-pink-600",children:r.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Or,{className:"w-5 h-5 text-green-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Bookings"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-600",children:i.length})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg border border-purple-100",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Jr,{className:"w-5 h-5 text-purple-600"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Searches"})]}),s.jsx("span",{className:"text-2xl font-bold text-purple-600",children:P.length})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upcoming Bookings"}),s.jsx("div",{className:"space-y-3",children:i.map((J,ue)=>s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+ue*.1,duration:.5},className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:J.pgName}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsxs("p",{children:["Check-in: ",J.checkIn]}),s.jsxs("p",{children:["Check-out: ",J.checkOut]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:J.amount}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${he(J.status)} flex items-center space-x-1`,children:[ge(J.status),s.jsx("span",{className:"capitalize",children:J.status})]})]})]},J.id))}),s.jsx(Tt,{to:"/seeker-bookings",className:"mt-4 w-full text-center text-red-600 hover:text-red-700 text-sm font-medium block",children:"View All Bookings"})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:" Quick Tips"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[s.jsx("li",{children:" Save PGs to favorites for quick access"}),s.jsx("li",{children:" Use filters to find exact matches"}),s.jsx("li",{children:" Read reviews before booking"}),s.jsx("li",{children:" Contact owners for questions"})]})]})]})]})]}),s.jsx(MV,{})]})},UG=({isOpen:e,onClose:t,owner:r})=>{if(!e)return null;const n=()=>{if(r!=null&&r.phone){const o=encodeURIComponent("Hi, I'm interested in your property and would like to get more information.");window.open(`https://wa.me/${r.phone.replace(/\D/g,"")}?text=${o}`,"_blank")}},i=()=>{if(r!=null&&r.email){const o=encodeURIComponent("Property Inquiry"),l=encodeURIComponent(`Hi ${r.name||"Owner"},

I'm interested in your property and would like to get more information.

Thank you!`);window.location.href=`mailto:${r.email}?subject=${o}&body=${l}`}},a=()=>{r!=null&&r.phone&&(window.location.href=`tel:${r.phone}`)};return s.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:s.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full p-6 transform transition-all",children:[s.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get in touch with the property owner"})]})]})}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(ar,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Owner Name"}),s.jsx("p",{className:"font-medium text-gray-900",children:(r==null?void 0:r.name)||(r==null?void 0:r.ownerName)||"Not available"})]})]}),(r==null?void 0:r.phone)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(ms,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:r.phone})]})]}),(r==null?void 0:r.email)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(yn,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email Address"}),s.jsx("p",{className:"font-medium text-gray-900 break-all",children:r.email})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[(r==null?void 0:r.phone)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(ms,{className:"w-5 h-5"}),"Call Owner"]}),s.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(ca,{className:"w-5 h-5"}),"WhatsApp"]})]}),(r==null?void 0:r.email)&&s.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(yn,{className:"w-5 h-5"}),"Send Email"]})]}),s.jsx("div",{className:"mt-6 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-xs text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," Please be respectful when contacting the property owner. Provide your details and requirements clearly."]})})]})})]})},mbe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(null),f=cr(),{toast:m}=xc(),x=()=>{const N=localStorage.getItem("user");if(N)try{const B=JSON.parse(N);return B.id||B._id}catch(B){return console.error("Error parsing user data:",B),null}return null},p=async()=>{if(!x()){console.error("User ID not found"),n(!1);return}try{n(!0);const B=localStorage.getItem("authToken");if(!B){console.error("No auth token found"),n(!1);return}const P=await fetch("http://localhost:5000/api/property/favorites",{headers:{Authorization:`Bearer ${B}`}});if(P.ok){const T=await P.json();console.log("Favorites data received:",T);const U=(T.favorites||[]).map(k=>{var E,Q,F,K,W;return{...k,property:{...k.propertyId,propertyName:(E=k.propertyId)==null?void 0:E.property_name,address:(Q=k.propertyId)==null?void 0:Q.address},room:{...k.roomId,roomNumber:(F=k.roomId)==null?void 0:F.room_number,roomImage:(K=k.roomId)==null?void 0:K.room_image,toiletImage:(W=k.roomId)==null?void 0:W.toilet_image}}});t(U),l(U)}else console.error("Failed to fetch favorites")}catch(B){console.error("Error fetching favorites:",B)}finally{n(!1)}},v=async(N,B,I)=>{const P=x();if(P)try{const T=localStorage.getItem("authToken"),k=await fetch("http://localhost:5000/api/property/favorites/remove",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({userId:P,propertyId:B,roomId:I})});k.ok?(await k.json()).success&&(t(Q=>Q.filter(F=>F._id!==N)),l(Q=>Q.filter(F=>F._id!==N)),m({title:"Removed from Favorites",description:"Property has been removed from your favorites"})):(console.error("Failed to remove from favorites"),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"}))}catch(T){console.error("Error removing from favorites:",T),m({title:"Error",description:"Failed to remove from favorites",variant:"destructive"})}};_.useEffect(()=>{if(i){const N=e.filter(B=>{var k,E,Q,F,K;const I=((E=(k=B.property)==null?void 0:k.propertyName)==null?void 0:E.toLowerCase())||"",P=(Q=B.property)!=null&&Q.address?typeof B.property.address=="string"?B.property.address.toLowerCase():`${B.property.address.street||""} ${B.property.address.city||""} ${B.property.address.state||""}`.toLowerCase():"",T=((K=(F=B.room)==null?void 0:F.roomNumber)==null?void 0:K.toLowerCase())||"",U=i.toLowerCase();return I.includes(U)||P.includes(U)||T.includes(U)});l(N)}else l(e)},[e,i]),_.useEffect(()=>{p()},[]);const y=N=>{switch(N.toLowerCase()){case"wifi":return s.jsx(nm,{className:"w-4 h-4"});case"ac":return s.jsx(UV,{className:"w-4 h-4"});case"food":return s.jsx(If,{className:"w-4 h-4"});case"parking":return s.jsx(ml,{className:"w-4 h-4"});case"security":return s.jsx(tr,{className:"w-4 h-4"});default:return s.jsx(Jr,{className:"w-4 h-4"})}},b=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(N),w=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),j=N=>{var B,I,P,T;A({name:(B=N.property)==null?void 0:B.ownerName,phone:(I=N.property)==null?void 0:I.ownerPhone,email:(P=N.property)==null?void 0:P.ownerEmail,ownerName:(T=N.property)==null?void 0:T.ownerName}),d(!0)};return r?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your favorites..."})]})})}):s.jsxs(jr,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Favorites"}),s.jsx("p",{className:"text-gray-600",children:"Properties and rooms you've saved for later."})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search your favorites...",value:i,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",o.length," of ",e.length," favorites"]}),s.jsx("button",{onClick:p,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),o.length===0?s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Gh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Favorites Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"Start exploring properties and add them to your favorites to see them here!":"No favorites match your current search. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>f("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:o.map((N,B)=>{var I,P,T,U,k,E,Q,F,K,W;return s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+B*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"lg:w-80 flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((I=N.room)==null?void 0:I.roomImage)||((T=(P=N.property)==null?void 0:P.images)==null?void 0:T[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:((U=N.property)==null?void 0:U.propertyName)||"Property",className:"w-full h-48 object-cover rounded-lg",onError:D=>{D.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("button",{onClick:()=>v(N._id,N.propertyId,N.roomId),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(Zp,{className:"w-4 h-4"})})}),N.room&&s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",N.room.roomNumber]})})]})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Jr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((k=N.property)==null?void 0:k.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(E=N.property)!=null&&E.address?typeof N.property.address=="string"?N.property.address:`${N.property.address.street||""}, ${N.property.address.city||""}, ${N.property.address.state||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),N.room&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",N.room.roomNumber]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.roomType}),N.room.bedType&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:N.room.bedType})]})]}),((Q=N.property)==null?void 0:Q.propertyType)&&s.jsx("div",{className:"inline-block mb-2",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:N.property.propertyType})}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Or,{className:"w-3 h-3 mr-1"}),s.jsxs("span",{children:["Added on ",w(N.addedAt)]})]})]}),s.jsxs("div",{className:"mt-4 lg:mt-0 lg:text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(F=N.room)!=null&&F.rent?b(N.room.rent):"Contact for Price"}),s.jsx("div",{className:"text-sm text-gray-600",children:N.room?"per month":"Property"})]})]}),((K=N.property)==null?void 0:K.amenities)&&Object.keys(N.property.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.property.amenities).filter(([D,z])=>z===!0).slice(0,6).map(([D,z])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[y(D),D]},D))})]}),((W=N.room)==null?void 0:W.amenities)&&Object.keys(N.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(N.room.amenities).filter(([D,z])=>z===!0).slice(0,6).map(([D,z])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[y(D),D]},D))})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:()=>{var D;return f(`/seeker/property/${(D=N.property)==null?void 0:D._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Er,{className:"w-4 h-4"}),"View Property"]}),N.room&&s.jsxs("button",{onClick:()=>{var D;return f(`/seeker/room/${(D=N.room)==null?void 0:D._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(ua,{className:"w-4 h-4"}),"View Room"]}),s.jsxs("button",{onClick:()=>j(N),className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(ca,{className:"w-4 h-4"}),"Contact Owner"]})]})]})]})})},N._id)})})]}),s.jsx(UG,{isOpen:c,onClose:()=>d(!1),owner:u})]})},pbe=()=>{var he,ge,J,ue,fe;const[e,t]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState([]),[o,l]=_.useState("all"),[c,d]=_.useState(""),[u,A]=_.useState(!1),[f,m]=_.useState(null),[x,p]=_.useState(!1),[v,y]=_.useState(null),[b,w]=_.useState(!1),[j,N]=_.useState(!1),[B,I]=_.useState(null),[P,T]=_.useState(""),[U,k]=_.useState(!1),E=cr(),{toast:Q}=xc(),F=()=>{const Y=localStorage.getItem("user");if(Y)try{const je=JSON.parse(Y);return je.id||je._id}catch(je){return console.error("Error parsing user data:",je),null}return null},K=async()=>{if(!F()){console.error("User ID not found"),n(!1);return}try{n(!0);const je=localStorage.getItem("authToken");if(!je){console.error("No auth token found"),n(!1);return}const re=await fetch("http://localhost:5000/api/property/user/bookings",{headers:{Authorization:`Bearer ${je}`}});if(re.ok){const Ce=await re.json();console.log("Bookings data received:",Ce);const Ie=(Ce.bookings||[]).map(Ue=>{var Xe,et,me,Be,Ne,Ee,$e,ot,nt,tt,Ke,it,lt,yt,Ct,wt,$t,gt,mt,at,At,rt,ze,Et,Ft,_n,er,Yr,Cn,Lt,gs,xs,On,Ln,fr;const Oe={...Ue,property:{...Ue.propertySnapshot,_id:((Xe=Ue.propertyId)==null?void 0:Xe._id)||Ue.propertyId,propertyName:((et=Ue.propertyId)==null?void 0:et.property_name)||((me=Ue.propertyId)==null?void 0:me.propertyName)||((Be=Ue.propertySnapshot)==null?void 0:Be.name),images:((Ne=Ue.propertyId)==null?void 0:Ne.images)||((Ee=Ue.propertySnapshot)==null?void 0:Ee.images)||[($e=Ue.propertySnapshot)==null?void 0:$e.image],address:((ot=Ue.propertyId)==null?void 0:ot.address)||((nt=Ue.propertySnapshot)==null?void 0:nt.address),security_deposit:((tt=Ue.propertyId)==null?void 0:tt.security_deposit)||((Ke=Ue.propertyId)==null?void 0:Ke.securityDeposit)||((it=Ue.propertySnapshot)==null?void 0:it.security_deposit)},room:{...Ue.roomSnapshot,_id:((lt=Ue.roomId)==null?void 0:lt._id)||Ue.roomId,roomNumber:((yt=Ue.roomId)==null?void 0:yt.room_number)||((Ct=Ue.roomId)==null?void 0:Ct.roomNumber)||((wt=Ue.roomSnapshot)==null?void 0:wt.roomNumber),roomImage:(($t=Ue.roomId)==null?void 0:$t.room_image)||((gt=Ue.roomId)==null?void 0:gt.roomImage)||((at=(mt=Ue.roomSnapshot)==null?void 0:mt.images)==null?void 0:at.room)||((At=Ue.roomSnapshot)==null?void 0:At.roomImage)||((ze=(rt=Ue.roomSnapshot)==null?void 0:rt.images)==null?void 0:ze[0]),toiletImage:((Et=Ue.roomId)==null?void 0:Et.toilet_image)||((Ft=Ue.roomId)==null?void 0:Ft.toiletImage)||((er=(_n=Ue.roomSnapshot)==null?void 0:_n.images)==null?void 0:er.toilet)||((Yr=Ue.roomSnapshot)==null?void 0:Yr.toiletImage),rent:((Cn=Ue.roomId)==null?void 0:Cn.rent)||((Lt=Ue.roomSnapshot)==null?void 0:Lt.rent),roomType:((gs=Ue.roomId)==null?void 0:gs.room_type)||((xs=Ue.roomId)==null?void 0:xs.roomType)||((On=Ue.roomSnapshot)==null?void 0:On.roomType)}};return console.log("[DEBUG] Final Mapped booking:",Oe._id,{propertyImage:(Ln=Oe.property)==null?void 0:Ln.images,roomImage:(fr=Oe.room)==null?void 0:fr.roomImage,payment:Oe.payment}),Oe});t(Ie),a(Ie)}else console.error("Failed to fetch bookings")}catch(je){console.error("Error fetching bookings:",je)}finally{n(!1)}},W=Y=>{y(Y),p(!0)},D=()=>{p(!1),y(null),w(!1)},z=Y=>{I(Y),T(Y.checkInDate?new Date(Y.checkInDate).toISOString().split("T")[0]:""),N(!0)},ee=()=>{N(!1),I(null),T(""),k(!1)},te=async()=>{if(v)try{w(!0);const Y=localStorage.getItem("authToken"),xe=await fetch(`http://localhost:5000/api/property/bookings/${v._id}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`}});if(xe.ok)Q({title:"Success",description:(v==null?void 0:v.status)==="rejected"?"Rejected booking removed successfully":"Booking cancelled and removed successfully",variant:"default"}),K(),window.dispatchEvent(new Event("booking-cancelled")),D();else{const re=await xe.json();Q({title:"Error",description:re.message||"Failed to cancel booking",variant:"destructive"})}}catch(Y){console.error("Error cancelling booking:",Y),Q({title:"Error",description:"Failed to cancel booking. Please try again.",variant:"destructive"})}finally{w(!1)}},le=async()=>{if(!(!B||!P))try{k(!0);const Y=localStorage.getItem("authToken"),xe=await fetch(`http://localhost:5000/api/property/user/check-in/${B._id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify({checkInDate:P})});if(xe.ok)Q({title:"Success",description:"Check-in date marked successfully",variant:"default"}),K(),ee();else{const re=await xe.json();Q({title:"Error",description:re.message||"Failed to mark check-in date",variant:"destructive"})}}catch(Y){console.error("Error marking check-in:",Y),Q({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{k(!1)}};_.useEffect(()=>{let Y=e;o!=="all"&&(Y=Y.filter(je=>je.status===o)),c&&(Y=Y.filter(je=>{var Ue,Oe,Xe,et,me;const xe=((Oe=(Ue=je.property)==null?void 0:Ue.propertyName)==null?void 0:Oe.toLowerCase())||"",re=((et=(Xe=je.room)==null?void 0:Xe.roomNumber)==null?void 0:et.toLowerCase())||"";let Ce="";(me=je.property)!=null&&me.address&&(typeof je.property.address=="string"?Ce=je.property.address.toLowerCase():Ce=`${je.property.address.street||""} ${je.property.address.city||""} ${je.property.address.state||""} ${je.property.address.pincode||""}`.toLowerCase());const Ie=c.toLowerCase();return xe.includes(Ie)||re.includes(Ie)||Ce.includes(Ie)})),a(Y)},[e,o,c]),_.useEffect(()=>{K()},[]);const $=(Y,je=null)=>{switch(Y){case"confirmed":case"approved":return{color:"text-green-600 bg-green-100",icon:s.jsx(jt,{className:"w-4 h-4"}),text:"Approved"};case"checked_in":return{color:"text-blue-600 bg-blue-100",icon:s.jsx(jt,{className:"w-4 h-4"}),text:"Checked In"};case"pending_approval":return{color:"text-yellow-600 bg-yellow-100",icon:s.jsx(ns,{className:"w-4 h-4"}),text:"Pending Approval"};case"payment_pending":return{color:"text-orange-600 bg-orange-100",icon:s.jsx(ns,{className:"w-4 h-4"}),text:"Payment Pending"};case"rejected":return{color:"text-red-600 bg-red-100",icon:s.jsx(sr,{className:"w-4 h-4"}),text:"Rejected"};case"cancelled":return{color:"text-gray-600 bg-gray-100",icon:s.jsx(sr,{className:"w-4 h-4"}),text:je==="user"?"Cancelled by User":"Cancelled"};default:return{color:"text-gray-600 bg-gray-100",icon:s.jsx(ns,{className:"w-4 h-4"}),text:"Unknown"}}},X=Y=>Y?new Date(Y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified",V=Y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(Y),ne=Y=>{var xe,re,Ce;const je=Y.ownerId&&typeof Y.ownerId=="object"?Y.ownerId:Y.ownerSnapshot||{name:(xe=Y.property)==null?void 0:xe.ownerName,phone:(re=Y.property)==null?void 0:re.ownerPhone,email:(Ce=Y.property)==null?void 0:Ce.ownerEmail};console.log("[DEBUG] Opening contact modal with owner:",je),m(je),A(!0)},ae=Y=>{switch(Y.toLowerCase()){case"wifi":return s.jsx(nm,{className:"w-4 h-4"});case"parking":return s.jsx(ml,{className:"w-4 h-4"});case"security":return s.jsx(tr,{className:"w-4 h-4"});case"food":return s.jsx(If,{className:"w-4 h-4"});case"gym":return s.jsx(PV,{className:"w-4 h-4"});case"cctv":return s.jsx(ts,{className:"w-4 h-4"});default:return s.jsx(Jr,{className:"w-4 h-4"})}};return r?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your bookings..."})]})})}):s.jsxs(jr,{children:[s.jsxs("div",{className:"p-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Manage and track all your room bookings and reservations."})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by property name, room number, or address...",value:c,onChange:Y=>d(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"lg:w-64",children:s.jsxs("select",{value:o,onChange:Y=>l(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"pending_approval",children:"Pending Approval"}),s.jsx("option",{value:"payment_pending",children:"Payment Pending"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",i.length," of ",e.length," bookings"]}),s.jsx("button",{onClick:K,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Refresh"})]})]}),i.length===0?s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[s.jsx(Or,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Bookings Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:e.length===0?"You haven't made any bookings yet. Start exploring properties to book your perfect room!":"No bookings match your current filters. Try adjusting your search criteria."}),e.length===0&&s.jsx("button",{onClick:()=>E("/seeker-dashboard"),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Properties"})]}):s.jsx("div",{className:"space-y-6",children:i.map((Y,je)=>{var re,Ce,Ie,Ue,Oe,Xe,et,me,Be,Ne,Ee,$e,ot,nt,tt,Ke,it,lt,yt,Ct,wt,$t,gt,mt,at,At,rt,ze,Et,Ft,_n,er,Yr,Cn,Lt,gs,xs,On,Ln,fr,Bt,un,ri,zs,is,as,os,Bn,qe,Nt,kt,ut,Ut,bn,Fr,we;const xe=$(Y.status,Y.cancelledBy);return console.log("Booking status:",Y.status,"Booking ID:",Y._id),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1+je*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsxs("div",{className:"lg:w-80 flex-shrink-0",children:[Y.status==="rejected"?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full h-48 bg-red-50 border-2 border-red-200 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(sr,{className:"w-12 h-12 text-red-400 mx-auto mb-2"}),s.jsx("p",{className:"text-red-600 font-medium",children:"Booking Rejected"}),s.jsx("p",{className:"text-red-500 text-sm",children:"Room details unavailable"})]})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${xe.color}`,children:[xe.icon,xe.text]})})]}):s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:((re=Y.room)==null?void 0:re.roomImage)||((Ce=Y.room)==null?void 0:Ce.room_image)||((Ie=Y.room)==null?void 0:Ie.toilet_image)||((Ue=Y.room)==null?void 0:Ue.toiletImage)||((Xe=(Oe=Y.room)==null?void 0:Oe.images)==null?void 0:Xe.room)||((me=(et=Y.room)==null?void 0:et.images)==null?void 0:me.toilet)||(Array.isArray((Be=Y.property)==null?void 0:Be.images)?Y.property.images[0]:((Ee=(Ne=Y.property)==null?void 0:Ne.images)==null?void 0:Ee.front)||((nt=(ot=($e=Y.property)==null?void 0:$e.images)==null?void 0:ot.gallery)==null?void 0:nt[0]))||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:`Room ${((tt=Y.room)==null?void 0:tt.roomNumber)||"N/A"} - ${((Ke=Y.property)==null?void 0:Ke.propertyName)||"Property"}`,className:"w-full h-48 object-cover rounded-lg",onError:Qe=>{Qe.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop"}}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${xe.color}`,children:[xe.icon,xe.text]})}),s.jsx("div",{className:"absolute bottom-3 left-3",children:s.jsxs("span",{className:"px-3 py-1 bg-black bg-opacity-70 text-white text-sm font-medium rounded-lg",children:["Room ",((it=Y.room)==null?void 0:it.roomNumber)||"N/A"]})})]}),Y.status!=="rejected"&&(((yt=(lt=Y.property)==null?void 0:lt.images)==null?void 0:yt[0])||((wt=(Ct=Y.property)==null?void 0:Ct.images)==null?void 0:wt.front))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(Jr,{className:"w-3 h-3"}),s.jsx("span",{children:"Property View"})]}),s.jsx("img",{src:Array.isArray(($t=Y.property)==null?void 0:$t.images)?Y.property.images[0]:((mt=(gt=Y.property)==null?void 0:gt.images)==null?void 0:mt.front)||((rt=(At=(at=Y.property)==null?void 0:at.images)==null?void 0:At.gallery)==null?void 0:rt[0]),alt:Y.property.propertyName||"Property",className:"w-full h-20 object-cover rounded-lg"})]}),Y.status!=="rejected"&&(((ze=Y.room)==null?void 0:ze.images)&&Y.room.images.length>1||((Et=Y.room)==null?void 0:Et.roomImage)&&((Ft=Y.room)==null?void 0:Ft.toiletImage))&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-1",children:[s.jsx(ts,{className:"w-3 h-3"}),s.jsx("span",{children:"Room Gallery"})]}),s.jsxs("div",{className:"flex gap-1 overflow-x-auto",children:[((_n=Y.room)==null?void 0:_n.roomImage)&&s.jsx("img",{src:Y.room.roomImage,alt:`Room ${((er=Y.room)==null?void 0:er.roomNumber)||"N/A"} - Main`,className:"w-16 h-12 object-cover rounded border",onError:Qe=>{Qe.target.style.display="none"}}),((Yr=Y.room)==null?void 0:Yr.toiletImage)&&s.jsx("img",{src:Y.room.toiletImage,alt:`Room ${((Cn=Y.room)==null?void 0:Cn.roomNumber)||"N/A"} - Bathroom`,className:"w-16 h-12 object-cover rounded border",onError:Qe=>{Qe.target.style.display="none"}}),((Lt=Y.room)==null?void 0:Lt.images)&&Y.room.images.slice(0,2).map((Qe,Ge)=>{var xt;return s.jsx("img",{src:Qe,alt:`Room ${((xt=Y.room)==null?void 0:xt.roomNumber)||"N/A"} - Photo ${Ge+1}`,className:"w-16 h-12 object-cover rounded border",onError:Ht=>{Ht.target.style.display="none"}},Ge)})]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Jr,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:((gs=Y.property)==null?void 0:gs.propertyName)||"Unnamed Property"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(xs=Y.property)!=null&&xs.address?typeof Y.property.address=="string"?Y.property.address:`${Y.property.address.street||""}, ${Y.property.address.city||""}, ${Y.property.address.state||""} ${Y.property.address.pincode||""}`.trim().replace(/^,\s*|,\s*$/g,""):"Address not available"})]}),Y.status!=="rejected"&&s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Room ",((On=Y.room)==null?void 0:On.roomNumber)||"N/A"]}),s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:((Ln=Y.room)==null?void 0:Ln.roomType)||"Standard Room"}),((fr=Y.room)==null?void 0:fr.bedType)&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"mx-2",children:""}),s.jsx("span",{className:"text-sm",children:Y.room.bedType})]})]}),Y.status!=="rejected"&&s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-2",children:[((Bt=Y.room)==null?void 0:Bt.occupancy)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Vr,{className:"w-3 h-3"}),s.jsxs("span",{children:[Y.room.occupancy," person",Y.room.occupancy>1?"s":""]})]}),((un=Y.room)==null?void 0:un.roomSize)&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"w-3 h-3"}),s.jsxs("span",{children:[Y.room.roomSize," sq ft"]})]})]}),((ri=Y.property)==null?void 0:ri.propertyType)&&s.jsx("div",{className:"inline-block",children:s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:Y.property.propertyType})})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:text-right",children:Y.status==="rejected"?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-red-600 mb-1",children:"Booking Rejected"}),s.jsx("div",{className:"text-sm text-red-500",children:"Room unavailable"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:V(((zs=Y.room)==null?void 0:zs.rent)||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-in:"}),s.jsx("span",{children:X(Y.checkInDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Check-out:"}),s.jsx("span",{children:X(Y.checkOutDate)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Security Deposit:"}),s.jsx("span",{children:V(((is=Y.payment)==null?void 0:is.securityDeposit)||((as=Y.property)==null?void 0:as.security_deposit)||((os=Y.property)==null?void 0:os.securityDeposit)||Y.securityDeposit||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"font-medium",children:V(((Bn=Y.payment)==null?void 0:Bn.totalAmount)||Y.totalAmount||(((qe=Y.room)==null?void 0:qe.rent)||0)+(((Nt=Y.payment)==null?void 0:Nt.securityDeposit)||((kt=Y.property)==null?void 0:kt.security_deposit)||0)||0)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Info"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Payment Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${((ut=Y.payment)==null?void 0:ut.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:((Ut=Y.payment)==null?void 0:Ut.paymentStatus)||"Pending"})]}),((bn=Y.payment)==null?void 0:bn.paidAt)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Paid On:"}),s.jsx("span",{children:X(Y.payment.paidAt)})]}),Y.approvedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Approved On:"}),s.jsx("span",{children:X(Y.approvedAt)})]})]})]})]}),Y.status!=="rejected"&&((Fr=Y.room)==null?void 0:Fr.amenities)&&Object.keys(Y.room.amenities).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Room Amenities"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(Y.room.amenities).filter(([Qe,Ge])=>Ge===!0).slice(0,6).map(([Qe,Ge])=>s.jsxs("span",{className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:[ae(Qe),Qe]},Qe)),Object.keys(Y.room.amenities).filter(Qe=>Y.room.amenities[Qe]===!0).length>6&&s.jsxs("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:["+",Object.keys(Y.room.amenities).filter(Qe=>Y.room.amenities[Qe]===!0).length-6," more"]})]})]}),((we=Y.property)==null?void 0:we.ownerName)&&s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Property Owner"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:Y.property.ownerName})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:()=>E(`/booking-dashboard/${Y._id}`),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsx("span",{children:"View Details"})]}),s.jsxs("button",{onClick:()=>{var Qe;return E(`/seeker/property/${(Qe=Y.property)==null?void 0:Qe._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"View Property"})]}),Y.status!=="rejected"&&s.jsxs("button",{onClick:()=>{var Qe;return E(`/seeker/room/${(Qe=Y.room)==null?void 0:Qe._id}`)},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(ua,{className:"w-4 h-4"}),s.jsx("span",{children:"View Room"})]}),s.jsxs("button",{onClick:()=>ne(Y),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(ms,{className:"w-4 h-4"}),s.jsx("span",{children:"Contact Owner"})]}),Y.status!=="checked_in"&&Y.status!=="rejected"&&s.jsxs("button",{onClick:()=>z(Y),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium",children:[s.jsx(ru,{className:"w-4 h-4"}),s.jsx("span",{children:Y.checkInDate?"Update Check-in":"Set Check-in"})]}),Y.status==="rejected"?s.jsx("div",{className:"text-center text-gray-500 text-sm py-2",children:"Booking was rejected by owner"}):Y.status==="checked_in"?s.jsx("div",{className:"text-center text-blue-600 text-sm py-2 font-medium",children:"Successfully Checked In"}):s.jsxs("button",{onClick:()=>W(Y),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-md hover:shadow-lg font-medium border-2 border-red-800",children:[s.jsx(sr,{className:"w-4 h-4"}),s.jsx("span",{children:"Cancel Booking"})]})]})]})]})})},Y._id)})})]}),s.jsx(UG,{isOpen:u,onClose:()=>A(!1),owner:f}),s.jsx(gn,{children:x&&s.jsx(s.Fragment,{children:s.jsx(Z.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:D,children:s.jsxs(Z.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Y=>Y.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(sr,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(v==null?void 0:v.status)==="rejected"?"Remove Booking":"Cancel Booking"}),s.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),s.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:b,children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-800 font-medium mb-1",children:"Warning"}),s.jsx("p",{className:"text-red-700 text-sm",children:(v==null?void 0:v.status)==="rejected"?"Are you sure you want to remove this rejected booking from your list? This action cannot be undone and the booking will be permanently removed.":"Are you sure you want to cancel this booking? This action cannot be undone and the booking will be permanently removed."})]})]})}),v&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((he=v.property)==null?void 0:he.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((ge=v.room)==null?void 0:ge.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${v.status==="confirmed"?"bg-green-100 text-green-800":v.status==="pending_approval"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:((J=v.status)==null?void 0:J.replace("_"," ").toUpperCase())||"N/A"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:D,disabled:b,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:((v==null?void 0:v.status)==="rejected","Keep Booking")}),s.jsx("button",{onClick:te,disabled:b,className:"flex-1 px-4 py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:(v==null?void 0:v.status)==="rejected"?"Removing...":"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-4 h-4"}),s.jsx("span",{children:(v==null?void 0:v.status)==="rejected"?"Remove Booking":"Cancel Booking"})]})})]})]})})})}),s.jsx(gn,{children:j&&s.jsx(s.Fragment,{children:s.jsx(Z.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ee,children:s.jsxs(Z.div,{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:Y=>Y.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(ru,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:ee,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:U,children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[B&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Booking Details"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Property:"}),s.jsx("span",{className:"font-medium",children:((ue=B.property)==null?void 0:ue.propertyName)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Room:"}),s.jsxs("span",{className:"font-medium",children:["Room ",((fe=B.room)==null?void 0:fe.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Current Check-in:"}),s.jsx("span",{className:"font-medium",children:X(B.checkInDate)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:P,onChange:Y=>T(Y.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:U}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:ee,disabled:U,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:le,disabled:U||!P,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:U?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ru,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})})]})},gbe="http://localhost:5000/api",EC=String(gbe).replace(/\/$/,""),xbe=EC.endsWith("/api")?EC:`${EC}/api`,PC=`${xbe}/behaviour`,ybe=()=>{const e=cr(),[t,r]=_.useState(!0),[n,i]=_.useState([]),[a,o]=_.useState({budget:8e3}),[l,c]=_.useState(null),[d,u]=_.useState(0),A=localStorage.getItem("authToken"),f=localStorage.getItem("user");_.useEffect(()=>{try{const b=f?JSON.parse(f):null;if(b&&(b.isNewUser===!1||b.hasCompletedBehaviorQuestions)){e("/seeker-dashboard",{replace:!0});return}}catch{}if(!A||!f){e("/login",{replace:!0});return}(async()=>{var b,w,j,N;try{try{const I=await xr.get(`${PC}/status`,{headers:{Authorization:`Bearer ${A}`}});if((b=I==null?void 0:I.data)!=null&&b.completed){const P=JSON.parse(localStorage.getItem("user")||"{}");localStorage.setItem("user",JSON.stringify({...P,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0});return}}catch{}const B=await xr.get(`${PC}/questions`,{headers:{Authorization:`Bearer ${A}`}});i(B.data.questions||[])}catch(B){const I=(w=B==null?void 0:B.response)==null?void 0:w.status,P=((N=(j=B==null?void 0:B.response)==null?void 0:j.data)==null?void 0:N.message)||(B==null?void 0:B.message)||"Failed to load questions. Please try again.";if(c(P),I===401){localStorage.removeItem("authToken"),localStorage.removeItem("user"),e("/login");return}}finally{r(!1)}})()},[e,A,f]);const m=(y,b)=>{o(w=>({...w,[y]:b}))},x=()=>u(y=>Math.min(y+1,((n==null?void 0:n.length)||1)-1)),p=()=>u(y=>Math.max(y-1,0)),v=async()=>{var y,b;try{c(null),await xr.post(`${PC}/answers`,{answers:a},{headers:{Authorization:`Bearer ${A}`}});const w=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...w,isNewUser:!1,hasCompletedBehaviorQuestions:!0})),e("/seeker-dashboard",{replace:!0})}catch(w){const j=((b=(y=w==null?void 0:w.response)==null?void 0:y.data)==null?void 0:b.message)||(w==null?void 0:w.message)||"Failed to submit. Please try again.";c(j)}};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading questions..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[s.jsx(GK,{onMenuToggle:()=>{}}),s.jsx("div",{className:"pt-20"}),s.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-sm border border-gray-200 rounded-xl p-6",children:[s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tell us about you"}),s.jsx("p",{className:"text-gray-600",children:"This helps us personalize your co-living matches."})]}),l&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),s.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden mb-6",children:s.jsx("div",{className:"h-full bg-red-500 transition-all duration-300",style:{width:`${n.length?(d+1)/n.length*100:0}%`}})}),s.jsx(gn,{mode:"wait",children:n[d]&&s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-900",children:n[d].text}),s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[d+1,"/",n.length]})]}),!n[d].type&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n[d].options.map(y=>s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:()=>m(n[d].id,y),className:`flex items-center gap-3 px-4 py-3 rounded-xl border text-sm font-medium transition shadow-sm ${a[n[d].id]===y?"bg-red-600 text-white border-red-600 shadow":"bg-white text-gray-800 border-gray-300 hover:border-red-400"}`,children:[s.jsx("span",{className:"text-lg",children:vbe(y)}),s.jsx("span",{className:"truncate",children:y})]},y))}),n[d].type==="range"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{type:"range",min:n[d].min,max:n[d].max,value:a[n[d].id]??n[d].min,onChange:y=>m(n[d].id,Number(y.target.value)),className:"w-full"}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-700",children:[s.jsxs("span",{children:[" ",a[n[d].id]??n[d].min]}),s.jsx("div",{className:"flex gap-2",children:[4e3,8e3,12e3].map(y=>s.jsxs("button",{onClick:()=>m(n[d].id,y),className:"px-2 py-1 rounded-lg border border-gray-300 hover:border-red-400 hover:text-red-600",children:[" ",y]},y))})]})]}),s.jsxs("div",{className:"pt-2 flex items-center justify-between",children:[s.jsx("button",{onClick:p,disabled:d===0,className:"px-4 py-2 rounded-lg border text-sm disabled:opacity-40",children:"Back"}),d<n.length-1?s.jsx("button",{onClick:x,className:"px-5 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700",children:"Next"}):s.jsx("button",{onClick:v,className:"px-5 py-2 rounded-lg bg-red-600 text-white text-sm font-semibold hover:bg-red-700",children:"Finish"})]})]},n[d].id)})]})]})};function vbe(e){const t=String(e||"").toLowerCase();return t.includes("night")?"":t.includes("early")?"":t.includes("flex")?"":t.includes("outgoing")?"":t.includes("social")?"":t.includes("private")?"":t.includes("smoke")||t.includes("drink")?"":t.includes("yes")?"":t.includes("no")?"":t.includes("clean")?"":t.includes("veg")?"":t.includes("non")?"":t.includes("vegan")?"":t.includes("cook")?"":t.includes("order")?"":t.includes("quiet")?"":t.includes("noise")?"":t.includes("privacy")?"":t.includes("match")?"":""}const bbe=()=>{const e=cr(),[t,r]=_.useState(!1),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(null),[d,u]=_.useState(!1),[A,f]=_.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,x]=_.useState({current:!1,new:!1,confirm:!1}),[p,v]=_.useState({type:"",message:""}),[y,b]=_.useState({}),[w,j]=_.useState(!1),[N,B]=_.useState({name:"",email:"",phone:"",location:"",age:"",occupation:"",gender:"",joinDate:"",bio:"",isVerified:!1,trustScore:0,profilePicture:""}),I=F=>{if(!F)return!1;const K=!!F.phone,W=!(F.age===void 0||F.age===null||F.age==="")&&Number(F.age)>0,D=!!F.occupation,z=!!F.gender;return K&&W&&D&&z};_.useEffect(()=>{(async()=>{try{const K=localStorage.getItem("authToken"),W=localStorage.getItem("user");if(!K||!W){i(null),o(!1),e("/login");return}let D;try{D=JSON.parse(W)}catch(ee){console.error("SeekerProfile: Error parsing user data:",ee),c("Failed to load user data. Please log in again."),o(!1),setTimeout(()=>e("/login"),2e3);return}if(D.role!==1){console.warn("SeekerProfile: User role mismatch, redirecting"),e("/login");return}i(D),console.log("SeekerProfile: Loading user data from localStorage:",{id:D._id,name:D.name,age:D.age,gender:D.gender,phone:D.phone,occupation:D.occupation});const z=!D.age||!D.gender||!D.phone||!D.occupation;if(console.log("SeekerProfile: Should fetch fresh data from API:",z),console.log("SeekerProfile: Missing fields:",{age:!D.age,gender:!D.gender,phone:!D.phone,occupation:!D.occupation}),z)try{console.log("SeekerProfile: Fetching fresh user data from API...");const ee=await fetch(`http://localhost:5000/api/user/profile/${D._id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`}});if(ee.ok){const te=await ee.json();console.log("SeekerProfile: Fresh data from API:",te);const le={...D,...te};localStorage.setItem("user",JSON.stringify(le)),i(le),B(X=>({...X,name:te.name||"",email:te.email||"",profilePicture:te.profilePicture||"",phone:te.phone||"",location:te.location||"",age:te.age||"",occupation:te.occupation||"",gender:te.gender||"",bio:te.bio||"",isVerified:te.isVerified||!1,trustScore:95,joinDate:te.createdAt?new Date(te.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const $=[!te.phone,te.age===void 0||te.age===null||te.age==="",!te.occupation,!te.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with fresh data:",{phone:te.phone,age:te.age,occupation:te.occupation,gender:te.gender,needsCompletion:$}),$&&(r(!0),j(!0))}else console.error("SeekerProfile: Failed to fetch fresh data from API"),B(le=>({...le,name:D.name||"",email:D.email||"",profilePicture:D.profilePicture||"",phone:D.phone||"",location:D.location||"",age:D.age||"",occupation:D.occupation||"",gender:D.gender||"",bio:D.bio||"",isVerified:D.isVerified||!1,trustScore:95,joinDate:D.createdAt?new Date(D.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!D.phone,D.age===void 0||D.age===null||D.age==="",!D.occupation,!D.gender].some(Boolean)&&(r(!0),j(!0))}catch(ee){console.error("SeekerProfile: Error fetching fresh data:",ee),B(le=>({...le,name:D.name||"",email:D.email||"",profilePicture:D.profilePicture||"",phone:D.phone||"",location:D.location||"",age:D.age||"",occupation:D.occupation||"",gender:D.gender||"",bio:D.bio||"",isVerified:D.isVerified||!1,trustScore:95,joinDate:D.createdAt?new Date(D.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"})),[!D.phone,D.age===void 0||D.age===null||D.age==="",!D.occupation,!D.gender].some(Boolean)&&(r(!0),j(!0))}else{B(te=>({...te,name:D.name||"",email:D.email||"",profilePicture:D.profilePicture||"",phone:D.phone||"",location:D.location||"",age:D.age||"",occupation:D.occupation||"",gender:D.gender||"",bio:D.bio||"",isVerified:D.isVerified||!1,trustScore:95,joinDate:D.createdAt?new Date(D.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Recently"}));const ee=[!D.phone,D.age===void 0||D.age===null||D.age==="",!D.occupation,!D.gender].some(Boolean);console.log("SeekerProfile: Profile completion check with localStorage data:",{phone:D.phone,age:D.age,occupation:D.occupation,gender:D.gender,needsCompletion:ee}),ee&&(r(!0),j(!0))}}catch(K){console.error("SeekerProfile: Error in fetchUserData:",K),c(`An error occurred: ${K.message}`),i(null),setTimeout(()=>e("/login"),2e3)}finally{o(!1)}})()},[e]);const P=(F,K)=>{B(W=>({...W,[F]:K}))},T=(F,K)=>{f(W=>({...W,[F]:K}))},U=F=>{x(K=>({...K,[F]:!K[F]}))},k=async()=>{try{v({type:"loading",message:"Saving changes..."});const F={},K=/^\+?[0-9]{7,14}$/;(!N.phone||!K.test(String(N.phone).trim()))&&(F.phone="Enter a valid phone number (7-14 digits).");const W=Number(N.age);if((!N.age||Number.isNaN(W)||W<1||W>120)&&(F.age="Age must be a number between 1 and 120."),(!N.occupation||String(N.occupation).trim().length<2)&&(F.occupation="Occupation is required."),(!N.gender||!["male","female","other"].includes(String(N.gender)))&&(F.gender="Select a gender option."),b(F),Object.keys(F).length>0){v({type:"error",message:"Please fix the highlighted fields."});return}const D=localStorage.getItem("authToken");if(!D)throw new Error("No authentication token found");const z={name:N.name,phone:N.phone,age:N.age?Number(N.age):null,occupation:N.occupation,gender:N.gender||null,bio:N.bio};console.log("SeekerProfile: Sending update payload:",z),console.log("SeekerProfile: User ID being used:",n._id),console.log("SeekerProfile: API URL:",`http://localhost:5000/api/user/profile/${n._id}`);const ee=await fetch(`http://localhost:5000/api/user/profile/${n._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(z)});if(!ee.ok){const X=await ee.json();throw new Error(X.message||"Failed to update profile")}const te=await ee.json();console.log("SeekerProfile: API response:",te);const $={...JSON.parse(localStorage.getItem("user")),...te.user};localStorage.setItem("user",JSON.stringify($)),i($),B(X=>({...X,name:te.user.name||"",email:te.user.email||"",profilePicture:te.user.profilePicture||"",phone:te.user.phone||"",location:te.user.location||"",age:te.user.age||"",occupation:te.user.occupation||"",gender:te.user.gender||"",bio:te.user.bio||"",isVerified:te.user.isVerified||!1})),console.log("SeekerProfile: Updated profileData:",{age:te.user.age,gender:te.user.gender,phone:te.user.phone,occupation:te.user.occupation}),r(!1),v({type:"success",message:"Profile updated successfully!"}),window.dispatchEvent(new Event("lyvo-profile-update")),I({phone:te.user.phone,age:te.user.age,occupation:te.user.occupation,gender:te.user.gender})&&j(!1),setTimeout(()=>v({type:"",message:""}),3e3)}catch(F){v({type:"error",message:F.message||"Failed to update profile"}),setTimeout(()=>v({type:"",message:""}),3e3)}},E=F=>{B(K=>({...K,profilePicture:F})),v({type:"success",message:"Profile picture updated successfully!"}),setTimeout(()=>v({type:"",message:""}),3e3)},Q=async()=>{try{if(A.newPassword!==A.confirmPassword){v({type:"error",message:"New passwords do not match"});return}if(A.newPassword.length<6){v({type:"error",message:"Password must be at least 6 characters long"});return}v({type:"loading",message:"Updating password..."});const F=localStorage.getItem("authToken");if(!F)throw new Error("No authentication token found");const K=await fetch("http://localhost:5000/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({currentPassword:A.currentPassword,newPassword:A.newPassword})});if(!K.ok){const W=await K.json();throw new Error(W.message||"Failed to update password")}v({type:"success",message:"Password updated successfully!"}),u(!1),f({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>v({type:"",message:""}),3e3)}catch(F){v({type:"error",message:F.message||"Failed to update password"}),setTimeout(()=>v({type:"",message:""}),3e3)}};return s.jsx(jr,{children:a?s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."}),l&&s.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg max-w-md mx-auto",children:s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx(Zt,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:l})]})})]})}):n?s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:s.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-8",children:s.jsxs("div",{className:"relative h-48 bg-gradient-to-r from-red-500/10 via-red-600/10 to-red-700/10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent"}),s.jsxs("div",{className:"absolute bottom-6 left-8 flex items-end space-x-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(l6,{currentImage:N.profilePicture,onImageUpdate:E,className:"w-24 h-24"}),N.isVerified&&s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-lg flex items-center justify-center",children:s.jsx(tr,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"text-gray-900 pb-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-1",children:N.name||"User"}),s.jsxs("p",{className:"text-gray-600 flex items-center space-x-2",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",N.joinDate||"Recently"]})]})]})]}),s.jsx("div",{className:"absolute top-6 right-8",children:s.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!t),className:"bg-white/90 backdrop-blur-sm text-gray-700 px-4 py-2 rounded-xl font-medium flex items-center space-x-2 shadow-lg hover:bg-white transition-all duration-300",children:[t?s.jsx(or,{className:"w-4 h-4"}):s.jsx(mf,{className:"w-4 h-4"}),s.jsx("span",{children:t?"Cancel":"Edit"})]})})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{children:"Verified"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),t?s.jsx("input",{type:"text",value:N.name,onChange:F=>P("name",F.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),t?s.jsxs("select",{value:N.gender,onChange:F=>P("gender",F.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.gender?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,children:[s.jsx("option",{value:"",children:"Select gender"}),s.jsx("option",{value:"male",children:"Male"}),s.jsx("option",{value:"female",children:"Female"}),s.jsx("option",{value:"other",children:"Other"})]}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.gender?N.gender.charAt(0).toUpperCase()+N.gender.slice(1):"Not provided"}),t&&y.gender&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.gender})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(yn,{className:"w-4 h-4 mr-2 text-gray-400"}),N.email]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t?s.jsx("input",{type:"tel",value:N.phone,onChange:F=>P("phone",F.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.phone?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`}):s.jsxs("p",{className:"text-gray-900 py-3 font-medium flex items-center",children:[s.jsx(ms,{className:"w-4 h-4 mr-2 text-gray-400"}),N.phone||"Not provided"]}),t&&y.phone&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.phone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Age"}),t?s.jsx("input",{type:"number",min:0,max:120,value:N.age,onChange:F=>P("age",F.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.age?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"Your age"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.age||"Not provided"}),t&&y.age&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.age})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupation"}),t?s.jsx("input",{type:"text",value:N.occupation,onChange:F=>P("occupation",F.target.value),className:`w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all duration-300 ${y.occupation?"border-red-400 focus:ring-red-200":"border-gray-200 focus:ring-red-500/20 focus:border-red-500"}`,placeholder:"e.g., Student, Software Engineer"}):s.jsx("p",{className:"text-gray-900 py-3 font-medium",children:N.occupation||"Not provided"}),t&&y.occupation&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.occupation})]})]})]})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Trust Score"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx("span",{className:"text-xl font-bold text-white",children:N.trustScore})}),s.jsx("p",{className:"text-sm text-gray-600",children:"Excellent Profile"})]})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsx("div",{className:"space-y-3",children:s.jsxs("button",{onClick:()=>u(!0),className:"w-full px-4 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all duration-300 flex items-center justify-center space-x-2",children:[s.jsx(uc,{className:"w-4 h-4"}),s.jsx("span",{children:"Change Password"})]})})]})})]})]}),t&&s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:s.jsx("div",{className:"text-center mt-8",children:s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,disabled:p.type==="loading",className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-8 py-3 rounded-xl font-semibold flex items-center space-x-2 shadow-lg hover:shadow-xl transition-all duration-300 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Sv,{className:"w-5 h-5"}),s.jsx("span",{children:p.type==="loading"?"Saving...":"Save Changes"})]})})}),p.message&&s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`fixed top-20 right-4 z-50 px-6 py-3 rounded-xl shadow-lg ${p.type==="success"?"bg-green-100 border border-green-300 text-green-800":p.type==="error"?"bg-red-100 border border-red-300 text-red-800":"bg-blue-100 border border-blue-300 text-blue-800"}`,children:p.message}),w&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full border border-blue-200",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Complete your profile to continue"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Phone, Age, Occupation, and Gender are required."})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("ul",{className:"text-sm text-gray-700 list-disc list-inside space-y-1",children:[!N.phone&&s.jsx("li",{children:"Phone Number is missing"}),(N.age===void 0||N.age===null||N.age==="")&&s.jsx("li",{children:"Age is missing"}),!N.occupation&&s.jsx("li",{children:"Occupation is missing"}),!N.gender&&s.jsx("li",{children:"Gender is missing"})]})}),s.jsxs("div",{className:"mt-6 flex gap-3",children:[s.jsx("button",{onClick:()=>{r(!0),j(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Edit Now"}),s.jsx("button",{disabled:!I(N),onClick:()=>j(!1),className:`flex-1 px-4 py-2 rounded-lg ${I(N)?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:"Continue"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Change Password"}),s.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.current?"text":"password",value:A.currentPassword,onChange:F=>T("currentPassword",F.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter current password"}),s.jsx("button",{type:"button",onClick:()=>U("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.current?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.new?"text":"password",value:A.newPassword,onChange:F=>T("newPassword",F.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>U("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.new?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m.confirm?"text":"password",value:A.confirmPassword,onChange:F=>T("confirmPassword",F.target.value),className:"w-full pl-4 pr-12 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all duration-300",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>U("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m.confirm?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:Q,disabled:p.type==="loading",className:"flex-1 px-4 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50",children:p.type==="loading"?"Updating...":"Update Password"})]})]})]})})]})}):s.jsx("div",{className:"pt-4 min-h-screen bg-gradient-to-br from-gray-50 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ar,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access your profile."}),s.jsx("button",{onClick:()=>e("/login"),className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-6 py-3 rounded-lg font-medium hover:from-red-600 hover:to-red-700 transition-all duration-200",children:"Go to Login"})]})})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const wbe=()=>{var B,I,P;const{id:e}=_u(),t=cr(),{toast:r}=xc(),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(!1),[d,u]=_.useState([0,0]),[A,f]=_.useState(!1),m=_.useRef(null),p=n?(T=>{if(!(T!=null&&T.images))return[];const{gallery:U,...k}=T.images,E=Object.values(k).filter(F=>typeof F=="string"&&F.length>0),Q=Array.isArray(U)?U:[];return[...E,...Q]})(n):[],v=T=>{if(!T)return"";if(typeof T=="string")return T;const{street:U,city:k,state:E,pincode:Q,landmark:F}=T;return[U,F,k,E,Q].filter(Boolean).join(", ")},y=()=>{if(!(n!=null&&n.rooms)||n.rooms.length===0)return 0;const T=n.rooms.map(U=>U.rent||0);return Math.min(...T)};_.useEffect(()=>{e&&(async()=>{try{o(!0);const k=await fetch(`http://localhost:5000/api/property/public/properties/${e}`);if(!k.ok)throw new Error(`Failed to fetch property details (${k.status})`);const E=await k.json();E.success&&E.data?(i(E.data),E.data.latitude&&E.data.longitude&&u([parseFloat(E.data.latitude),parseFloat(E.data.longitude)])):console.error("Property data missing:",E)}catch(U){console.error("Error fetching property details:",U),r({title:"Error",description:"Failed to load property details",variant:"destructive"})}finally{o(!1)}})()},[e,r]);const b=()=>{var T;(T=m.current)==null||T.scrollIntoView({behavior:"smooth"})};if(a)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!n)return s.jsx(jr,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Property Not Found"}),s.jsx("button",{onClick:()=>t(-1),className:"text-blue-600 hover:underline",children:"Go Back"})]})});const w=y(),j=n.ownerDetails,N=async()=>{if(navigator.share)try{await navigator.share({title:n.property_name,text:`Check out this property: ${n.property_name}`,url:window.location.href})}catch(T){console.log("Error sharing:",T)}else navigator.clipboard.writeText(window.location.href),r({title:"Link copied",description:"Property link copied to clipboard"})};return s.jsx(jr,{children:s.jsxs("div",{className:`min-h-screen bg-gray-50 pb-20 md:pb-10 ${A?"overflow-hidden h-screen":""}`,children:[s.jsx(gn,{children:A&&s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-95 flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 text-white border-b border-gray-800",children:[s.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:s.jsx(or,{className:"w-6 h-6"})}),s.jsxs("span",{className:"font-medium",children:["All Photos (",p.length,")"]}),s.jsx("div",{className:"w-10"})," "]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:s.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map((T,U)=>s.jsx("div",{className:"aspect-video relative group overflow-hidden rounded-lg",children:s.jsx("img",{src:T,alt:`Property ${U+1}`,className:"w-full h-full object-cover"})},U))})})]})}),s.jsx("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Js,{className:"w-5 h-5 text-gray-600"})})}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:N,className:"p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-600",children:s.jsx(Jp,{className:"w-5 h-5"})})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"mb-8 mt-2",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:n.property_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600 text-lg",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wr,{className:"w-5 h-5"})," ",v(n.address)]}),s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ka,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"})," 4.8 (12 reviews)"]})]})]}),s.jsxs("div",{className:"relative rounded-2xl overflow-hidden h-[300px] md:h-[450px] mb-8",children:[p.length===0?s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400",children:"No Images Available"}):p.length===1?s.jsx("img",{src:p[0],alt:"Property",className:"w-full h-full object-cover"}):s.jsxs("div",{className:"w-full h-full grid grid-cols-1 md:grid-cols-4 grid-rows-2 gap-2",children:[s.jsx("div",{className:"col-span-2 row-span-2 relative group cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[0],alt:"Main",className:"w-full h-full object-cover hover:opacity-95 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[1],alt:"Side 1",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[2]||p[1],alt:"Side 2",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsx("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:s.jsx("img",{src:p[3]||p[1],alt:"Side 3",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"})}),s.jsxs("div",{className:"hidden md:block relative cursor-pointer",onClick:()=>f(!0),children:[s.jsx("img",{src:p[4]||p[1],alt:"Side 4",className:"w-full h-full object-cover hover:opacity-90 transition-opacity"}),s.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center hover:bg-black/40 transition-colors",children:s.jsxs("button",{onClick:T=>{T.stopPropagation(),f(!0)},className:"px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg text-sm font-semibold shadow-sm hover:scale-105 transition-transform flex items-center gap-2",children:[s.jsx(vF,{className:"w-4 h-4"})," Show all photos"]})})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"md:hidden absolute bottom-4 right-4 px-3 py-1.5 bg-white/90 backdrop-blur-md rounded-lg text-xs font-semibold shadow-sm flex items-center gap-2",children:[s.jsx(vF,{className:"w-3 h-3"})," Show all photos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:n.description||"No description available."})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Property Highlights"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(ua,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[((B=n.rooms)==null?void 0:B.length)||0," Rooms"]})]}),s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(Vr,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["Max ",n.maxOccupancy||"N/A"]})]}),s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(ti,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["",n.security_deposit||0," Dep."]})]}),s.jsxs("div",{className:"p-4 border border-gray-100 rounded-xl bg-gray-50/50",children:[s.jsx(tr,{className:"w-6 h-6 mb-2 text-gray-700"}),s.jsx("p",{className:"font-semibold text-gray-900",children:"Verified"})]})]})]}),s.jsx("hr",{className:"border-gray-100"}),n.amenities&&Object.keys(n.amenities).some(T=>n.amenities[T])&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What this place offers"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-4 gap-x-8",children:Object.entries(n.amenities).filter(([,T])=>T===!0).map(([T])=>s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(jt,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"capitalize",children:T.replace(/([A-Z])/g," $1").trim()})]},T))})]}),s.jsx("hr",{className:"border-gray-100"}),n.rules&&Object.keys(n.rules).some(T=>n.rules[T]!==void 0)&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.rules).map(([T,U])=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl",children:[s.jsx("span",{className:"text-gray-700 capitalize font-medium",children:T.replace(/([A-Z])/g," $1").trim()}),U?s.jsx("span",{className:"text-green-700 text-sm font-bold bg-green-50 px-3 py-1 rounded-full",children:"Allowed"}):s.jsx("span",{className:"text-red-700 text-sm font-bold bg-red-50 px-3 py-1 rounded-full",children:"No"})]},T))})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{ref:m,className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Available Rooms"}),n.rooms&&n.rooms.length>0?s.jsx("div",{className:"space-y-4",children:n.rooms.map(T=>{var U;return s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 p-4 border border-gray-200 rounded-2xl hover:border-black transition-colors cursor-pointer group",onClick:()=>t(`/seeker/room/${T._id}`,{state:{fromPropertyId:e}}),children:[s.jsx("div",{className:"w-full md:w-48 h-32 bg-gray-100 rounded-xl overflow-hidden shrink-0",children:T.room_image?s.jsx("img",{src:T.room_image,alt:`Room ${T.roomNumber}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:s.jsx(ua,{className:"w-8 h-8"})})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:["Room ",T.roomNumber,s.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500 capitalize",children:["(",T.type,")"]})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[T.occupancy," Person Occupancy  ",T.dimension," sq ft "]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",(U=T.rent)==null?void 0:U.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500",children:"/ month"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:T.amenities&&Object.entries(T.amenities).slice(0,3).filter(([,k])=>k).map(([k])=>s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-md capitalize",children:k.replace(/([A-Z])/g," $1").trim()},k))})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 md:mt-0",children:[s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-md ${T.isAvailable?"text-green-700 bg-green-50":"text-red-700 bg-red-50"}`,children:T.isAvailable?"Available Now":"Not Available"}),s.jsx("span",{className:"text-sm font-semibold underline",children:"View Details"})]})]})]},T._id)})}):s.jsx("div",{className:"p-8 text-center bg-gray-50 rounded-xl text-gray-500 border border-dashed border-gray-300",children:"No rooms listed yet."})]}),s.jsx("hr",{className:"border-gray-100"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Where you'll be"}),s.jsx("div",{className:"h-64 md:h-[400px] w-full rounded-2xl overflow-hidden relative z-0 border border-gray-200",children:n.latitude&&n.longitude?s.jsxs("div",{className:"relative h-full w-full group",children:[s.jsxs(Yh,{center:d,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,dragging:!1,zoomControl:!1,children:[s.jsx(Jh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Xh,{position:d})]}),s.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${n.latitude},${n.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"absolute inset-0 bg-black/5 group-hover:bg-black/10 transition-colors z-[400] flex items-center justify-center",children:s.jsxs("button",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg text-sm font-semibold text-gray-800 flex items-center gap-2 transform group-hover:scale-105 transition-all",children:[s.jsx(wr,{className:"w-4 h-4 text-blue-600"}),"Open in Google Maps"]})})]}):s.jsxs("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-500",children:[s.jsx(wr,{className:"w-8 h-8 mb-2"}),s.jsx("p",{children:"Map location unavailable"})]})}),s.jsxs("p",{className:"text-gray-600",children:[(I=n.address)==null?void 0:I.city,", ",(P=n.address)==null?void 0:P.state]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-28 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Rent starts from"}),s.jsxs("div",{className:"flex items-end gap-1",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",w.toLocaleString()]}),s.jsx("span",{className:"text-gray-500 mb-1",children:"/ month"})]})]}),s.jsxs("div",{className:"space-y-3 mb-6 border-t border-b border-gray-100 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(jt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Zero Brokerage"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(jt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Instant Booking"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[s.jsx(jt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{children:"Verified Listing"})]})]}),s.jsx("button",{onClick:b,className:"w-full py-3.5 rounded-xl text-white font-bold text-lg shadow-md hover:shadow-lg transition-all transform active:scale-95 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Check Availability"})]}),j&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[j.profilePicture?s.jsx("img",{src:j.profilePicture,alt:j.name,className:"w-14 h-14 rounded-full object-cover"}):s.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:s.jsx(ar,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"font-bold text-gray-900 text-lg",children:["Hosted by ",j.name]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Joined in 2024"})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[j.bio&&s.jsx("p",{className:"text-sm text-gray-600",children:j.bio}),j.location&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{children:["Lives in ",j.location.city||j.location]})]})]}),s.jsx("button",{className:"w-full py-2.5 border border-gray-900 rounded-lg text-sm font-semibold text-gray-900 hover:bg-gray-50 transition-colors",children:"Contact Host"})]})]})})]})]})]})})},jbe=()=>{var z,ee,te,le;const{propertyId:e}=_u(),t=cr(),{toast:r}=xc(),[n,i]=_.useState(null),[a,o]=_.useState([]),[l,c]=_.useState(!0),[d,u]=_.useState({}),[A,f]=_.useState({}),[m,x]=_.useState({}),[p,v]=_.useState({lat:12.9716,lng:77.5946}),[y,b]=_.useState(15),[w,j]=_.useState(!1),[N,B]=_.useState(null),I=_.useRef(null),P=_.useRef(null),T=_.useRef(null),U=()=>{const $=localStorage.getItem("user");if($)try{const X=JSON.parse($);return X.id||X._id}catch(X){return console.error("Error parsing user data:",X),null}return null},k=async $=>{const X=U();if(!(!X||!$)){x(V=>({...V,[$]:!0}));try{const ne=await fetch(`http://localhost:5000/api/property/api/bookings/check-status?userId=${X}&roomId=${$}`);if(ne.ok){const ae=await ne.json();f(he=>({...he,[$]:ae}))}}catch(V){console.error("Error checking booking status:",V)}finally{x(V=>({...V,[$]:!1}))}}},E=async()=>{try{if(!window.google||!window.google.maps){const $=document.createElement("script");$.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoPzRJLAmma54BBOyF4AhZ2ZIqGvak8CA&libraries=places,geometry",$.async=!0,$.defer=!0,await new Promise((X,V)=>{$.onload=X,$.onerror=V,document.head.appendChild($)})}I.current&&window.google&&window.google.maps&&(P.current=new window.google.maps.Map(I.current,{center:p,zoom:y,mapTypeId:window.google.maps.MapTypeId.ROADMAP}),T.current=new window.google.maps.Marker({position:p,map:P.current,title:(n==null?void 0:n.property_name)||"Property Location"}))}catch($){console.error("Error initializing Google Maps:",$)}},Q=async()=>{const $="http://localhost:5000/api/property";try{console.log("Testing API connectivity..."),console.log("Base URL:",$);const X=await fetch(`${$}/test-db`,{method:"GET",headers:{"Content-Type":"application/json"}});if(X.ok){const V=await X.json();return console.log("API Connectivity Test:",V),!0}else return console.error("API connectivity test failed:",X.status),!1}catch(X){return console.error("API connectivity error:",X),!1}},F=async()=>{try{c(!0);const $="http://localhost:5000/api/property";if(console.log("=== FETCHING PROPERTY DETAILS ==="),console.log("Property ID:",e),console.log("Base URL:",$),console.log("Full URL:",`${$}/api/public/properties/${e}`),!await Q())throw new Error("Property service is not accessible. Please ensure the service is running on port 3002.");const V=await fetch(`${$}/api/public/properties/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Property API Response Status:",V.status),console.log("Property API Response Headers:",V.headers),!V.ok){const ae=await V.text();throw console.error("API Error Response:",ae),V.status===404?new Error("Property not found or not approved. Please check if the property ID is correct."):V.status===500?new Error("Server error. Please check if the property service is running and the database is connected."):new Error(`HTTP error! status: ${V.status} - ${ae}`)}const ne=await V.json();if(console.log("Property API Response Data:",ne),ne.success&&ne.data){i(ne.data);const ae=ne.data.rooms||[];o(ae),ae.forEach(he=>{he._id&&k(he._id)}),ne.data.latitude&&ne.data.longitude&&v({lat:parseFloat(ne.data.latitude),lng:parseFloat(ne.data.longitude)})}else throw new Error(ne.message||"Failed to fetch property details")}catch($){console.error("Error fetching property details:",$),r({title:"Error",description:`Failed to load property details: ${$.message}`,variant:"destructive"})}finally{c(!1)}},K=async $=>{const X=U();if(!X){r({title:"Authentication Required",description:"Please login to book a room",variant:"destructive"}),t("/login");return}u(V=>({...V,[$]:!0}));try{const V="http://localhost:5000/api/property",ne=await fetch(`${V}/api/payments/create-order`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:X,roomId:$,propertyId:e})});if(!ne.ok)throw new Error("Failed to create payment order");const ae=await ne.json();console.log("Payment order created:",ae);const he={key:"rzp_test_RL5vMta3bKvRd4",amount:ae.order.amount,currency:ae.order.currency,name:"Lyvo",description:`Booking for ${ae.paymentDetails.roomDetails.roomType} Room`,order_id:ae.order.id,handler:async function(J){try{const ue=await fetch(`${V}/api/payments/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:J.razorpay_order_id,razorpay_payment_id:J.razorpay_payment_id,razorpay_signature:J.razorpay_signature,userId:X,roomId:$,propertyId:e,monthlyRent:ae.paymentDetails.monthlyRent,securityDeposit:ae.paymentDetails.securityDeposit})});if(!ue.ok)throw new Error("Payment verification failed");const fe=await ue.json();console.log("Payment verified and booking created:",fe),r({title:"Payment Successful!",description:"Your payment has been processed. Waiting for owner approval.",variant:"default"})}catch(ue){console.error("Payment verification error:",ue),r({title:"Payment Verification Failed",description:"Please contact support.",variant:"destructive"})}},prefill:{name:(()=>{const J=localStorage.getItem("user");if(J)try{return JSON.parse(J).name||""}catch{return""}return""})(),email:(()=>{const J=localStorage.getItem("user");if(J)try{return JSON.parse(J).email||""}catch{return""}return""})(),contact:(()=>{const J=localStorage.getItem("user");if(J)try{return JSON.parse(J).phone||""}catch{return""}return""})()},theme:{color:"#2563eb"},modal:{ondismiss:function(){r({title:"Payment Cancelled",description:"Payment was cancelled. You can try again.",variant:"destructive"})}}};new window.Razorpay(he).open()}catch(V){console.error("Error creating payment order:",V),r({title:"Error",description:"Failed to initiate payment. Please try again.",variant:"destructive"})}finally{u(V=>({...V,[$]:!1}))}},W=()=>Math.floor(Math.random()*30)+70,D=()=>Math.random()>.3;return _.useEffect(()=>{e&&F()},[e]),_.useEffect(()=>{n&&p.lat&&p.lng&&E()},[n,p]),l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",e]})]})}):n?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.property_name}),s.jsxs("p",{className:"text-gray-600 mt-1",children:[(z=n.address)==null?void 0:z.street,", ",(ee=n.address)==null?void 0:ee.city,", ",(te=n.address)==null?void 0:te.state]})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"text-gray-600 hover:text-gray-900 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.images&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Images"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(n.images).map(([$,X])=>X&&typeof X=="string"?s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:X,alt:`Property ${$}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},$):null)})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"About this property"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:n.description}),n.amenities&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(n.amenities).map(([$,X])=>X===!0?s.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full",children:$.replace(/([A-Z])/g," $1").replace(/^./,V=>V.toUpperCase())},$):null)})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),s.jsx("div",{ref:I,className:"h-64 w-full rounded-lg overflow-hidden",style:{minHeight:"256px"}}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Coordinates: ",p.lat.toFixed(6),", ",p.lng.toFixed(6)]})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Available Rooms"}),a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms available"}),s.jsx("p",{className:"text-gray-600",children:"This property doesn't have any available rooms at the moment."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map($=>{var X;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[($.roomImage||$.toiletImage)&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[$.roomImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:$.roomImage,alt:"Room",className:"w-full h-full object-cover"})}),$.toiletImage&&s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:$.toiletImage,alt:"Toilet",className:"w-full h-full object-cover"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",$.roomNumber,"  ",$.roomType]}),s.jsxs("div",{className:"flex items-center gap-2",children:[$.status==="inactive"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800 font-medium",children:" Inactive"}):$.status==="maintenance"?s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 font-medium",children:" Maintenance"}):$.room_status==="full"?s.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-orange-100 text-orange-800 font-medium",children:[" ",$.currentTenants||$.occupancy,"/",$.occupancy," Full"]}):s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${$.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:$.isAvailable?` ${$.currentTenants||0}/${$.occupancy} Available`:"Not Available"}),D()&&s.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Verified"})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:["Size: ",$.roomSize," sq ft"]}),s.jsxs("p",{children:["Bed: ",$.bedType]}),s.jsxs("p",{children:["Occupancy: ",$.occupancy," person",$.occupancy>1?"s":""]})]}),$.description&&s.jsx("p",{className:"text-sm text-gray-700",children:$.description}),$.amenities&&Object.keys($.amenities).some(V=>$.amenities[V]===!0)&&s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries($.amenities).map(([V,ne])=>ne===!0?s.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:V.replace(/([A-Z])/g," $1").replace(/^./,ae=>ae.toUpperCase())},V):null)}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Behavioral Match"}),s.jsxs("span",{className:"text-sm font-bold text-blue-900",children:[W(),"%"]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${W()}%`}})})]}),($.status==="inactive"||$.status==="maintenance"||$.room_status==="full")&&s.jsx("div",{className:`p-4 rounded-lg border-2 ${$.status==="inactive"?"bg-red-50 border-red-200":$.status==="maintenance"?"bg-yellow-50 border-yellow-200":"bg-orange-50 border-orange-200"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${$.status==="inactive"?"bg-red-100":$.status==="maintenance"?"bg-yellow-100":"bg-orange-100"}`,children:$.status==="inactive"?"":$.status==="maintenance"?"":""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-semibold text-sm mb-1 ${$.status==="inactive"?"text-red-900":$.status==="maintenance"?"text-yellow-900":"text-orange-900"}`,children:$.status==="inactive"?"Room Currently Inactive":$.status==="maintenance"?"Room Under Maintenance":`Room is Full (${$.currentTenants||$.occupancy}/${$.occupancy})`}),s.jsx("p",{className:`text-xs ${$.status==="inactive"?"text-red-700":$.status==="maintenance"?"text-yellow-700":"text-orange-700"}`,children:$.status==="inactive"?"This room has been temporarily deactivated by the owner and is not available for booking at this time.":$.status==="maintenance"?"This room is currently undergoing maintenance and will be available soon.":`This room has reached its maximum occupancy limit (${$.currentTenants||$.occupancy}/${$.occupancy}) and is not available for booking.`})]})]})}),$.status!=="inactive"&&$.status!=="maintenance"&&s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",$.rent?$.rent.toLocaleString():"Ask Price"]}),s.jsx("span",{className:"text-sm text-gray-600",children:"/month"})]}),m[$._id]?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 text-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}),"Checking..."]})}):(X=A[$._id])!=null&&X.hasBooking?s.jsxs("div",{className:"px-6 py-2 rounded-lg text-center",children:[A[$._id].status==="pending_approval"&&s.jsxs("div",{className:"bg-yellow-100 text-yellow-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Approval Pending"})]}),s.jsx("p",{className:"text-xs",children:"Waiting for owner approval"})]}),A[$._id].status==="confirmed"&&s.jsxs("div",{className:"bg-green-100 text-green-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Confirmed"})]}),s.jsx("p",{className:"text-xs",children:"Booking approved"})]}),A[$._id].status==="payment_pending"&&s.jsxs("div",{className:"bg-orange-100 text-orange-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"font-medium text-sm",children:"Payment Pending"})]}),s.jsx("p",{className:"text-xs",children:"Complete payment"})]}),A[$._id].status==="rejected"&&s.jsxs("div",{className:"bg-red-100 text-red-800 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),s.jsx("span",{className:"font-medium text-sm",children:"Rejected"})]}),s.jsx("p",{className:"text-xs",children:"Booking not approved"})]})]}):!$.isAvailable||$.room_status==="full"?s.jsx("div",{className:"px-6 py-2 rounded-lg bg-gray-100 text-gray-600 font-medium border border-gray-300",children:$.room_status==="full"?`Room Full (${$.currentTenants||$.occupancy}/${$.occupancy})`:"Not Available"}):s.jsx("button",{onClick:()=>{B($),j(!0)},disabled:d[$._id],className:`px-6 py-2 rounded-lg font-medium transition-colors ${d[$._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d[$._id]?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Booking..."]}):"Book Now"})]})]})]},$._id)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Owner"}),s.jsx("p",{className:"font-medium text-gray-900",children:n.ownerName||"Unknown Owner"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Security Deposit"}),s.jsxs("p",{className:"font-medium text-gray-900",children:["",((le=n.security_deposit)==null?void 0:le.toLocaleString())||"Not specified"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:a.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Available Rooms"}),s.jsx("p",{className:"font-medium text-gray-900",children:a.filter($=>$.isAvailable).length})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Owner"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Have questions about this property? Contact the owner directly."}),s.jsx("button",{className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Contact Owner"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Add to Favorites"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Share Property"}),s.jsx("button",{className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors",children:"Report Issue"})]})]})]})]})})]}),w&&N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Payment Breakdown"}),s.jsx("button",{onClick:()=>{j(!1),B(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:(n==null?void 0:n.property_name)||"Property"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Room ",N.room_number,"  ",N.room_type]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Monthly Rent"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",N.rent?N.rent.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center pb-3 border-b border-gray-200",children:[s.jsx("span",{className:"text-gray-700",children:"Security Deposit"}),s.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["",n!=null&&n.security_deposit?n.security_deposit.toLocaleString():"0"]})]}),s.jsxs("div",{className:"flex justify-between items-center py-3 bg-blue-50 rounded-lg px-4",children:[s.jsx("span",{className:"text-gray-900 font-semibold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",N.rent&&(n!=null&&n.security_deposit)?(N.rent+n.security_deposit).toLocaleString():"0"]})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-900 font-semibold",children:"Advance Payment (10%)"}),s.jsx("p",{className:"text-xs text-green-700 mt-1",children:"To be paid online now"})]}),s.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.1).toLocaleString():"0"]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border-2 border-orange-200",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-orange-900 font-semibold",children:"Remaining Amount (90%)"}),s.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"To be paid offline during check-in"})]}),s.jsxs("span",{className:"text-xl font-bold text-orange-600",children:["",N.rent&&(n!=null&&n.security_deposit)?((N.rent+n.security_deposit)*.9).toLocaleString():"0"]})]})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[s.jsxs("h5",{className:"font-semibold text-yellow-900 mb-2 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Important Notes"]}),s.jsxs("ul",{className:"text-sm text-yellow-900 space-y-1.5",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Security deposit is fully refundable at checkout"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Pay 10% advance online to confirm your booking"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Remaining 90% payment during check-in (cash/UPI)"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-yellow-600 mt-1",children:""}),s.jsx("span",{children:"Owner approval required before check-in"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{j(!1),B(null)},className:"flex-1 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),s.jsx("button",{onClick:()=>{j(!1),K(N._id)},disabled:d[N._id],className:"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 px-4 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-medium shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:d[N._id]?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):"Proceed to Pay"})]})]})})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or is no longer available."}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-6",children:[s.jsxs("p",{children:["Property ID: ",e]}),s.jsx("p",{children:"Please check if the property service is running on port 3002"})]}),s.jsx("button",{onClick:()=>t("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})})},Nbe=()=>{var Ie,Ue,Oe,Xe,et,me,Be,Ne,Ee,$e,ot,nt,tt,Ke,it;const e=cr(),{bookingId:t}=_u(),{toast:r}=xc(),[n,i]=_.useState(null),[a,o]=_.useState(null),[l,c]=_.useState(null),[d,u]=_.useState(null),[A,f]=_.useState(!0),[m,x]=_.useState(""),[p,v]=_.useState({amenities:!0,payment:!0,contact:!0,documents:!1}),[y,b]=_.useState(!1),[w,j]=_.useState(""),[N,B]=_.useState(!1),[I,P]=_.useState(!1),[T,U]=_.useState(""),[k,E]=_.useState(!1),[Q,F]=_.useState(!1);_.useEffect(()=>{K()},[t]);const K=async()=>{var lt,yt,Ct,wt,$t;try{f(!0);const gt=localStorage.getItem("authToken"),mt=JSON.parse(localStorage.getItem("user")||"{}");if(!gt){e("/login");return}const at=await fetch(`http://localhost:5000/api/property/bookings/${t}`,{headers:{Authorization:`Bearer ${gt}`,"Content-Type":"application/json"}});if(!at.ok)throw new Error("Failed to fetch booking details");const rt=(await at.json()).booking;if(i(rt),rt.propertyId&&typeof rt.propertyId=="object"){const ze=rt.propertyId;o({...ze,propertyName:ze.property_name||ze.propertyName,images:(yt=(lt=ze.images)==null?void 0:lt.gallery)!=null&&yt.length?ze.images.gallery:[(Ct=ze.images)==null?void 0:Ct.front].filter(Boolean),security_deposit:ze.security_deposit||ze.securityDeposit})}else{const ze=rt.propertySnapshot;ze&&o({_id:rt.propertyId,propertyName:ze.name,address:ze.address,images:ze.images||[ze.image].filter(Boolean),security_deposit:ze.security_deposit})}if(rt.roomId&&typeof rt.roomId=="object"){const ze=rt.roomId;c({...ze,roomNumber:ze.room_number||ze.roomNumber,roomType:ze.room_type||ze.roomType,roomImage:ze.room_image||ze.roomImage,rent:ze.rent})}else{const ze=rt.roomSnapshot;ze&&c({_id:rt.roomId,roomNumber:ze.roomNumber,roomType:ze.roomType,rent:ze.rent,roomSize:ze.roomSize,roomImage:(wt=ze.images)==null?void 0:wt.room,toiletImage:($t=ze.images)==null?void 0:$t.toilet,amenities:ze.amenities})}if(rt.ownerId&&typeof rt.ownerId=="object")u(rt.ownerId);else{const ze=rt.ownerSnapshot;ze&&u({id:rt.ownerId,name:ze.name,email:ze.email,phone:ze.phone})}}catch(gt){console.error("Error fetching booking details:",gt),x("Failed to load booking details")}finally{f(!1)}},W=lt=>{switch(lt){case"confirmed":case"approved":return"bg-green-100 text-green-800";case"checked_in":return"bg-blue-100 text-blue-800";case"pending":case"pending_approval":case"payment_pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=lt=>{switch(lt){case"confirmed":case"approved":return s.jsx($r,{className:"w-4 h-4"});case"checked_in":return s.jsx($r,{className:"w-4 h-4 text-blue-600"});case"pending":case"pending_approval":case"payment_pending":return s.jsx(ns,{className:"w-4 h-4"});case"cancelled":return s.jsx(Zt,{className:"w-4 h-4"});default:return s.jsx(ns,{className:"w-4 h-4"})}},z=lt=>({wifi:s.jsx(nm,{className:"w-3 h-3"}),parking:s.jsx(ml,{className:"w-3 h-3"}),kitchen:s.jsx(If,{className:"w-3 h-3"}),powerBackup:s.jsx(nu,{className:"w-3 h-3"}),security:s.jsx(tr,{className:"w-3 h-3"}),parking4w:s.jsx(ml,{className:"w-3 h-3"}),parking2w:s.jsx(ml,{className:"w-3 h-3"}),gym:s.jsx(Au,{className:"w-3 h-3"}),laundry:s.jsx(nc,{className:"w-3 h-3"}),balcony:s.jsx(Ir,{className:"w-3 h-3"}),ac:s.jsx(nu,{className:"w-3 h-3"}),tv:s.jsx(Lue,{className:"w-3 h-3"}),refrigerator:s.jsx(Ir,{className:"w-3 h-3"}),geyser:s.jsx(nu,{className:"w-3 h-3"}),cctv:s.jsx(ts,{className:"w-3 h-3"}),lift:s.jsx(Au,{className:"w-3 h-3"}),waterSupply:s.jsx(Ir,{className:"w-3 h-3"}),housekeeping:s.jsx(Vr,{className:"w-3 h-3"})})[lt]||s.jsx(Ir,{className:"w-3 h-3"}),ee=lt=>{v(yt=>({...yt,[lt]:!yt[lt]}))},te=(lt,yt)=>{navigator.clipboard.writeText(lt).then(()=>{r({title:"Copied!",description:`${yt} copied to clipboard`,variant:"default"})}).catch(()=>{r({title:"Error",description:"Failed to copy to clipboard",variant:"destructive"})})},le=async()=>{B(!0);try{const lt=$(),yt=window.open("","_blank");yt.document.write(lt),yt.document.close(),setTimeout(()=>{yt.print(),yt.close()},500),r({title:"Receipt Generated!",description:"Your booking receipt has been opened for download/printing",variant:"default"})}catch(lt){console.error("Error generating receipt:",lt),r({title:"Error",description:"Failed to generate receipt",variant:"destructive"})}finally{B(!1)}},$=()=>{var gt,mt,at,At,rt,ze,Et,Ft;const lt=((gt=n.payment)==null?void 0:gt.monthlyRent)||(l==null?void 0:l.rent)||((mt=n.roomSnapshot)==null?void 0:mt.rent)||0,yt=((at=n.payment)==null?void 0:at.securityDeposit)||(a==null?void 0:a.security_deposit)||((At=n.propertySnapshot)==null?void 0:At.security_deposit)||lt,Ct=((rt=n.payment)==null?void 0:rt.totalAmount)||lt+yt,wt=Ct*.1,$t=Ct*.9;return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Booking Receipt - ${(a==null?void 0:a.propertyName)||"Property"}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
          .header { text-align: center; border-bottom: 2px solid #2563eb; padding-bottom: 20px; margin-bottom: 30px; }
          .logo { font-size: 24px; font-weight: bold; color: #2563eb; }
          .receipt-title { font-size: 20px; margin: 10px 0; }
          .receipt-info { background: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
          .info-row { display: flex; justify-content: space-between; margin-bottom: 8px; }
          .info-label { font-weight: bold; }
          .section { margin-bottom: 25px; }
          .section-title { font-size: 18px; font-weight: bold; color: #1f2937; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; margin-bottom: 15px; }
          .payment-table { width: 100%; border-collapse: collapse; }
          .payment-table th, .payment-table td { padding: 10px; text-align: left; border-bottom: 1px solid #e5e7eb; }
          .payment-table th { background: #f3f4f6; font-weight: bold; }
          .total-row { font-weight: bold; background: #f0f9ff; }
          .footer { margin-top: 30px; text-align: center; font-size: 12px; color: #6b7280; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="logo">Lyvo+</div>
          <div class="receipt-title">Booking Receipt</div>
          <div>Generated on: ${new Date().toLocaleDateString()}</div>
        </div>
        
        <div class="receipt-info">
          <div class="info-row">
            <span class="info-label">Receipt Number:</span>
            <span>LYV-${((Et=(ze=n._id)==null?void 0:ze.slice(-8))==null?void 0:Et.toUpperCase())||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Booking Date:</span>
            <span>${ge(n.createdAt)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Status:</span>
            <span style="color: #059669; font-weight: bold;">CONFIRMED</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Property Details</div>
          <div class="info-row">
            <span class="info-label">Property Name:</span>
            <span>${(a==null?void 0:a.propertyName)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Address:</span>
            <span>${J(a==null?void 0:a.address)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Number:</span>
            <span>Room ${(l==null?void 0:l.roomNumber)||"N/A"}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Room Type:</span>
            <span>${(l==null?void 0:l.roomType)||"N/A"}</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Booking Period</div>
          <div class="info-row">
            <span class="info-label">Check-in Date:</span>
            <span>${he(n.checkInDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Check-out Date:</span>
            <span>${he(n.checkOutDate)}</span>
          </div>
          <div class="info-row">
            <span class="info-label">Duration:</span>
            <span>${Math.ceil((new Date(n.checkOutDate)-new Date(n.checkInDate))/(1e3*60*60*24))} days</span>
          </div>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Summary</div>
          <table class="payment-table">
            <tr>
              <th>Description</th>
              <th>Amount</th>
            </tr>
            <tr>
              <td>Monthly Rent</td>
              <td>${lt.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Security Deposit</td>
              <td>${yt.toLocaleString()}</td>
            </tr>
            <tr class="total-row">
              <td><strong>Total Amount</strong></td>
              <td><strong>${Ct.toLocaleString()}</strong></td>
            </tr>
            <tr>
              <td>Advance Paid (10%)</td>
              <td style="color: #059669;">${wt.toLocaleString()}</td>
            </tr>
            <tr>
              <td>Remaining (90%)</td>
              <td style="color: #d97706;">${$t.toLocaleString()}</td>
            </tr>
          </table>
        </div>
        
        <div class="section">
          <div class="section-title">Payment Status</div>
          <div class="info-row">
            <span class="info-label">Payment Status:</span>
            <span style="color: #059669; font-weight: bold;">COMPLETED</span>
          </div>
          ${(Ft=n.payment)!=null&&Ft.transactionId?`
          <div class="info-row">
            <span class="info-label">Transaction ID:</span>
            <span>${n.payment.transactionId}</span>
          </div>
          `:""}
        </div>
        
        <div class="footer">
          <p>Thank you for choosing Lyvo+!</p>
          <p>For any queries, contact us at support@lyvo.com</p>
          <p>This is a computer-generated receipt and does not require a signature.</p>
        </div>
      </body>
      </html>
    `},X=()=>{const lt=l&&l.latitude&&l.longitude?{lat:l.latitude,lng:l.longitude,type:"room"}:a&&a.latitude&&a.longitude?{lat:a.latitude,lng:a.longitude,type:"property"}:null;if(lt){const yt=`https://www.google.com/maps/dir/?api=1&destination=${lt.lat},${lt.lng}`;window.open(yt,"_blank"),r({title:"Directions Opened",description:`Opening directions to ${lt.type==="room"?"your room":"the property"}`,variant:"default"})}else r({title:"Location Not Available",description:"Property and room location coordinates are not available",variant:"destructive"})},V=()=>{d&&d.phone?window.open(`tel:${d.phone}`,"_self"):d&&d.email?window.open(`mailto:${d.email}`,"_self"):r({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},ne=()=>{navigator.share?navigator.share({title:"My Booking Confirmation",text:`I've booked ${(a==null?void 0:a.propertyName)||"a room"} for ${n!=null&&n.checkInDate?new Date(n.checkInDate).toLocaleDateString():"N/A"}`,url:window.location.href}):te(window.location.href,"Booking link")},ae=lt=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(lt||0),he=lt=>lt?new Date(lt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",ge=lt=>lt?new Date(lt).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",J=lt=>{if(!lt)return"N/A";if(typeof lt=="string")return lt;const{street:yt,city:Ct,state:wt,pincode:$t,landmark:gt}=lt;return[yt,gt,Ct,wt,$t].filter(Boolean).join(", ")},ue=()=>{if(!n)return!1;if(console.log(" Cancel Booking Debug:",{status:n.status,checkInDate:n.checkInDate,canCancel:!0}),["pending","pending_approval","payment_pending"].includes(n.status))return console.log(" Can cancel: Pending booking"),!0;if(n.status==="confirmed"){const lt=new Date(n.checkInDate),yt=new Date,Ct=Math.ceil((lt-yt)/(1e3*60*60*24));return console.log(" Confirmed booking check:",{checkInDate:lt.toISOString(),today:yt.toISOString(),daysUntilCheckIn:Ct,canCancel:Ct>1}),Ct>1}return console.log(" Cannot cancel: Status not allowed"),!1},fe=async()=>{if(!(n!=null&&n._id)){r({title:"Error",description:"No booking found to cancel",variant:"destructive"});return}if(window.confirm("Are you sure you want to cancel this booking? This action cannot be undone and will remove all booking and tenant records."))try{F(!0);const yt=localStorage.getItem("authToken"),wt=await fetch(`http://localhost:5000/api/property/bookings/${n._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${yt}`,"Content-Type":"application/json"}});if(wt.ok)r({title:"Booking Cancelled",description:"Your booking has been cancelled successfully",variant:"default"}),setTimeout(()=>{e("/seeker-dashboard")},1500);else{const $t=await wt.json();r({title:"Cancellation Failed",description:$t.message||"Failed to cancel booking",variant:"destructive"})}}catch(yt){console.error("Error cancelling booking:",yt),r({title:"Error",description:"An error occurred while cancelling the booking",variant:"destructive"})}finally{F(!1)}},Y=async()=>{if(!(!n||!T))try{E(!0);const lt=localStorage.getItem("authToken"),Ct=await fetch(`http://localhost:5000/api/property/user/check-in/${n._id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${lt}`},body:JSON.stringify({checkInDate:T})});if(Ct.ok)r({title:"Success",description:"Check-in date marked successfully",variant:"default"}),K(),P(!1),U("");else{const wt=await Ct.json();r({title:"Error",description:wt.message||"Failed to mark check-in date",variant:"destructive"})}}catch(lt){console.error("Error marking check-in:",lt),r({title:"Error",description:"Failed to mark check-in date. Please try again.",variant:"destructive"})}finally{E(!1)}},je=()=>{U(n.checkInDate?new Date(n.checkInDate).toISOString().split("T")[0]:""),P(!0)};if(A)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your booking details..."})]})})});if(m||!n)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:m||"The booking you are looking for does not exist."}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Back to Dashboard"})]})})});const xe=n.status==="confirmed"||n.status==="approved"||n.status==="checked_in",re=(n.status==="pending_approval"||n.status==="confirmed"||n.status==="approved"||n.status==="pending"||n.status==="payment_pending")&&n.status!=="checked_in",Ce=xe||n.ownerAccepted===!0||n.ownerApproval==="approved"||n.ownerApproval==="accepted";return console.log("Booking data for debugging:",{status:n.status,ownerAccepted:n.ownerAccepted,ownerApproval:n.ownerApproval,isBookingConfirmed:xe,isOwnerAccepted:Ce,allBookingFields:Object.keys(n)}),xe?s.jsxs(jr,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6 mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($r,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Booking Confirmed!"})]})}),s.jsx("p",{className:"text-gray-600 mb-2 text-sm sm:text-base",children:"Your accommodation is ready and confirmed"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($r,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Owner Accepted"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($r,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Payment Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($r,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{children:"Ready for Check-in"})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-4 bg-white/80 p-3 rounded-xl border border-white shadow-sm w-full lg:w-auto",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm border border-gray-100",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||(l==null?void 0:l.toilet_image)||(l==null?void 0:l.toiletImage)||((Ie=l==null?void 0:l.images)==null?void 0:Ie.room)||((Ue=l==null?void 0:l.images)==null?void 0:Ue.toilet)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:(Oe=a==null?void 0:a.images)==null?void 0:Oe.front)||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=100&h=100&fit=crop",alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-blue-600 font-bold truncate",children:(a==null?void 0:a.propertyName)||"Property Name"}),s.jsxs("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ua,{className:"w-3 h-3"})," ",(l==null?void 0:l.roomType)||"Standard"]}),s.jsxs("span",{className:"flex items-center gap-1 font-bold text-green-600",children:["",((Xe=n.payment)==null?void 0:Xe.monthlyRent)||(l==null?void 0:l.rent),"/mo"]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full lg:w-auto",children:[s.jsxs("div",{className:"bg-white/70 rounded-xl p-3 border border-white shadow-sm flex-1 sm:flex-initial min-w-[140px]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Or,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-tight",children:"Check-in"})]}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:n.checkInDate?he(n.checkInDate):"Not Set"}),n.checkInDate&&s.jsxs("p",{className:"text-[10px] text-green-600 font-bold mt-1 flex items-center gap-1",children:[s.jsx($r,{className:"w-3 h-3"})," Confirmed Arrival"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 w-full lg:w-auto",children:[re&&s.jsxs("button",{onClick:je,className:"bg-purple-600 text-white px-4 py-2.5 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(Or,{className:"w-4 h-4 mr-1"}),n.checkInDate?"Update Check-in":"Set Check-in"]}),ue()&&n.status!=="checked_in"&&s.jsx("button",{onClick:fe,disabled:Q,className:"bg-red-600 text-white px-4 py-2.5 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px] disabled:opacity-50 disabled:cursor-not-allowed",children:Q?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Cancel Booking"})]})}),s.jsxs("button",{onClick:ne,className:"bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-sm font-medium min-h-[40px]",children:[s.jsx(Jp,{className:"w-4 h-4 mr-1"}),"Share"]})]})]})]})]}),s.jsx("div",{className:"flex flex-col sm:flex-row lg:flex-col items-start sm:items-center lg:items-end space-y-3 sm:space-y-0 sm:space-x-3 lg:space-x-0 lg:space-y-3",children:s.jsxs("span",{className:`inline-flex items-center px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-medium ${W(n.status)}`,children:[D(n.status),s.jsx("span",{className:"ml-2 capitalize",children:n.status})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Or,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Booking Details"]})})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ge(n.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:he(n.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payment Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((et=n.payment)==null?void 0:et.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((me=n.payment)==null?void 0:me.paymentStatus)==="completed"?s.jsx(jt,{className:"w-3 h-3 mr-1"}):s.jsx(ns,{className:"w-3 h-3 mr-1"}),((Be=n.payment)==null?void 0:Be.paymentStatus)||"Pending"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Status"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${W(n.status)}`,children:[D(n.status),s.jsx("span",{className:"ml-1 capitalize",children:n.status})]})})]})]}),s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Booking Confirmation Summary"}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Booking Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx($r,{className:"w-3 h-3 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner Acceptance:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx($r,{className:"w-3 h-3 mr-1"}),"Accepted"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Status:"}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx($r,{className:"w-3 h-3 mr-1"}),"Completed"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Confirmed On:"}),s.jsx("span",{className:"text-sm text-gray-600",children:ge(n.updatedAt||n.createdAt)})]})]})})]})]})]}),a&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b bg-gray-50",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Jr,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Accommodation Details"]}),s.jsxs("button",{onClick:()=>ee("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-xs sm:text-sm self-start sm:self-auto",children:[p.amenities?s.jsx(ZA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(ef,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"ml-1",children:"Amenities"})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[((l==null?void 0:l.roomImage)||((Ne=l==null?void 0:l.images)==null?void 0:Ne[0]))&&s.jsx("div",{className:"w-full md:w-1/3 aspect-video md:aspect-square rounded-xl overflow-hidden shadow-sm",children:s.jsx("img",{src:l.roomImage||l.room_image||l.toilet_image||l.toiletImage||((Ee=l.images)==null?void 0:Ee.room)||(($e=l.images)==null?void 0:$e.toilet)||(Array.isArray(a==null?void 0:a.images)?a.images[0]:(ot=a==null?void 0:a.images)==null?void 0:ot.front),alt:"Your Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:a.propertyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",l.roomNumber," (",l.roomType,")"]})]}),s.jsxs("div",{className:"sm:col-span-2",children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Address"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900 leading-tight",children:J(a.address)}),s.jsx("button",{onClick:X,className:"text-blue-600 hover:text-blue-700",children:s.jsx(Iue,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monthly Rent"}),s.jsx("p",{className:"text-base font-semibold text-green-600",children:ae(l.rent)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Security Deposit"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:ae(((nt=n.payment)==null?void 0:nt.securityDeposit)||(a==null?void 0:a.security_deposit))})]})]})]}),a.amenities&&p.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(a.amenities).map(([lt,yt])=>yt?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-blue-50 text-blue-700 rounded-lg",children:[z(lt),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:lt.replace(/([A-Z])/g," $1").trim()})]},lt):null)})]}),l&&l.amenities&&p.amenities&&s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:Object.entries(l.amenities).map(([lt,yt])=>yt?s.jsxs("div",{className:"flex items-center px-2 sm:px-3 py-2 bg-green-50 text-green-700 rounded-lg",children:[z(lt),s.jsx("span",{className:"ml-2 text-xs sm:text-sm font-medium",children:lt.replace(/([A-Z])/g," $1").trim()})]},lt):null)})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 sm:p-6 border-b",children:s.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Wh,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Important Information"]})}),s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx($r,{className:"w-5 h-5 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Check-in Instructions"}),s.jsx("p",{className:"text-gray-600",children:"Please arrive on your check-in date. Contact the property owner for specific check-in procedures."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Zt,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Payment Status"}),s.jsx("p",{className:"text-gray-600",children:"Ensure all payments are completed before check-in. Contact support if you have payment issues."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Sue,{className:"w-5 h-5 text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Keys & Access"}),s.jsx("p",{className:"text-gray-600",children:"Keys will be provided upon check-in. Make sure to return them during check-out."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ks,{className:"w-5 h-5 text-purple-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Documentation"}),s.jsx("p",{className:"text-gray-600",children:"Keep your booking confirmation and payment receipts for your records."})]})]}),ue()&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(sr,{className:"w-5 h-5 text-red-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:n.status==="pending"?"You can cancel your pending booking at any time before owner approval.":"You can cancel your booking up to 24 hours before check-in. Cancellation after this period may incur charges."})]})]}),!ue()&&n.status==="confirmed"&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(eg,{className:"w-5 h-5 text-orange-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Cancellation Policy"}),s.jsx("p",{className:"text-gray-600",children:"Cancellation is not available as check-in is within 24 hours. Please contact support for assistance."})]})]})]})})]})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[d&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(ar,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Property Owner"]}),s.jsx("button",{onClick:()=>ee("contact"),className:"text-blue-600 hover:text-blue-700",children:p.contact?s.jsx(ZA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(ef,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),p.contact&&s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(ar,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})}),s.jsx("p",{className:"text-sm sm:text-base font-semibold text-gray-900",children:d.name||"Owner Name"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:d.email})]}),d.phone&&s.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ms,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:d.phone})]}),s.jsx("button",{onClick:()=>window.open(`tel:${d.phone}`,"_self"),className:"text-blue-600 hover:text-blue-700",children:s.jsx(YP,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:V,className:"bg-blue-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(ms,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Call"]}),s.jsxs("button",{onClick:()=>window.open(`mailto:${d.email}`,"_self"),className:"bg-green-600 text-white py-2 px-2 sm:px-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(yn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Email"]})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{onClick:le,disabled:N,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center disabled:opacity-50",children:[N?s.jsx(la,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(tu,{className:"w-4 h-4 mr-2"}),N?"Generating...":"Download Receipt"]}),s.jsxs("button",{onClick:X,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(j4,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:ne,className:"w-full bg-orange-600 text-white py-2 px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center",children:[s.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Share Booking"]}),ue()&&s.jsx("button",{onClick:fe,disabled:Q,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:Q?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),s.jsx("span",{children:"Cancelling..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Cancel Booking"})]})})]})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(Xp,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Payment Summary"]}),s.jsx("button",{onClick:()=>ee("payment"),className:"text-blue-600 hover:text-blue-700",children:p.payment?s.jsx(ZA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(ef,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),p.payment&&(()=>{var gt,mt,at,At,rt,ze,Et,Ft,_n;const lt=((gt=n.payment)==null?void 0:gt.monthlyRent)||(l==null?void 0:l.rent)||((mt=n.roomSnapshot)==null?void 0:mt.rent)||0,yt=((at=n.payment)==null?void 0:at.securityDeposit)||(a==null?void 0:a.security_deposit)||((At=n.propertySnapshot)==null?void 0:At.security_deposit)||lt,Ct=lt+yt,wt=((rt=n.payment)==null?void 0:rt.totalAmount)||Ct*.1,$t=Ct-wt;return s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:ae(lt)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Security Deposit"}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:ae(yt)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between font-bold text-sm sm:text-base",children:[s.jsx("span",{children:"Total Amount"}),s.jsx("span",{className:"text-blue-600",children:ae(Ct)})]}),s.jsx("hr",{}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-green-700 font-semibold",children:"Advance Paid (10%)"}),s.jsx("span",{className:"font-bold text-green-600",children:ae(wt)})]}),s.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[s.jsx("span",{className:"text-orange-700 font-semibold",children:"Remaining (90%)"}),s.jsx("span",{className:"font-bold text-orange-600",children:ae($t)})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Payment Status"}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${((ze=n.payment)==null?void 0:ze.paymentStatus)==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[((Et=n.payment)==null?void 0:Et.paymentStatus)==="completed"?s.jsx(jt,{className:"w-3 h-3 mr-1"}):s.jsx(ns,{className:"w-3 h-3 mr-1"}),((Ft=n.payment)==null?void 0:Ft.paymentStatus)||"Pending"]})]}),((_n=n.payment)==null?void 0:_n.transactionId)&&s.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Transaction ID"}),s.jsxs("button",{onClick:()=>te(n.payment.transactionId,"Transaction ID"),className:"text-xs text-blue-600 hover:text-blue-700 font-mono break-all",children:[n.payment.transactionId.slice(0,8),"..."]})]})]})]})})()]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(ks,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Documents"]}),s.jsx("button",{onClick:()=>ee("documents"),className:"text-blue-600 hover:text-blue-700",children:p.documents?s.jsx(ZA,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(ef,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),p.documents&&s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("button",{className:"w-full bg-blue-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(CN,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Booking Confirmation"]}),s.jsxs("button",{className:"w-full bg-green-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(ks,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Rental Agreement"]}),s.jsxs("button",{className:"w-full bg-purple-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(Xp,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Payment Receipt"]}),s.jsxs("button",{className:"w-full bg-orange-600 text-white py-2 px-3 sm:px-4 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center text-xs sm:text-sm",children:[s.jsx(LV,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Print All Documents"]})]})]})]})]})]})}),I&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(ru,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Mark Check-in Date"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Select your check-in date"})]})]}),s.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:k,children:s.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"mb-6",children:[n&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-5 mb-6 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 shadow-sm",children:s.jsx("img",{src:(l==null?void 0:l.roomImage)||(l==null?void 0:l.room_image)||((tt=a==null?void 0:a.images)==null?void 0:tt[0])||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=200&h=200&fit=crop",className:"w-full h-full object-cover",alt:"Room Preview"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:(a==null?void 0:a.propertyName)||"N/A"}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-0.5",children:[s.jsx(wr,{className:"w-3 h-3"}),J(a==null?void 0:a.address)]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs("span",{className:"bg-blue-50 text-blue-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:["Room ",(l==null?void 0:l.roomNumber)||"N/A"]}),s.jsx("span",{className:"bg-purple-50 text-purple-700 text-[10px] font-bold px-2 py-0.5 rounded uppercase",children:(l==null?void 0:l.roomType)||"Standard"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-bold text-green-600",children:ae(((Ke=n.payment)==null?void 0:Ke.monthlyRent)||(l==null?void 0:l.rent))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] uppercase tracking-wider text-gray-500 font-bold mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-bold text-gray-900",children:ae((it=n.payment)==null?void 0:it.securityDeposit)})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Current Check-in:"}),s.jsx("span",{className:`font-bold ${n.checkInDate?"text-purple-600":"text-orange-500 italic"}`,children:n.checkInDate?he(n.checkInDate):"Not specified"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"checkInDate",className:"block text-sm font-medium text-gray-700",children:"Check-in Date *"}),s.jsx("input",{type:"date",id:"checkInDate",value:T,onChange:lt=>U(lt.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:k}),s.jsx("p",{className:"text-xs text-gray-500",children:"Select the date when you plan to check into the room"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>P(!1),disabled:k,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),s.jsx("button",{onClick:Y,disabled:k||!T,className:"flex-1 px-4 py-2.5 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:k?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Marking..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ru,{className:"w-4 h-4"}),s.jsx("span",{children:"Mark Check-in"})]})})]})]})})})]}):s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(eg,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Pending Approval"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your booking is currently waiting for the owner's approval. Please set your check-in date below to help the owner process your request."}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-left",children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Booking Status:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Current Status:"}),s.jsx("span",{className:"font-semibold text-yellow-600 capitalize",children:n.status})]}),n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"font-semibold text-purple-600",children:he(n.checkInDate)})]}),!n.checkInDate&&s.jsxs("div",{className:"flex justify-between border-t border-yellow-200 pt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in Date:"}),s.jsx("span",{className:"text-red-500 italic",children:"Not set yet"})]})]})]}),n.checkInDate&&s.jsx("p",{className:"text-sm text-gray-500 mb-6 italic",children:"You've set your check-in date. The owner will review and approve your booking shortly."}),s.jsxs("div",{className:"space-y-4",children:[re&&s.jsxs("button",{onClick:je,className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center font-bold shadow-lg",children:[s.jsx(Or,{className:"w-5 h-5 mr-2"}),n.checkInDate?"Update Check-in Date":"Set Check-in Date"]}),s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})]})})})},_be=()=>{const e=cr(),{toast:t}=xc(),[r,n]=_.useState(null),[i,a]=_.useState(null),[o,l]=_.useState(null),[c,d]=_.useState(null),[u,A]=_.useState(!0),[f,m]=_.useState(""),[x,p]=_.useState({amenities:!1,contact:!1,documents:!1});_.useEffect(()=>{v()},[]);const v=async()=>{try{A(!0);const U=localStorage.getItem("authToken"),k=JSON.parse(localStorage.getItem("user")||"{}");if(!U){e("/login");return}const E=await fetch(`http://localhost:5000/api/property/api/bookings/user?userId=${k.id||k._id||k.userId}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`}});if(E.ok){const K=((await E.json()).bookings||[]).find(W=>{var D;return W.status==="confirmed"&&((D=W.payment)==null?void 0:D.paymentStatus)==="completed"});K?await y(K._id):m("No confirmed booking found")}else throw new Error("Failed to fetch user bookings")}catch(U){console.error("Error fetching user confirmed booking:",U),m("Failed to load your booking details")}finally{A(!1)}},y=async U=>{try{const k=localStorage.getItem("authToken");if(!k){e("/login");return}const E=await fetch(`http://localhost:5000/api/property/api/bookings/${U}`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(!E.ok)throw new Error("Failed to fetch booking details");const Q=await E.json();if(n(Q.booking),Q.booking.propertyId){const F=await fetch(`http://localhost:5000/api/property/api/public/properties/${Q.booking.propertyId}`);if(F.ok){const K=await F.json();if(a(K.property),K.property.rooms){const W=K.property.rooms.find(D=>D._id===Q.booking.roomId);l(W)}}}if(Q.booking.ownerId){const F=await fetch(`http://localhost:5000/api/user/profile/${Q.booking.ownerId}`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(F.ok){const K=await F.json();d(K)}}}catch(k){console.error("Error fetching booking details:",k),m("Failed to load booking details")}},b=U=>({wifi:s.jsx(nm,{className:"w-4 h-4"}),parking:s.jsx(ml,{className:"w-4 h-4"}),kitchen:s.jsx(If,{className:"w-4 h-4"}),powerBackup:s.jsx(nu,{className:"w-4 h-4"}),security:s.jsx(tr,{className:"w-4 h-4"}),parking4w:s.jsx(ml,{className:"w-4 h-4"}),parking2w:s.jsx(ml,{className:"w-4 h-4"}),gym:s.jsx(nc,{className:"w-4 h-4"}),laundry:s.jsx(nc,{className:"w-4 h-4"}),balcony:s.jsx(Ir,{className:"w-4 h-4"}),ac:s.jsx(nu,{className:"w-4 h-4"}),tv:s.jsx(nc,{className:"w-4 h-4"}),refrigerator:s.jsx(Ir,{className:"w-4 h-4"}),geyser:s.jsx(nu,{className:"w-4 h-4"}),cctv:s.jsx(ts,{className:"w-4 h-4"}),lift:s.jsx(nc,{className:"w-4 h-4"}),waterSupply:s.jsx(Ir,{className:"w-4 h-4"}),housekeeping:s.jsx(Vr,{className:"w-4 h-4"})})[U]||s.jsx(Ir,{className:"w-4 h-4"}),w=U=>{p(k=>({...k,[U]:!k[U]}))},j=U=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(U||0),N=U=>U?new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",B=()=>{if(!(r!=null&&r.checkInDate))return 0;const U=new Date,E=new Date(r.checkInDate)-U;return Math.ceil(E/(1e3*60*60*24))},I=()=>{c&&c.phone?window.open(`tel:${c.phone}`,"_self"):c&&c.email?window.open(`mailto:${c.email}`,"_self"):t({title:"Contact Information Not Available",description:"Owner contact details are not available",variant:"destructive"})},P=()=>{if(i&&i.latitude&&i.longitude){const U=`https://www.google.com/maps/dir/?api=1&destination=${i.latitude},${i.longitude}`;window.open(U,"_blank")}else t({title:"Location Not Available",description:"Property location coordinates are not available",variant:"destructive"})};return u?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your room details..."})]})})}):f||!r?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(Zt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Confirmed Booking"}),s.jsx("p",{className:"text-gray-600 mb-6",children:f||"You don't have any confirmed bookings yet. Book a room to access this dashboard."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Rooms"}),s.jsx("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"View My Bookings"})]})]})})}):r.status==="confirmed"||r.status==="approved"?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:[(i==null?void 0:i.images)&&i.images.length>0&&s.jsxs("div",{className:"relative h-64 sm:h-80 lg:h-96",children:[s.jsx("img",{src:i.images[0],alt:i.propertyName,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(Gh,{className:"w-5 h-5"})}),s.jsx("button",{className:"bg-white/90 backdrop-blur-sm text-gray-700 p-2 rounded-full hover:bg-white transition-colors",children:s.jsx(Jp,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"absolute bottom-4 left-4",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ka,{className:"w-4 h-4 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-sm font-semibold",children:"4.8"}),s.jsx("span",{className:"text-sm text-gray-600",children:" Excellent"})]})})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:(i==null?void 0:i.propertyName)||"Property Name"}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"text-sm",children:(i==null?void 0:i.address)||"Address"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ua,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Room ",(o==null?void 0:o.roomNumber)||"N/A"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.maxOccupancy)||(i==null?void 0:i.maxOccupancy)||"N/A"," guests"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ir,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:[(o==null?void 0:o.roomSize)||"N/A"," sq ft"]})]})]})]}),s.jsx("div",{className:"mt-4 lg:mt-0 lg:ml-6",children:s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:j(o==null?void 0:o.rent)}),s.jsx("div",{className:"text-sm text-gray-600",children:"per month"})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:P,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(j4,{className:"w-4 h-4 mr-2"}),"Directions"]}),s.jsxs("button",{onClick:I,className:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Contact Owner"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Booking Status"}),s.jsxs("div",{className:"flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[s.jsx($r,{className:"w-4 h-4 mr-1"}),"Confirmed"]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-in"}),s.jsx("div",{className:"font-semibold",children:N(r.checkInDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Check-out"}),s.jsx("div",{className:"font-semibold",children:N(r.checkOutDate)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Days Remaining"}),s.jsxs("div",{className:"font-semibold text-blue-600",children:[B()," days"]})]})]})]}),o&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Type"}),s.jsx("div",{className:"font-semibold",children:o.roomType})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Room Size"}),s.jsxs("div",{className:"font-semibold",children:[o.roomSize," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Max Occupancy"}),s.jsxs("div",{className:"font-semibold",children:[o.maxOccupancy||(i==null?void 0:i.maxOccupancy)," people"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Monthly Rent"}),s.jsx("div",{className:"font-semibold",children:j(o.rent)})]})]})]}),(i==null?void 0:i.amenities)&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Amenities"}),s.jsxs("button",{onClick:()=>w("amenities"),className:"text-blue-600 hover:text-blue-700 flex items-center text-sm",children:[x.amenities?s.jsx(ZA,{className:"w-4 h-4"}):s.jsx(ef,{className:"w-4 h-4"}),s.jsx("span",{className:"ml-1",children:"View All"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Object.entries(i.amenities).slice(0,x.amenities?void 0:6).map(([U,k])=>k?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[b(U),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:U.replace(/([A-Z])/g," $1").trim()})]},U):null)})]}),(i==null?void 0:i.description)&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"About This Place"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.description})]})]}),s.jsxs("div",{className:"space-y-6",children:[c&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ar,{className:"w-5 h-5 mr-2"}),"Host"]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(ar,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"font-semibold text-gray-900",children:c.name||"Host Name"}),s.jsx("p",{className:"text-sm text-gray-600",children:c.email})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs("button",{onClick:I,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Contact Host"]})})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Info"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Paid"}),s.jsx("span",{className:"font-semibold",children:j(r.totalAmount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duration"}),s.jsxs("span",{className:"font-semibold",children:[Math.ceil((new Date(r.checkOutDate)-new Date(r.checkInDate))/(1e3*60*60*24))," days"]})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>e(`/booking-dashboard/${r._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"View Full Details"]}),s.jsxs("button",{onClick:P,className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(j4,{className:"w-4 h-4 mr-2"}),"Get Directions"]}),s.jsxs("button",{onClick:()=>e("/seeker-bookings"),className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:[s.jsx(Or,{className:"w-4 h-4 mr-2"}),"View All Bookings"]})]})]})]})]})]})})}):s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[s.jsx(eg,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Not Ready"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"This dashboard is only available for confirmed bookings."}),s.jsx("div",{className:"space-y-3",children:s.jsx("button",{onClick:()=>e("/seeker-dashboard"),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})})]})})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Cbe=()=>{var X,V,ne,ae,he,ge,J,ue,fe,Y,je,xe,re;const{roomId:e}=_u(),t=cr(),{toast:r}=xc();to();const[n,i]=_.useState(null),[a,o]=_.useState(null),[l,c]=_.useState(null),[d,u]=_.useState(!0),[A,f]=_.useState(0),[m,x]=_.useState(!1),[p,v]=_.useState(null),[y,b]=_.useState(!1),[w,j]=_.useState([0,0]),[N,B]=_.useState(!1),[I,P]=_.useState([]),[T,U]=_.useState(!1),k=Ce=>{if(!(Ce!=null&&Ce.images))return[];if(Array.isArray(Ce.images))return Ce.images;const{gallery:Ie,...Ue}=Ce.images,Oe=Object.values(Ue).filter(et=>typeof et=="string"&&et.length>0),Xe=Array.isArray(Ie)?Ie:[];return[...Oe,...Xe]},E=[...n!=null&&n.room_image?[n.room_image]:[],...n!=null&&n.toilet_image?[n.toilet_image]:[],...k(a)],Q=()=>{const Ce=localStorage.getItem("user");if(Ce)try{const Ie=JSON.parse(Ce);return Ie.id||Ie._id}catch(Ie){return console.error("Error parsing user data:",Ie),null}return null},F=async()=>{var Ce,Ie;try{u(!0);const Oe=await fetch(`http://localhost:5000/api/property/public/rooms/${e}`);if(!Oe.ok)throw new Error(`Failed to fetch room details (${Oe.status})`);const Xe=await Oe.json();Xe.success&&Xe.data?(console.log("Room Data Fetched Support:",Xe.data),i(Xe.data.room),o(Xe.data.property),c(Xe.data.owner),(Ce=Xe.data.property)!=null&&Ce.latitude&&((Ie=Xe.data.property)!=null&&Ie.longitude)&&j([parseFloat(Xe.data.property.latitude),parseFloat(Xe.data.property.longitude)])):console.error("Room data missing or invalid structure:",Xe)}catch(Ue){console.error("Error fetching room details:",Ue),r({title:"Error",description:"Failed to load room details",variant:"destructive"})}finally{u(!1)}},K=async()=>{const Ce=Q(),Ie=localStorage.getItem("authToken");if(!(!Ce||!e||!a||!Ie))try{const Oe=await fetch(`http://localhost:5000/api/property/favorites/check?propertyId=${a._id}&roomId=${e}`,{headers:{Authorization:`Bearer ${Ie}`}});if(Oe.ok){const Xe=await Oe.json();x(Xe.isFavorite)}}catch(Ue){console.error("Error checking favorite:",Ue)}},W=async()=>{const Ce=Q(),Ie=localStorage.getItem("authToken");if(!(!Ce||!e||!a||!Ie))try{const Oe=await fetch(`http://localhost:5000/api/property/user/check-booking?propertyId=${a._id}&roomId=${e}`,{headers:{Authorization:`Bearer ${Ie}`}});if(Oe.ok){const Xe=await Oe.json();v(Xe)}}catch(Ue){console.error("Error checking booking status:",Ue)}},D=async()=>{if(e)try{U(!0);const Ie=await fetch(`http://localhost:5000/api/property/public/rooms/${e}/tenants`);if(Ie.ok){const Ue=await Ie.json();P(Ue.tenants||[])}}catch(Ce){console.error("Error fetching tenant details:",Ce)}finally{U(!1)}};_.useEffect(()=>{e&&(F(),D())},[e]),_.useEffect(()=>{n&&a&&(K(),W())},[n,a]);const z=async()=>{const Ce=Q(),Ie=localStorage.getItem("authToken");if(!Ce){r({title:"Please Login",description:"You need to specific login to add favorites",variant:"destructive"});return}try{(await fetch(`http://localhost:5000/api${m?"/property/favorites/remove":"/property/favorites"}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({userId:Ce,propertyId:a._id,roomId:e})})).ok&&(x(!m),r({title:m?"Removed from Favorites":"Added to Favorites",description:m?"Room removed from your list":"Room saved to your favorites"}))}catch{r({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},ee=async()=>{if(navigator.share)try{await navigator.share({title:`${a.property_name} - Room ${n.roomNumber}`,text:`Check out this room for ${n.rent}/month!`,url:window.location.href})}catch(Ce){console.log("Error sharing:",Ce)}else navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Room link copied to clipboard"})},te=async()=>{var Ue,Oe;const Ce=Q(),Ie=localStorage.getItem("authToken");if(!Ce){r({title:"Please Login",description:"You need to log in to book a room",variant:"destructive"});return}if((p==null?void 0:p.status)==="confirmed"){r({title:"Already Booked",description:"You have already booked this room."});return}if((p==null?void 0:p.status)==="pending_approval"){r({title:"Pending Approval",description:"You already have a pending booking request for this room. Please wait for owner approval."});return}try{b(!0);const et=await fetch(`http://localhost:5000/api/user/profile/${Ce}`,{headers:{Authorization:`Bearer ${Ie}`}});if(et.ok){const me=await et.json();if(me.kycStatus!=="approved"&&((Ue=me.user)==null?void 0:Ue.kycStatus)!=="approved"){const Be=me.kycStatus||((Oe=me.user)==null?void 0:Oe.kycStatus);r({title:"KYC Verification Required",description:`Your KYC status is '${Be||"Not Verified"}'. You must be Approved to book this room.`,variant:"destructive",action:s.jsx("button",{onClick:()=>t("/seeker-dashboard"),className:"bg-white text-destructive px-2 py-1 rounded text-xs",children:"Verify Now"})}),b(!1);return}}}catch(Xe){console.log("Error fetching profile for KYC check",Xe),r({title:"Verification Failed",description:"Could not verify your KYC status. Please try again.",variant:"destructive"}),b(!1);return}finally{b(!1)}B(!0)},le=async()=>{const Ce=Q(),Ie=localStorage.getItem("authToken"),Ue=parseFloat(n.rent),Oe=parseFloat(a.security_deposit||0),et=(Ue+Oe)*.1;try{b(!0);const me="http://localhost:5000/api",Be=await fetch(`${me}/property/payments/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({amount:et,receipt_id:`rcpt_${Date.now().toString().slice(-10)}`})});if(!Be.ok)throw new Error("Failed to initiate payment");const Ne=await Be.json(),Ee={key:"rzp_test_RL5vMta3bKvRd4",amount:Ne.amount,currency:Ne.currency,name:"Lyvo",description:`Booking Fee (10%) for ${a.property_name}`,order_id:Ne.order_id,handler:async function(ot){try{const tt=await(await fetch(`${me}/property/payments/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ie}`},body:JSON.stringify({razorpay_order_id:ot.razorpay_order_id,razorpay_payment_id:ot.razorpay_payment_id,razorpay_signature:ot.razorpay_signature,bookingDetails:{propertyId:a._id,roomId:e,userId:Ce,amount:et,securityDeposit:Oe,monthlyRent:Ue}})})).json();tt.success?(v({status:"pending_approval",bookingId:tt.bookingId}),B(!1),r({title:"Booking Requested",description:"Payment successful! Your booking request is now pending owner approval."})):r({title:"Booking Failed",description:tt.message,variant:"destructive"})}catch(nt){console.error("Verification Error:",nt),r({title:"Verification Error",description:"Payment verified but booking creation failed. Contact support.",variant:"destructive"})}},theme:{color:"#3399cc"}},$e=new window.Razorpay(Ee);$e.on("payment.failed",function(ot){r({title:"Payment Failed",description:ot.error.description,variant:"destructive"})}),$e.open()}catch(me){console.error(me),r({title:"Payment Error",description:"Could not initiate payment",variant:"destructive"})}finally{b(!1)}},$=async()=>{if(!(!(p!=null&&p.bookingId)||!window.confirm("Are you sure you want to cancel this booking? This will remove your booking request.")))try{b(!0);const Ie=localStorage.getItem("authToken"),Oe=await fetch(`http://localhost:5000/api/property/bookings/${p.bookingId}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ie}`}});if(Oe.ok)v(null),r({title:"Booking Cancelled",description:"Your booking request has been cancelled."});else{const Xe=await Oe.json();r({title:"Cancellation Failed",description:Xe.message||"Failed to cancel booking",variant:"destructive"})}}catch(Ie){console.error(Ie),r({title:"Error",description:"Cancellation failed",variant:"destructive"})}finally{b(!1)}};return d?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):!n||!a?s.jsx(jr,{children:s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Room Not Found"}),s.jsx("button",{onClick:()=>t("/seeker-dashboard"),className:"text-blue-600 hover:underline",children:"Return to Dashboard"})]})}):s.jsxs(jr,{children:[s.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 md:pb-10",children:[s.jsxs("div",{className:"relative h-[40vh] md:h-[50vh] bg-gray-900 group",children:[E.length>0?s.jsx("img",{src:E[A],alt:a.property_name,className:"w-full h-full object-cover opacity-90"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800 text-gray-500",children:s.jsx("span",{className:"text-lg",children:"No Images Available"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-4 left-4 z-10",children:s.jsx("button",{onClick:()=>t(-1),className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:s.jsx(Js,{className:"w-6 h-6"})})}),s.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-3",children:[s.jsx("button",{onClick:z,className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:s.jsx(Gh,{className:`w-6 h-6 ${m?"fill-red-500 text-red-500":""}`})}),s.jsx("button",{onClick:ee,className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white/30 transition-all",children:s.jsx(Jp,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"absolute bottom-6 left-4 right-4 md:left-8 md:right-8 text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"inline-block px-3 py-1 bg-blue-600 rounded-full text-xs font-semibold mb-2 uppercase tracking-wider",children:[n.room_type||n.type||"Standard"," Room"]}),s.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-1",children:[a.property_name," - Room ",n.room_number||n.roomNumber]}),s.jsxs("p",{className:"text-gray-200 flex items-center gap-1",children:[s.jsx(wr,{className:"w-4 h-4"}),(X=a.address)==null?void 0:X.city,", ",(V=a.address)==null?void 0:V.state]})]}),s.jsxs("div",{className:"text-right hidden md:block",children:[s.jsxs("p",{className:"text-3xl font-bold",children:["",(ne=n.rent)==null?void 0:ne.toLocaleString()]}),s.jsx("p",{className:"text-sm opacity-80",children:"per month"})]})]})}),E.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:E.map((Ce,Ie)=>s.jsx("button",{onClick:()=>f(Ie),className:`w-2 h-2 rounded-full transition-all ${Ie===A?"bg-white w-4":"bg-white/50"}`},Ie))})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 relative z-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(Vr,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Occupancy"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[n.occupancy," Person(s)"]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(ox,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Size"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:[n.room_size||n.dimension||"N/A"," sq ft"]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(ua,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Bed Type"}),s.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:n.bed_type||"N/A"})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-xl",children:[s.jsx(Or,{className:"w-6 h-6 mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase",children:"Status"}),s.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:n.is_available?"Available":"Occupied"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About the Property"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.description||"A beautiful property located in a prime area, offering comfortable living spaces and modern amenities for a hassle-free stay."})]}),s.jsx("div",{className:"lg:hidden",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",(ae=n.rent)==null?void 0:ae.toLocaleString()]}),s.jsx("span",{className:"text-gray-500",children:"/month"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Deposit"}),s.jsxs("p",{className:"font-semibold text-gray-700",children:["",(he=a.security_deposit)==null?void 0:he.toLocaleString()]})]})]}),s.jsx("hr",{className:"border-gray-100 my-4"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee"}),s.jsx("span",{className:"font-medium text-gray-900",children:"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Maintenance"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Included"})]})]}),s.jsx("button",{onClick:te,disabled:y||(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval",className:`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all transform active:scale-95 ${(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?"bg-green-600 cursor-default":(p==null?void 0:p.status)==="pending_approval"?"bg-amber-500 cursor-default":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:y?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5"})," Booked"]}):(p==null?void 0:p.status)==="pending_approval"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(ns,{className:"w-5 h-5"})," Waiting for Approval"]}):(p==null?void 0:p.status)==="pending_payment"?"Complete Payment":"Book Now"}),((p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval")&&s.jsxs("button",{onClick:$,disabled:y,className:"w-full mt-3 py-3 rounded-xl border border-red-200 text-red-600 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(or,{className:"w-4 h-4"})," Cancel Booking"]}),s.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:(p==null?void 0:p.status)==="pending_approval"?"Your request is being reviewed by the owner.":"You'll pay a 10% booking fee to reserve."})]})}),s.jsx("div",{className:"lg:hidden",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(ka,{className:"w-4 h-4 text-blue-600"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-black text-blue-600",children:"92%"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:"Excellent"})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(Z.div,{initial:{width:0},animate:{width:"92%"},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600"})}),s.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Based on your preferences for ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Quiet Evenings"})," and ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Shared Kitchen"})," usage."]})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-primary",children:"Room Features"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.amenities&&Object.entries(n.amenities).map(([Ce,Ie])=>{if(!Ie)return null;const Ue={ac:s.jsx(bF,{className:"w-5 h-5 text-blue-600"}),wifi:s.jsx(nm,{className:"w-5 h-5 text-blue-600"}),tv:s.jsx(Mue,{className:"w-5 h-5 text-blue-600"}),fridge:s.jsx(If,{className:"w-5 h-5 text-blue-600"}),wardrobe:s.jsx(ox,{className:"w-5 h-5 text-blue-600"}),studyTable:s.jsx(ox,{className:"w-5 h-5 text-blue-600"}),balcony:s.jsx(ox,{className:"w-5 h-5 text-blue-600"}),attachedBathroom:s.jsx(tr,{className:"w-5 h-5 text-blue-600"})};return s.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-50 rounded-xl border border-gray-100 transition-hover hover:border-blue-200",children:[Ue[Ce]||s.jsx(jt,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-xs font-medium text-gray-600 mt-2 text-center capitalize",children:Ce.replace(/([A-Z])/g," $1").trim()})]},Ce)}),(!n.amenities||Object.values(n.amenities).every(Ce=>!Ce))&&s.jsx("p",{className:"text-sm text-gray-500 italic col-span-full",children:"No specific room features listed."})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-primary",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.amenities&&Object.entries(a.amenities).filter(([Ce,Ie])=>Ie).map(([Ce])=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50/30 rounded-xl border border-blue-50",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg text-blue-600 shadow-sm",children:Ce.includes("parking")?s.jsx(ml,{className:"w-5 h-5"}):s.jsx(jt,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:Ce.replace(/([A-Z])/g," $1").trim()})]},Ce))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6 font-primary",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.rules&&Object.entries(a.rules).map(([Ce,Ie])=>{const Ue={petsAllowed:Ie?"Pets Welcome":"No Pets Allowed",smokingAllowed:Ie?"Smoking Allowed":"No Smoking",visitorsAllowed:Ie?"Visitors Allowed":"No Visitors",cookingAllowed:Ie?"Cooking Allowed":"No Cooking Indoors"},Oe={petsAllowed:s.jsx(jue,{className:`w-5 h-5 ${Ie?"text-green-600":"text-red-500"}`}),smokingAllowed:s.jsx(bF,{className:`w-5 h-5 ${Ie?"text-green-600":"text-red-500"}`}),visitorsAllowed:s.jsx(Vr,{className:`w-5 h-5 ${Ie?"text-green-600":"text-red-500"}`}),cookingAllowed:s.jsx(If,{className:`w-5 h-5 ${Ie?"text-green-600":"text-red-500"}`})};return s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl border border-gray-100 hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:`p-2 rounded-full ${Ie?"bg-green-50":"bg-red-50"}`,children:Oe[Ce]}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-semibold ${Ie?"text-gray-900":"text-gray-700"}`,children:Ue[Ce]}),s.jsx("p",{className:"text-xs text-gray-500",children:Ie?"Permitted":"Strictly prohibited"})]})]},Ce)})})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 font-primary",children:"Living With"}),s.jsxs("span",{className:"text-xs font-semibold bg-blue-50 text-blue-600 px-3 py-1 rounded-full uppercase tracking-wider",children:[I.length," / ",n.occupancy||1," Occupied"]})]}),T?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 gap-3",children:[s.jsx("div",{className:"w-8 h-8 border-3 border-blue-100 border-t-blue-600 rounded-full animate-spin"}),s.jsx("p",{className:"text-sm text-gray-500 animate-pulse",children:"Finding your future roommates..."})]}):I.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map((Ce,Ie)=>s.jsxs(Z.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:Ie*.1},className:"group p-4 rounded-2xl border border-gray-100 bg-gray-50/50 hover:bg-white hover:shadow-xl hover:shadow-blue-500/5 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl flex items-center justify-center border-2 border-white shadow-sm overflow-hidden",children:Ce.profilePicture?s.jsx("img",{src:Ce.profilePicture,alt:Ce.name,className:"w-full h-full object-cover"}):s.jsx(ar,{className:"w-6 h-6 text-blue-400"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 border-2 border-white rounded-full flex items-center justify-center",children:s.jsx(jt,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-gray-900 truncate group-hover:text-blue-600 transition-colors",children:Ce.name||"Resident"}),s.jsxs("span",{className:"text-[10px] font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:[85+Ie*2,"% Match"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-1 mt-1",children:[s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 capitalize",children:[s.jsx(ar,{className:"w-3 h-3"})," ",Ce.occupation||"Professional"]}),s.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3"})," Since ",Ce.moveInDate?new Date(Ce.moveInDate).getFullYear():"2024"]})]})]})]}),Ce.bio&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("p",{className:"text-xs text-gray-600 italic line-clamp-2",children:['"',Ce.bio,'"']})})]},Ce._id||Ie))}):s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 border border-dashed border-gray-200 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-sm border border-gray-100",children:s.jsx(Vr,{className:"w-8 h-8 text-gray-300"})}),s.jsx("h3",{className:"text-gray-900 font-bold mb-1",children:"Room is Currently Empty"}),s.jsx("p",{className:"text-sm text-gray-500 max-w-[250px] mx-auto leading-relaxed",children:"Be the first one to move in and set the vibe for this beautiful space!"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 font-primary",children:"Location Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(wr,{className:"w-5 h-5 text-blue-600 shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900 font-medium",children:"Address"}),s.jsxs("p",{className:"text-gray-600",children:[(ge=a.address)==null?void 0:ge.street,", ",(J=a.address)==null?void 0:J.city,", ",(ue=a.address)==null?void 0:ue.state,", ",(fe=a.address)==null?void 0:fe.pincode]})]})]}),((Y=a.address)==null?void 0:Y.landmark)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(b4,{className:"w-5 h-5 text-blue-600 shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900 font-medium",children:"Landmark"}),s.jsx("p",{className:"text-gray-600",children:a.address.landmark})]})]})]}),w[0]!==0&&s.jsx("div",{className:"mt-6 h-64 w-full rounded-2xl overflow-hidden border border-gray-100 shadow-inner relative",style:{zIndex:1},children:s.jsxs(Yh,{center:w,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[s.jsx(Jh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Xh,{position:w,children:s.jsx(_y,{children:s.jsxs("div",{className:"p-2",children:[s.jsx("p",{className:"font-bold text-gray-900",children:a.property_name}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:(je=a.address)==null?void 0:je.city})]})})})]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-24 space-y-6",children:[s.jsxs("div",{className:"hidden lg:block bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",(xe=n.rent)==null?void 0:xe.toLocaleString()]}),s.jsx("span",{className:"text-gray-500",children:"/month"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Deposit"}),s.jsxs("p",{className:"font-semibold text-gray-700",children:["",(re=a.security_deposit)==null?void 0:re.toLocaleString()]})]})]}),s.jsx("hr",{className:"border-gray-100 my-4"}),s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Service Fee"}),s.jsx("span",{className:"font-medium text-gray-900",children:"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Maintenance"}),s.jsx("span",{className:"font-medium text-gray-900",children:"Included"})]})]}),s.jsx("button",{onClick:te,disabled:y||(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval",className:`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all transform active:scale-95 ${(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?"bg-green-600 cursor-default":(p==null?void 0:p.status)==="pending_approval"?"bg-amber-500 cursor-default":"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700"}`,children:y?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):(p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5"})," Booked"]}):(p==null?void 0:p.status)==="pending_approval"?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(ns,{className:"w-5 h-5"})," Waiting for Approval"]}):(p==null?void 0:p.status)==="pending_payment"?"Complete Payment":"Book Now"}),((p==null?void 0:p.status)==="confirmed"||(p==null?void 0:p.status)==="approved"||(p==null?void 0:p.status)==="pending_approval")&&s.jsxs("button",{onClick:$,disabled:y,className:"w-full mt-3 py-3 rounded-xl border border-red-200 text-red-600 font-semibold hover:bg-red-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(or,{className:"w-4 h-4"})," Cancel Booking"]}),s.jsx("p",{className:"text-xs text-center text-gray-400 mt-4",children:(p==null?void 0:p.status)==="pending_approval"?"Your request is being reviewed by the owner.":"You'll pay a 10% booking fee to reserve."})]}),l&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full overflow-hidden",children:l.profilePicture?s.jsx("img",{src:l.profilePicture,alt:l.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:s.jsx(ar,{className:"w-8 h-8"})})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900",children:l.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Property Owner"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"flex-1 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4"})," Message"]}),s.jsxs("button",{className:"flex-1 py-2 border border-blue-200 bg-blue-50 rounded-lg text-sm font-medium text-blue-700 hover:bg-blue-100 transition-colors flex items-center justify-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4"})," Call"]})]})]}),s.jsxs("div",{className:"hidden lg:block bg-white rounded-2xl shadow-sm p-6 overflow-hidden relative",children:[s.jsx("div",{className:"absolute top-0 right-0 p-3",children:s.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center",children:s.jsx(ka,{className:"w-4 h-4 text-blue-600"})})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Compatibility"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-black text-blue-600",children:"92%"}),s.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Lifestyle Match"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-sm font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:"Excellent"})})]}),s.jsx("div",{className:"w-full bg-gray-100 h-2 rounded-full overflow-hidden",children:s.jsx(Z.div,{initial:{width:0},animate:{width:"92%"},transition:{duration:1,ease:"easeOut"},className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600"})}),s.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Based on your preferences for ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Quiet Evenings"})," and ",s.jsx("span",{className:"text-gray-900 font-semibold",children:"Shared Kitchen"})," usage."]})]})]})]})})]})})]}),s.jsx(gn,{children:N&&s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative",children:[s.jsx("button",{onClick:()=>B(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors text-gray-400 hover:text-gray-600",children:s.jsx(or,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Summary"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Please review the costs before proceeding"}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 shadow-sm border border-white",children:s.jsx("img",{src:n.room_image||n.roomImage||(Array.isArray(a.images)?a.images[0]:a.image),alt:"Room",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-bold text-gray-900",children:["Room ",n.room_number||n.roomNumber]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[n.room_type,"  ",n.bed_type]}),s.jsx("p",{className:"text-[10px] text-blue-600 font-semibold mt-0.5",children:a.property_name})]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Monthly Rent"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",n.rent]})]}),s.jsxs("div",{className:"flex justify-between items-center text-gray-600",children:[s.jsx("span",{children:"Security Deposit"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",a.security_deposit||0]})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-100 flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-900 font-bold",children:"Total Amount"}),s.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",parseFloat(n.rent)+parseFloat(a.security_deposit||0)]})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-xl p-5 mb-8",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(b4,{className:"w-6 h-6 text-blue-600 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Booking Fee: 10%"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1 leading-relaxed",children:["You need to pay ",((parseFloat(n.rent)+parseFloat(a.security_deposit||0))*.1).toFixed(2)," to reserve this room. This amount will be adjusted in your first month's payment."]})]})]})}),s.jsx("button",{onClick:le,disabled:y,className:"w-full py-4 bg-blue-600 text-white rounded-xl font-bold text-lg hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02]",children:y?s.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):s.jsxs(s.Fragment,{children:["Pay ",((parseFloat(n.rent)+parseFloat(a.security_deposit||0))*.1).toFixed(2)," & Book Now"]})}),s.jsx("p",{className:"text-center text-xs text-gray-400 mt-5",children:"By proceeding, you agree to Lyvo's Terms and Conditions"})]})]})})})]})},Bbe=()=>{const e=cr(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState("");_.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const c="http://localhost:5000/api/property";console.log("Fetching rooms from:",`${c}/api/debug/rooms`);const d=await fetch(`${c}/api/debug/rooms`,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log("Response status:",d.status),!d.ok){const A=await d.text();throw new Error(`HTTP error! status: ${d.status} - ${A}`)}const u=await d.json();if(console.log("Rooms data:",u),u.success&&u.rooms)r(u.rooms);else throw new Error(u.message||"Failed to fetch rooms")}catch(c){console.error("Error fetching rooms:",c),o(c.message)}finally{i(!1)}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading rooms..."})]})}):a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Rooms"}),s.jsx("p",{className:"text-gray-600 mb-6",children:a}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Room Debug - Available Rooms"}),s.jsx("button",{onClick:()=>e("/seeker/dashboard"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Dashboard"})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("p",{className:"text-gray-600",children:["Found ",t.length," rooms in the database"]})}),t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No rooms found"}),s.jsx("p",{className:"text-gray-600",children:"There are no rooms in the database."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Room ",c.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Type: ",c.room_type]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Room ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c._id})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Property ID:"}),s.jsx("p",{className:"text-xs text-gray-500 break-all",children:c.property_id})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:c.approval_status})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>e(`/seeker/room/${c._id}`),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"View Room Details"})})]},c._id))})]})})})},Sbe=r6("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),wn=_.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?Jue:"button";return s.jsx(o,{className:dn(Sbe({variant:t,size:r,className:e})),ref:a,...i})});wn.displayName="Button";const Wd=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Wd.displayName="Card";const gf=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("flex flex-col space-y-1.5 p-6",e),...t}));gf.displayName="CardHeader";const xf=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("font-semibold leading-none tracking-tight",e),...t}));xf.displayName="CardTitle";const kbe=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("text-sm text-muted-foreground",e),...t}));kbe.displayName="CardDescription";const Gd=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("p-6 pt-0",e),...t}));Gd.displayName="CardContent";const Ebe=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("flex items-center p-6 pt-0",e),...t}));Ebe.displayName="CardFooter";const Pbe=r6("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),S2=_.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:dn(Pbe({variant:t}),e),...r}));S2.displayName="Alert";const Ibe=_.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:dn("mb-1 font-medium leading-none tracking-tight",e),...t}));Ibe.displayName="AlertTitle";const k2=_.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:dn("text-sm [&_p]:leading-relaxed",e),...t}));k2.displayName="AlertDescription";var Tbe=y3[" useId ".trim().toString()]||(()=>{}),Obe=0;function Pp(e){const[t,r]=_.useState(Tbe());return Ri(()=>{r(n=>n??String(Obe++))},[e]),t?`radix-${t}`:""}var IC="focusScope.autoFocusOnMount",TC="focusScope.autoFocusOnUnmount",DU={bubbles:!1,cancelable:!0},Lbe="FocusScope",O6=_.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=_.useState(null),d=Ac(i),u=Ac(a),A=_.useRef(null),f=ps(t,p=>c(p)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?A.current=j:ih(A.current,{select:!0})},v=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||ih(A.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ih(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[n,l,m.paused]),_.useEffect(()=>{if(l){$U.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(IC,DU);l.addEventListener(IC,d),l.dispatchEvent(y),y.defaultPrevented||(Fbe(Qbe(RG(l)),{select:!0}),document.activeElement===p&&ih(l))}return()=>{l.removeEventListener(IC,d),setTimeout(()=>{const y=new CustomEvent(TC,DU);l.addEventListener(TC,u),l.dispatchEvent(y),y.defaultPrevented||ih(p??document.body,{select:!0}),l.removeEventListener(TC,u),$U.remove(m)},0)}}},[l,d,u,m]);const x=_.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(v&&y){const b=p.currentTarget,[w,j]=Ube(b);w&&j?!p.shiftKey&&y===j?(p.preventDefault(),r&&ih(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),r&&ih(j,{select:!0})):y===b&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(qr.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});O6.displayName=Lbe;function Fbe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ih(n,{select:t}),document.activeElement!==r)return}function Ube(e){const t=RG(e),r=QU(t,e),n=QU(t.reverse(),e);return[r,n]}function RG(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function QU(e,t){for(const r of e)if(!Rbe(r,{upTo:t}))return r}function Rbe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mbe(e){return e instanceof HTMLInputElement&&"select"in e}function ih(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Mbe(e)&&t&&e.select()}}var $U=Dbe();function Dbe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=HU(e,t),e.unshift(t)},remove(t){var r;e=HU(e,t),(r=e[0])==null||r.resume()}}}function HU(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Qbe(e){return e.filter(t=>t.tagName!=="A")}var OC=0;function MG(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zU()),document.body.insertAdjacentElement("beforeend",e[1]??zU()),OC++,()=>{OC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),OC--}},[])}function zU(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hc=function(){return Hc=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Hc.apply(this,arguments)};function DG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function $be(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var w1="right-scroll-bar-position",j1="width-before-scroll-bar",Hbe="with-scroll-bars-hidden",zbe="--removed-body-scroll-bar-size";function LC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Vbe(e,t){var r=_.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var Kbe=typeof window<"u"?_.useLayoutEffect:_.useEffect,VU=new WeakMap;function Wbe(e,t){var r=Vbe(null,function(n){return e.forEach(function(i){return LC(i,n)})});return Kbe(function(){var n=VU.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||LC(l,null)}),a.forEach(function(l){i.has(l)||LC(l,o)})}VU.set(r,e)},[e]),r}function Gbe(e){return e}function qbe(e,t){t===void 0&&(t=Gbe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return i}function Ybe(e){e===void 0&&(e={});var t=qbe(null);return t.options=Hc({async:!0,ssr:!1},e),t}var QG=function(e){var t=e.sideCar,r=DG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Hc({},r))};QG.isSideCarExport=!0;function Xbe(e,t){return e.useMedium(t),QG}var $G=Ybe(),FC=function(){},GN=_.forwardRef(function(e,t){var r=_.useRef(null),n=_.useState({onScrollCapture:FC,onWheelCapture:FC,onTouchMoveCapture:FC}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,A=e.shards,f=e.sideCar,m=e.noRelative,x=e.noIsolation,p=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,j=DG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,B=Wbe([r,t]),I=Hc(Hc({},j),i);return _.createElement(_.Fragment,null,u&&_.createElement(N,{sideCar:$G,removeScrollBar:d,shards:A,noRelative:m,noIsolation:x,inert:p,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?_.cloneElement(_.Children.only(l),Hc(Hc({},I),{ref:B})):_.createElement(b,Hc({},I,{className:c,ref:B}),l))});GN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};GN.classNames={fullWidth:j1,zeroRight:w1};var Jbe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zbe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Jbe();return t&&e.setAttribute("nonce",t),e}function ewe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function twe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rwe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Zbe())&&(ewe(t,r),twe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nwe=function(){var e=rwe();return function(t,r){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},HG=function(){var e=nwe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},swe={left:0,top:0,right:0,gap:0},UC=function(e){return parseInt(e||"",10)||0},iwe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[UC(r),UC(n),UC(i)]},awe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return swe;var t=iwe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},owe=HG(),Ip="data-scroll-locked",lwe=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Hbe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ip,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(w1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(j1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(w1," .").concat(w1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(j1," .").concat(j1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ip,`] {
    `).concat(zbe,": ").concat(l,`px;
  }
`)},KU=function(){var e=parseInt(document.body.getAttribute(Ip)||"0",10);return isFinite(e)?e:0},cwe=function(){_.useEffect(function(){return document.body.setAttribute(Ip,(KU()+1).toString()),function(){var e=KU()-1;e<=0?document.body.removeAttribute(Ip):document.body.setAttribute(Ip,e.toString())}},[])},dwe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;cwe();var a=_.useMemo(function(){return awe(i)},[i]);return _.createElement(owe,{styles:lwe(a,!t,i,r?"":"!important")})},X4=!1;if(typeof window<"u")try{var Gb=Object.defineProperty({},"passive",{get:function(){return X4=!0,!0}});window.addEventListener("test",Gb,Gb),window.removeEventListener("test",Gb,Gb)}catch{X4=!1}var Sm=X4?{passive:!1}:!1,uwe=function(e){return e.tagName==="TEXTAREA"},zG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uwe(e)&&r[t]==="visible")},hwe=function(e){return zG(e,"overflowY")},Awe=function(e){return zG(e,"overflowX")},WU=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=VG(e,n);if(i){var a=KG(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},fwe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},mwe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},VG=function(e,t){return e==="v"?hwe(t):Awe(t)},KG=function(e,t){return e==="v"?fwe(t):mwe(t)},pwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},gwe=function(e,t,r,n,i){var a=pwe(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,u=o>0,A=0,f=0;do{if(!l)break;var m=KG(e,l),x=m[0],p=m[1],v=m[2],y=p-v-a*x;(x||y)&&VG(e,l)&&(A+=y,f+=x);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(A)<1||!u&&Math.abs(f)<1)&&(d=!0),d},qb=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GU=function(e){return[e.deltaX,e.deltaY]},qU=function(e){return e&&"current"in e?e.current:e},xwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ywe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vwe=0,km=[];function bwe(e){var t=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(vwe++)[0],a=_.useState(HG)[0],o=_.useRef(e);_.useEffect(function(){o.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=$be([e.lockRef.current],(e.shards||[]).map(qU),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=_.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=qb(p),b=r.current,w="deltaX"in p?p.deltaX:b[0]-y[0],j="deltaY"in p?p.deltaY:b[1]-y[1],N,B=p.target,I=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&I==="h"&&B.type==="range")return!1;var P=window.getSelection(),T=P&&P.anchorNode,U=T?T===B||T.contains(B):!1;if(U)return!1;var k=WU(I,B);if(!k)return!0;if(k?N=I:(N=I==="v"?"h":"v",k=WU(I,B)),!k)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=N),!N)return!0;var E=n.current||N;return gwe(E,v,p,E==="h"?w:j)},[]),c=_.useCallback(function(p){var v=p;if(!(!km.length||km[km.length-1]!==a)){var y="deltaY"in v?GU(v):qb(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&xwe(N.delta,y)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(qU).filter(Boolean).filter(function(N){return N.contains(v.target)}),j=w.length>0?l(v,w[0]):!o.current.noIsolation;j&&v.cancelable&&v.preventDefault()}}},[]),d=_.useCallback(function(p,v,y,b){var w={name:p,delta:v,target:y,should:b,shadowParent:wwe(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=_.useCallback(function(p){r.current=qb(p),n.current=void 0},[]),A=_.useCallback(function(p){d(p.type,GU(p),p.target,l(p,e.lockRef.current))},[]),f=_.useCallback(function(p){d(p.type,qb(p),p.target,l(p,e.lockRef.current))},[]);_.useEffect(function(){return km.push(a),e.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Sm),document.addEventListener("touchmove",c,Sm),document.addEventListener("touchstart",u,Sm),function(){km=km.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Sm),document.removeEventListener("touchmove",c,Sm),document.removeEventListener("touchstart",u,Sm)}},[]);var m=e.removeScrollBar,x=e.inert;return _.createElement(_.Fragment,null,x?_.createElement(a,{styles:ywe(i)}):null,m?_.createElement(dwe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function wwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jwe=Xbe($G,bwe);var L6=_.forwardRef(function(e,t){return _.createElement(GN,Hc({},e,{ref:t,sideCar:jwe}))});L6.classNames=GN.classNames;var Nwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Em=new WeakMap,Yb=new WeakMap,Xb={},RC=0,WG=function(e){return e&&(e.host||WG(e.parentNode))},_we=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=WG(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Cwe=function(e,t,r,n){var i=_we(t,Array.isArray(e)?e:[e]);Xb[r]||(Xb[r]=new WeakMap);var a=Xb[r],o=[],l=new Set,c=new Set(i),d=function(A){!A||l.has(A)||(l.add(A),d(A.parentNode))};i.forEach(d);var u=function(A){!A||c.has(A)||Array.prototype.forEach.call(A.children,function(f){if(l.has(f))u(f);else try{var m=f.getAttribute(n),x=m!==null&&m!=="false",p=(Em.get(f)||0)+1,v=(a.get(f)||0)+1;Em.set(f,p),a.set(f,v),o.push(f),p===1&&x&&Yb.set(f,!0),v===1&&f.setAttribute(r,"true"),x||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(t),l.clear(),RC++,function(){o.forEach(function(A){var f=Em.get(A)-1,m=a.get(A)-1;Em.set(A,f),a.set(A,m),f||(Yb.has(A)||A.removeAttribute(n),Yb.delete(A)),m||A.removeAttribute(r)}),RC--,RC||(Em=new WeakMap,Em=new WeakMap,Yb=new WeakMap,Xb={})}},GG=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Nwe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),Cwe(n,i,r,"aria-hidden")):function(){return null}},qN="Dialog",[qG]=kv(qN),[Bwe,vc]=qG(qN),YG=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=_.useRef(null),c=_.useRef(null),[d,u]=p2({prop:n,defaultProp:i??!1,onChange:a,caller:qN});return s.jsx(Bwe,{scope:t,triggerRef:l,contentRef:c,contentId:Pp(),titleId:Pp(),descriptionId:Pp(),open:d,onOpenChange:u,onOpenToggle:_.useCallback(()=>u(A=>!A),[u]),modal:o,children:r})};YG.displayName=qN;var XG="DialogTrigger",Swe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vc(XG,r),a=ps(t,i.triggerRef);return s.jsx(qr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":R6(i.open),...n,ref:a,onClick:Dr(e.onClick,i.onOpenToggle)})});Swe.displayName=XG;var F6="DialogPortal",[kwe,JG]=qG(F6,{forceMount:void 0}),ZG=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=vc(F6,t);return s.jsx(kwe,{scope:t,forceMount:r,children:_.Children.map(n,o=>s.jsx(Ev,{present:r||a.open,children:s.jsx(SN,{asChild:!0,container:i,children:o})}))})};ZG.displayName=F6;var E2="DialogOverlay",eq=_.forwardRef((e,t)=>{const r=JG(E2,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=vc(E2,e.__scopeDialog);return a.modal?s.jsx(Ev,{present:n||a.open,children:s.jsx(Pwe,{...i,ref:t})}):null});eq.displayName=E2;var Ewe=tg("DialogOverlay.RemoveScroll"),Pwe=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vc(E2,r);return s.jsx(L6,{as:Ewe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(qr.div,{"data-state":R6(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Mf="DialogContent",tq=_.forwardRef((e,t)=>{const r=JG(Mf,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=vc(Mf,e.__scopeDialog);return s.jsx(Ev,{present:n||a.open,children:a.modal?s.jsx(Iwe,{...i,ref:t}):s.jsx(Twe,{...i,ref:t})})});tq.displayName=Mf;var Iwe=_.forwardRef((e,t)=>{const r=vc(Mf,e.__scopeDialog),n=_.useRef(null),i=ps(t,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return GG(a)},[]),s.jsx(rq,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Dr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Dr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Dr(e.onFocusOutside,a=>a.preventDefault())})}),Twe=_.forwardRef((e,t)=>{const r=vc(Mf,e.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return s.jsx(rq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),rq=_.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=vc(Mf,r),c=_.useRef(null),d=ps(t,c);return MG(),s.jsxs(s.Fragment,{children:[s.jsx(O6,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(BN,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":R6(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Owe,{titleId:l.titleId}),s.jsx(Fwe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),U6="DialogTitle",nq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vc(U6,r);return s.jsx(qr.h2,{id:i.titleId,...n,ref:t})});nq.displayName=U6;var sq="DialogDescription",iq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vc(sq,r);return s.jsx(qr.p,{id:i.descriptionId,...n,ref:t})});iq.displayName=sq;var aq="DialogClose",oq=_.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=vc(aq,r);return s.jsx(qr.button,{type:"button",...n,ref:t,onClick:Dr(e.onClick,()=>i.onOpenChange(!1))})});oq.displayName=aq;function R6(e){return e?"open":"closed"}var lq="DialogTitleWarning",[fet,cq]=Yue(lq,{contentName:Mf,titleName:U6,docsSlug:"dialog"}),Owe=({titleId:e})=>{const t=cq(lq),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Lwe="DialogDescriptionWarning",Fwe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cq(Lwe).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Uwe=YG,Rwe=ZG,dq=eq,uq=tq,hq=nq,Aq=iq,Mwe=oq;const fq=Uwe,Dwe=Rwe,mq=_.forwardRef(({className:e,...t},r)=>s.jsx(dq,{ref:r,className:dn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));mq.displayName=dq.displayName;const M6=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Dwe,{children:[s.jsx(mq,{}),s.jsxs(uq,{ref:n,className:dn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Mwe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(or,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));M6.displayName=uq.displayName;const D6=({className:e,...t})=>s.jsx("div",{className:dn("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});D6.displayName="DialogHeader";const Q6=({className:e,...t})=>s.jsx("div",{className:dn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Q6.displayName="DialogFooter";const $6=_.forwardRef(({className:e,...t},r)=>s.jsx(hq,{ref:r,className:dn("text-lg font-semibold leading-none tracking-tight",e),...t}));$6.displayName=hq.displayName;const H6=_.forwardRef(({className:e,...t},r)=>s.jsx(Aq,{ref:r,className:dn("text-sm text-muted-foreground",e),...t}));H6.displayName=Aq.displayName;const Qwe=()=>{var $e,ot,nt,tt,Ke,it,lt,yt,Ct,wt,$t,gt;const e=cr(),{toast:t}=xc(),r=_.useRef(null),n=_.useRef(null),[i,a]=_.useState(null),[o,l]=_.useState(null),[c,d]=_.useState(!1),[u,A]=_.useState(!1),[f,m]=_.useState(null),[x,p]=_.useState(null),[v,y]=_.useState(!1),[b,w]=_.useState(""),[j,N]=_.useState("pending"),[B,I]=_.useState(null),[P,T]=_.useState(null),[U,k]=_.useState(null),[E,Q]=_.useState(!1),[F,K]=_.useState(!1),[W,D]=_.useState(null),[z,ee]=_.useState("front"),[te,le]=_.useState(null),[$,X]=_.useState(!1),[V,ne]=_.useState(!1),[ae,he]=_.useState(!1),[ge,J]=_.useState(0),[ue,fe]=_.useState(!1),Y="aadhar";_.useEffect(()=>{const mt=JSON.parse(localStorage.getItem("user")||"{}");a(mt),Ue(),Ie(),(async()=>{try{if(console.log("Checking camera availability..."),!navigator.mediaDevices){console.error("navigator.mediaDevices is not available");return}const At=await navigator.mediaDevices.enumerateDevices();console.log("Available devices on mount:",At);const rt=At.filter(ze=>ze.kind==="videoinput");if(console.log("Video devices on mount:",rt),rt.length===0?console.warn("No video devices found"):console.log("Camera devices found:",rt.length),navigator.permissions)try{const ze=await navigator.permissions.query({name:"camera"});console.log("Camera permission status:",ze.state)}catch(ze){console.log("Could not check camera permissions:",ze)}}catch(At){console.error("Error checking camera availability:",At)}})()},[]);const je=async()=>{try{if(le(null),ne(!0),X(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const mt=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",mt);const at=mt.filter(ze=>ze.kind==="videoinput");if(console.log("Video devices:",at),at.length===0)throw new Error("No camera devices found");let At={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",At);let rt;try{rt=await navigator.mediaDevices.getUserMedia(At),console.log("Camera started successfully with back camera")}catch(ze){console.log("Back camera failed, trying front camera:",ze),At.video.facingMode="user",rt=await navigator.mediaDevices.getUserMedia(At),console.log("Camera started successfully with front camera")}D(rt),K(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=rt,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),X(!0),ne(!1),r.current.play().catch(ze=>{console.error("Error playing video:",ze),le("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),X(!0),ne(!1)},r.current.onerror=ze=>{console.error("Video error:",ze),le("Video playback error"),ne(!1)},r.current.play().catch(ze=>{console.error("Error playing video:",ze)})):(console.error("Video ref is not available"),le("Video element not ready"),ne(!1))},100),console.log("Camera modal opened")}catch(mt){console.error("Error accessing camera:",mt),ne(!1);let at="Unable to access camera. ";mt.name==="NotAllowedError"?at+="Please allow camera permissions and try again.":mt.name==="NotFoundError"?at+="No camera found on this device.":mt.name==="NotSupportedError"?at+="Camera is not supported in this browser.":mt.name==="NotReadableError"?at+="Camera is being used by another application.":at+="Please check your camera settings.",le(at),t({title:"Camera Error",description:at,variant:"destructive"})}},xe=()=>{W&&(W.getTracks().forEach(mt=>mt.stop()),D(null)),K(!1),le(null),X(!1),ne(!1),r.current&&(r.current.srcObject=null)},re=()=>{if(!r.current||!n.current)return;const mt=r.current,at=n.current,At=at.getContext("2d");at.width=mt.videoWidth,at.height=mt.videoHeight,At.drawImage(mt,0,0,at.width,at.height),at.toBlob(rt=>{if(rt){const ze=new File([rt],`captured_${z}_${Date.now()}.jpg`,{type:"image/jpeg"});m(ze),p(URL.createObjectURL(rt)),xe(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},Ce=()=>{ee("front"),je()},Ie=async()=>{var mt;try{Q(!0);const at=localStorage.getItem("authToken");if(!at){console.error("No auth token found");return}const At=await fetch("http://localhost:5000/api/user/aadhar-status",{headers:{Authorization:`Bearer ${at}`,"Content-Type":"application/json"}});if(At.ok){const rt=await At.json();console.log("[FRONTEND DEBUG] Aadhar approval status response:",rt),k(rt.aadharStatus),console.log("[FRONTEND DEBUG] Set aadharApprovalStatus to:",rt.aadharStatus),console.log("[FRONTEND DEBUG] isApproved:",(mt=rt.aadharStatus)==null?void 0:mt.isApproved)}}catch(at){console.error("Error checking Aadhar approval status:",at)}finally{Q(!1)}},Ue=async()=>{try{d(!0);const mt=localStorage.getItem("authToken"),at=JSON.parse(localStorage.getItem("user")||"{}"),At=at.id||at._id;if(!At){console.error("User ID not found");return}const rt=await fetch(`http://localhost:5000/api/user/profile/${At}`,{headers:{Authorization:`Bearer ${mt}`,"Content-Type":"application/json"}});if(rt.ok){const ze=await rt.json();l(ze.kycStatus||"not_verified"),N(ze.kycStatus||"not_verified")}}catch(mt){console.error("Error checking KYC status:",mt)}finally{d(!1)}},Oe=(mt,at)=>{if(mt){if(!mt.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(mt.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{m(mt);const At=new FileReader;At.onload=rt=>p(rt.target.result),At.readAsDataURL(mt)}}},Xe=(mt,at)=>{if(!mt||!at)return{match:!1,confidence:0,reason:"Missing name data"};const At=mt.toUpperCase().trim(),rt=at.toUpperCase().trim(),ze=At.split(/\s+/).filter(Yr=>Yr.length>0),Et=rt.split(/\s+/).filter(Yr=>Yr.length>0);if(At===rt)return{match:!0,confidence:1,reason:"Exact match"};let Ft=0,_n=Math.max(ze.length,Et.length);for(const Yr of ze)for(const Cn of Et){if(Yr===Cn){Ft++;break}if(Yr.length>2&&Cn.length>2){const Lt=et(Yr,Cn);if(Lt>.8){Ft+=Lt;break}}}const er=Ft/_n;return er>=.8?{match:!0,confidence:er,reason:"High similarity match"}:er>=.5?{match:!1,confidence:er,reason:"Partial match - manual review needed"}:{match:!1,confidence:er,reason:"No significant match found"}},et=(mt,at)=>{const At=mt.toUpperCase(),rt=at.toUpperCase(),ze=At.length>rt.length?At:rt,Et=At.length>rt.length?rt:At;if(ze.length===0)return 1;const Ft=me(ze,Et);return(ze.length-Ft)/ze.length},me=(mt,at)=>{const At=[];for(let rt=0;rt<=at.length;rt++)At[rt]=[rt];for(let rt=0;rt<=mt.length;rt++)At[0][rt]=rt;for(let rt=1;rt<=at.length;rt++)for(let ze=1;ze<=mt.length;ze++)at.charAt(rt-1)===mt.charAt(ze-1)?At[rt][ze]=At[rt-1][ze-1]:At[rt][ze]=Math.min(At[rt-1][ze-1]+1,At[rt][ze-1]+1,At[rt-1][ze]+1);return At[at.length][mt.length]},Be=async()=>{var at,At;if(!f){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}A(!0),I(null),T(null),he(!0),J(0);const mt=setInterval(()=>{J(rt=>rt>=90?(clearInterval(mt),90):rt+10)},200);try{const rt=localStorage.getItem("authToken"),ze=new FormData;ze.append("frontImage",f),ze.append("idType",Y),ze.append("idNumber","");const Et=await fetch("http://localhost:5000/api/user/upload-kyc",{method:"POST",headers:{Authorization:`Bearer ${rt}`},body:ze}),Ft=await Et.json();if(Et.ok){if(clearInterval(mt),J(100),Ft.kycStatus==="rejected"){y(!0),w(Ft.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:Ft.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(I(Ft.ocrResult),(At=(at=Ft.ocrResult)==null?void 0:at.extractedData)!=null&&At.name){const _n=Xe(Ft.ocrResult.extractedData.name,(i==null?void 0:i.name)||"");T(_n)}N(Ft.kycStatus),l(Ft.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${Ft.kycStatus}`,variant:Ft.kycStatus==="approved"?"default":"destructive"}),Ue(),Ie()}else throw new Error(Ft.error||"Upload failed")}catch(rt){console.error("Error uploading KYC:",rt),clearInterval(mt),J(0),t({title:"Upload failed",description:rt.message||"Failed to upload document",variant:"destructive"})}finally{A(!1)}},Ne=mt=>{switch(mt){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},Ee=mt=>{switch(mt){case"approved":return s.jsx(jt,{className:"w-5 h-5"});case"pending":return s.jsx(Zt,{className:"w-5 h-5"});case"rejected":return s.jsx(sr,{className:"w-5 h-5"});default:return s.jsx(tr,{className:"w-5 h-5"})}};return c||E?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{children:E?"Checking verification status...":"Loading KYC status..."})]})}):U&&U.isApproved?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(wn,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Js,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center mr-4",children:s.jsx($r,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Identity Verification"}),s.jsx("p",{className:"text-gray-600",children:"Your Aadhar verification is complete"})]})]})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-8",children:s.jsxs(Wd,{className:"border-green-200 bg-green-50",children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center text-green-800",children:[s.jsx($r,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Gd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(tr,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx($r,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:($e=U.details)!=null&&$e.approvalDate?new Date(U.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),U.details&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 bg-gray-50 p-4 rounded-lg flex justify-center border border-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Verified Document"}),s.jsx("img",{src:U.details.frontImageUrl,alt:"Verified Aadhar",className:"max-h-64 rounded-lg shadow-md border-2 border-green-200 object-contain"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:U.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:U.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[U.details.overallConfidence,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Method:"}),s.jsx("span",{className:"font-medium capitalize",children:U.details.verificationMethod})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now book rooms"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(wn,{onClick:()=>e("/seeker-dashboard"),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Go to Dashboard"}),s.jsx(wn,{onClick:()=>e("/seeker-bookings"),variant:"outline",className:"flex-1",children:"View Bookings"})]})]})})]})})]})})}):s.jsxs(jr,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(wn,{variant:"ghost",onClick:()=>e("/seeker-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-full",children:s.jsx(Js,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center mr-4",children:s.jsx(tr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-gray-600",children:"Verify your identity to unlock premium features"})]})]})]})}),ae&&s.jsx(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"mb-6",children:s.jsx(Wd,{className:"border-green-200 bg-green-50",children:s.jsxs(Gd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:ge===100?s.jsx($r,{className:"w-6 h-6 text-white"}):s.jsx(oa,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ge===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:ge===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Z.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${ge}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[ge,"% Complete"]})]})})}),o&&!ae&&s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-6",children:s.jsx(S2,{className:`${Ne(o)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[Ee(o),s.jsxs(k2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",o.charAt(0).toUpperCase()+o.slice(1)]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:s.jsxs(Wd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Gd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Xp,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:x?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:x,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(wn,{variant:"destructive",size:"sm",onClick:()=>{m(null),p(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(or,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(wn,{variant:"outline",size:"sm",onClick:()=>Ce(),className:"flex items-center",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(XP,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:mt=>Oe(mt.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(wn,{variant:"outline",onClick:()=>Ce(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(wn,{onClick:Be,disabled:!f||u,className:"w-full",size:"lg",children:u?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]})}),s.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:s.jsxs(Wd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(Er,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Gd,{className:"p-6",children:B?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx($r,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(ot=B.validation)!=null&&ot.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(nt=B.validation)!=null&&nt.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(tt=B.validation)!=null&&tt.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${B.confidence>70?"text-green-600":B.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(B.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${B.verified?"text-green-600":"text-yellow-600"}`,children:B.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:B.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((Ke=B.extractedData)==null?void 0:Ke.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.name})]}),((it=B.extractedData)==null?void 0:it.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.number})]}),((lt=B.extractedData)==null?void 0:lt.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.dob})]}),((yt=B.extractedData)==null?void 0:yt.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.gender})]}),((Ct=B.extractedData)==null?void 0:Ct.mobile)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Mobile:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.extractedData.mobile})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(gue,{className:"w-5 h-5 mr-2 text-green-600"}),"Verification Status"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Overall Confidence:"}),s.jsxs("span",{className:`font-semibold ${B.confidence>70?"text-green-600":B.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(B.confidence||0),"%"]})]}),B.validation&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Aadhar Card Valid:"}),s.jsx("span",{className:`font-semibold ${B.validation.is_aadhar_card?"text-green-600":"text-red-600"}`,children:B.validation.is_aadhar_card?" Valid Aadhar Card":" Not Valid"})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Validation Details:"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Keywords:"}),s.jsx("span",{className:B.validation.has_aadhar_keywords?"text-green-600":"text-red-600",children:B.validation.has_aadhar_keywords?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Aadhar Number:"}),s.jsx("span",{className:B.validation.has_aadhar_number?"text-green-600":"text-red-600",children:B.validation.has_aadhar_number?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Name:"}),s.jsx("span",{className:B.validation.has_name?"text-green-600":"text-red-600",children:B.validation.has_name?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Date of Birth:"}),s.jsx("span",{className:B.validation.has_dob?"text-green-600":"text-red-600",children:B.validation.has_dob?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Has Gender:"}),s.jsx("span",{className:B.validation.has_gender?"text-green-600":"text-red-600",children:B.validation.has_gender?"":""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Validation Score:"}),s.jsxs("span",{className:`font-semibold ${B.validation.confidence_score>70?"text-green-600":B.validation.confidence_score>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(B.validation.confidence_score||0),"%"]})]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Final Status:"}),s.jsx("span",{className:`font-semibold ${B.verified?"text-green-600":"text-yellow-600"}`,children:B.verified?" Verified & Approved":" Under Review"})]})]})]}),P&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(ar,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(i==null?void 0:i.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((wt=B.extractedData)==null?void 0:wt.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${P.match?"text-green-600":"text-red-600"}`,children:P.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(P.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:P.reason})]})]}),B.rawText&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>fe(!ue),children:[s.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-gray-600"}),"Extracted Text"]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsxs("span",{className:"mr-2",children:[B.rawText.length," characters"]}),s.jsx("span",{className:`transform transition-transform ${ue?"rotate-180":""}`,children:""})]})]}),ue&&s.jsxs("div",{className:"mt-4 bg-white rounded-lg p-4 border",children:[s.jsx("div",{className:"text-sm text-gray-700 leading-relaxed max-h-60 overflow-y-auto whitespace-pre-wrap",children:B.rawText}),s.jsxs("div",{className:"mt-3 flex justify-between items-center text-xs text-gray-500",children:[s.jsx("span",{children:"Raw OCR output from Tesseract"}),s.jsx(wn,{variant:"ghost",size:"sm",onClick:()=>navigator.clipboard.writeText(B.rawText),className:"text-blue-600 hover:text-blue-700",children:"Copy Text"})]})]})]}),B.ocrDetails&&s.jsxs("div",{className:"p-4 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(Er,{className:"w-5 h-5 mr-2 text-blue-600"}),"OCR Processing Details"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Text Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(B.ocrDetails.text_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Field Extraction:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(B.ocrDetails.field_extraction_confidence||0),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Validation Score:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(B.ocrDetails.validation_confidence||0),"%"]})]})]})]}),((gt=($t=B.verificationDetails)==null?void 0:$t.missing_fields)==null?void 0:gt.length)>0&&s.jsxs(S2,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx(eg,{className:"w-4 h-4 text-yellow-600"}),s.jsxs(k2,{className:"text-yellow-800",children:[s.jsx("strong",{children:"Missing Information:"})," The following fields could not be extracted: ",B.verificationDetails.missing_fields.join(", ")]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(tr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})})]}),F&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(wn,{variant:"ghost",size:"sm",onClick:xe,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(or,{className:"w-5 h-5"})})]}),te?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(Zt,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:te}),s.jsx(wn,{onClick:je,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[V&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${$?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),$&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!$&&!V&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(ts,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Zt,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(wn,{onClick:re,disabled:!$||V,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ts,{className:"w-5 h-5 mr-2"}),V?"Starting Camera...":$?"Capture Photo":"Camera Not Ready"]}),s.jsx(wn,{onClick:xe,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-8 flex justify-center space-x-4",children:[s.jsx(wn,{variant:"outline",onClick:()=>e("/seeker-dashboard"),children:"Back to Dashboard"}),o==="approved"&&s.jsx(wn,{onClick:()=>e("/seeker-dashboard"),className:"bg-green-600 hover:bg-green-700",children:"Continue to Booking"})]})]})}),s.jsx(fq,{open:v,onOpenChange:y,children:s.jsxs(M6,{className:"sm:max-w-md",children:[s.jsxs(D6,{children:[s.jsxs($6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Zt,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx(H6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:b})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs(Q6,{className:"flex gap-2",children:[s.jsx(wn,{variant:"outline",onClick:()=>y(!1),children:"Close"}),s.jsx(wn,{onClick:()=>{y(!1),m(null),p(null),I(null),T(null),J(0)},children:"Try Again"})]})]})})]})},$we=()=>{cr();const[e,t]=_.useState(null),[r,n]=_.useState(!0),[i,a]=_.useState(null),[o,l]=_.useState(""),[c,d]=_.useState(""),[u,A]=_.useState([]),[f,m]=_.useState([]),[x,p]=_.useState(!1),[v,y]=_.useState(!1),[b,w]=_.useState("disconnected"),j=_.useRef(null),N=_.useRef(null);_.useEffect(()=>{const F=JSON.parse(localStorage.getItem("user")||"{}");t(F);const K=localStorage.getItem("authToken");return K?(Pr.connect(K),Pr.on("connected",()=>{w("connected"),B()}),Pr.on("disconnected",()=>{w("disconnected")}),Pr.on("error",W=>{console.error("Chat service error:",W),w("error")}),Pr.on("receive_message",W=>{console.log("Received message:",W),m(D=>[...D,W]),A(D=>D.map(z=>z.chatId===W.chatId?{...z,lastMessage:W.content,lastMessageTime:new Date(W.createdAt).toLocaleTimeString(),unreadCount:W.senderId!==F.id?(z.unreadCount||0)+1:z.unreadCount}:z))}),Pr.on("messages_read",W=>{console.log("Messages read:",W),m(D=>D.map(z=>W.messageIds.includes(z.messageId)?{...z,readBy:[...z.readBy||[],W.readBy]}:z))}),Pr.on("user_typing",W=>{y(W.isTyping)}),Pr.on("chat_joined",W=>{console.log("Joined chat:",W)}),B()):n(!1),()=>{Pr.disconnect()}},[]);const B=async()=>{try{n(!0);const F=JSON.parse(localStorage.getItem("user")||"{}"),W=(await Pr.getUserChats(F.id||F._id)).map(D=>{var z,ee,te,le,$,X,V,ne,ae,he,ge;return{chatId:D.chatId,bookingId:D.bookingId,owner:{id:((z=D.otherParticipant)==null?void 0:z.id)||D.otherParticipantId,name:((ee=D.otherParticipant)==null?void 0:ee.name)||`Owner ${((te=D.otherParticipantId)==null?void 0:te.slice(-4))||"Unknown"}`,email:(le=D.otherParticipant)==null?void 0:le.email,phone:($=D.otherParticipant)==null?void 0:$.phone,avatar:((X=D.otherParticipant)==null?void 0:X.avatar)||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",property:((V=D.propertyDetails)==null?void 0:V.name)||`Property ${((ne=D.bookingId)==null?void 0:ne.slice(-4))||"Unknown"}`,address:(ae=D.propertyDetails)==null?void 0:ae.address,status:"online"},propertyDetails:D.propertyDetails,bookingDetails:D.bookingDetails,lastMessage:((he=D.lastMessage)==null?void 0:he.content)||"No messages yet",lastMessageTime:(ge=D.lastMessage)!=null&&ge.createdAt?new Date(D.lastMessage.createdAt).toLocaleTimeString():"No messages",unreadCount:D.unreadCount||0,status:D.status}});A(W)}catch(F){console.error("Error loading chats:",F)}finally{n(!1)}},I=async F=>{try{const K=await Pr.getChatMessages(F);m(K),Pr.joinChat(F),Pr.markAsRead()}catch(K){console.error("Error loading chat messages:",K)}},P=F=>{a(F),I(F.chatId),A(K=>K.map(W=>W.chatId===F.chatId?{...W,unreadCount:0}:W))},T=()=>{o.trim()&&i&&(Pr.sendMessage(o.trim()),l(""),N.current&&clearTimeout(N.current),Pr.setTyping(!1))},U=F=>{l(F.target.value),i&&(Pr.setTyping(!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{Pr.setTyping(!1)},2e3))},k=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),T())},E=()=>{var F;(F=j.current)==null||F.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{E()},[f]);const Q=u.filter(F=>F.owner.name.toLowerCase().includes(c.toLowerCase())||F.owner.property.toLowerCase().includes(c.toLowerCase()));return r?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-8 h-8 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading messages..."})]})})}):s.jsx(jr,{hideFooter:!0,children:s.jsxs("div",{className:"fixed inset-0 top-16 left-0 lg:left-64 bg-gray-100 overflow-hidden",children:[s.jsxs("div",{className:`px-4 py-2 text-sm text-center ${b==="connected"?"bg-green-100 text-green-800":b==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[b==="connected"&&" Connected to chat service",b==="error"&&" Connection error - Retrying...",b==="disconnected"&&" Connecting to chat service..."]}),s.jsxs("div",{className:"flex h-[calc(100vh-5rem)]",children:[s.jsxs("div",{className:`${i?"hidden lg:flex lg:w-80":"flex w-full lg:w-80"} bg-white border-r border-gray-200 flex-col`,children:[s.jsx("div",{className:"p-4 bg-red-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg sm:text-xl font-semibold",children:"Messages"}),s.jsx("p",{className:"text-xs sm:text-sm text-red-100",children:"Chat with property owners"})]}),s.jsx("button",{onClick:B,className:"p-2 hover:bg-red-700 rounded-lg transition-colors",title:"Refresh chats",children:s.jsx(la,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search owners...",value:c,onChange:F=>d(F.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:Q.length===0?s.jsx("div",{className:"flex items-center justify-center h-full p-4",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No conversations yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Chats will appear here after booking approval"})]})}):s.jsx("div",{className:"divide-y divide-gray-100",children:Q.map(F=>s.jsx(Z.div,{whileHover:{backgroundColor:"#f9fafb"},className:`p-4 cursor-pointer transition-colors ${(i==null?void 0:i.chatId)===F.chatId?"bg-red-50 border-r-4 border-r-red-500":"hover:bg-gray-50"}`,onClick:()=>P(F),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("img",{src:F.owner.avatar,alt:F.owner.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${F.owner.status==="online"?"bg-green-500":"bg-gray-400"}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:F.owner.name}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:F.lastMessageTime})]}),s.jsx("p",{className:"text-xs text-gray-600 truncate mb-2",children:F.owner.property}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-600 truncate flex-1 mr-2",children:F.lastMessage}),F.unreadCount>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center flex-shrink-0",children:F.unreadCount})]})]})]})},F.chatId))})})]}),s.jsx("div",{className:`${i?"flex flex-col w-full lg:flex-1":"hidden lg:flex lg:flex-1"} bg-white`,children:i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-white border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>a(null),className:"lg:hidden p-1 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:"Back to conversations",children:s.jsx(Js,{className:"w-5 h-5 text-gray-600"})}),s.jsx("img",{src:i.owner.avatar,alt:i.owner.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:i.owner.name}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:i.owner.property})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Call",children:s.jsx(ms,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Video call",children:s.jsx(RV,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"More options",children:s.jsx(Bv,{className:"w-5 h-5 text-gray-600"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[f.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No messages yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Start the conversation!"})]})}):s.jsxs("div",{className:"space-y-3 px-4 py-4",children:[f.map(F=>{const K=(e==null?void 0:e.id)||(e==null?void 0:e._id),W=F.senderId||F.sender,D=String(W)===String(K);return s.jsx("div",{className:`flex ${D?"justify-end":"justify-start"} mb-3`,children:s.jsxs("div",{className:`max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg px-4 py-3 rounded-2xl ${D?"bg-red-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[s.jsx("p",{className:"text-sm leading-relaxed break-words",children:F.content}),s.jsxs("div",{className:`flex items-center mt-2 space-x-1 ${D?"justify-end":"justify-start"}`,children:[s.jsx("span",{className:"text-xs opacity-70",children:new Date(F.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),D&&s.jsx(EV,{className:"w-3 h-3 opacity-70"})]})]})},F.messageId||F.id)}),v&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-3 rounded-2xl rounded-bl-md",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsx("div",{ref:j})]}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"Attach file",children:s.jsx(IV,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{value:o,onChange:U,onKeyPress:k,placeholder:"Type a message...",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none min-h-[44px] max-h-32",rows:"1",disabled:b!=="connected",style:{height:"auto",overflow:"hidden"},onInput:F=>{F.target.style.height="auto",F.target.style.height=Math.min(F.target.scrollHeight,128)+"px"}}),s.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-200 rounded-lg transition-colors",title:"Emoji",children:s.jsx(FV,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("button",{onClick:T,disabled:!o.trim()||b!=="connected",className:"p-3 bg-red-600 text-white rounded-full hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-shrink-0",title:"Send message",children:s.jsx(qh,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),s.jsx("p",{className:"text-sm",children:"Choose a chat to start messaging"})]})})})]})]})})},Hwe=()=>{var A,f,m,x;const{tenantData:e,loading:t}=sm(),[r,n]=_.useState(new Date);if(_.useEffect(()=>{const p=setInterval(()=>n(new Date),1e3);return()=>clearInterval(p)},[]),t)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-red-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})})});if(!e)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Zt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:i,room:a}=e,o=Math.floor((new Date-new Date(e.actualCheckInDate))/(1e3*60*60*24)),l=new Date(e.actualCheckInDate);l.setMonth(l.getMonth()+1);const c=Math.ceil((l-new Date)/(1e3*60*60*24)),d=p=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(p||0),u=p=>p?new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-rose-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:"Welcome Home! "}),s.jsxs("p",{className:"text-red-100 text-lg",children:["You've been a tenant for ",o," days"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-red-100 text-sm",children:"Current Time"}),s.jsx("p",{className:"text-2xl font-bold",children:r.toLocaleTimeString()}),s.jsx("p",{className:"text-red-100 text-sm",children:r.toLocaleDateString()})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-400",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:d(e.monthlyRent)})]}),s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(ti,{className:"w-6 h-6 text-red-500"})})]})}),s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Next Rent Due"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[c," days"]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Or,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["Room ",a==null?void 0:a.roomNumber]})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(ua,{className:"w-6 h-6 text-purple-600"})})]})}),s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Status"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1 capitalize",children:e.status})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(jt,{className:"w-6 h-6 text-orange-600"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-rose-500 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Ir,{className:"w-6 h-6 mr-2"}),"Your Room"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[(a==null?void 0:a.roomImage)&&s.jsx("div",{className:"md:w-1/3",children:s.jsx("img",{src:a.roomImage,alt:"Your Room",className:"w-full h-48 object-cover rounded-xl shadow-md"})}),s.jsx("div",{className:"flex-1 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["Room ",a==null?void 0:a.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:a==null?void 0:a.roomType})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-lg font-semibold text-green-600",children:d(a==null?void 0:a.rent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:u(e.actualCheckInDate)})]})]})})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(Jr,{className:"w-6 h-6 mr-2"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-xl font-semibold text-gray-900",children:i==null?void 0:i.propertyName})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 font-medium flex items-center",children:[s.jsx(wr,{className:"w-4 h-4 mr-1"}),"Address"]}),s.jsx("p",{className:"text-base text-gray-700",children:typeof(i==null?void 0:i.address)=="string"?i.address:`${((A=i==null?void 0:i.address)==null?void 0:A.street)||""}, ${((f=i==null?void 0:i.address)==null?void 0:f.city)||""}, ${((m=i==null?void 0:i.address)==null?void 0:m.state)||""} ${((x=i==null?void 0:i.address)==null?void 0:x.pincode)||""}`})]})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-6",children:s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[s.jsx(ti,{className:"w-6 h-6 mr-2"}),"Payment Information"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:d(e.monthlyRent)})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-red-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-red-900",children:d(e.securityDeposit)})]}),s.jsxs("div",{className:"bg-purple-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Next Payment Due"}),s.jsx("p",{className:"text-lg font-bold text-purple-900",children:u(l)}),s.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["In ",c," days"]})]}),s.jsxs("div",{className:"bg-orange-50 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-orange-700 font-medium mb-1",children:"Total Paid"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:d(e.amountPaid)})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(ar,{className:"w-5 h-5 mr-2"}),"Property Owner"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(ar,{className:"w-10 h-10 text-indigo-600"})}),s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.ownerName})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Call Owner"]}),s.jsxs("button",{className:"w-full bg-red-500 text-white py-3 px-4 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.9},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 p-4",children:s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center",children:[s.jsx(nu,{className:"w-5 h-5 mr-2"}),"Quick Actions"]})}),s.jsxs("div",{className:"p-6 space-y-3",children:[s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(zd,{className:"w-4 h-4 mr-3 text-orange-600"}),s.jsx("span",{className:"font-medium",children:"Request Maintenance"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(ks,{className:"w-4 h-4 mr-3 text-red-500"}),s.jsx("span",{className:"font-medium",children:"View Agreement"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(Au,{className:"w-4 h-4 mr-3 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Payment History"})]}),s.jsxs("button",{className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 py-3 px-4 rounded-lg transition-colors flex items-center",children:[s.jsx(tr,{className:"w-4 h-4 mr-3 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Property Rules"})]})]})]}),s.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1},className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl shadow-xl p-6 border-2 border-yellow-200",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Zt,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Reminder"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Your next rent payment of ",d(e.monthlyRent)," is due on ",u(l),"."]})]})]})})]})]})]})})})},zwe=()=>{const{tenantData:e,loading:t}=sm(),[r,n]=_.useState("all"),[i,a]=_.useState([{id:1,month:"January 2025",amount:12e3,dueDate:"2025-01-05",paidDate:"2025-01-03",status:"paid",paymentMethod:"UPI",transactionId:"TXN123456789"},{id:2,month:"December 2024",amount:12e3,dueDate:"2024-12-05",paidDate:"2024-12-04",status:"paid",paymentMethod:"Bank Transfer",transactionId:"TXN123456788"},{id:3,month:"November 2024",amount:12e3,dueDate:"2024-11-05",paidDate:"2024-11-02",status:"paid",paymentMethod:"UPI",transactionId:"TXN123456787"}]),o=u=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(u||0),l=u=>u?new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",c=i.filter(u=>r==="all"?!0:u.status===r),d=i.filter(u=>u.status==="paid").reduce((u,A)=>u+A.amount,0);return t?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment history..."})]})})}):s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(ti,{className:"w-10 h-10 mr-3"}),"Payment History"]}),s.jsx("p",{className:"text-green-100 text-lg",children:"Track all your rent payments"})]}),s.jsxs("div",{className:"text-right bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-green-100 text-sm",children:"Total Paid"}),s.jsx("p",{className:"text-3xl font-bold",children:o(d)})]})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Payments Made"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:i.filter(u=>u.status==="paid").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(jt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o(e==null?void 0:e.monthlyRent)})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Au,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o(e==null?void 0:e.securityDeposit)})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Xp,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-6 flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m2,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Filter:"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All"}),s.jsx("button",{onClick:()=>n("paid"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="paid"?"bg-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Paid"}),s.jsx("button",{onClick:()=>n("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r==="pending"?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Pending"})]})]}),s.jsx("div",{className:"space-y-4",children:c.map((u,A)=>s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+A*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${u.status==="paid"?"bg-green-100":"bg-orange-100"}`,children:u.status==="paid"?s.jsx(jt,{className:"w-6 h-6 text-green-600"}):s.jsx(ns,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.month}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Due: ",l(u.dueDate)]}),u.paidDate&&s.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Paid: ",l(u.paidDate)]})]})]}),s.jsxs("div",{className:"flex flex-col md:items-end gap-2",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o(u.amount)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.status==="paid"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:u.status==="paid"?"Paid":"Pending"}),u.paymentMethod&&s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u.paymentMethod})]}),u.transactionId&&s.jsxs("p",{className:"text-xs text-gray-500",children:["TXN: ",u.transactionId]})]})]}),u.status==="paid"&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 flex justify-end",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(tu,{className:"w-4 h-4"}),"Download Receipt"]})})]})},u.id))}),c.length===0&&s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Zt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No payments found"})]})]})})})},MC="http://localhost:5000/api",Vwe=()=>{const{tenantData:e,loading:t}=sm(),[r,n]=_.useState([]),[i,a]=_.useState(!0),[o,l]=_.useState(!1),[c,d]=_.useState({open:!1,id:null}),[u,A]=_.useState({title:"",category:"",priority:"medium",description:"",images:[]}),f=async()=>{try{const j=Jc(),N=await xr.get(`${MC}/maintenance/tenant`,{headers:{Authorization:`Bearer ${j}`}});n(N.data)}catch(j){console.error("Error fetching requests:",j)}};_.useEffect(()=>{e?f():t||a(!1)},[e,t]);const m=["Plumbing","Electrical","Carpentry","Painting","Cleaning","Appliances","Other"],x=async j=>{var N,B;j.preventDefault(),a(!0);try{const I=Jc();await xr.post(`${MC}/maintenance`,u,{headers:{Authorization:`Bearer ${I}`}}),await f(),A({title:"",category:"",priority:"medium",description:"",images:[]}),l(!1)}catch(I){console.error("Error creating request:",I),alert("Failed to submit request: "+(((B=(N=I.response)==null?void 0:N.data)==null?void 0:B.message)||I.message))}finally{a(!1)}},p=j=>{d({open:!0,id:j})},v=async()=>{try{const j=Jc();await xr.patch(`${MC}/maintenance/${c.id}`,{status:"cancelled"},{headers:{Authorization:`Bearer ${j}`}}),await f(),d({open:!1,id:null})}catch(j){console.error("Error cancelling request:",j),alert("Failed to cancel request")}},y=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=j=>{switch(j){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return t?s.jsx(jr,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(zd,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance portal..."})]})})}):e?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-red-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-orange-600 to-red-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(zd,{className:"w-10 h-10 mr-3"}),"Maintenance Requests"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Report and track maintenance issues"})]}),s.jsx("button",{onClick:()=>l(!o),className:"bg-white text-orange-600 px-6 py-3 rounded-lg font-bold hover:bg-orange-50 transition-colors shadow-lg",children:o?"Cancel":"+ New Request"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-yellow-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Pending"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(j=>j.status==="pending").length})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"In Progress"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(j=>j.status==="in-progress").length})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(zd,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-sm font-medium",children:"Completed"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:r.filter(j=>j.status==="completed").length})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(jt,{className:"w-6 h-6 text-green-600"})})]})})]}),o&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"New Maintenance Request"}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),s.jsx("input",{type:"text",required:!0,value:u.title,onChange:j=>A({...u,title:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Brief description of the issue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),s.jsxs("select",{required:!0,value:u.category,onChange:j=>A({...u,category:j.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select category"}),m.map(j=>s.jsx("option",{value:j,children:j},j))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority *"}),s.jsx("div",{className:"flex gap-4",children:["low","medium","high"].map(j=>s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsx("input",{type:"radio",name:"priority",value:j,checked:u.priority===j,onChange:N=>A({...u,priority:N.target.value}),className:"mr-2"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium capitalize ${b(j)}`,children:j})]},j))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{required:!0,value:u.description,onChange:j=>A({...u,description:j.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Provide detailed information about the issue..."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors flex items-center gap-2",children:[s.jsx(qh,{className:"w-4 h-4"}),"Submit Request"]})]})]})]}),s.jsx("div",{className:"space-y-4",children:r.map((j,N)=>s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o?0:.4+N*.1},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${j.status==="completed"?"bg-green-100":j.status==="in-progress"?"bg-blue-100":"bg-yellow-100"}`,children:j.status==="completed"?s.jsx(jt,{className:"w-6 h-6 text-green-600"}):j.status==="in-progress"?s.jsx(zd,{className:"w-6 h-6 text-blue-600"}):s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:j.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.category})]})]}),s.jsx("p",{className:"text-gray-700 mb-3",children:j.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"w-4 h-4"}),"Created: ",w(j.createdAt)]}),j.assignedTo&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(w4,{className:"w-4 h-4"}),j.assignedTo]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${y(j.status)}`,children:j.status.replace("-"," ")}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${b(j.priority)}`,children:[j.priority," Priority"]}),j.status==="pending"&&s.jsx("button",{onClick:()=>p(j._id),className:"px-3 py-1 bg-red-50 text-red-600 rounded-full text-xs font-medium hover:bg-red-100 transition-colors border border-red-200",children:"Cancel"})]})]})})},j._id||j.id))}),r.length===0&&s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Zt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No maintenance requests yet"}),s.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Your First Request"})]}),s.jsx(gn,{children:c.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Cancel Request?"}),s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel this maintenance request? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>d({open:!1,id:null}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Keep Request"}),s.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Yes, Cancel"})]})]})})})]})})}):s.jsx(jr,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[s.jsx(Zt,{className:"w-16 h-16 text-gray-300 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600 max-w-md",children:"You need to have an active tenancy to submit maintenance requests."})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var J4=function(e,t){return J4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},J4(e,t)};function bc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");J4(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Z4=function(){return Z4=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Z4.apply(this,arguments)};function wa(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(u){try{d(n.next(u))}catch(A){o(A)}}function c(u){try{d(n.throw(u))}catch(A){o(A)}}function d(u){u.done?a(u.value):i(u.value).then(l,c)}d((n=n.apply(e,[])).next())})}function Ji(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){r.label=d[1];break}if(d[0]===6&&r.label<a[1]){r.label=a[1],a=d;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(d);break}a[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],i=0}finally{n=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Jb(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||t)}var gu=function(){function e(t,r,n,i){this.left=t,this.top=r,this.width=n,this.height=i}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),YN=function(e,t){return gu.fromClientRect(e,t.getBoundingClientRect())},Kwe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new gu(0,0,n,i)},XN=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},Rs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},YU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Zb=0;Zb<YU.length;Zb++)Wwe[YU.charCodeAt(Zb)]=Zb;var XU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ux=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ew=0;ew<XU.length;ew++)ux[XU.charCodeAt(ew)]=ew;var Gwe=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=ux[e.charCodeAt(n)],o=ux[e.charCodeAt(n+1)],l=ux[e.charCodeAt(n+2)],c=ux[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},qwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Ywe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},yf=5,z6=11,DC=2,Xwe=z6-yf,pq=65536>>yf,Jwe=1<<yf,QC=Jwe-1,Zwe=1024>>yf,e1e=pq+Zwe,t1e=e1e,r1e=32,n1e=t1e+r1e,s1e=65536>>z6,i1e=1<<Xwe,a1e=i1e-1,JU=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},o1e=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},l1e=function(e,t){var r=Gwe(e),n=Array.isArray(r)?Ywe(r):new Uint32Array(r),i=Array.isArray(r)?qwe(r):new Uint16Array(r),a=24,o=JU(i,a/2,n[4]/2),l=n[5]===2?JU(i,(a+n[4])/2):o1e(n,Math.ceil((a+n[4])/4));return new c1e(n[0],n[1],n[2],n[3],o,l)},c1e=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>yf],r=(r<<DC)+(t&QC),this.data[r];if(t<=65535)return r=this.index[pq+(t-55296>>yf)],r=(r<<DC)+(t&QC),this.data[r];if(t<this.highStart)return r=n1e-s1e+(t>>z6),r=this.index[r],r+=t>>yf&a1e,r=this.index[r],r=(r<<DC)+(t&QC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ZU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d1e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tw=0;tw<ZU.length;tw++)d1e[ZU.charCodeAt(tw)]=tw;var u1e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",eR=50,h1e=1,gq=2,xq=3,A1e=4,f1e=5,tR=7,yq=8,rR=9,wh=10,ek=11,nR=12,tk=13,m1e=14,hx=15,rk=16,rw=17,U0=18,p1e=19,sR=20,nk=21,R0=22,$C=23,Pm=24,xo=25,Ax=26,fx=27,Im=28,g1e=29,KA=30,x1e=31,nw=32,sw=33,sk=34,ik=35,ak=36,Cy=37,ok=38,N1=39,_1=40,HC=41,vq=42,y1e=43,v1e=[9001,65288],bq="!",Rr="",iw="",lk=l1e(u1e),Pd=[KA,ak],ck=[h1e,gq,xq,f1e],wq=[wh,yq],iR=[fx,Ax],b1e=ck.concat(wq),aR=[ok,N1,_1,sk,ik],w1e=[hx,tk],j1e=function(e,t){t===void 0&&(t="strict");var r=[],n=[],i=[];return e.forEach(function(a,o){var l=lk.get(a);if(l>eR?(i.push(!0),l-=eR):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(rk);if(l===A1e||l===ek){if(o===0)return n.push(o),r.push(KA);var c=r[o-1];return b1e.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(KA))}if(n.push(o),l===x1e)return r.push(t==="strict"?nk:Cy);if(l===vq||l===g1e)return r.push(KA);if(l===y1e)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Cy):r.push(KA);r.push(l)}),[n,r,i]},zC=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===t)return!0;if(o!==wh)break}if(i===wh)for(var a=r;a>0;){a--;var l=n[a];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===t)return!0;if(o!==wh)break}if(l!==wh)break}return!1},oR=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===wh)r--;else return n}return 0},N1e=function(e,t,r,n,i){if(r[n]===0)return Rr;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return Rr;var o=a-1,l=a+1,c=t[a],d=o>=0?t[o]:0,u=t[l];if(c===gq&&u===xq)return Rr;if(ck.indexOf(c)!==-1)return bq;if(ck.indexOf(u)!==-1||wq.indexOf(u)!==-1)return Rr;if(oR(a,t)===yq)return iw;if(lk.get(e[a])===ek||(c===nw||c===sw)&&lk.get(e[l])===ek||c===tR||u===tR||c===rR||[wh,tk,hx].indexOf(c)===-1&&u===rR||[rw,U0,p1e,Pm,Im].indexOf(u)!==-1||oR(a,t)===R0||zC($C,R0,a,t)||zC([rw,U0],nk,a,t)||zC(nR,nR,a,t))return Rr;if(c===wh)return iw;if(c===$C||u===$C)return Rr;if(u===rk||c===rk)return iw;if([tk,hx,nk].indexOf(u)!==-1||c===m1e||d===ak&&w1e.indexOf(c)!==-1||c===Im&&u===ak||u===sR||Pd.indexOf(u)!==-1&&c===xo||Pd.indexOf(c)!==-1&&u===xo||c===fx&&[Cy,nw,sw].indexOf(u)!==-1||[Cy,nw,sw].indexOf(c)!==-1&&u===Ax||Pd.indexOf(c)!==-1&&iR.indexOf(u)!==-1||iR.indexOf(c)!==-1&&Pd.indexOf(u)!==-1||[fx,Ax].indexOf(c)!==-1&&(u===xo||[R0,hx].indexOf(u)!==-1&&t[l+1]===xo)||[R0,hx].indexOf(c)!==-1&&u===xo||c===xo&&[xo,Im,Pm].indexOf(u)!==-1)return Rr;if([xo,Im,Pm,rw,U0].indexOf(u)!==-1)for(var A=a;A>=0;){var f=t[A];if(f===xo)return Rr;if([Im,Pm].indexOf(f)!==-1)A--;else break}if([fx,Ax].indexOf(u)!==-1)for(var A=[rw,U0].indexOf(c)!==-1?o:a;A>=0;){var f=t[A];if(f===xo)return Rr;if([Im,Pm].indexOf(f)!==-1)A--;else break}if(ok===c&&[ok,N1,sk,ik].indexOf(u)!==-1||[N1,sk].indexOf(c)!==-1&&[N1,_1].indexOf(u)!==-1||[_1,ik].indexOf(c)!==-1&&u===_1||aR.indexOf(c)!==-1&&[sR,Ax].indexOf(u)!==-1||aR.indexOf(u)!==-1&&c===fx||Pd.indexOf(c)!==-1&&Pd.indexOf(u)!==-1||c===Pm&&Pd.indexOf(u)!==-1||Pd.concat(xo).indexOf(c)!==-1&&u===R0&&v1e.indexOf(e[l])===-1||Pd.concat(xo).indexOf(u)!==-1&&c===U0)return Rr;if(c===HC&&u===HC){for(var m=r[a],x=1;m>0&&(m--,t[m]===HC);)x++;if(x%2!==0)return Rr}return c===nw&&u===sw?Rr:iw},_1e=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=j1e(e,t.lineBreak),n=r[0],i=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(l){return[xo,KA,vq].indexOf(l)!==-1?Cy:l}));var o=t.wordBreak==="keep-all"?a.map(function(l,c){return l&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,i,o]},C1e=function(){function e(t,r,n,i){this.codePoints=t,this.required=r===bq,this.start=n,this.end=i}return e.prototype.slice=function(){return Rs.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),B1e=function(e,t){var r=XN(e),n=_1e(r,t),i=n[0],a=n[1],o=n[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Rr;d<l&&(u=N1e(r,a,i,++d,o))===Rr;);if(u!==Rr||d===l){var A=new C1e(r,u,c,d);return c=d,{value:A,done:!1}}return{done:!0,value:null}}}},S1e=1,k1e=2,zv=4,lR=8,P2=10,cR=47,Mx=92,E1e=9,P1e=32,aw=34,M0=61,I1e=35,T1e=36,O1e=37,ow=39,lw=40,D0=41,L1e=95,Ka=45,F1e=33,U1e=60,R1e=62,M1e=64,D1e=91,Q1e=93,$1e=61,H1e=123,cw=63,z1e=125,dR=124,V1e=126,K1e=128,uR=65533,VC=42,sf=43,W1e=44,G1e=58,q1e=59,By=46,Y1e=0,X1e=8,J1e=11,Z1e=14,e2e=31,t2e=127,Rc=-1,jq=48,Nq=97,_q=101,r2e=102,n2e=117,s2e=122,Cq=65,Bq=69,Sq=70,i2e=85,a2e=90,ta=function(e){return e>=jq&&e<=57},o2e=function(e){return e>=55296&&e<=57343},Tm=function(e){return ta(e)||e>=Cq&&e<=Sq||e>=Nq&&e<=r2e},l2e=function(e){return e>=Nq&&e<=s2e},c2e=function(e){return e>=Cq&&e<=a2e},d2e=function(e){return l2e(e)||c2e(e)},u2e=function(e){return e>=K1e},dw=function(e){return e===P2||e===E1e||e===P1e},I2=function(e){return d2e(e)||u2e(e)||e===L1e},hR=function(e){return I2(e)||ta(e)||e===Ka},h2e=function(e){return e>=Y1e&&e<=X1e||e===J1e||e>=Z1e&&e<=e2e||e===t2e},uh=function(e,t){return e!==Mx?!1:t!==P2},uw=function(e,t,r){return e===Ka?I2(t)||uh(t,r):I2(e)?!0:!!(e===Mx&&uh(e,t))},KC=function(e,t,r){return e===sf||e===Ka?ta(t)?!0:t===By&&ta(r):ta(e===By?t:e)},A2e=function(e){var t=0,r=1;(e[t]===sf||e[t]===Ka)&&(e[t]===Ka&&(r=-1),t++);for(var n=[];ta(e[t]);)n.push(e[t++]);var i=n.length?parseInt(Rs.apply(void 0,n),10):0;e[t]===By&&t++;for(var a=[];ta(e[t]);)a.push(e[t++]);var o=a.length,l=o?parseInt(Rs.apply(void 0,a),10):0;(e[t]===Bq||e[t]===_q)&&t++;var c=1;(e[t]===sf||e[t]===Ka)&&(e[t]===Ka&&(c=-1),t++);for(var d=[];ta(e[t]);)d.push(e[t++]);var u=d.length?parseInt(Rs.apply(void 0,d),10):0;return r*(i+l*Math.pow(10,-o))*Math.pow(10,c*u)},f2e={type:2},m2e={type:3},p2e={type:4},g2e={type:13},x2e={type:8},y2e={type:21},v2e={type:9},b2e={type:10},w2e={type:11},j2e={type:12},N2e={type:14},hw={type:23},_2e={type:1},C2e={type:25},B2e={type:24},S2e={type:26},k2e={type:27},E2e={type:28},P2e={type:29},I2e={type:31},dk={type:32},kq=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(XN(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==dk;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case aw:return this.consumeStringToken(aw);case I1e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(hR(r)||uh(n,i)){var a=uw(r,n,i)?k1e:S1e,o=this.consumeName();return{type:5,value:o,flags:a}}break;case T1e:if(this.peekCodePoint(0)===M0)return this.consumeCodePoint(),g2e;break;case ow:return this.consumeStringToken(ow);case lw:return f2e;case D0:return m2e;case VC:if(this.peekCodePoint(0)===M0)return this.consumeCodePoint(),N2e;break;case sf:if(KC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case W1e:return p2e;case Ka:var l=t,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(KC(l,c,d))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(uw(l,c,d))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===Ka&&d===R1e)return this.consumeCodePoint(),this.consumeCodePoint(),B2e;break;case By:if(KC(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case cR:if(this.peekCodePoint(0)===VC)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===VC&&(u=this.consumeCodePoint(),u===cR))return this.consumeToken();if(u===Rc)return this.consumeToken()}break;case G1e:return S2e;case q1e:return k2e;case U1e:if(this.peekCodePoint(0)===F1e&&this.peekCodePoint(1)===Ka&&this.peekCodePoint(2)===Ka)return this.consumeCodePoint(),this.consumeCodePoint(),C2e;break;case M1e:var A=this.peekCodePoint(0),f=this.peekCodePoint(1),m=this.peekCodePoint(2);if(uw(A,f,m)){var o=this.consumeName();return{type:7,value:o}}break;case D1e:return E2e;case Mx:if(uh(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Q1e:return P2e;case $1e:if(this.peekCodePoint(0)===M0)return this.consumeCodePoint(),x2e;break;case H1e:return w2e;case z1e:return j2e;case n2e:case i2e:var x=this.peekCodePoint(0),p=this.peekCodePoint(1);return x===sf&&(Tm(p)||p===cw)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case dR:if(this.peekCodePoint(0)===M0)return this.consumeCodePoint(),v2e;if(this.peekCodePoint(0)===dR)return this.consumeCodePoint(),y2e;break;case V1e:if(this.peekCodePoint(0)===M0)return this.consumeCodePoint(),b2e;break;case Rc:return dk}return dw(t)?(this.consumeWhiteSpace(),I2e):ta(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):I2(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Rs(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Tm(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===cw&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Rs.apply(void 0,t.map(function(c){return c===cw?jq:c})),16),a=parseInt(Rs.apply(void 0,t.map(function(c){return c===cw?Sq:c})),16);return{type:30,start:i,end:a}}var o=parseInt(Rs.apply(void 0,t),16);if(this.peekCodePoint(0)===Ka&&Tm(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Tm(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var a=parseInt(Rs.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===lw?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===lw?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ow||r===aw){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Rc||this.peekCodePoint(0)===D0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),hw)}for(;;){var i=this.consumeCodePoint();if(i===Rc||i===D0)return{type:22,value:Rs.apply(void 0,t)};if(dw(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Rc||this.peekCodePoint(0)===D0?(this.consumeCodePoint(),{type:22,value:Rs.apply(void 0,t)}):(this.consumeBadUrlRemnants(),hw);if(i===aw||i===ow||i===lw||h2e(i))return this.consumeBadUrlRemnants(),hw;if(i===Mx)if(uh(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),hw;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;dw(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===D0||t===Rc)return;uh(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var i=Math.min(r,t);n+=Rs.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var i=this._value[n];if(i===Rc||i===void 0||i===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===P2)return this._value.splice(0,n),_2e;if(i===Mx){var a=this._value[n+1];a!==Rc&&a!==void 0&&(a===P2?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):uh(i,a)&&(r+=this.consumeStringSlice(n),r+=Rs(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=zv,n=this.peekCodePoint(0);for((n===sf||n===Ka)&&t.push(this.consumeCodePoint());ta(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===By&&ta(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=lR;ta(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===Bq||n===_q)&&((i===sf||i===Ka)&&ta(a)||ta(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=lR;ta(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[A2e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(uw(i,a,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return i===O1e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Tm(t)){for(var r=Rs(t);Tm(this.peekCodePoint(0))&&r.length<6;)r+=Rs(this.consumeCodePoint());dw(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||o2e(n)||n>1114111?uR:n}return t===Rc?uR:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(hR(r))t+=Rs(r);else if(uh(r,this.peekCodePoint(0)))t+=Rs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),Eq=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new kq;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||O2e(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?dk:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Vv=function(e){return e.type===15},Vg=function(e){return e.type===17},Nn=function(e){return e.type===20},T2e=function(e){return e.type===0},uk=function(e,t){return Nn(e)&&e.value===t},Pq=function(e){return e.type!==31},sg=function(e){return e.type!==31&&e.type!==4},md=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},O2e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Zh=function(e){return e.type===17||e.type===15},Gs=function(e){return e.type===16||Zh(e)},Iq=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Li={type:17,number:0,flags:zv},V6={type:16,number:50,flags:zv},jh={type:16,number:100,flags:zv},mx=function(e,t,r){var n=e[0],i=e[1];return[Dn(n,t),Dn(typeof i<"u"?i:n,r)]},Dn=function(e,t){if(e.type===16)return e.number/100*t;if(Vv(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Tq="deg",Oq="grad",Lq="rad",Fq="turn",JN={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Tq:return Math.PI*t.number/180;case Oq:return Math.PI/200*t.number;case Lq:return t.number;case Fq:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Uq=function(e){return e.type===15&&(e.unit===Tq||e.unit===Oq||e.unit===Lq||e.unit===Fq)},Rq=function(e){var t=e.filter(Nn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Li,Li];case"to top":case"bottom":return dl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Li,jh];case"to right":case"left":return dl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jh,jh];case"to bottom":case"top":return dl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jh,Li];case"to left":case"right":return dl(270)}return 0},dl=function(e){return Math.PI*e/180},Dh={name:"color",parse:function(e,t){if(t.type===18){var r=L2e[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return Nh(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return Nh(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return Nh(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return Nh(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var l=au[t.value.toUpperCase()];if(typeof l<"u")return l}return au.TRANSPARENT}},Qh=function(e){return(255&e)===0},xi=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},Nh=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},AR=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},fR=function(e,t){var r=t.filter(sg);if(r.length===3){var n=r.map(AR),i=n[0],a=n[1],o=n[2];return Nh(i,a,o,1)}if(r.length===4){var l=r.map(AR),i=l[0],a=l[1],o=l[2],c=l[3];return Nh(i,a,o,c)}return 0};function WC(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var mR=function(e,t){var r=t.filter(sg),n=r[0],i=r[1],a=r[2],o=r[3],l=(n.type===17?dl(n.number):JN.parse(e,n))/(Math.PI*2),c=Gs(i)?i.number/100:0,d=Gs(a)?a.number/100:0,u=typeof o<"u"&&Gs(o)?Dn(o,1):1;if(c===0)return Nh(d*255,d*255,d*255,1);var A=d<=.5?d*(c+1):d+c-d*c,f=d*2-A,m=WC(f,A,l+1/3),x=WC(f,A,l),p=WC(f,A,l-1/3);return Nh(m*255,x*255,p*255,u)},L2e={hsl:mR,hsla:mR,rgb:fR,rgba:fR},Dx=function(e,t){return Dh.parse(e,Eq.create(t).parseComponentValue())},au={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},F2e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Nn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},U2e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZN=function(e,t){var r=Dh.parse(e,t[0]),n=t[1];return n&&Gs(n)?{color:r,stop:n}:{color:r,stop:null}},pR=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Li),n.stop===null&&(n.stop=jh);for(var i=[],a=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var c=Dn(l,t);c>a?i.push(c):i.push(a),a=c}else i.push(null)}for(var d=null,o=0;o<i.length;o++){var u=i[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var A=o-d,f=i[d-1],m=(u-f)/(A+1),x=1;x<=A;x++)i[d+x-1]=m*x;d=null}}return e.map(function(p,v){var y=p.color;return{color:y,stop:Math.max(Math.min(1,i[v]/t),0)}})},R2e=function(e,t,r){var n=t/2,i=r/2,a=Dn(e[0],t)-n,o=i-Dn(e[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},M2e=function(e,t,r){var n=typeof e=="number"?e:R2e(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,o=r/2,l=i/2,c=Math.sin(n-Math.PI/2)*l,d=Math.cos(n-Math.PI/2)*l;return[i,a-d,a+d,o-c,o+c]},Wl=function(e,t){return Math.sqrt(e*e+t*t)},gR=function(e,t,r,n,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,l){var c=l[0],d=l[1],u=Wl(r-c,n-d);return(i?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},D2e=function(e,t,r,n,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(e.shape===0)a=o=Math.min(Wl(t,r),Wl(t,r-i),Wl(t-n,r),Wl(t-n,r-i));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),c=gR(n,i,t,r,!0),d=c[0],u=c[1];a=Wl(d-t,(u-r)/l),o=l*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(e.shape===0)a=o=Math.max(Wl(t,r),Wl(t,r-i),Wl(t-n,r),Wl(t-n,r-i));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),A=gR(n,i,t,r,!1),d=A[0],u=A[1];a=Wl(d-t,(u-r)/l),o=l*a}break}return Array.isArray(e.size)&&(a=Dn(e.size[0],n),o=e.size.length===2?Dn(e.size[1],i):a),[a,o]},Q2e=function(e,t){var r=dl(180),n=[];return md(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){r=Rq(i);return}else if(Uq(o)){r=JN.parse(e,o);return}}var l=ZN(e,i);n.push(l)}),{angle:r,stops:n,type:1}},Aw=function(e,t){var r=dl(180),n=[];return md(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Rq(i);return}else if(Uq(o)){r=(JN.parse(e,o)+dl(270))%dl(360);return}}var l=ZN(e,i);n.push(l)}),{angle:r,stops:n,type:1}},$2e=function(e,t){var r=dl(180),n=[],i=1,a=0,o=3,l=[];return md(t).forEach(function(c,d){var u=c[0];if(d===0){if(Nn(u)&&u.value==="linear"){i=1;return}else if(Nn(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var A=Dh.parse(e,u.values[0]);n.push({stop:Li,color:A})}else if(u.name==="to"){var A=Dh.parse(e,u.values[0]);n.push({stop:jh,color:A})}else if(u.name==="color-stop"){var f=u.values.filter(sg);if(f.length===2){var A=Dh.parse(e,f[1]),m=f[0];Vg(m)&&n.push({stop:{type:16,number:m.number*100,flags:m.flags},color:A})}}}}),i===1?{angle:(r+dl(180))%dl(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:l,type:i}},Mq="closest-side",Dq="farthest-side",Qq="closest-corner",$q="farthest-corner",Hq="circle",zq="ellipse",Vq="cover",Kq="contain",H2e=function(e,t){var r=0,n=3,i=[],a=[];return md(t).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(A,f){if(d)if(Nn(f))switch(f.value){case"center":return a.push(V6),A;case"top":case"left":return a.push(Li),A;case"right":case"bottom":return a.push(jh),A}else(Gs(f)||Zh(f))&&a.push(f);else if(Nn(f))switch(f.value){case Hq:return r=0,!1;case zq:return r=1,!1;case"at":return d=!0,!1;case Mq:return n=0,!1;case Vq:case Dq:return n=1,!1;case Kq:case Qq:return n=2,!1;case $q:return n=3,!1}else if(Zh(f)||Gs(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return A},c)}if(c){var u=ZN(e,o);i.push(u)}}),{size:n,shape:r,stops:i,position:a,type:2}},fw=function(e,t){var r=0,n=3,i=[],a=[];return md(t).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,A){if(Nn(A))switch(A.value){case"center":return a.push(V6),!1;case"top":case"left":return a.push(Li),!1;case"right":case"bottom":return a.push(jh),!1}else if(Gs(A)||Zh(A))return a.push(A),!1;return u},c):l===1&&(c=o.reduce(function(u,A){if(Nn(A))switch(A.value){case Hq:return r=0,!1;case zq:return r=1,!1;case Kq:case Mq:return n=0,!1;case Dq:return n=1,!1;case Qq:return n=2,!1;case Vq:case $q:return n=3,!1}else if(Zh(A)||Gs(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return u},c)),c){var d=ZN(e,o);i.push(d)}}),{size:n,shape:r,stops:i,position:a,type:2}},z2e=function(e){return e.type===1},V2e=function(e){return e.type===2},K6={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=Wq[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function K2e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Wq[e.name])}var Wq={"linear-gradient":Q2e,"-moz-linear-gradient":Aw,"-ms-linear-gradient":Aw,"-o-linear-gradient":Aw,"-webkit-linear-gradient":Aw,"radial-gradient":H2e,"-moz-radial-gradient":fw,"-ms-radial-gradient":fw,"-o-radial-gradient":fw,"-webkit-radial-gradient":fw,"-webkit-gradient":$2e},W2e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return sg(n)&&K2e(n)}).map(function(n){return K6.parse(e,n)})}},G2e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Nn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},q2e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return md(t).map(function(r){return r.filter(Gs)}).map(Iq)}},Y2e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return md(t).map(function(r){return r.filter(Nn).map(function(n){return n.value}).join(" ")}).map(X2e)}},X2e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Tp;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Tp||(Tp={}));var J2e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return md(t).map(function(r){return r.filter(Z2e)})}},Z2e=function(e){return Nn(e)||Gs(e)},e5=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},eje=e5("top"),tje=e5("right"),rje=e5("bottom"),nje=e5("left"),t5=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Iq(r.filter(Gs))}}},sje=t5("top-left"),ije=t5("top-right"),aje=t5("bottom-right"),oje=t5("bottom-left"),r5=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},lje=r5("top"),cje=r5("right"),dje=r5("bottom"),uje=r5("left"),n5=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Vv(r)?r.number:0}}},hje=n5("top"),Aje=n5("right"),fje=n5("bottom"),mje=n5("left"),pje={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gje={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},xje={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).reduce(function(r,n){return r|yje(n.value)},0)}},yje=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vje={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},bje={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},T2;(function(e){e.NORMAL="normal",e.STRICT="strict"})(T2||(T2={}));var wje={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return T2.STRICT;case"normal":default:return T2.NORMAL}}},jje={name:"line-height",initialValue:"normal",prefix:!1,type:4},xR=function(e,t){return Nn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Gs(e)?Dn(e,t):t},Nje={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:K6.parse(e,t)}},_je={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},hk={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},s5=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Cje=s5("top"),Bje=s5("right"),Sje=s5("bottom"),kje=s5("left"),Eje={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Pje={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},i5=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ije=i5("top"),Tje=i5("right"),Oje=i5("bottom"),Lje=i5("left"),Fje={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Uje={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Rje={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&uk(t[0],"none")?[]:md(t).map(function(r){for(var n={color:au.TRANSPARENT,offsetX:Li,offsetY:Li,blur:Li},i=0,a=0;a<r.length;a++){var o=r[a];Zh(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=Dh.parse(e,o)}return n})}},Mje={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Dje={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=Hje[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Qje=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},$je=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,i,a,o,l]:null},Hje={matrix:Qje,matrix3d:$je},yR={type:16,number:50,flags:zv},zje=[yR,yR],Vje={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Gs);return r.length!==2?zje:[r[0],r[1]]}},Kje={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Qx;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Qx||(Qx={}));var Wje={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Qx.BREAK_ALL;case"keep-all":return Qx.KEEP_ALL;case"normal":default:return Qx.NORMAL}}},Gje={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Vg(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Gq={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},qje={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Vg(t)?t.number:1}},Yje={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xje={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Nn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Jje={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Zje={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},eNe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Vg(t))return t.number;if(Nn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},tNe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Nn).map(function(r){return r.value})}},rNe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ai=function(e,t){return(e&t)!==0},nNe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},sNe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=t.filter(Pq),a=0;a<i.length;a++){var o=i[a],l=i[a+1];if(o.type===20){var c=l&&Vg(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},iNe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(Pq),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(Nn(a)&&a.value!=="none"){var l=o&&Vg(o)?o.number:0;r.push({counter:a.value,reset:l})}}return r}},aNe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Vv).map(function(r){return Gq.parse(e,r)})}},oNe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],i=t.filter(T2e);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,l=i[a+1].value;n.push({open:o,close:l})}return n}},vR=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},lNe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&uk(t[0],"none")?[]:md(t).map(function(r){for(var n={color:255,offsetX:Li,offsetY:Li,blur:Li,spread:Li,inset:!1},i=0,a=0;a<r.length;a++){var o=r[a];uk(o,"inset")?n.inset=!0:Zh(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=Dh.parse(e,o)}return n})}},cNe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Nn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},dNe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},uNe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Vv(t)?t.number:0}},hNe=function(){function e(t,r){var n,i;this.animationDuration=Ot(t,aNe,r.animationDuration),this.backgroundClip=Ot(t,F2e,r.backgroundClip),this.backgroundColor=Ot(t,U2e,r.backgroundColor),this.backgroundImage=Ot(t,W2e,r.backgroundImage),this.backgroundOrigin=Ot(t,G2e,r.backgroundOrigin),this.backgroundPosition=Ot(t,q2e,r.backgroundPosition),this.backgroundRepeat=Ot(t,Y2e,r.backgroundRepeat),this.backgroundSize=Ot(t,J2e,r.backgroundSize),this.borderTopColor=Ot(t,eje,r.borderTopColor),this.borderRightColor=Ot(t,tje,r.borderRightColor),this.borderBottomColor=Ot(t,rje,r.borderBottomColor),this.borderLeftColor=Ot(t,nje,r.borderLeftColor),this.borderTopLeftRadius=Ot(t,sje,r.borderTopLeftRadius),this.borderTopRightRadius=Ot(t,ije,r.borderTopRightRadius),this.borderBottomRightRadius=Ot(t,aje,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ot(t,oje,r.borderBottomLeftRadius),this.borderTopStyle=Ot(t,lje,r.borderTopStyle),this.borderRightStyle=Ot(t,cje,r.borderRightStyle),this.borderBottomStyle=Ot(t,dje,r.borderBottomStyle),this.borderLeftStyle=Ot(t,uje,r.borderLeftStyle),this.borderTopWidth=Ot(t,hje,r.borderTopWidth),this.borderRightWidth=Ot(t,Aje,r.borderRightWidth),this.borderBottomWidth=Ot(t,fje,r.borderBottomWidth),this.borderLeftWidth=Ot(t,mje,r.borderLeftWidth),this.boxShadow=Ot(t,lNe,r.boxShadow),this.color=Ot(t,pje,r.color),this.direction=Ot(t,gje,r.direction),this.display=Ot(t,xje,r.display),this.float=Ot(t,vje,r.cssFloat),this.fontFamily=Ot(t,Jje,r.fontFamily),this.fontSize=Ot(t,Zje,r.fontSize),this.fontStyle=Ot(t,rNe,r.fontStyle),this.fontVariant=Ot(t,tNe,r.fontVariant),this.fontWeight=Ot(t,eNe,r.fontWeight),this.letterSpacing=Ot(t,bje,r.letterSpacing),this.lineBreak=Ot(t,wje,r.lineBreak),this.lineHeight=Ot(t,jje,r.lineHeight),this.listStyleImage=Ot(t,Nje,r.listStyleImage),this.listStylePosition=Ot(t,_je,r.listStylePosition),this.listStyleType=Ot(t,hk,r.listStyleType),this.marginTop=Ot(t,Cje,r.marginTop),this.marginRight=Ot(t,Bje,r.marginRight),this.marginBottom=Ot(t,Sje,r.marginBottom),this.marginLeft=Ot(t,kje,r.marginLeft),this.opacity=Ot(t,qje,r.opacity);var a=Ot(t,Eje,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=Ot(t,Pje,r.overflowWrap),this.paddingTop=Ot(t,Ije,r.paddingTop),this.paddingRight=Ot(t,Tje,r.paddingRight),this.paddingBottom=Ot(t,Oje,r.paddingBottom),this.paddingLeft=Ot(t,Lje,r.paddingLeft),this.paintOrder=Ot(t,cNe,r.paintOrder),this.position=Ot(t,Uje,r.position),this.textAlign=Ot(t,Fje,r.textAlign),this.textDecorationColor=Ot(t,Yje,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ot(t,Xje,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Ot(t,Rje,r.textShadow),this.textTransform=Ot(t,Mje,r.textTransform),this.transform=Ot(t,Dje,r.transform),this.transformOrigin=Ot(t,Vje,r.transformOrigin),this.visibility=Ot(t,Kje,r.visibility),this.webkitTextStrokeColor=Ot(t,dNe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ot(t,uNe,r.webkitTextStrokeWidth),this.wordBreak=Ot(t,Wje,r.wordBreak),this.zIndex=Ot(t,Gje,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Qh(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ai(this.display,4)||Ai(this.display,33554432)||Ai(this.display,268435456)||Ai(this.display,536870912)||Ai(this.display,67108864)||Ai(this.display,134217728)},e}(),ANe=function(){function e(t,r){this.content=Ot(t,nNe,r.content),this.quotes=Ot(t,oNe,r.quotes)}return e}(),bR=function(){function e(t,r){this.counterIncrement=Ot(t,sNe,r.counterIncrement),this.counterReset=Ot(t,iNe,r.counterReset)}return e}(),Ot=function(e,t,r){var n=new kq,i=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(i);var a=new Eq(n.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Nn(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return JN.parse(e,a.parseComponentValue());case"color":return Dh.parse(e,a.parseComponentValue());case"image":return K6.parse(e,a.parseComponentValue());case"length":var l=a.parseComponentValue();return Zh(l)?l:Li;case"length-percentage":var c=a.parseComponentValue();return Gs(c)?c:Li;case"time":return Gq.parse(e,a.parseComponentValue())}break}},fNe="data-html2canvas-debug",mNe=function(e){var t=e.getAttribute(fNe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Ak=function(e,t){var r=mNe(e);return r===1||t===r},pd=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Ak(r,3))debugger;this.styles=new hNe(t,window.getComputedStyle(r,null)),pk(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=YN(this.context,r),Ak(r,4)&&(this.flags|=16)}return e}(),pNe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",wR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",px=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mw=0;mw<wR.length;mw++)px[wR.charCodeAt(mw)]=mw;var gNe=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),u=Array.isArray(d)?d:new Uint8Array(d);for(n=0;n<r;n+=4)a=px[e.charCodeAt(n)],o=px[e.charCodeAt(n+1)],l=px[e.charCodeAt(n+2)],c=px[e.charCodeAt(n+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|l>>2,u[i++]=(l&3)<<6|c&63;return d},xNe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},yNe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},vf=5,W6=11,GC=2,vNe=W6-vf,qq=65536>>vf,bNe=1<<vf,qC=bNe-1,wNe=1024>>vf,jNe=qq+wNe,NNe=jNe,_Ne=32,CNe=NNe+_Ne,BNe=65536>>W6,SNe=1<<vNe,kNe=SNe-1,jR=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},ENe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},PNe=function(e,t){var r=gNe(e),n=Array.isArray(r)?yNe(r):new Uint32Array(r),i=Array.isArray(r)?xNe(r):new Uint16Array(r),a=24,o=jR(i,a/2,n[4]/2),l=n[5]===2?jR(i,(a+n[4])/2):ENe(n,Math.ceil((a+n[4])/4));return new INe(n[0],n[1],n[2],n[3],o,l)},INe=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>vf],r=(r<<GC)+(t&qC),this.data[r];if(t<=65535)return r=this.index[qq+(t-55296>>vf)],r=(r<<GC)+(t&qC),this.data[r];if(t<this.highStart)return r=CNe-BNe+(t>>W6),r=this.index[r],r+=t>>vf&kNe,r=this.index[r],r=(r<<GC)+(t&qC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),NR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",TNe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var pw=0;pw<NR.length;pw++)TNe[NR.charCodeAt(pw)]=pw;var ONe=1,YC=2,XC=3,_R=4,CR=5,LNe=7,BR=8,JC=9,ZC=10,SR=11,kR=12,ER=13,PR=14,eB=15,FNe=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},UNe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},RNe=PNe(pNe),rl="",tB="",MNe=function(e){return RNe.get(e)},DNe=function(e,t,r){var n=r-2,i=t[n],a=t[r-1],o=t[r];if(a===YC&&o===XC)return rl;if(a===YC||a===XC||a===_R||o===YC||o===XC||o===_R)return tB;if(a===BR&&[BR,JC,SR,kR].indexOf(o)!==-1||(a===SR||a===JC)&&(o===JC||o===ZC)||(a===kR||a===ZC)&&o===ZC||o===ER||o===CR||o===LNe||a===ONe)return rl;if(a===ER&&o===PR){for(;i===CR;)i=t[--n];if(i===PR)return rl}if(a===eB&&o===eB){for(var l=0;i===eB;)l++,i=t[--n];if(l%2===0)return rl}return tB},QNe=function(e){var t=FNe(e),r=t.length,n=0,i=0,a=t.map(MNe);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=rl;n<r&&(o=DNe(t,a,++n))===rl;);if(o!==rl||n===r){var l=UNe.apply(null,t.slice(i,n));return i=n,{value:l,done:!1}}return{done:!0,value:null}}}},$Ne=function(e){for(var t=QNe(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},HNe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(n),a===t)return!0}}return!1},zNe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=XN(n.data).map(function(c){return Rs(c)}),a=0,o={},l=i.every(function(c,d){r.setStart(n,a),r.setEnd(n,a+c.length);var u=r.getBoundingClientRect();a+=c.length;var A=u.x>o.x||u.y>o.y;return o=u,d===0?!0:A});return e.body.removeChild(t),l},VNe=function(){return typeof new Image().crossOrigin<"u"},KNe=function(){return typeof new XMLHttpRequest().responseType=="string"},WNe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},IR=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},GNe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=t.toDataURL();i.src=a;var o=fk(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),TR(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var d=e.createElement("div");return d.style.backgroundImage="url("+a+")",d.style.height=r+"px",IR(c)?TR(fk(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),IR(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},fk=function(e,t,r,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(i),o},TR=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Oi={get SUPPORT_RANGE_BOUNDS(){var e=HNe(document);return Object.defineProperty(Oi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Oi.SUPPORT_RANGE_BOUNDS&&zNe(document);return Object.defineProperty(Oi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=WNe(document);return Object.defineProperty(Oi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?GNe(document):Promise.resolve(!1);return Object.defineProperty(Oi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=VNe();return Object.defineProperty(Oi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=KNe();return Object.defineProperty(Oi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Oi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Oi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},$x=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),qNe=function(e,t,r,n){var i=JNe(t,r),a=[],o=0;return i.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Oi.SUPPORT_RANGE_BOUNDS){var c=OR(n,o,l.length).getClientRects();if(c.length>1){var d=G6(l),u=0;d.forEach(function(f){a.push(new $x(f,gu.fromDOMRectList(e,OR(n,u+o,f.length).getClientRects()))),u+=f.length})}else a.push(new $x(l,gu.fromDOMRectList(e,c)))}else{var A=n.splitText(l.length);a.push(new $x(l,YNe(e,n))),n=A}else Oi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},YNe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var a=YN(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return gu.EMPTY},OR=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},G6=function(e){if(Oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return $Ne(e)},XNe=function(e,t){if(Oi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return e5e(e,t)},JNe=function(e,t){return t.letterSpacing!==0?G6(e):XNe(e,t)},ZNe=[32,160,4961,65792,65793,4153,4241],e5e=function(e,t){for(var r=B1e(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),l=XN(o),c="";l.forEach(function(d){ZNe.indexOf(d)===-1?c+=Rs(d):(c.length&&n.push(c),n.push(Rs(d)),c="")}),c.length&&n.push(c)}};!(i=r.next()).done;)a();return n},t5e=function(){function e(t,r,n){this.text=r5e(r.data,n.textTransform),this.textBounds=qNe(t,this.text,n,r)}return e}(),r5e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(n5e,s5e);case 2:return e.toUpperCase();default:return e}},n5e=/(^|\s|:|-|\(|\))([a-z])/g,s5e=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Yq=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(pd),Xq=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(pd),Jq=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=new XMLSerializer,o=YN(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(pd),Zq=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(pd),mk=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(pd),i5e=[{type:15,flags:0,unit:"px",number:3}],a5e=[{type:16,flags:0,number:50}],o5e=function(e){return e.width>e.height?new gu(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new gu(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},l5e=function(e){var t=e.type===c5e?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},O2="checkbox",L2="radio",c5e="password",LR=707406591,q6=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=l5e(n),(i.type===O2||i.type===L2)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=o5e(i.bounds)),i.type){case O2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=i5e;break;case L2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=a5e;break}return i}return t}(pd),eY=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(pd),tY=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(pd),rY=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=sY(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Dx(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):au.TRANSPARENT,o=n.contentWindow.document.body?Dx(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):au.TRANSPARENT;i.backgroundColor=Qh(a)?Qh(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(pd),d5e=["OL","UL","MENU"],C1=function(e,t,r,n){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,iY(i)&&i.data.trim().length>0)r.textNodes.push(new t5e(e,i,r.styles));else if(hp(i))if(cY(i)&&i.assignedNodes)i.assignedNodes().forEach(function(l){return C1(e,l,r,n)});else{var o=nY(e,i);o.styles.isVisible()&&(u5e(i,o,n)?o.flags|=4:h5e(o.styles)&&(o.flags|=2),d5e.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?C1(e,i.shadowRoot,o,n):!F2(i)&&!aY(i)&&!U2(i)&&C1(e,i,o,n))}},nY=function(e,t){return gk(t)?new Yq(e,t):oY(t)?new Xq(e,t):aY(t)?new Jq(e,t):A5e(t)?new Zq(e,t):f5e(t)?new mk(e,t):m5e(t)?new q6(e,t):U2(t)?new eY(e,t):F2(t)?new tY(e,t):lY(t)?new rY(e,t):new pd(e,t)},sY=function(e,t){var r=nY(e,t);return r.flags|=4,C1(e,t,r,r),r},u5e=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Y6(e)&&r.styles.isTransparent()},h5e=function(e){return e.isPositioned()||e.isFloating()},iY=function(e){return e.nodeType===Node.TEXT_NODE},hp=function(e){return e.nodeType===Node.ELEMENT_NODE},pk=function(e){return hp(e)&&typeof e.style<"u"&&!B1(e)},B1=function(e){return typeof e.className=="object"},A5e=function(e){return e.tagName==="LI"},f5e=function(e){return e.tagName==="OL"},m5e=function(e){return e.tagName==="INPUT"},p5e=function(e){return e.tagName==="HTML"},aY=function(e){return e.tagName==="svg"},Y6=function(e){return e.tagName==="BODY"},oY=function(e){return e.tagName==="CANVAS"},FR=function(e){return e.tagName==="VIDEO"},gk=function(e){return e.tagName==="IMG"},lY=function(e){return e.tagName==="IFRAME"},UR=function(e){return e.tagName==="STYLE"},g5e=function(e){return e.tagName==="SCRIPT"},F2=function(e){return e.tagName==="TEXTAREA"},U2=function(e){return e.tagName==="SELECT"},cY=function(e){return e.tagName==="SLOT"},RR=function(e){return e.tagName.indexOf("-")>0},x5e=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,i=t.counterReset,a=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&i.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},e}(),MR={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},DR={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},y5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},v5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Om=function(e,t,r,n,i,a){return e<t||e>r?Sy(e,i,a.length>0):n.integers.reduce(function(o,l,c){for(;e>=l;)e-=l,o+=n.values[c];return o},"")+a},dY=function(e,t,r,n){var i="";do r||e--,i=n(e)+i,e/=t;while(e*t>=t);return i},Ls=function(e,t,r,n,i){var a=r-t+1;return(e<0?"-":"")+(dY(Math.abs(e),a,n,function(o){return Rs(Math.floor(o%a)+t)})+i)},TA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return dY(Math.abs(e),n,!1,function(i){return t[Math.floor(i%n)]})+r},Vm=1,ah=2,oh=4,gx=8,Id=function(e,t,r,n,i,a){if(e<-9999||e>9999)return Sy(e,4,i.length>0);var o=Math.abs(e),l=i;if(o===0)return t[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&Ai(a,Vm)&&l!==""?l=t[d]+l:d>1||d===1&&c===0||d===1&&c===1&&Ai(a,ah)||d===1&&c===1&&Ai(a,oh)&&e>100||d===1&&c>1&&Ai(a,gx)?l=t[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},QR="",$R="",HR="",rB="",Sy=function(e,t,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=Ls(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return TA(e,"",i);case 6:return Om(e,1,3999,MR,3,n).toLowerCase();case 7:return Om(e,1,3999,MR,3,n);case 8:return Ls(e,945,969,!1,n);case 9:return Ls(e,97,122,!1,n);case 10:return Ls(e,65,90,!1,n);case 11:return Ls(e,1632,1641,!0,n);case 12:case 49:return Om(e,1,9999,DR,3,n);case 35:return Om(e,1,9999,DR,3,n).toLowerCase();case 13:return Ls(e,2534,2543,!0,n);case 14:case 30:return Ls(e,6112,6121,!0,n);case 15:return TA(e,"",i);case 16:return TA(e,"",i);case 17:case 48:return Id(e,"",QR,"",i,ah|oh|gx);case 47:return Id(e,"",$R,"",i,Vm|ah|oh|gx);case 42:return Id(e,"",QR,"",i,ah|oh|gx);case 41:return Id(e,"",$R,"",i,Vm|ah|oh|gx);case 26:return Id(e,"","",HR,i,0);case 25:return Id(e,"","",HR,i,Vm|ah|oh);case 31:return Id(e,"","",rB,a,Vm|ah|oh);case 33:return Id(e,"","",rB,a,0);case 32:return Id(e,"","",rB,a,Vm|ah|oh);case 18:return Ls(e,2406,2415,!0,n);case 20:return Om(e,1,19999,v5e,3,n);case 21:return Ls(e,2790,2799,!0,n);case 22:return Ls(e,2662,2671,!0,n);case 22:return Om(e,1,10999,y5e,3,n);case 23:return TA(e,"");case 24:return TA(e,"");case 27:return Ls(e,3302,3311,!0,n);case 28:return TA(e,"",i);case 29:return TA(e,"",i);case 34:return Ls(e,3792,3801,!0,n);case 37:return Ls(e,6160,6169,!0,n);case 38:return Ls(e,4160,4169,!0,n);case 39:return Ls(e,2918,2927,!0,n);case 40:return Ls(e,1776,1785,!0,n);case 43:return Ls(e,3046,3055,!0,n);case 44:return Ls(e,3174,3183,!0,n);case 45:return Ls(e,3664,3673,!0,n);case 46:return Ls(e,3872,3881,!0,n);case 3:default:return Ls(e,48,57,!0,n)}},uY="data-html2canvas-ignore",zR=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new x5e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,i=b5e(t,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=i.contentWindow,c=l.document,d=N5e(i).then(function(){return wa(n,void 0,void 0,function(){var u,A;return Ji(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(S5e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,j5e(c)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,A)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(C5e(document.doctype)+"<html></html>"),B5e(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},e.prototype.createElementClone=function(t){if(Ak(t,2))debugger;if(oY(t))return this.createCanvasClone(t);if(FR(t))return this.createVideoClone(t);if(UR(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return gk(r)&&(gk(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),RR(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return nB(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,r,n){(!hp(r)||!g5e(r)&&!r.hasAttribute(uY)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!hp(r)||!UR(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(hp(a)&&cY(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return i.appendChildNode(r,l,n)})}else this.appendChildNode(r,a,n)},e.prototype.cloneNode=function(t,r){if(iY(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&hp(t)&&(pk(t)||B1(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&pk(i)&&(this.clonedReferenceElement=i),Y6(i)&&P5e(i);var c=this.counters.parse(new bR(this.context,a)),d=this.resolvePseudoContent(t,i,o,Hx.BEFORE);RR(t)&&(r=!0),FR(t)||this.cloneChildNodes(t,i,r),d&&i.insertBefore(d,i.firstChild);var u=this.resolvePseudoContent(t,i,l,Hx.AFTER);return u&&i.appendChild(u),this.counters.pop(c),(a&&(this.options.copyStyles||B1(t))&&!lY(t)||r)&&nB(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(F2(t)||U2(t))&&(F2(i)||U2(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,i){var a=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new bR(this.context,n));var c=new ANe(this.context,n),d=l.createElement("html2canvaspseudoelement");nB(n,d),c.content.forEach(function(A){if(A.type===0)d.appendChild(l.createTextNode(A.value));else if(A.type===22){var f=l.createElement("img");f.src=A.value,f.style.opacity="1",d.appendChild(f)}else if(A.type===18){if(A.name==="attr"){var m=A.values.filter(Nn);m.length&&d.appendChild(l.createTextNode(t.getAttribute(m[0].value)||""))}else if(A.name==="counter"){var x=A.values.filter(sg),p=x[0],v=x[1];if(p&&Nn(p)){var y=a.counters.getCounterValue(p.value),b=v&&Nn(v)?hk.parse(a.context,v.value):3;d.appendChild(l.createTextNode(Sy(y,b,!1)))}}else if(A.name==="counters"){var w=A.values.filter(sg),p=w[0],j=w[1],v=w[2];if(p&&Nn(p)){var N=a.counters.getCounterValues(p.value),B=v&&Nn(v)?hk.parse(a.context,v.value):3,I=j&&j.type===0?j.value:"",P=N.map(function(k){return Sy(k,B,!1)}).join(I);d.appendChild(l.createTextNode(P))}}}else if(A.type===20)switch(A.value){case"open-quote":d.appendChild(l.createTextNode(vR(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(vR(c.quotes,--a.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(A.value))}}),d.className=xk+" "+yk;var u=i===Hx.BEFORE?" "+xk:" "+yk;return B1(r)?r.className.baseValue+=u:r.className+=u,d}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Hx;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Hx||(Hx={}));var b5e=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(uY,"true"),e.body.appendChild(r),r},w5e=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},j5e=function(e){return Promise.all([].slice.call(e.images,0).map(w5e))},N5e=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},_5e=["all","d","content"],nB=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);_5e.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},C5e=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},B5e=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},S5e=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},k5e=":before",E5e=":after",xk="___html2canvas___pseudoelement_before",yk="___html2canvas___pseudoelement_after",VR=`{
    content: "" !important;
    display: none !important;
}`,P5e=function(e){I5e(e,"."+xk+k5e+VR+`
         .`+yk+E5e+VR)},I5e=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},hY=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),T5e=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(iB(t)||U5e(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return wa(this,void 0,void 0,function(){var r,n,i,a,o=this;return Ji(this,function(l){switch(l.label){case 0:return r=hY.isSameOrigin(t),n=!sB(t)&&this._options.useCORS===!0&&Oi.SUPPORT_CORS_IMAGES&&!r,i=!sB(t)&&!r&&!iB(t)&&typeof this._options.proxy=="string"&&Oi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!sB(t)&&!iB(t)&&!i&&!n?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(R5e(a)||n)&&(u.crossOrigin="anonymous"),u.src=a,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var l=Oi.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var A=new FileReader;A.addEventListener("load",function(){return a(A.result)},!1),A.addEventListener("error",function(f){return o(f)},!1),A.readAsDataURL(c.response)}else o("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=o;var d=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+d+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+i)}}c.send()})},e}(),O5e=/^data:image\/svg\+xml/i,L5e=/^data:image\/.*;base64,/i,F5e=/^data:image\/.*/i,U5e=function(e){return Oi.SUPPORT_SVG_DRAWING||!M5e(e)},sB=function(e){return F5e.test(e)},R5e=function(e){return L5e.test(e)},iB=function(e){return e.substr(0,4)==="blob"},M5e=function(e){return e.substr(-3).toLowerCase()==="svg"||O5e.test(e)},It=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Lm=function(e,t,r){return new It(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},gw=function(){function e(t,r,n,i){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,r){var n=Lm(this.start,this.startControl,t),i=Lm(this.startControl,this.endControl,t),a=Lm(this.endControl,this.end,t),o=Lm(n,i,t),l=Lm(i,a,t),c=Lm(o,l,t);return r?new e(this.start,n,o,c):new e(c,l,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),al=function(e){return e.type===1},D5e=function(){function e(t){var r=t.styles,n=t.bounds,i=mx(r.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],l=mx(r.borderTopRightRadius,n.width,n.height),c=l[0],d=l[1],u=mx(r.borderBottomRightRadius,n.width,n.height),A=u[0],f=u[1],m=mx(r.borderBottomLeftRadius,n.width,n.height),x=m[0],p=m[1],v=[];v.push((a+c)/n.width),v.push((x+A)/n.width),v.push((o+p)/n.height),v.push((d+f)/n.height);var y=Math.max.apply(Math,v);y>1&&(a/=y,o/=y,c/=y,d/=y,A/=y,f/=y,x/=y,p/=y);var b=n.width-c,w=n.height-f,j=n.width-A,N=n.height-p,B=r.borderTopWidth,I=r.borderRightWidth,P=r.borderBottomWidth,T=r.borderLeftWidth,U=Dn(r.paddingTop,t.bounds.width),k=Dn(r.paddingRight,t.bounds.width),E=Dn(r.paddingBottom,t.bounds.width),Q=Dn(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?Zn(n.left+T/3,n.top+B/3,a-T/3,o-B/3,on.TOP_LEFT):new It(n.left+T/3,n.top+B/3),this.topRightBorderDoubleOuterBox=a>0||o>0?Zn(n.left+b,n.top+B/3,c-I/3,d-B/3,on.TOP_RIGHT):new It(n.left+n.width-I/3,n.top+B/3),this.bottomRightBorderDoubleOuterBox=A>0||f>0?Zn(n.left+j,n.top+w,A-I/3,f-P/3,on.BOTTOM_RIGHT):new It(n.left+n.width-I/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=x>0||p>0?Zn(n.left+T/3,n.top+N,x-T/3,p-P/3,on.BOTTOM_LEFT):new It(n.left+T/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?Zn(n.left+T*2/3,n.top+B*2/3,a-T*2/3,o-B*2/3,on.TOP_LEFT):new It(n.left+T*2/3,n.top+B*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?Zn(n.left+b,n.top+B*2/3,c-I*2/3,d-B*2/3,on.TOP_RIGHT):new It(n.left+n.width-I*2/3,n.top+B*2/3),this.bottomRightBorderDoubleInnerBox=A>0||f>0?Zn(n.left+j,n.top+w,A-I*2/3,f-P*2/3,on.BOTTOM_RIGHT):new It(n.left+n.width-I*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=x>0||p>0?Zn(n.left+T*2/3,n.top+N,x-T*2/3,p-P*2/3,on.BOTTOM_LEFT):new It(n.left+T*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=a>0||o>0?Zn(n.left+T/2,n.top+B/2,a-T/2,o-B/2,on.TOP_LEFT):new It(n.left+T/2,n.top+B/2),this.topRightBorderStroke=a>0||o>0?Zn(n.left+b,n.top+B/2,c-I/2,d-B/2,on.TOP_RIGHT):new It(n.left+n.width-I/2,n.top+B/2),this.bottomRightBorderStroke=A>0||f>0?Zn(n.left+j,n.top+w,A-I/2,f-P/2,on.BOTTOM_RIGHT):new It(n.left+n.width-I/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=x>0||p>0?Zn(n.left+T/2,n.top+N,x-T/2,p-P/2,on.BOTTOM_LEFT):new It(n.left+T/2,n.top+n.height-P/2),this.topLeftBorderBox=a>0||o>0?Zn(n.left,n.top,a,o,on.TOP_LEFT):new It(n.left,n.top),this.topRightBorderBox=c>0||d>0?Zn(n.left+b,n.top,c,d,on.TOP_RIGHT):new It(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||f>0?Zn(n.left+j,n.top+w,A,f,on.BOTTOM_RIGHT):new It(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=x>0||p>0?Zn(n.left,n.top+N,x,p,on.BOTTOM_LEFT):new It(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?Zn(n.left+T,n.top+B,Math.max(0,a-T),Math.max(0,o-B),on.TOP_LEFT):new It(n.left+T,n.top+B),this.topRightPaddingBox=c>0||d>0?Zn(n.left+Math.min(b,n.width-I),n.top+B,b>n.width+I?0:Math.max(0,c-I),Math.max(0,d-B),on.TOP_RIGHT):new It(n.left+n.width-I,n.top+B),this.bottomRightPaddingBox=A>0||f>0?Zn(n.left+Math.min(j,n.width-T),n.top+Math.min(w,n.height-P),Math.max(0,A-I),Math.max(0,f-P),on.BOTTOM_RIGHT):new It(n.left+n.width-I,n.top+n.height-P),this.bottomLeftPaddingBox=x>0||p>0?Zn(n.left+T,n.top+Math.min(N,n.height-P),Math.max(0,x-T),Math.max(0,p-P),on.BOTTOM_LEFT):new It(n.left+T,n.top+n.height-P),this.topLeftContentBox=a>0||o>0?Zn(n.left+T+Q,n.top+B+U,Math.max(0,a-(T+Q)),Math.max(0,o-(B+U)),on.TOP_LEFT):new It(n.left+T+Q,n.top+B+U),this.topRightContentBox=c>0||d>0?Zn(n.left+Math.min(b,n.width+T+Q),n.top+B+U,b>n.width+T+Q?0:c-T+Q,d-(B+U),on.TOP_RIGHT):new It(n.left+n.width-(I+k),n.top+B+U),this.bottomRightContentBox=A>0||f>0?Zn(n.left+Math.min(j,n.width-(T+Q)),n.top+Math.min(w,n.height+B+U),Math.max(0,A-(I+k)),f-(P+E),on.BOTTOM_RIGHT):new It(n.left+n.width-(I+k),n.top+n.height-(P+E)),this.bottomLeftContentBox=x>0||p>0?Zn(n.left+T+Q,n.top+N,Math.max(0,x-(T+Q)),p-(P+E),on.BOTTOM_LEFT):new It(n.left+T+Q,n.top+n.height-(P+E))}return e}(),on;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(on||(on={}));var Zn=function(e,t,r,n,i){var a=4*((Math.sqrt(2)-1)/3),o=r*a,l=n*a,c=e+r,d=t+n;switch(i){case on.TOP_LEFT:return new gw(new It(e,d),new It(e,d-l),new It(c-o,t),new It(c,t));case on.TOP_RIGHT:return new gw(new It(e,t),new It(e+o,t),new It(c,d-l),new It(c,d));case on.BOTTOM_RIGHT:return new gw(new It(c,t),new It(c,t+l),new It(e+o,d),new It(e,d));case on.BOTTOM_LEFT:default:return new gw(new It(c,d),new It(c-o,d),new It(e,t+l),new It(e,t))}},R2=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Q5e=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},M2=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},$5e=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),xw=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),H5e=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),z5e=function(e){return e.type===0},AY=function(e){return e.type===1},V5e=function(e){return e.type===2},KR=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},K5e=function(e,t,r,n,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,r);case 1:return a.add(t+n,r);case 2:return a.add(t+n,r+i);case 3:return a.add(t,r+i)}return a})},fY=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),mY=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new D5e(this.container),this.container.styles.opacity<1&&this.effects.push(new H5e(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new $5e(n,i,a))}if(this.container.styles.overflowX!==0){var o=R2(this.curves),l=M2(this.curves);KR(o,l)?this.effects.push(new xw(o,6)):(this.effects.push(new xw(o,2)),this.effects.push(new xw(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!AY(c)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=R2(n.curves),l=M2(n.curves);KR(o,l)||i.unshift(new xw(l,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(c){return Ai(c.target,t)})},e}(),vk=function(e,t,r,n){e.container.elements.forEach(function(i){var a=Ai(i.flags,4),o=Ai(i.flags,2),l=new mY(i,e);Ai(i.styles.display,2048)&&n.push(l);var c=Ai(i.flags,8)?[]:n;if(a||o){var d=a||i.styles.isPositioned()?r:t,u=new fY(l);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var f=0;d.negativeZIndex.some(function(x,p){return A>x.element.container.styles.zIndex.order?(f=p,!1):f>0}),d.negativeZIndex.splice(f,0,u)}else if(A>0){var m=0;d.positiveZIndex.some(function(x,p){return A>=x.element.container.styles.zIndex.order?(m=p+1,!1):m>0}),d.positiveZIndex.splice(m,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);vk(l,u,a?u:r,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),vk(l,t,r,c);Ai(i.flags,8)&&pY(i,c)})},pY=function(e,t){for(var r=e instanceof mk?e.start:1,n=e instanceof mk?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof Zq&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Sy(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},W5e=function(e){var t=new mY(e,null),r=new fY(t),n=[];return vk(t,r,r,n),pY(t.container,n),r},WR=function(e,t){switch(t){case 0:return ul(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ul(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ul(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ul(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},G5e=function(e,t){switch(t){case 0:return ul(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ul(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ul(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ul(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},q5e=function(e,t){switch(t){case 0:return ul(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ul(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ul(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ul(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Y5e=function(e,t){switch(t){case 0:return yw(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return yw(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return yw(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return yw(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},yw=function(e,t){var r=[];return al(e)?r.push(e.subdivide(.5,!1)):r.push(e),al(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ul=function(e,t,r,n){var i=[];return al(e)?i.push(e.subdivide(.5,!1)):i.push(e),al(r)?i.push(r.subdivide(.5,!0)):i.push(r),al(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),al(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},gY=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},D2=function(e){var t=e.styles,r=e.bounds,n=Dn(t.paddingLeft,r.width),i=Dn(t.paddingRight,r.width),a=Dn(t.paddingTop,r.width),o=Dn(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},X5e=function(e,t){return e===0?t.bounds:e===2?D2(t):gY(t)},J5e=function(e,t){return e===0?t.bounds:e===2?D2(t):gY(t)},aB=function(e,t,r){var n=X5e(Km(e.styles.backgroundOrigin,t),e),i=J5e(Km(e.styles.backgroundClip,t),e),a=Z5e(Km(e.styles.backgroundSize,t),r,n),o=a[0],l=a[1],c=mx(Km(e.styles.backgroundPosition,t),n.width-o,n.height-l),d=e_e(Km(e.styles.backgroundRepeat,t),c,a,n,i),u=Math.round(n.left+c[0]),A=Math.round(n.top+c[1]);return[d,u,A,o,l]},Fm=function(e){return Nn(e)&&e.value===Tp.AUTO},vw=function(e){return typeof e=="number"},Z5e=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Gs(o)&&l&&Gs(l))return[Dn(o,r.width),Dn(l,r.height)];var c=vw(a);if(Nn(o)&&(o.value===Tp.CONTAIN||o.value===Tp.COVER)){if(vw(a)){var d=r.width/r.height;return d<a!=(o.value===Tp.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var u=vw(n),A=vw(i),f=u||A;if(Fm(o)&&(!l||Fm(l))){if(u&&A)return[n,i];if(!c&&!f)return[r.width,r.height];if(f&&c){var m=u?n:i*a,x=A?i:n/a;return[m,x]}var p=u?n:r.width,v=A?i:r.height;return[p,v]}if(c){var y=0,b=0;return Gs(o)?y=Dn(o,r.width):Gs(l)&&(b=Dn(l,r.height)),Fm(o)?y=b*a:(!l||Fm(l))&&(b=y/a),[y,b]}var w=null,j=null;if(Gs(o)?w=Dn(o,r.width):l&&Gs(l)&&(j=Dn(l,r.height)),w!==null&&(!l||Fm(l))&&(j=u&&A?w/n*i:r.height),j!==null&&Fm(o)&&(w=u&&A?j/i*n:r.width),w!==null&&j!==null)return[w,j];throw new Error("Unable to calculate background-size for element")},Km=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},e_e=function(e,t,r,n,i){var a=t[0],o=t[1],l=r[0],c=r[1];switch(e){case 2:return[new It(Math.round(n.left),Math.round(n.top+o)),new It(Math.round(n.left+n.width),Math.round(n.top+o)),new It(Math.round(n.left+n.width),Math.round(c+n.top+o)),new It(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new It(Math.round(n.left+a),Math.round(n.top)),new It(Math.round(n.left+a+l),Math.round(n.top)),new It(Math.round(n.left+a+l),Math.round(n.height+n.top)),new It(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new It(Math.round(n.left+a),Math.round(n.top+o)),new It(Math.round(n.left+a+l),Math.round(n.top+o)),new It(Math.round(n.left+a+l),Math.round(n.top+o+c)),new It(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new It(Math.round(i.left),Math.round(i.top)),new It(Math.round(i.left+i.width),Math.round(i.top)),new It(Math.round(i.left+i.width),Math.round(i.height+i.top)),new It(Math.round(i.left),Math.round(i.height+i.top))]}},t_e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",GR="Hidden Text",r_e=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=t_e,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(GR)),n.appendChild(a),n.appendChild(i);var l=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(GR)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),xY=function(){function e(t,r){this.context=t,this.options=r}return e}(),n_e=1e4,s_e=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new r_e(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(r){this.ctx.save(),V5e(r)&&(this.ctx.globalAlpha=r.opacity),z5e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),AY(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return wa(this,void 0,void 0,function(){var n;return Ji(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return wa(this,void 0,void 0,function(){return Ji(this,function(n){switch(n.label){case 0:if(Ai(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=G6(r.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,r.bounds.top+i),l+a.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=c_e(r.fontFamily).join(", "),a=Vv(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(r,n){return wa(this,void 0,void 0,function(){var i,a,o,l,c,d,u,A,f=this;return Ji(this,function(m){return i=this.createFontStyle(n),a=i[0],o=i[1],l=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,A=n.paintOrder,r.textBounds.forEach(function(x){A.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=xi(n.color),f.renderTextWithLetterSpacing(x,n.letterSpacing,d);var v=n.textShadow;v.length&&x.text.trim().length&&(v.slice(0).reverse().forEach(function(y){f.ctx.shadowColor=xi(y.color),f.ctx.shadowOffsetX=y.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=y.offsetY.number*f.options.scale,f.ctx.shadowBlur=y.blur.number,f.renderTextWithLetterSpacing(x,n.letterSpacing,d)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=xi(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:f.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top+d),x.bounds.width,1);break;case 2:f.ctx.fillRect(x.bounds.left,Math.round(x.bounds.top),x.bounds.width,1);break;case 3:f.ctx.fillRect(x.bounds.left,Math.ceil(x.bounds.top+u),x.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&x.text.trim().length&&(f.ctx.strokeStyle=xi(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(x.text,x.bounds.left,x.bounds.top+d)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=D2(r),o=M2(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return wa(this,void 0,void 0,function(){var n,i,a,o,l,c,b,b,d,u,A,f,j,m,x,N,p,v,y,b,w,j,N;return Ji(this,function(B){switch(B.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,o=0,l=n.textNodes,B.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:B.sent(),B.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Yq))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=B.sent(),this.renderReplacedElement(n,i,b),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Xq&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Jq))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=B.sent(),this.renderReplacedElement(n,i,b),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof rY&&n.tree?(d=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,d.render(n.tree)]):[3,14];case 13:u=B.sent(),n.width&&n.height&&this.ctx.drawImage(u,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),B.label=14;case 14:if(n instanceof q6&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===O2?n.checked&&(this.ctx.save(),this.path([new It(n.bounds.left+A*.39363,n.bounds.top+A*.79),new It(n.bounds.left+A*.16,n.bounds.top+A*.5549),new It(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new It(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new It(n.bounds.left+A*.72983,n.bounds.top+A*.23),new It(n.bounds.left+A*.84,n.bounds.top+A*.34085),new It(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=xi(LR),this.ctx.fill(),this.ctx.restore()):n.type===L2&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=xi(LR),this.ctx.fill(),this.ctx.restore())),i_e(n)&&n.value.length){switch(f=this.createFontStyle(a),j=f[0],m=f[1],x=this.fontMetrics.getMetrics(j,m).baseline,this.ctx.font=j,this.ctx.fillStyle=xi(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=o_e(n.styles.textAlign),N=D2(n),p=0,n.styles.textAlign){case 1:p+=N.width/2;break;case 2:p+=N.width;break}v=N.add(p,0,0,-N.height/2+1),this.ctx.save(),this.path([new It(N.left,N.top),new It(N.left+N.width,N.top),new It(N.left+N.width,N.top+N.height),new It(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new $x(n.value,v),a.letterSpacing,x),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ai(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];b=void 0,w=y.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return b=B.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(j=this.createFontStyle(a)[0],this.ctx.font=j,this.ctx.fillStyle=xi(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new gu(n.bounds.left,n.bounds.top+Dn(n.styles.paddingTop,n.bounds.width),n.bounds.width,xR(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new $x(r.listValue,N),a.letterSpacing,xR(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return wa(this,void 0,void 0,function(){var n,i,y,a,o,y,l,c,y,d,u,y,A,f,y,m,x,y,p,v,y;return Ji(this,function(b){switch(b.label){case 0:if(Ai(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,i=r.negativeZIndex,b.label=2;case 2:return n<i.length?(y=i[n],[4,this.renderStack(y)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),a=0,o=r.nonInlineLevel,b.label=7;case 7:return a<o.length?(y=o[a],[4,this.renderNode(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return a++,[3,7];case 10:l=0,c=r.nonPositionedFloats,b.label=11;case 11:return l<c.length?(y=c[l],[4,this.renderStack(y)]):[3,14];case 12:b.sent(),b.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,b.label=15;case 15:return d<u.length?(y=u[d],[4,this.renderStack(y)]):[3,18];case 16:b.sent(),b.label=17;case 17:return d++,[3,15];case 18:A=0,f=r.inlineLevel,b.label=19;case 19:return A<f.length?(y=f[A],[4,this.renderNode(y)]):[3,22];case 20:b.sent(),b.label=21;case 21:return A++,[3,19];case 22:m=0,x=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return m<x.length?(y=x[m],[4,this.renderStack(y)]):[3,26];case 24:b.sent(),b.label=25;case 25:return m++,[3,23];case 26:p=0,v=r.positiveZIndex,b.label=27;case 27:return p<v.length?(y=v[p],[4,this.renderStack(y)]):[3,30];case 28:b.sent(),b.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var o=al(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),al(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,i);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,i),l},t.prototype.renderBackgroundImage=function(r){return wa(this,void 0,void 0,function(){var n,i,a,o,l,c;return Ji(this,function(d){switch(d.label){case 0:n=r.styles.backgroundImage.length-1,i=function(u){var A,f,m,U,W,D,Q,F,P,x,U,W,D,Q,F,p,v,y,b,w,j,N,B,I,P,T,U,k,E,Q,F,K,W,D,z,ee,te,le,$,X,V,ne;return Ji(this,function(ae){switch(ae.label){case 0:if(u.type!==0)return[3,5];A=void 0,f=u.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,a.context.cache.match(f)];case 2:return A=ae.sent(),[3,4];case 3:return ae.sent(),a.context.logger.error("Error loading background-image "+f),[3,4];case 4:return A&&(m=aB(r,n,[A.width,A.height,A.width/A.height]),U=m[0],W=m[1],D=m[2],Q=m[3],F=m[4],P=a.ctx.createPattern(a.resizeImage(A,Q,F),"repeat"),a.renderRepeat(U,P,W,D)),[3,6];case 5:z2e(u)?(x=aB(r,n,[null,null,null]),U=x[0],W=x[1],D=x[2],Q=x[3],F=x[4],p=M2e(u.angle,Q,F),v=p[0],y=p[1],b=p[2],w=p[3],j=p[4],N=document.createElement("canvas"),N.width=Q,N.height=F,B=N.getContext("2d"),I=B.createLinearGradient(y,w,b,j),pR(u.stops,v).forEach(function(he){return I.addColorStop(he.stop,xi(he.color))}),B.fillStyle=I,B.fillRect(0,0,Q,F),Q>0&&F>0&&(P=a.ctx.createPattern(N,"repeat"),a.renderRepeat(U,P,W,D))):V2e(u)&&(T=aB(r,n,[null,null,null]),U=T[0],k=T[1],E=T[2],Q=T[3],F=T[4],K=u.position.length===0?[V6]:u.position,W=Dn(K[0],Q),D=Dn(K[K.length-1],F),z=D2e(u,W,D,Q,F),ee=z[0],te=z[1],ee>0&&te>0&&(le=a.ctx.createRadialGradient(k+W,E+D,0,k+W,E+D,ee),pR(u.stops,ee*2).forEach(function(he){return le.addColorStop(he.stop,xi(he.color))}),a.path(U),a.ctx.fillStyle=le,ee!==te?($=r.bounds.left+.5*r.bounds.width,X=r.bounds.top+.5*r.bounds.height,V=te/ee,ne=1/V,a.ctx.save(),a.ctx.translate($,X),a.ctx.transform(1,0,0,V,0,0),a.ctx.translate(-$,-X),a.ctx.fillRect(k,ne*(E-X)+X,Q,F*ne),a.ctx.restore()):a.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},a=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,i(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,i){return wa(this,void 0,void 0,function(){return Ji(this,function(a){return this.path(WR(i,n)),this.ctx.fillStyle=xi(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,i,a){return wa(this,void 0,void 0,function(){var o,l;return Ji(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=G5e(a,i),this.path(o),this.ctx.fillStyle=xi(r),this.ctx.fill(),l=q5e(a,i),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return wa(this,void 0,void 0,function(){var n,i,a,o,l,c,d,u,A=this;return Ji(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Qh(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=a_e(Km(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Qh(n.backgroundColor)||(this.ctx.fillStyle=xi(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(m){A.ctx.save();var x=R2(r.curves),p=m.inset?0:n_e,v=K5e(x,-p+(m.inset?1:-1)*m.spread.number,(m.inset?1:-1)*m.spread.number,m.spread.number*(m.inset?-2:2),m.spread.number*(m.inset?-2:2));m.inset?(A.path(x),A.ctx.clip(),A.mask(v)):(A.mask(x),A.ctx.clip(),A.path(v)),A.ctx.shadowOffsetX=m.offsetX.number+p,A.ctx.shadowOffsetY=m.offsetY.number,A.ctx.shadowColor=xi(m.color),A.ctx.shadowBlur=m.blur.number,A.ctx.fillStyle=m.inset?xi(m.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),f.label=2;case 2:l=0,c=0,d=a,f.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!Qh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:f.sent(),f.label=11;case 11:l++,f.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,i,a,o){return wa(this,void 0,void 0,function(){var l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,N,B;return Ji(this,function(I){return this.ctx.save(),l=Y5e(a,i),c=WR(a,i),o===2&&(this.path(c),this.ctx.clip()),al(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),al(c[1])?(A=c[1].end.x,f=c[1].end.y):(A=c[1].x,f=c[1].y),i===0||i===2?m=Math.abs(d-A):m=Math.abs(u-f),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),x=n<3?n*3:n*2,p=n<3?n*2:n,o===3&&(x=n,p=n),v=!0,m<=x*2?v=!1:m<=x*2+p?(y=m/(2*x+p),x*=y,p*=y):(b=Math.floor((m+p)/(x+p)),w=(m-b*x)/(b-1),j=(m-(b+1)*x)/b,p=j<=0||Math.abs(p-w)<Math.abs(p-j)?w:j),v&&(o===3?this.ctx.setLineDash([0,x+p]):this.ctx.setLineDash([x,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=xi(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(al(c[0])&&(N=c[3],B=c[0],this.ctx.beginPath(),this.formatPath([new It(N.end.x,N.end.y),new It(B.start.x,B.start.y)]),this.ctx.stroke()),al(c[1])&&(N=c[1],B=c[2],this.ctx.beginPath(),this.formatPath([new It(N.end.x,N.end.y),new It(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return wa(this,void 0,void 0,function(){var n;return Ji(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=xi(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=W5e(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(xY),i_e=function(e){return e instanceof tY||e instanceof eY?!0:e instanceof q6&&e.type!==L2&&e.type!==O2},a_e=function(e,t){switch(e){case 0:return R2(t);case 2:return Q5e(t);case 1:default:return M2(t)}},o_e=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},l_e=["-apple-system","system-ui"],c_e=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return l_e.indexOf(t)===-1}):e},d_e=function(e){bc(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(r){return wa(this,void 0,void 0,function(){var n,i;return Ji(this,function(a){switch(a.label){case 0:return n=fk(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,u_e(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=xi(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(xY),u_e=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},h_e=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Jb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Jb([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Jb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Jb([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),A_e=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new h_e({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new T5e(this,t)}return e.instanceCount=1,e}(),yY=function(e,t){return t===void 0&&(t={}),f_e(e,t)};typeof window<"u"&&hY.setContext(window);var f_e=function(e,t){return wa(void 0,void 0,void 0,function(){var r,n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,I,B,I,P,T,U,k,E,Q,F,K,W,D,z,ee,te,le,$,X,V;return Ji(this,function(ne){switch(ne.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(P=t.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(T=t.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:t.proxy,useCORS:(U=t.useCORS)!==null&&U!==void 0?U:!1},a=Z4({logging:(k=t.logging)!==null&&k!==void 0?k:!0,cache:t.cache},i),o={windowWidth:(E=t.windowWidth)!==null&&E!==void 0?E:n.innerWidth,windowHeight:(Q=t.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(F=t.scrollX)!==null&&F!==void 0?F:n.pageXOffset,scrollY:(K=t.scrollY)!==null&&K!==void 0?K:n.pageYOffset},l=new gu(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new A_e(a,l),d=(W=t.foreignObjectRendering)!==null&&W!==void 0?W:!1,u={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),A=new zR(c,e,u),f=A.clonedReferenceElement,f?[4,A.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=ne.sent(),x=Y6(f)||p5e(f)?Kwe(f.ownerDocument):YN(c,f),p=x.width,v=x.height,y=x.left,b=x.top,w=m_e(c,f,t.backgroundColor),j={canvas:t.canvas,backgroundColor:w,scale:(ee=(z=t.scale)!==null&&z!==void 0?z:n.devicePixelRatio)!==null&&ee!==void 0?ee:1,x:((te=t.x)!==null&&te!==void 0?te:0)+y,y:((le=t.y)!==null&&le!==void 0?le:0)+b,width:($=t.width)!==null&&$!==void 0?$:Math.ceil(p),height:(X=t.height)!==null&&X!==void 0?X:Math.ceil(v)},d?(c.logger.debug("Document cloned, using foreign object rendering"),I=new d_e(c,j),[4,I.render(f)]):[3,3];case 2:return N=ne.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+y+","+b+" with size "+p+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),B=sY(c,f),w===B.styles.backgroundColor&&(B.styles.backgroundColor=au.TRANSPARENT),c.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),I=new s_e(c,j),[4,I.render(B)];case 4:N=ne.sent(),ne.label=5;case 5:return(!((V=t.removeContainer)!==null&&V!==void 0)||V)&&(zR.destroy(m)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},m_e=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?Dx(e,getComputedStyle(n.documentElement).backgroundColor):au.TRANSPARENT,a=n.body?Dx(e,getComputedStyle(n.body).backgroundColor):au.TRANSPARENT,o=typeof r=="string"?Dx(e,r):r===null?au.TRANSPARENT:4294967295;return t===n.documentElement?Qh(i)?Qh(a)?o:a:i:o};const p_e=Object.freeze(Object.defineProperty({__proto__:null,default:yY},Symbol.toStringTag,{value:"Module"})),g_e="modulepreload",x_e=function(e){return"/"+e},qR={},oB=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=x_e(c),c in qR)return;qR[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const A=document.createElement("link");if(A.rel=d?"stylesheet":g_e,d||(A.as="script"),A.crossOrigin="",A.href=c,l&&A.setAttribute("nonce",l),document.head.appendChild(A),d)return new Promise((f,m)=>{A.addEventListener("load",f),A.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}var fc=Uint8Array,Bo=Uint16Array,X6=Int32Array,J6=new fc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z6=new fc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),YR=new fc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vY=function(e,t){for(var r=new Bo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new X6(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},bY=vY(J6,2),y_e=bY.b,bk=bY.r;y_e[28]=258,bk[258]=28;var v_e=vY(Z6,0),XR=v_e.r,wk=new Bo(32768);for(var Yn=0;Yn<32768;++Yn){var eh=(Yn&43690)>>1|(Yn&21845)<<1;eh=(eh&52428)>>2|(eh&13107)<<2,eh=(eh&61680)>>4|(eh&3855)<<4,wk[Yn]=((eh&65280)>>8|(eh&255)<<8)>>1}var zx=function(e,t,r){for(var n=e.length,i=0,a=new Bo(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new Bo(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new Bo(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],u=t-e[i],A=o[e[i]-1]++<<u,f=A|(1<<u)-1;A<=f;++A)l[wk[A]>>c]=d}else for(l=new Bo(n),i=0;i<n;++i)e[i]&&(l[i]=wk[o[e[i]-1]++]>>15-e[i]);return l},Df=new fc(288);for(var Yn=0;Yn<144;++Yn)Df[Yn]=8;for(var Yn=144;Yn<256;++Yn)Df[Yn]=9;for(var Yn=256;Yn<280;++Yn)Df[Yn]=7;for(var Yn=280;Yn<288;++Yn)Df[Yn]=8;var Q2=new fc(32);for(var Yn=0;Yn<32;++Yn)Q2[Yn]=5;var b_e=zx(Df,9,0),w_e=zx(Q2,5,0),wY=function(e){return(e+7)/8|0},j_e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new fc(e.subarray(t,r))},Td=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Q0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},lB=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:NY,l:0};if(i==1){var o=new fc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,B){return N.f-B.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,A=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=r[r[d].f<r[A].f?d++:A++],c=r[d!=u&&r[d].f<r[A].f?d++:A++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=a[0].s,n=1;n<i;++n)a[n].s>f&&(f=a[n].s);var m=new Bo(f+1),x=jk(r[u-1],m,0);if(x>t){var n=0,p=0,v=x-t,y=1<<v;for(a.sort(function(B,I){return m[I.s]-m[B.s]||B.f-I.f});n<i;++n){var b=a[n].s;if(m[b]>t)p+=y-(1<<x-m[b]),m[b]=t;else break}for(p>>=v;p>0;){var w=a[n].s;m[w]<t?p-=1<<t-m[w]++-1:++n}for(;n>=0&&p;--n){var j=a[n].s;m[j]==t&&(--m[j],++p)}x=t}return{t:new fc(m),l:x}},jk=function(e,t,r){return e.s==-1?Math.max(jk(e.l,t,r+1),jk(e.r,t,r+1)):t[e.s]=r},JR=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Bo(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:r.subarray(0,n),n:t}},$0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},jY=function(e,t,r){var n=r.length,i=wY(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},ZR=function(e,t,r,n,i,a,o,l,c,d,u){Td(t,u++,r),++i[256];for(var A=lB(i,15),f=A.t,m=A.l,x=lB(a,15),p=x.t,v=x.l,y=JR(f),b=y.c,w=y.n,j=JR(p),N=j.c,B=j.n,I=new Bo(19),P=0;P<b.length;++P)++I[b[P]&31];for(var P=0;P<N.length;++P)++I[N[P]&31];for(var T=lB(I,7),U=T.t,k=T.l,E=19;E>4&&!U[YR[E-1]];--E);var Q=d+5<<3,F=$0(i,Df)+$0(a,Q2)+o,K=$0(i,f)+$0(a,p)+o+14+3*E+$0(I,U)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&Q<=F&&Q<=K)return jY(t,u,e.subarray(c,c+d));var W,D,z,ee;if(Td(t,u,1+(K<F)),u+=2,K<F){W=zx(f,m,0),D=f,z=zx(p,v,0),ee=p;var te=zx(U,k,0);Td(t,u,w-257),Td(t,u+5,B-1),Td(t,u+10,E-4),u+=14;for(var P=0;P<E;++P)Td(t,u+3*P,U[YR[P]]);u+=3*E;for(var le=[b,N],$=0;$<2;++$)for(var X=le[$],P=0;P<X.length;++P){var V=X[P]&31;Td(t,u,te[V]),u+=U[V],V>15&&(Td(t,u,X[P]>>5&127),u+=X[P]>>12)}}else W=b_e,D=Df,z=w_e,ee=Q2;for(var P=0;P<l;++P){var ne=n[P];if(ne>255){var V=ne>>18&31;Q0(t,u,W[V+257]),u+=D[V+257],V>7&&(Td(t,u,ne>>23&31),u+=J6[V]);var ae=ne&31;Q0(t,u,z[ae]),u+=ee[ae],ae>3&&(Q0(t,u,ne>>5&8191),u+=Z6[ae])}else Q0(t,u,W[ne]),u+=D[ne]}return Q0(t,u,W[256]),u+D[256]},N_e=new X6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),NY=new fc(0),__e=function(e,t,r,n,i,a){var o=a.z||e.length,l=new fc(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,u=(a.r||0)&7;if(t){u&&(c[0]=a.r>>3);for(var A=N_e[t-1],f=A>>13,m=A&8191,x=(1<<r)-1,p=a.p||new Bo(32768),v=a.h||new Bo(x+1),y=Math.ceil(r/3),b=2*y,w=function(xe){return(e[xe]^e[xe+1]<<y^e[xe+2]<<b)&x},j=new X6(25e3),N=new Bo(288),B=new Bo(32),I=0,P=0,T=a.i||0,U=0,k=a.w||0,E=0;T+2<o;++T){var Q=w(T),F=T&32767,K=v[Q];if(p[F]=K,v[Q]=F,k<=T){var W=o-T;if((I>7e3||U>24576)&&(W>423||!d)){u=ZR(e,c,0,j,N,B,P,U,E,T-E,u),U=I=P=0,E=T;for(var D=0;D<286;++D)N[D]=0;for(var D=0;D<30;++D)B[D]=0}var z=2,ee=0,te=m,le=F-K&32767;if(W>2&&Q==w(T-le))for(var $=Math.min(f,W)-1,X=Math.min(32767,T),V=Math.min(258,W);le<=X&&--te&&F!=K;){if(e[T+z]==e[T+z-le]){for(var ne=0;ne<V&&e[T+ne]==e[T+ne-le];++ne);if(ne>z){if(z=ne,ee=le,ne>$)break;for(var ae=Math.min(le,ne-2),he=0,D=0;D<ae;++D){var ge=T-le+D&32767,J=p[ge],ue=ge-J&32767;ue>he&&(he=ue,K=ge)}}}F=K,K=p[F],le+=F-K&32767}if(ee){j[U++]=268435456|bk[z]<<18|XR[ee];var fe=bk[z]&31,Y=XR[ee]&31;P+=J6[fe]+Z6[Y],++N[257+fe],++B[Y],k=T+z,++I}else j[U++]=e[T],++N[e[T]]}}for(T=Math.max(T,k);T<o;++T)j[U++]=e[T],++N[e[T]];u=ZR(e,c,d,j,N,B,P,U,E,T-E,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=v,a.p=p,a.i=T,a.w=k)}else{for(var T=a.w||0;T<o+d;T+=65535){var je=T+65535;je>=o&&(c[u/8|0]=d,je=o),u=jY(c,u+1,e.subarray(T,je))}a.i=o}return j_e(l,0,n+wY(u)+i)},_Y=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},C_e=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new fc(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return __e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},CY=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},B_e=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=_Y();i.p(t.dictionary),CY(e,2,i.d())}};function Nk(e,t){t||(t={});var r=_Y();r.p(e);var n=C_e(e,t,t.dictionary?6:2,4);return B_e(n,t),CY(n,n.length-4,r.d()),n}var S_e=typeof TextDecoder<"u"&&new TextDecoder,k_e=0;try{S_e.decode(NY,{stream:!0}),k_e=1}catch{}function E_e(e){if(Array.isArray(e))return e}function P_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function eM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function I_e(e,t){if(e){if(typeof e=="string")return eM(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eM(e,t):void 0}}function T_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tM(e,t){return E_e(e)||P_e(e,t)||I_e(e,t)||T_e()}function rM(e,t="utf8"){return new TextDecoder(t).decode(e)}const O_e=new TextEncoder;function L_e(e){return O_e.encode(e)}const F_e=1024*8,U_e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),cB={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class eI{constructor(t=F_e,r={}){mn(this,"buffer");mn(this,"byteLength");mn(this,"byteOffset");mn(this,"length");mn(this,"offset");mn(this,"lastWrittenByte");mn(this,"littleEndian");mn(this,"_data");mn(this,"_mark");mn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof eI)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=cB[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===U_e&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new cB[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new cB[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return rM(this.readBytes(t))}decodeText(t=1,r="utf8"){return rM(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(L_e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Kg(e){let t=e.length;for(;--t>=0;)e[t]=0}const R_e=3,M_e=258,BY=29,D_e=256,Q_e=D_e+1+BY,SY=30,$_e=512,H_e=new Array((Q_e+2)*2);Kg(H_e);const z_e=new Array(SY*2);Kg(z_e);const V_e=new Array($_e);Kg(V_e);const K_e=new Array(M_e-R_e+1);Kg(K_e);const W_e=new Array(BY);Kg(W_e);const G_e=new Array(SY);Kg(G_e);const q_e=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var _k=q_e;const Y_e=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},X_e=new Uint32Array(Y_e()),J_e=(e,t,r,n)=>{const i=X_e,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Mc=J_e,Ck={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kY={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Z_e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var eCe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Z_e(r,n)&&(e[n]=r[n])}}return e},tCe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},EY={assign:eCe,flattenChunks:tCe};let PY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PY=!1}const ky=new Uint8Array(256);for(let e=0;e<256;e++)ky[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;ky[254]=ky[254]=1;var rCe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,l=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const nCe=(e,t)=>{if(t<65534&&e.subarray&&PY)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var sCe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let l=ky[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return nCe(a,i)},iCe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+ky[e[r]]>t?r:t},Bk={string2buf:rCe,buf2string:sCe,utf8border:iCe};function aCe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var oCe=aCe;const bw=16209,lCe=16191;var cCe=function(t,r){let n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,I,P,T,U;const k=t.state;n=t.next_in,T=t.input,i=n+(t.avail_in-5),a=t.next_out,U=t.output,o=a-(r-t.avail_out),l=a+(t.avail_out-257),c=k.dmax,d=k.wsize,u=k.whave,A=k.wnext,f=k.window,m=k.hold,x=k.bits,p=k.lencode,v=k.distcode,y=(1<<k.lenbits)-1,b=(1<<k.distbits)-1;e:do{x<15&&(m+=T[n++]<<x,x+=8,m+=T[n++]<<x,x+=8),w=p[m&y];t:for(;;){if(j=w>>>24,m>>>=j,x-=j,j=w>>>16&255,j===0)U[a++]=w&65535;else if(j&16){N=w&65535,j&=15,j&&(x<j&&(m+=T[n++]<<x,x+=8),N+=m&(1<<j)-1,m>>>=j,x-=j),x<15&&(m+=T[n++]<<x,x+=8,m+=T[n++]<<x,x+=8),w=v[m&b];r:for(;;){if(j=w>>>24,m>>>=j,x-=j,j=w>>>16&255,j&16){if(B=w&65535,j&=15,x<j&&(m+=T[n++]<<x,x+=8,x<j&&(m+=T[n++]<<x,x+=8)),B+=m&(1<<j)-1,B>c){t.msg="invalid distance too far back",k.mode=bw;break e}if(m>>>=j,x-=j,j=a-o,B>j){if(j=B-j,j>u&&k.sane){t.msg="invalid distance too far back",k.mode=bw;break e}if(I=0,P=f,A===0){if(I+=d-j,j<N){N-=j;do U[a++]=f[I++];while(--j);I=a-B,P=U}}else if(A<j){if(I+=d+A-j,j-=A,j<N){N-=j;do U[a++]=f[I++];while(--j);if(I=0,A<N){j=A,N-=j;do U[a++]=f[I++];while(--j);I=a-B,P=U}}}else if(I+=A-j,j<N){N-=j;do U[a++]=f[I++];while(--j);I=a-B,P=U}for(;N>2;)U[a++]=P[I++],U[a++]=P[I++],U[a++]=P[I++],N-=3;N&&(U[a++]=P[I++],N>1&&(U[a++]=P[I++]))}else{I=a-B;do U[a++]=U[I++],U[a++]=U[I++],U[a++]=U[I++],N-=3;while(N>2);N&&(U[a++]=U[I++],N>1&&(U[a++]=U[I++]))}}else if(j&64){t.msg="invalid distance code",k.mode=bw;break e}else{w=v[(w&65535)+(m&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){k.mode=lCe;break e}else{t.msg="invalid literal/length code",k.mode=bw;break e}else{w=p[(w&65535)+(m&(1<<j)-1)];continue t}break}}while(n<i&&a<l);N=x>>3,n-=N,x-=N<<3,m&=(1<<x)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<l?257+(l-a):257-(a-l),k.hold=m,k.bits=x};const Um=15,nM=852,sM=592,iM=0,dB=1,aM=2,dCe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),uCe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hCe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ACe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),fCe=(e,t,r,n,i,a,o,l)=>{const c=l.bits;let d=0,u=0,A=0,f=0,m=0,x=0,p=0,v=0,y=0,b=0,w,j,N,B,I,P=null,T;const U=new Uint16Array(Um+1),k=new Uint16Array(Um+1);let E=null,Q,F,K;for(d=0;d<=Um;d++)U[d]=0;for(u=0;u<n;u++)U[t[r+u]]++;for(m=c,f=Um;f>=1&&U[f]===0;f--);if(m>f&&(m=f),f===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(A=1;A<f&&U[A]===0;A++);for(m<A&&(m=A),v=1,d=1;d<=Um;d++)if(v<<=1,v-=U[d],v<0)return-1;if(v>0&&(e===iM||f!==1))return-1;for(k[1]=0,d=1;d<Um;d++)k[d+1]=k[d]+U[d];for(u=0;u<n;u++)t[r+u]!==0&&(o[k[t[r+u]]++]=u);if(e===iM?(P=E=o,T=20):e===dB?(P=dCe,E=uCe,T=257):(P=hCe,E=ACe,T=0),b=0,u=0,d=A,I=a,x=m,p=0,N=-1,y=1<<m,B=y-1,e===dB&&y>nM||e===aM&&y>sM)return 1;for(;;){Q=d-p,o[u]+1<T?(F=0,K=o[u]):o[u]>=T?(F=E[o[u]-T],K=P[o[u]-T]):(F=96,K=0),w=1<<d-p,j=1<<x,A=j;do j-=w,i[I+(b>>p)+j]=Q<<24|F<<16|K|0;while(j!==0);for(w=1<<d-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,u++,--U[d]===0){if(d===f)break;d=t[r+o[u]]}if(d>m&&(b&B)!==N){for(p===0&&(p=m),I+=A,x=d-p,v=1<<x;x+p<f&&(v-=U[x+p],!(v<=0));)x++,v<<=1;if(y+=1<<x,e===dB&&y>nM||e===aM&&y>sM)return 1;N=b&B,i[N]=m<<24|x<<16|I-a|0}}return b!==0&&(i[I+b]=d-p<<24|64<<16|0),l.bits=m,0};var Vx=fCe;const mCe=0,IY=1,TY=2,{Z_FINISH:oM,Z_BLOCK:pCe,Z_TREES:ww,Z_OK:Qf,Z_STREAM_END:gCe,Z_NEED_DICT:xCe,Z_STREAM_ERROR:vl,Z_DATA_ERROR:OY,Z_MEM_ERROR:LY,Z_BUF_ERROR:yCe,Z_DEFLATED:lM}=kY,a5=16180,cM=16181,dM=16182,uM=16183,hM=16184,AM=16185,fM=16186,mM=16187,pM=16188,gM=16189,$2=16190,Od=16191,uB=16192,xM=16193,hB=16194,yM=16195,vM=16196,bM=16197,wM=16198,jw=16199,Nw=16200,jM=16201,NM=16202,_M=16203,CM=16204,BM=16205,AB=16206,SM=16207,kM=16208,es=16209,FY=16210,UY=16211,vCe=852,bCe=592,wCe=15,jCe=wCe,EM=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function NCe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const am=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<a5||t.mode>UY?1:0},RY=e=>{if(am(e))return vl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=a5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(vCe),t.distcode=t.distdyn=new Int32Array(bCe),t.sane=1,t.back=-1,Qf},MY=e=>{if(am(e))return vl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,RY(e)},DY=(e,t)=>{let r;if(am(e))return vl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?vl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,MY(e))},QY=(e,t)=>{if(!e)return vl;const r=new NCe;e.state=r,r.strm=e,r.window=null,r.mode=a5;const n=DY(e,t);return n!==Qf&&(e.state=null),n},_Ce=e=>QY(e,jCe);let PM=!0,fB,mB;const CCe=e=>{if(PM){fB=new Int32Array(512),mB=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Vx(IY,e.lens,0,288,fB,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Vx(TY,e.lens,0,32,mB,0,e.work,{bits:5}),PM=!1}e.lencode=fB,e.lenbits=9,e.distcode=mB,e.distbits=5},$Y=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},BCe=(e,t)=>{let r,n,i,a,o,l,c,d,u,A,f,m,x,p,v=0,y,b,w,j,N,B,I,P;const T=new Uint8Array(4);let U,k;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(am(e)||!e.output||!e.input&&e.avail_in!==0)return vl;r=e.state,r.mode===Od&&(r.mode=uB),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,A=l,f=c,P=Qf;e:for(;;)switch(r.mode){case a5:if(r.wrap===0){r.mode=uB;break}for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=d&255,T[1]=d>>>8&255,r.check=Mc(r.check,T,2,0),d=0,u=0,r.mode=cM;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=es;break}if((d&15)!==lM){e.msg="unknown compression method",r.mode=es;break}if(d>>>=4,u-=4,I=(d&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){e.msg="invalid window size",r.mode=es;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=d&512?gM:Od,d=0,u=0;break;case cM:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==lM){e.msg="unknown compression method",r.mode=es;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=es;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Mc(r.check,T,2,0)),d=0,u=0,r.mode=dM;case dM:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,T[2]=d>>>16&255,T[3]=d>>>24&255,r.check=Mc(r.check,T,4,0)),d=0,u=0,r.mode=uM;case uM:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Mc(r.check,T,2,0)),d=0,u=0,r.mode=hM;case hM:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(T[0]=d&255,T[1]=d>>>8&255,r.check=Mc(r.check,T,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=AM;case AM:if(r.flags&1024&&(m=r.length,m>l&&(m=l),m&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+m),I)),r.flags&512&&r.wrap&4&&(r.check=Mc(r.check,n,m,a)),l-=m,a+=m,r.length-=m),r.length))break e;r.length=0,r.mode=fM;case fM:if(r.flags&2048){if(l===0)break e;m=0;do I=n[a+m++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Mc(r.check,n,m,a)),l-=m,a+=m,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=mM;case mM:if(r.flags&4096){if(l===0)break e;m=0;do I=n[a+m++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&m<l);if(r.flags&512&&r.wrap&4&&(r.check=Mc(r.check,n,m,a)),l-=m,a+=m,I)break e}else r.head&&(r.head.comment=null);r.mode=pM;case pM:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){e.msg="header crc mismatch",r.mode=es;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Od;break;case gM:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}e.adler=r.check=EM(d),d=0,u=0,r.mode=$2;case $2:if(r.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,xCe;e.adler=r.check=1,r.mode=Od;case Od:if(t===pCe||t===ww)break e;case uB:if(r.last){d>>>=u&7,u-=u&7,r.mode=AB;break}for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=xM;break;case 1:if(CCe(r),r.mode=jw,t===ww){d>>>=2,u-=2;break e}break;case 2:r.mode=vM;break;case 3:e.msg="invalid block type",r.mode=es}d>>>=2,u-=2;break;case xM:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=es;break}if(r.length=d&65535,d=0,u=0,r.mode=hB,t===ww)break e;case hB:r.mode=yM;case yM:if(m=r.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;i.set(n.subarray(a,a+m),o),l-=m,a+=m,c-=m,o+=m,r.length-=m;break}r.mode=Od;break;case vM:for(;u<14;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=es;break}r.have=0,r.mode=bM;case bM:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.lens[E[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},P=Vx(mCe,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,P){e.msg="invalid code lengths set",r.mode=es;break}r.have=0,r.mode=wM;case wM:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[d&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(w<16)d>>>=y,u-=y,r.lens[r.have++]=w;else{if(w===16){for(k=y+2;u<k;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(d>>>=y,u-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=es;break}I=r.lens[r.have-1],m=3+(d&3),d>>>=2,u-=2}else if(w===17){for(k=y+3;u<k;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,I=0,m=3+(d&7),d>>>=3,u-=3}else{for(k=y+7;u<k;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,I=0,m=11+(d&127),d>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=es;break}for(;m--;)r.lens[r.have++]=I}}if(r.mode===es)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=es;break}if(r.lenbits=9,U={bits:r.lenbits},P=Vx(IY,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,P){e.msg="invalid literal/lengths set",r.mode=es;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},P=Vx(TY,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,P){e.msg="invalid distances set",r.mode=es;break}if(r.mode=jw,t===ww)break e;case jw:r.mode=Nw;case Nw:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,cCe(e,f),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,l=e.avail_in,d=r.hold,u=r.bits,r.mode===Od&&(r.back=-1);break}for(r.back=0;v=r.lencode[d&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(b&&!(b&240)){for(j=y,N=b,B=w;v=r.lencode[B+((d&(1<<j+N)-1)>>j)],y=v>>>24,b=v>>>16&255,w=v&65535,!(j+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=y,u-=y,r.back+=y,r.length=w,b===0){r.mode=BM;break}if(b&32){r.back=-1,r.mode=Od;break}if(b&64){e.msg="invalid literal/length code",r.mode=es;break}r.extra=b&15,r.mode=jM;case jM:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=NM;case NM:for(;v=r.distcode[d&(1<<r.distbits)-1],y=v>>>24,b=v>>>16&255,w=v&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(!(b&240)){for(j=y,N=b,B=w;v=r.distcode[B+((d&(1<<j+N)-1)>>j)],y=v>>>24,b=v>>>16&255,w=v&65535,!(j+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=j,u-=j,r.back+=j}if(d>>>=y,u-=y,r.back+=y,b&64){e.msg="invalid distance code",r.mode=es;break}r.offset=w,r.extra=b&15,r.mode=_M;case _M:if(r.extra){for(k=r.extra;u<k;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=es;break}r.mode=CM;case CM:if(c===0)break e;if(m=f-c,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=es;break}m>r.wnext?(m-=r.wnext,x=r.wsize-m):x=r.wnext-m,m>r.length&&(m=r.length),p=r.window}else p=i,x=o-r.offset,m=r.length;m>c&&(m=c),c-=m,r.length-=m;do i[o++]=p[x++];while(--m);r.length===0&&(r.mode=Nw);break;case BM:if(c===0)break e;i[o++]=r.length,c--,r.mode=Nw;break;case AB:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[a++]<<u,u+=8}if(f-=c,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Mc(r.check,i,f,o-f):_k(r.check,i,f,o-f)),f=c,r.wrap&4&&(r.flags?d:EM(d))!==r.check){e.msg="incorrect data check",r.mode=es;break}d=0,u=0}r.mode=SM;case SM:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=es;break}d=0,u=0}r.mode=kM;case kM:P=gCe;break e;case es:P=OY;break e;case FY:return LY;case UY:default:return vl}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,r.hold=d,r.bits=u,(r.wsize||f!==e.avail_out&&r.mode<es&&(r.mode<AB||t!==oM))&&$Y(e,e.output,e.next_out,f-e.avail_out),A-=e.avail_in,f-=e.avail_out,e.total_in+=A,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?Mc(r.check,i,f,e.next_out-f):_k(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Od?128:0)+(r.mode===jw||r.mode===hB?256:0),(A===0&&f===0||t===oM)&&P===Qf&&(P=yCe),P},SCe=e=>{if(am(e))return vl;let t=e.state;return t.window&&(t.window=null),e.state=null,Qf},kCe=(e,t)=>{if(am(e))return vl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Qf):vl},ECe=(e,t)=>{const r=t.length;let n,i,a;return am(e)||(n=e.state,n.wrap!==0&&n.mode!==$2)?vl:n.mode===$2&&(i=1,i=_k(i,t,r,0),i!==n.check)?OY:(a=$Y(e,t,r,r),a?(n.mode=FY,LY):(n.havedict=1,Qf))};var PCe=MY,ICe=DY,TCe=RY,OCe=_Ce,LCe=QY,FCe=BCe,UCe=SCe,RCe=kCe,MCe=ECe,DCe="pako inflate (from Nodeca project)",Md={inflateReset:PCe,inflateReset2:ICe,inflateResetKeep:TCe,inflateInit:OCe,inflateInit2:LCe,inflate:FCe,inflateEnd:UCe,inflateGetHeader:RCe,inflateSetDictionary:MCe,inflateInfo:DCe};function QCe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $Ce=QCe;const HY=Object.prototype.toString,{Z_NO_FLUSH:HCe,Z_FINISH:zCe,Z_OK:Ey,Z_STREAM_END:pB,Z_NEED_DICT:gB,Z_STREAM_ERROR:VCe,Z_DATA_ERROR:IM,Z_MEM_ERROR:KCe}=kY;function Kv(e){this.options=EY.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oCe,this.strm.avail_out=0;let r=Md.inflateInit2(this.strm,t.windowBits);if(r!==Ey)throw new Error(Ck[r]);if(this.header=new $Ce,Md.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Bk.string2buf(t.dictionary):HY.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Md.inflateSetDictionary(this.strm,t.dictionary),r!==Ey)))throw new Error(Ck[r])}Kv.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?zCe:HCe,HY.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Md.inflate(r,o),a===gB&&i&&(a=Md.inflateSetDictionary(r,i),a===Ey?a=Md.inflate(r,o):a===IM&&(a=gB));r.avail_in>0&&a===pB&&r.state.wrap>0&&e[r.next_in]!==0;)Md.inflateReset(r),a=Md.inflate(r,o);switch(a){case VCe:case IM:case gB:case KCe:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===pB))if(this.options.to==="string"){let c=Bk.utf8border(r.output,r.next_out),d=r.next_out-c,u=Bk.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Ey&&l===0)){if(a===pB)return a=Md.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Kv.prototype.onData=function(e){this.chunks.push(e)};Kv.prototype.onEnd=function(e){e===Ey&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=EY.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function WCe(e,t){const r=new Kv(t);if(r.push(e),r.err)throw r.msg||Ck[r.err];return r.result}var GCe=Kv,qCe=WCe,YCe={Inflate:GCe,inflate:qCe};const{Inflate:XCe,inflate:JCe}=YCe;var TM=XCe,ZCe=JCe;const zY=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;zY[e]=t}const OM=4294967295;function eBe(e,t,r){let n=e;for(let i=0;i<r;i++)n=zY[(n^t[i])&255]^n>>>8;return n}function tBe(e,t){return(eBe(OM,e,t)^OM)>>>0}function LM(e,t,r){const n=e.readUint32(),i=tBe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function VY(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function KY(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function WY(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function GY(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function qY(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+rBe(t[a-i],r[a],r[a-i])&255}}function rBe(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function nBe(e,t,r,n,i,a){switch(e){case 0:VY(t,r,i);break;case 1:KY(t,r,i,a);break;case 2:WY(t,r,n,i);break;case 3:GY(t,r,n,i,a);break;case 4:qY(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const sBe=new Uint16Array([255]),iBe=new Uint8Array(sBe.buffer),aBe=iBe[0]===255;function oBe(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const A=o[u],f=Math.ceil((r-A.x)/A.xStep),m=Math.ceil((n-A.y)/A.yStep);if(f<=0||m<=0)continue;const x=f*l,p=new Uint8Array(x);for(let v=0;v<m;v++){const y=t[d++],b=t.subarray(d,d+x);d+=x;const w=new Uint8Array(x);nBe(y,b,w,p,x,l),p.set(w);for(let j=0;j<f;j++){const N=A.x+j*A.xStep,B=A.y+v*A.yStep;if(!(N>=r||B>=n))for(let I=0;I<l;I++)c[(B*r+N)*l+I]=w[j*l+I]}}}if(a===16){const u=new Uint16Array(c.buffer);if(aBe)for(let A=0;A<u.length;A++)u[A]=lBe(u[A]);return u}else return c}function lBe(e){return(e&255)<<8|e>>8&255}const cBe=new Uint16Array([255]),dBe=new Uint8Array(cBe.buffer),uBe=dBe[0]===255,hBe=new Uint8Array(0);function FM(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let d=hBe,u=0,A,f;for(let m=0;m<n;m++){switch(A=t.subarray(u+1,u+1+l),f=c.subarray(m*l,(m+1)*l),t[u]){case 0:VY(A,f,l);break;case 1:KY(A,f,l,o);break;case 2:WY(A,f,d,l);break;case 3:GY(A,f,d,l,o);break;case 4:qY(A,f,d,l,o);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}d=f,u+=l+1}if(a===16){const m=new Uint16Array(c.buffer);if(uBe)for(let x=0;x<m.length;x++)m[x]=ABe(m[x]);return m}else return c}function ABe(e){return(e&255)<<8|e>>8&255}const S1=Uint8Array.of(137,80,78,71,13,10,26,10);function UM(e){if(!fBe(e.readBytes(S1.length)))throw new Error("wrong PNG signature")}function fBe(e){if(e.length<S1.length)return!1;for(let t=0;t<S1.length;t++)if(e[t]!==S1[t])return!1;return!0}const mBe="tEXt",pBe=0,YY=new TextDecoder("latin1");function gBe(e){if(yBe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const xBe=/^[\u0000-\u00FF]*$/;function yBe(e){if(!xBe.test(e))throw new Error("invalid latin1 text")}function vBe(e,t,r){const n=XY(t);e[n]=bBe(t,r-n.length-1)}function XY(e){for(e.mark();e.readByte()!==pBe;);const t=e.offset;e.reset();const r=YY.decode(e.readBytes(t-e.offset-1));return e.skip(1),gBe(r),r}function bBe(e,t){return YY.decode(e.readBytes(t))}const go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xB={UNKNOWN:-1,DEFLATE:0},RM={UNKNOWN:-1,ADAPTIVE:0},yB={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_w={NONE:0,BACKGROUND:1,PREVIOUS:2},vB={SOURCE:0,OVER:1};class wBe extends eI{constructor(r,n={}){super(r);mn(this,"_checkCrc");mn(this,"_inflator");mn(this,"_png");mn(this,"_apng");mn(this,"_end");mn(this,"_hasPalette");mn(this,"_palette");mn(this,"_hasTransparency");mn(this,"_transparency");mn(this,"_compressionMethod");mn(this,"_filterMethod");mn(this,"_interlaceMethod");mn(this,"_colorType");mn(this,"_isAnimated");mn(this,"_numberOfFrames");mn(this,"_numberOfPlays");mn(this,"_frames");mn(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new TM,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xB.UNKNOWN,this._filterMethod=RM.UNKNOWN,this._interlaceMethod=yB.UNKNOWN,this._colorType=go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(UM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(UM(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case mBe:vBe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LM(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?LM(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=jBe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case go.GREYSCALE:i=1;break;case go.TRUECOLOUR:i=3;break;case go.INDEXED_COLOUR:i=1;break;case go.GREYSCALE_ALPHA:i=2;break;case go.TRUECOLOUR_ALPHA:i=4;break;case go.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==xB.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case go.GREYSCALE:case go.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case go.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case go.UNKNOWN:case go.GREYSCALE_ALPHA:case go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=XY(this),i=this.readUint8();if(i!==xB.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:ZCe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=FM({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case _w.NONE:break;case _w.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case _w.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case vB.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case vB.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++){const A=n.data[d+this._png.channels-1]/i,f=u%(this._png.channels-1)===0?1:n.data[d+u],m=Math.floor(A*f+(1-A)*r.data[c+u]);r.data[c+u]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==RM.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yB.NO_INTERLACE)this._png.data=FM({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yB.ADAM7)this._png.data=oBe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_w.NONE,blendOp:vB.SOURCE,data:r}),this._inflator=new TM,this._writingDataChunks=!1}}function jBe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var MM;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(MM||(MM={}));function NBe(e,t){return new wBe(e,t).decode()}var hr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function bB(){hr.console&&typeof hr.console.log=="function"&&hr.console.log.apply(hr.console,arguments)}var Pn={log:bB,warn:function(e){hr.console&&(typeof hr.console.warn=="function"?hr.console.warn.apply(hr.console,arguments):bB.call(null,arguments))},error:function(e){hr.console&&(typeof hr.console.error=="function"?hr.console.error.apply(hr.console,arguments):bB(e))}};function wB(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){$A(n.response,t,r)},n.onerror=function(){Pn.error("could not download file")},n.send()}function DM(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Cw(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var $A=hr.saveAs||((typeof window>"u"?"undefined":pn(window))!=="object"||window!==hr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=hr.URL||hr.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?DM(i.href)?wB(e,t,r):Cw(i,i.target="_blank"):Cw(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(DM(e))wB(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Cw(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:pn(a)!=="object"&&(Pn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return wB(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(hr.HTMLElement)||hr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":pn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(e)}else{var c=hr.URL||hr.webkitURL,d=c.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function JY(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var k1=hr.atob.bind(hr),QM=hr.btoa.bind(hr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function jB(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=Gi(r,n,i,a,t[0],7,-680876936),a=Gi(a,r,n,i,t[1],12,-389564586),i=Gi(i,a,r,n,t[2],17,606105819),n=Gi(n,i,a,r,t[3],22,-1044525330),r=Gi(r,n,i,a,t[4],7,-176418897),a=Gi(a,r,n,i,t[5],12,1200080426),i=Gi(i,a,r,n,t[6],17,-1473231341),n=Gi(n,i,a,r,t[7],22,-45705983),r=Gi(r,n,i,a,t[8],7,1770035416),a=Gi(a,r,n,i,t[9],12,-1958414417),i=Gi(i,a,r,n,t[10],17,-42063),n=Gi(n,i,a,r,t[11],22,-1990404162),r=Gi(r,n,i,a,t[12],7,1804603682),a=Gi(a,r,n,i,t[13],12,-40341101),i=Gi(i,a,r,n,t[14],17,-1502002290),r=qi(r,n=Gi(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=qi(a,r,n,i,t[6],9,-1069501632),i=qi(i,a,r,n,t[11],14,643717713),n=qi(n,i,a,r,t[0],20,-373897302),r=qi(r,n,i,a,t[5],5,-701558691),a=qi(a,r,n,i,t[10],9,38016083),i=qi(i,a,r,n,t[15],14,-660478335),n=qi(n,i,a,r,t[4],20,-405537848),r=qi(r,n,i,a,t[9],5,568446438),a=qi(a,r,n,i,t[14],9,-1019803690),i=qi(i,a,r,n,t[3],14,-187363961),n=qi(n,i,a,r,t[8],20,1163531501),r=qi(r,n,i,a,t[13],5,-1444681467),a=qi(a,r,n,i,t[2],9,-51403784),i=qi(i,a,r,n,t[7],14,1735328473),r=Yi(r,n=qi(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Yi(a,r,n,i,t[8],11,-2022574463),i=Yi(i,a,r,n,t[11],16,1839030562),n=Yi(n,i,a,r,t[14],23,-35309556),r=Yi(r,n,i,a,t[1],4,-1530992060),a=Yi(a,r,n,i,t[4],11,1272893353),i=Yi(i,a,r,n,t[7],16,-155497632),n=Yi(n,i,a,r,t[10],23,-1094730640),r=Yi(r,n,i,a,t[13],4,681279174),a=Yi(a,r,n,i,t[0],11,-358537222),i=Yi(i,a,r,n,t[3],16,-722521979),n=Yi(n,i,a,r,t[6],23,76029189),r=Yi(r,n,i,a,t[9],4,-640364487),a=Yi(a,r,n,i,t[12],11,-421815835),i=Yi(i,a,r,n,t[15],16,530742520),r=Xi(r,n=Yi(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Xi(a,r,n,i,t[7],10,1126891415),i=Xi(i,a,r,n,t[14],15,-1416354905),n=Xi(n,i,a,r,t[5],21,-57434055),r=Xi(r,n,i,a,t[12],6,1700485571),a=Xi(a,r,n,i,t[3],10,-1894986606),i=Xi(i,a,r,n,t[10],15,-1051523),n=Xi(n,i,a,r,t[1],21,-2054922799),r=Xi(r,n,i,a,t[8],6,1873313359),a=Xi(a,r,n,i,t[15],10,-30611744),i=Xi(i,a,r,n,t[6],15,-1560198380),n=Xi(n,i,a,r,t[13],21,1309151649),r=Xi(r,n,i,a,t[4],6,-145523070),a=Xi(a,r,n,i,t[11],10,-1120210379),i=Xi(i,a,r,n,t[2],15,718787259),n=Xi(n,i,a,r,t[9],21,-343485551),e[0]=_h(r,e[0]),e[1]=_h(n,e[1]),e[2]=_h(i,e[2]),e[3]=_h(a,e[3])}function o5(e,t,r,n,i,a){return t=_h(_h(t,e),_h(n,a)),_h(t<<i|t>>>32-i,r)}function Gi(e,t,r,n,i,a,o){return o5(t&r|~t&n,e,t,i,a,o)}function qi(e,t,r,n,i,a,o){return o5(t&n|r&~n,e,t,i,a,o)}function Yi(e,t,r,n,i,a,o){return o5(t^r^n,e,t,i,a,o)}function Xi(e,t,r,n,i,a,o){return o5(r^(t|~n),e,t,i,a,o)}function ZY(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)jB(n,_Be(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(jB(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,jB(n,i),n}function _Be(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var $M="0123456789abcdef".split("");function CBe(e){for(var t="",r=0;r<4;r++)t+=$M[e>>8*r+4&15]+$M[e>>8*r&15];return t}function BBe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Sk(e){return ZY(e).map(BBe).join("")}var SBe=function(e){for(var t=0;t<e.length;t++)e[t]=CBe(e[t]);return e.join("")}(ZY("hello"))!="5d41402abc4b2a76b9719d911017c592";function _h(e,t){if(SBe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kk(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=e,n=l}else l=n;var A=t.length,f=0,m=0,x="";for(c=0;c<A;c++)m=(m+(u=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=u,o=l[(l[f]+l[m])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var HM={print:4,modify:8,copy:16,"annot-forms":32};function Wm(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(HM.perm!==void 0)throw new Error("Invalid permission: "+l);i+=HM[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Sk(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=kk(this.encryptionKey,this.padding)}function Gm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function zM(e){if(pn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){hr.console&&Pn.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function H2(e){if(!(this instanceof H2))return new H2(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function eX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function WA(e,t,r,n,i){if(!(this instanceof WA))return new WA(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,eX.call(this,n,i)}function Ap(e,t,r,n,i){if(!(this instanceof Ap))return new Ap(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,eX.call(this,n,i)}function Yt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",u=null;pn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=zM;var x="1.3",p=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(R){x=R};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var y=m.__private__.getPageFormat=function(R){return v[R]};i=i||"a4";var b="compat",w="advanced",j=b;function N(){this.saveGraphicsState(),re(new Lt(Ke,0,0,-Ke,0,jd()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),d="n",j=w}function B(){this.restoreGraphicsState(),d="S",j=b}var I=m.__private__.combineFontStyleAndFontWeight=function(R,se){if(R=="bold"&&se=="normal"||R=="bold"&&se==400||R=="normal"&&se=="italic"||R=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(R=se==400||se==="normal"?R==="italic"?"italic":"normal":se!=700&&se!=="bold"||R!=="normal"?(se==700?"bold":se)+""+R:"bold"),R};m.advancedAPI=function(R){var se=j===b;return se&&N.call(this),typeof R!="function"||(R(this),se&&B.call(this)),this},m.compatAPI=function(R){var se=j===w;return se&&B.call(this),typeof R!="function"||(R(this),se&&N.call(this)),this},m.isAdvancedAPI=function(){return j===w};var P,T=function(R){if(j!==w)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=m.roundToPrecision=m.__private__.roundToPrecision=function(R,se){var ye=t||se;if(isNaN(R)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(ye).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return U(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return U(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return U(R,16)};var k=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return U(R,2)},E=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return U(R,3)},Q=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return j===b?R*Ke:j===w?R:void 0},F=function(R){return Q(function(se){return j===b?jd()-se:j===w?se:void 0}(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var K,W="00000000000000000000000000000000",D=m.__private__.getFileId=function(){return W},z=m.__private__.setFileId=function(R){return W=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Jn=new Wm(u.userPermissions,u.userPassword,u.ownerPassword,W)),W};m.setFileId=function(R){return z(R),this},m.getFileId=function(){return D()};var ee=m.__private__.convertDateToPDFDate=function(R){var se=R.getTimezoneOffset(),ye=se<0?"+":"-",ke=Math.floor(Math.abs(se/60)),Le=Math.abs(se%60),We=[ye,V(ke),"'",V(Le),"'"].join("");return["D:",R.getFullYear(),V(R.getMonth()+1),V(R.getDate()),V(R.getHours()),V(R.getMinutes()),V(R.getSeconds()),We].join("")},te=m.__private__.convertPDFDateToDate=function(R){var se=parseInt(R.substr(2,4),10),ye=parseInt(R.substr(6,2),10)-1,ke=parseInt(R.substr(8,2),10),Le=parseInt(R.substr(10,2),10),We=parseInt(R.substr(12,2),10),ct=parseInt(R.substr(14,2),10);return new Date(se,ye,ke,Le,We,ct,0)},le=m.__private__.setCreationDate=function(R){var se;if(R===void 0&&(R=new Date),R instanceof Date)se=ee(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=R}return K=se},$=m.__private__.getCreationDate=function(R){var se=K;return R==="jsDate"&&(se=te(K)),se};m.setCreationDate=function(R){return le(R),this},m.getCreationDate=function(R){return $(R)};var X,V=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ne=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},ae=0,he=[],ge=[],J=0,ue=[],fe=[],Y=!1,je=ge;m.__private__.setCustomOutputDestination=function(R){Y=!0,je=R};var xe=function(R){Y||(je=R)};m.__private__.resetCustomOutputDestination=function(){Y=!1,je=ge};var re=m.__private__.out=function(R){return R=R.toString(),J+=R.length+1,je.push(R),je},Ce=m.__private__.write=function(R){return re(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},Ie=m.__private__.getArrayBuffer=function(R){for(var se=R.length,ye=new ArrayBuffer(se),ke=new Uint8Array(ye);se--;)ke[se]=R.charCodeAt(se);return ye},Ue=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ue};var Oe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return Oe=j===w?R/Ke:R,this};var Xe,et=m.__private__.getFontSize=m.getFontSize=function(){return j===b?Oe:Oe*Ke},me=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return me=R,this},m.__private__.getR2L=m.getR2L=function(){return me};var Be,Ne=m.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))Xe=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');Xe=R}else Xe=parseInt(R,10)};m.__private__.getZoomMode=function(){return Xe};var Ee,$e=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Be=R};m.__private__.getPageMode=function(){return Be};var ot=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Ee=R};m.__private__.getLayoutMode=function(){return Ee},m.__private__.setDisplayMode=m.setDisplayMode=function(R,se,ye){return Ne(R),ot(se),$e(ye),this};var nt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(nt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nt[R]},m.__private__.getDocumentProperties=function(){return nt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var se in nt)nt.hasOwnProperty(se)&&R[se]&&(nt[se]=R[se]);return this},m.__private__.setDocumentProperty=function(R,se){if(Object.keys(nt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nt[R]=se};var tt,Ke,it,lt,yt,Ct={},wt={},$t=[],gt={},mt={},at={},At={},rt=null,ze=0,Et=[],Ft=new zM(m),_n=e.hotfixes||[],er={},Yr={},Cn=[],Lt=function R(se,ye,ke,Le,We,ct){if(!(this instanceof R))return new R(se,ye,ke,Le,We,ct);isNaN(se)&&(se=1),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=0),isNaN(Le)&&(Le=1),isNaN(We)&&(We=0),isNaN(ct)&&(ct=0),this._matrix=[se,ye,ke,Le,We,ct]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(R)},Lt.prototype.multiply=function(R){var se=R.sx*this.sx+R.shy*this.shx,ye=R.sx*this.shy+R.shy*this.sy,ke=R.shx*this.sx+R.sy*this.shx,Le=R.shx*this.shy+R.sy*this.sy,We=R.tx*this.sx+R.ty*this.shx+this.tx,ct=R.tx*this.shy+R.ty*this.sy+this.ty;return new Lt(se,ye,ke,Le,We,ct)},Lt.prototype.decompose=function(){var R=this.sx,se=this.shy,ye=this.shx,ke=this.sy,Le=this.tx,We=this.ty,ct=Math.sqrt(R*R+se*se),Rt=(R/=ct)*ye+(se/=ct)*ke;ye-=R*Rt,ke-=se*Rt;var Vt=Math.sqrt(ye*ye+ke*ke);return Rt/=Vt,R*(ke/=Vt)<se*(ye/=Vt)&&(R=-R,se=-se,Rt=-Rt,ct=-ct),{scale:new Lt(ct,0,0,Vt,0,0),translate:new Lt(1,0,0,1,Le,We),rotate:new Lt(R,se,-se,R,0,0),skew:new Lt(1,0,Rt,1,0,0)}},Lt.prototype.toString=function(R){return this.join(" ")},Lt.prototype.inversed=function(){var R=this.sx,se=this.shy,ye=this.shx,ke=this.sy,Le=this.tx,We=this.ty,ct=1/(R*ke-se*ye),Rt=ke*ct,Vt=-se*ct,dr=-ye*ct,pr=R*ct;return new Lt(Rt,Vt,dr,pr,-Rt*Le-dr*We,-Vt*Le-pr*We)},Lt.prototype.applyToPoint=function(R){var se=R.x*this.sx+R.y*this.shx+this.tx,ye=R.x*this.shy+R.y*this.sy+this.ty;return new El(se,ye)},Lt.prototype.applyToRectangle=function(R){var se=this.applyToPoint(R),ye=this.applyToPoint(new El(R.x+R.w,R.y+R.h));return new Ru(se.x,se.y,ye.x-se.x,ye.y-se.y)},Lt.prototype.clone=function(){var R=this.sx,se=this.shy,ye=this.shx,ke=this.sy,Le=this.tx,We=this.ty;return new Lt(R,se,ye,ke,Le,We)},m.Matrix=Lt;var gs=m.matrixMult=function(R,se){return se.multiply(R)},xs=new Lt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=xs;var On=function(R,se){if(!mt[R]){var ye=(se instanceof WA?"Sh":"P")+(Object.keys(gt).length+1).toString(10);se.id=ye,mt[R]=ye,gt[ye]=se,Ft.publish("addPattern",se)}};m.ShadingPattern=WA,m.TilingPattern=Ap,m.addShadingPattern=function(R,se){return T("addShadingPattern()"),On(R,se),this},m.beginTilingPattern=function(R){T("beginTilingPattern()"),bA(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,se){T("endTilingPattern()"),se.stream=fe[X].join(`
`),On(R,se),Ft.publish("endTilingPattern",se),Cn.pop().restore()};var Ln,fr=m.__private__.newObject=function(){var R=Bt();return un(R,!0),R},Bt=m.__private__.newObjectDeferred=function(){return ae++,he[ae]=function(){return J},ae},un=function(R,se){return se=typeof se=="boolean"&&se,he[R]=J,se&&re(R+" 0 obj"),R},ri=m.__private__.newAdditionalObject=function(){var R={objId:Bt(),content:""};return ue.push(R),R},zs=Bt(),is=Bt(),as=m.__private__.decodeColorString=function(R){var se=R.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var ye=parseFloat(se[0]);se=[ye,ye,ye,"r"]}for(var ke="#",Le=0;Le<3;Le++)ke+=("0"+Math.floor(255*parseFloat(se[Le])).toString(16)).slice(-2);return ke},os=m.__private__.encodeColorString=function(R){var se;typeof R=="string"&&(R={ch1:R});var ye=R.ch1,ke=R.ch2,Le=R.ch3,We=R.ch4,ct=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var Rt=new JY(ye);if(Rt.ok)ye=Rt.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var Vt=parseInt(ye.substr(1),16);ye=Vt>>16&255,ke=Vt>>8&255,Le=255&Vt}if(ke===void 0||We===void 0&&ye===ke&&ke===Le)se=typeof ye=="string"?ye+" "+ct[0]:R.precision===2?k(ye/255)+" "+ct[0]:E(ye/255)+" "+ct[0];else if(We===void 0||pn(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",ct[1]].join(" ");se=typeof ye=="string"?[ye,ke,Le,ct[1]].join(" "):R.precision===2?[k(ye/255),k(ke/255),k(Le/255),ct[1]].join(" "):[E(ye/255),E(ke/255),E(Le/255),ct[1]].join(" ")}else se=typeof ye=="string"?[ye,ke,Le,We,ct[2]].join(" "):R.precision===2?[k(ye),k(ke),k(Le),k(We),ct[2]].join(" "):[E(ye),E(ke),E(Le),E(We),ct[2]].join(" ");return se},Bn=m.__private__.getFilters=function(){return o},qe=m.__private__.putStream=function(R){var se=(R=R||{}).data||"",ye=R.filters||Bn(),ke=R.alreadyAppliedFilters||[],Le=R.addLength1||!1,We=se.length,ct=R.objectId,Rt=function(Es){return Es};if(u!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Rt=Jn.encryptor(ct,0));var Vt={};ye===!0&&(ye=["FlateEncode"]);var dr=R.additionalKeyValues||[],pr=(Vt=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(se,ye):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(Vt.data.length!==0&&(dr.push({key:"Length",value:Vt.data.length}),Le===!0&&dr.push({key:"Length1",value:We})),pr.length!=0)if(pr.split("/").length-1==1)dr.push({key:"Filter",value:pr});else{dr.push({key:"Filter",value:"["+pr+"]"});for(var Ur=0;Ur<dr.length;Ur+=1)if(dr[Ur].key==="DecodeParms"){for(var zn=[],vs=0;vs<Vt.reverseChain.split("/").length-1;vs+=1)zn.push("null");zn.push(dr[Ur].value),dr[Ur].value="["+zn.join(" ")+"]"}}re("<<");for(var nn=0;nn<dr.length;nn++)re("/"+dr[nn].key+" "+dr[nn].value);re(">>"),Vt.data.length!==0&&(re("stream"),re(Rt(Vt.data)),re("endstream"))},Nt=m.__private__.putPage=function(R){var se=R.number,ye=R.data,ke=R.objId,Le=R.contentsObjId;un(ke,!0),re("<</Type /Page"),re("/Parent "+R.rootDictionaryObjId+" 0 R"),re("/Resources "+R.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(P(R.mediaBox.bottomLeftX))+" "+parseFloat(P(R.mediaBox.bottomLeftY))+" "+P(R.mediaBox.topRightX)+" "+P(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&re("/CropBox ["+P(R.cropBox.bottomLeftX)+" "+P(R.cropBox.bottomLeftY)+" "+P(R.cropBox.topRightX)+" "+P(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&re("/BleedBox ["+P(R.bleedBox.bottomLeftX)+" "+P(R.bleedBox.bottomLeftY)+" "+P(R.bleedBox.topRightX)+" "+P(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&re("/TrimBox ["+P(R.trimBox.bottomLeftX)+" "+P(R.trimBox.bottomLeftY)+" "+P(R.trimBox.topRightX)+" "+P(R.trimBox.topRightY)+"]"),R.artBox!==null&&re("/ArtBox ["+P(R.artBox.bottomLeftX)+" "+P(R.artBox.bottomLeftY)+" "+P(R.artBox.topRightX)+" "+P(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&re("/UserUnit "+R.userUnit),Ft.publish("putPage",{objId:ke,pageContext:Et[se],pageNumber:se,page:ye}),re("/Contents "+Le+" 0 R"),re(">>"),re("endobj");var We=ye.join(`
`);return j===w&&(We+=`
Q`),un(Le,!0),qe({data:We,filters:Bn(),objectId:Le}),re("endobj"),ke},kt=m.__private__.putPages=function(){var R,se,ye=[];for(R=1;R<=ze;R++)Et[R].objId=Bt(),Et[R].contentsObjId=Bt();for(R=1;R<=ze;R++)ye.push(Nt({number:R,data:fe[R],objId:Et[R].objId,contentsObjId:Et[R].contentsObjId,mediaBox:Et[R].mediaBox,cropBox:Et[R].cropBox,bleedBox:Et[R].bleedBox,trimBox:Et[R].trimBox,artBox:Et[R].artBox,userUnit:Et[R].userUnit,rootDictionaryObjId:zs,resourceDictionaryObjId:is}));un(zs,!0),re("<</Type /Pages");var ke="/Kids [";for(se=0;se<ze;se++)ke+=ye[se]+" 0 R ";re(ke+"]"),re("/Count "+ze),re(">>"),re("endobj"),Ft.publish("postPutPages")},ut=function(R){Ft.publish("putFont",{font:R,out:re,newObject:fr,putStream:qe}),R.isAlreadyPutted!==!0&&(R.objectNumber=fr(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Gm(R.postScriptName)),re("/Subtype /Type1"),typeof R.encoding=="string"&&re("/Encoding /"+R.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Ut=function(R){R.objectNumber=fr();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[P(R.x),P(R.y),P(R.x+R.width),P(R.y+R.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var ye=R.pages[1].join(`
`);qe({data:ye,additionalKeyValues:se,objectId:R.objectNumber}),re("endobj")},bn=function(R,se){se||(se=21);var ye=fr(),ke=function(ct,Rt){var Vt,dr=[],pr=1/(Rt-1);for(Vt=0;Vt<1;Vt+=pr)dr.push(Vt);if(dr.push(1),ct[0].offset!=0){var Ur={offset:0,color:ct[0].color};ct.unshift(Ur)}if(ct[ct.length-1].offset!=1){var zn={offset:1,color:ct[ct.length-1].color};ct.push(zn)}for(var vs="",nn=0,Es=0;Es<dr.length;Es++){for(Vt=dr[Es];Vt>ct[nn+1].offset;)nn++;var ls=ct[nn].offset,Vs=(Vt-ls)/(ct[nn+1].offset-ls),Ra=ct[nn].color,ii=ct[nn+1].color;vs+=ne(Math.round((1-Vs)*Ra[0]+Vs*ii[0]).toString(16))+ne(Math.round((1-Vs)*Ra[1]+Vs*ii[1]).toString(16))+ne(Math.round((1-Vs)*Ra[2]+Vs*ii[2]).toString(16))}return vs.trim()}(R.colors,se),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+se+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe({data:ke,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),re("endobj"),R.objectNumber=fr(),re("<< /ShadingType "+R.type),re("/ColorSpace /DeviceRGB");var We="/Coords ["+P(parseFloat(R.coords[0]))+" "+P(parseFloat(R.coords[1]))+" ";R.type===2?We+=P(parseFloat(R.coords[2]))+" "+P(parseFloat(R.coords[3])):We+=P(parseFloat(R.coords[2]))+" "+P(parseFloat(R.coords[3]))+" "+P(parseFloat(R.coords[4]))+" "+P(parseFloat(R.coords[5])),re(We+="]"),R.matrix&&re("/Matrix ["+R.matrix.toString()+"]"),re("/Function "+ye+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Fr=function(R,se){var ye=Bt(),ke=fr();se.push({resourcesOid:ye,objectOid:ke}),R.objectNumber=ke;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+R.boundingBox.map(P).join(" ")+"]"}),Le.push({key:"XStep",value:P(R.xStep)}),Le.push({key:"YStep",value:P(R.yStep)}),Le.push({key:"Resources",value:ye+" 0 R"}),R.matrix&&Le.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),qe({data:R.stream,additionalKeyValues:Le,objectId:R.objectNumber}),re("endobj")},we=function(R){for(var se in R.objectNumber=fr(),re("<<"),R)switch(se){case"opacity":re("/ca "+k(R[se]));break;case"stroke-opacity":re("/CA "+k(R[se]))}re(">>"),re("endobj")},Qe=function(R){un(R.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in re("/Font <<"),Ct)Ct.hasOwnProperty(se)&&(A===!1||A===!0&&f.hasOwnProperty(se))&&re("/"+se+" "+Ct[se].objectNumber+" 0 R");re(">>")}(),function(){if(Object.keys(gt).length>0){for(var se in re("/Shading <<"),gt)gt.hasOwnProperty(se)&&gt[se]instanceof WA&&gt[se].objectNumber>=0&&re("/"+se+" "+gt[se].objectNumber+" 0 R");Ft.publish("putShadingPatternDict"),re(">>")}}(),function(se){if(Object.keys(gt).length>0){for(var ye in re("/Pattern <<"),gt)gt.hasOwnProperty(ye)&&gt[ye]instanceof m.TilingPattern&&gt[ye].objectNumber>=0&&gt[ye].objectNumber<se&&re("/"+ye+" "+gt[ye].objectNumber+" 0 R");Ft.publish("putTilingPatternDict"),re(">>")}}(R.objectOid),function(){if(Object.keys(at).length>0){var se;for(se in re("/ExtGState <<"),at)at.hasOwnProperty(se)&&at[se].objectNumber>=0&&re("/"+se+" "+at[se].objectNumber+" 0 R");Ft.publish("putGStateDict"),re(">>")}}(),function(){for(var se in re("/XObject <<"),er)er.hasOwnProperty(se)&&er[se].objectNumber>=0&&re("/"+se+" "+er[se].objectNumber+" 0 R");Ft.publish("putXobjectDict"),re(">>")}(),re(">>"),re("endobj")},Ge=function(R){wt[R.fontName]=wt[R.fontName]||{},wt[R.fontName][R.fontStyle]=R.id},xt=function(R,se,ye,ke,Le){var We={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:R,fontName:se,fontStyle:ye,encoding:ke,isStandardFont:Le||!1,metadata:{}};return Ft.publish("addFont",{font:We,instance:this}),Ct[We.id]=We,Ge(We),We.id},Ht=m.__private__.pdfEscape=m.pdfEscape=function(R,se){return function(ye,ke){var Le,We,ct,Rt,Vt,dr,pr,Ur,zn;if(ct=(ke=ke||{}).sourceEncoding||"Unicode",Vt=ke.outputEncoding,(ke.autoencode||Vt)&&Ct[tt].metadata&&Ct[tt].metadata[ct]&&Ct[tt].metadata[ct].encoding&&(Rt=Ct[tt].metadata[ct].encoding,!Vt&&Ct[tt].encoding&&(Vt=Ct[tt].encoding),!Vt&&Rt.codePages&&(Vt=Rt.codePages[0]),typeof Vt=="string"&&(Vt=Rt[Vt]),Vt)){for(pr=!1,dr=[],Le=0,We=ye.length;Le<We;Le++)(Ur=Vt[ye.charCodeAt(Le)])?dr.push(String.fromCharCode(Ur)):dr.push(ye[Le]),dr[Le].charCodeAt(0)>>8&&(pr=!0);ye=dr.join("")}for(Le=ye.length;pr===void 0&&Le!==0;)ye.charCodeAt(Le-1)>>8&&(pr=!0),Le--;if(!pr)return ye;for(dr=ke.noBOM?[]:[254,255],Le=0,We=ye.length;Le<We;Le++){if((zn=(Ur=ye.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dr.push(zn),dr.push(Ur-(zn<<8))}return String.fromCharCode.apply(void 0,dr)}(R,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kr=m.__private__.beginPage=function(R){fe[++ze]=[],Et[ze]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},_c(ze),xe(fe[X])},en=function(R,se){var ye,ke,Le;switch(r=se||r,typeof R=="string"&&(ye=y(R.toLowerCase()),Array.isArray(ye)&&(ke=ye[0],Le=ye[1])),Array.isArray(R)&&(ke=R[0]*Ke,Le=R[1]*Ke),isNaN(ke)&&(ke=i[0],Le=i[1]),(ke>14400||Le>14400)&&(Pn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Le=Math.min(14400,Le)),i=[ke,Le],r.substr(0,1)){case"l":Le>ke&&(i=[Le,ke]);break;case"p":ke>Le&&(i=[Le,ke])}Kr(i),_t(wd),re(kc),vA!==0&&re(vA+" J"),Fu!==0&&re(Fu+" j"),Ft.publish("addPage",{pageNumber:ze})},ni=function(R){R>0&&R<=ze&&(fe.splice(R,1),Et.splice(R,1),ze--,X>ze&&(X=ze),this.setPage(X))},_c=function(R){R>0&&R<=ze&&(X=R)},La=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return fe.length-1},so=function(R,se,ye){var ke,Le=void 0;return ye=ye||{},R=R!==void 0?R:Ct[tt].fontName,se=se!==void 0?se:Ct[tt].fontStyle,ke=R.toLowerCase(),wt[ke]!==void 0&&wt[ke][se]!==void 0?Le=wt[ke][se]:wt[R]!==void 0&&wt[R][se]!==void 0?Le=wt[R][se]:ye.disableWarning===!1&&Pn.warn("Unable to look up font label for font '"+R+"', '"+se+"'. Refer to getFontList() for available fonts."),Le||ye.noFallback||(Le=wt.times[se])==null&&(Le=wt.times.normal),Le},mr=m.__private__.putInfo=function(){var R=fr(),se=function(ke){return ke};for(var ye in u!==null&&(se=Jn.encryptor(R,0)),re("<<"),re("/Producer ("+Ht(se("jsPDF "+Yt.version))+")"),nt)nt.hasOwnProperty(ye)&&nt[ye]&&re("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+Ht(se(nt[ye]))+")");re("/CreationDate ("+Ht(se(K))+")"),re(">>"),re("endobj")},tn=m.__private__.putCatalog=function(R){var se=(R=R||{}).rootDictionaryObjId||zs;switch(fr(),re("<<"),re("/Type /Catalog"),re("/Pages "+se+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+Xe;ye.substr(ye.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&re("/OpenAction [3 0 R /XYZ null null "+k(Xe)+"]")}switch(Ee||(Ee="continuous"),Ee){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}Be&&re("/PageMode /"+Be),Ft.publish("putCatalog"),re(">>"),re("endobj")},Iu=m.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(ae+1)),re("/Root "+ae+" 0 R"),re("/Info "+(ae-1)+" 0 R"),u!==null&&re("/Encrypt "+Jn.oid+" 0 R"),re("/ID [ <"+W+"> <"+W+"> ]"),re(">>")},Sn=m.__private__.putHeader=function(){re("%PDF-"+x),re("%")},Nl=m.__private__.putXRef=function(){var R="0000000000";re("xref"),re("0 "+(ae+1)),re("0000000000 65535 f ");for(var se=1;se<=ae;se++)typeof he[se]=="function"?re((R+he[se]()).slice(-10)+" 00000 n "):he[se]!==void 0?re((R+he[se]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Fa=m.__private__.buildDocument=function(){var R;ae=0,J=0,ge=[],he=[],ue=[],zs=Bt(),is=Bt(),xe(ge),Ft.publish("buildDocument"),Sn(),kt(),function(){Ft.publish("putAdditionalObjects");for(var ye=0;ye<ue.length;ye++){var ke=ue[ye];un(ke.objId,!0),re(ke.content),re("endobj")}Ft.publish("postPutAdditionalObjects")}(),R=[],function(){for(var ye in Ct)Ct.hasOwnProperty(ye)&&(A===!1||A===!0&&f.hasOwnProperty(ye))&&ut(Ct[ye])}(),function(){var ye;for(ye in at)at.hasOwnProperty(ye)&&we(at[ye])}(),function(){for(var ye in er)er.hasOwnProperty(ye)&&Ut(er[ye])}(),function(ye){var ke;for(ke in gt)gt.hasOwnProperty(ke)&&(gt[ke]instanceof WA?bn(gt[ke]):gt[ke]instanceof Ap&&Fr(gt[ke],ye))}(R),Ft.publish("putResources"),R.forEach(Qe),Qe({resourcesOid:is,objectOid:Number.MAX_SAFE_INTEGER}),Ft.publish("postPutResources"),u!==null&&(Jn.oid=fr(),re("<<"),re("/Filter /Standard"),re("/V "+Jn.v),re("/R "+Jn.r),re("/U <"+Jn.toHexString(Jn.U)+">"),re("/O <"+Jn.toHexString(Jn.O)+">"),re("/P "+Jn.P),re(">>"),re("endobj")),mr(),tn();var se=J;return Nl(),Iu(),re("startxref"),re(""+se),re("%%EOF"),xe(fe[X]),ge.join(`
`)},ur=m.__private__.getBlob=function(R){return new Blob([Ie(R)],{type:"application/pdf"})},Fn=m.output=m.__private__.output=(Ln=function(R,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",R){case void 0:return Fa();case"save":m.save(se.filename);break;case"arraybuffer":return Ie(Fa());case"blob":return ur(Fa());case"bloburi":case"bloburl":if(hr.URL!==void 0&&typeof hr.URL.createObjectURL=="function")return hr.URL&&hr.URL.createObjectURL(ur(Fa()))||void 0;Pn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",ke=Fa();try{ye=QM(ke)}catch{ye=QM(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+se.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(hr)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Le=se.pdfObjectUrl,We="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Rt=hr.open();return Rt!==null&&Rt.document.write(ct),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(hr)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',dr=hr.open();if(dr!==null){dr.document.write(Vt);var pr=this;dr.document.documentElement.querySelector("#pdfViewer").onload=function(){dr.document.title=se.filename,dr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pr.output("bloburl"))}}return dr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(hr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',zn=hr.open();if(zn!==null&&(zn.document.write(Ur),zn.document.title=se.filename),zn||typeof safari>"u")return zn;break;case"datauri":case"dataurl":return hr.document.location.href=this.output("datauristring",se);default:return null}},Ln.foo=function(){try{return Ln.apply(this,arguments)}catch(ye){var R=ye.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var se="Error in function "+R.split(`
`)[0].split("<")[0]+": "+ye.message;if(!hr.console)throw new Error(se);hr.console.error(se,ye),hr.alert&&alert(se)}},Ln.foo.bar=Ln,Ln.foo),Mi=function(R){return Array.isArray(_n)===!0&&_n.indexOf(R)>-1};switch(n){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=Mi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ke=n}var Jn=null;le(),z();var ys=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[R].objId,pageNumber:R,pageContext:Et[R]}},Am=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Et)if(Et[se].objId===R)break;return ys(se)},Tu=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Et[X].objId,pageNumber:X,pageContext:Et[X]}};m.addPage=function(){return en.apply(this,arguments),this},m.setPage=function(){return _c.apply(this,arguments),xe.call(this,fe[X]),this},m.insertPage=function(R){return this.addPage(),this.movePage(X,R),this},m.movePage=function(R,se){var ye,ke;if(R>se){ye=fe[R],ke=Et[R];for(var Le=R;Le>se;Le--)fe[Le]=fe[Le-1],Et[Le]=Et[Le-1];fe[se]=ye,Et[se]=ke,this.setPage(se)}else if(R<se){ye=fe[R],ke=Et[R];for(var We=R;We<se;We++)fe[We]=fe[We+1],Et[We]=Et[We+1];fe[se]=ye,Et[se]=ke,this.setPage(se)}return this},m.deletePage=function(){return ni.apply(this,arguments),this},m.__private__.text=m.text=function(R,se,ye,ke,Le){var We,ct,Rt,Vt,dr,pr,Ur,zn,vs,nn=(ke=ke||{}).scope||this;if(typeof R=="number"&&typeof se=="number"&&(typeof ye=="string"||Array.isArray(ye))){var Es=ye;ye=se,se=R,R=Es}if(arguments[3]instanceof Lt==0?(Rt=arguments[4],Vt=arguments[5],pn(Ur=arguments[3])==="object"&&Ur!==null||(typeof Rt=="string"&&(Vt=Rt,Rt=null),typeof Ur=="string"&&(Vt=Ur,Ur=null),typeof Ur=="number"&&(Rt=Ur,Ur=null),ke={flags:Ur,angle:Rt,align:Vt})):(T("The transform parameter of text() with a Matrix value"),vs=Le),isNaN(se)||isNaN(ye)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return nn;var ls,Vs="",Ra=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:Sc,ii=nn.internal.scaleFactor;function Tl(Wr){return Wr=Wr.split("	").join(Array(ke.TabLen||9).join(" ")),Ht(Wr,Ur)}function Ol(Wr){for(var sn,ds=Wr.concat(),ws=[],Dl=ds.length;Dl--;)typeof(sn=ds.shift())=="string"?ws.push(sn):Array.isArray(Wr)&&(sn.length===1||sn[1]===void 0&&sn[2]===void 0)?ws.push(sn[0]):ws.push([sn[0],sn[1],sn[2]]);return ws}function ai(Wr,sn){var ds;if(typeof Wr=="string")ds=sn(Wr)[0];else if(Array.isArray(Wr)){for(var ws,Dl,$i=Wr.concat(),Ql=[],xm=$i.length;xm--;)typeof(ws=$i.shift())=="string"?Ql.push(sn(ws)[0]):Array.isArray(ws)&&typeof ws[0]=="string"&&(Dl=sn(ws[0],ws[1],ws[2]),Ql.push([Dl[0],Dl[1],Dl[2]]));ds=Ql}return ds}var Ll=!1,Ec=!0;if(typeof R=="string")Ll=!0;else if(Array.isArray(R)){var Nd=R.concat();ct=[];for(var Qo,Ps=Nd.length;Ps--;)(typeof(Qo=Nd.shift())!="string"||Array.isArray(Qo)&&typeof Qo[0]!="string")&&(Ec=!1);Ll=Ec}if(Ll===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var _d=Oe/nn.internal.scaleFactor,Cd=_d*(Ra-1);switch(ke.baseline){case"bottom":ye-=Cd;break;case"top":ye+=_d-Cd;break;case"hanging":ye+=_d-2*Cd;break;case"middle":ye+=_d/2-Cd}if((pr=ke.maxWidth||0)>0&&(typeof R=="string"?R=nn.splitTextToSize(R,pr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Wr,sn){return Wr.concat(nn.splitTextToSize(sn,pr))},[]))),We={text:R,x:se,y:ye,options:ke,mutex:{pdfEscape:Ht,activeFontKey:tt,fonts:Ct,activeFontSize:Oe}},Ft.publish("preProcessText",We),R=We.text,Rt=(ke=We.options).angle,vs instanceof Lt==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,ke.rotationDirection===0&&(Rt=-Rt),j===w&&(Rt=-Rt);var Mu=Math.cos(Rt),NA=Math.sin(Rt);vs=new Lt(Mu,NA,-NA,Mu,0,0)}else Rt&&Rt instanceof Lt&&(vs=Rt);j!==w||vs||(vs=xs),(dr=ke.charSpace||Do)!==void 0&&(Vs+=P(Q(dr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zn=ke.horizontalScale)!==void 0&&(Vs+=P(100*zn)+` Tz
`),ke.lang;var kn=-1,Di=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,Du=nn.internal.getCurrentPageInfo().pageContext;switch(Di){case 0:case!1:case"fill":kn=0;break;case 1:case!0:case"stroke":kn=1;break;case 2:case"fillThenStroke":kn=2;break;case 3:case"invisible":kn=3;break;case 4:case"fillAndAddForClipping":kn=4;break;case 5:case"strokeAndAddPathForClipping":kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kn=6;break;case 7:case"addToPathForClipping":kn=7}var Ma=Du.usedRenderingMode!==void 0?Du.usedRenderingMode:-1;kn!==-1?Vs+=kn+` Tr
`:Ma!==-1&&(Vs+=`0 Tr
`),kn!==-1&&(Du.usedRenderingMode=kn),Vt=ke.align||"left";var Da,Qa=Oe*Ra,_A=nn.internal.pageSize.getWidth(),Fl=Ct[tt];dr=ke.charSpace||Do,pr=ke.maxWidth||0,Ur=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var Ul=[],$o=function(Wr){return nn.getStringUnitWidth(Wr,{font:Fl,charSpace:dr,fontSize:Oe,doKerning:!1})*Oe/ii};if(Object.prototype.toString.call(R)==="[object Array]"){var fa;ct=Ol(R),Vt!=="left"&&(Da=ct.map($o));var bs,lo=0;if(Vt==="right"){se-=Da[0],R=[],Ps=ct.length;for(var Rl=0;Rl<Ps;Rl++)Rl===0?(bs=io(se),fa=ao(ye)):(bs=Q(lo-Da[Rl]),fa=-Qa),R.push([ct[Rl],bs,fa]),lo=Da[Rl]}else if(Vt==="center"){se-=Da[0]/2,R=[],Ps=ct.length;for(var Ho=0;Ho<Ps;Ho++)Ho===0?(bs=io(se),fa=ao(ye)):(bs=Q((lo-Da[Ho])/2),fa=-Qa),R.push([ct[Ho],bs,fa]),lo=Da[Ho]}else if(Vt==="left"){R=[],Ps=ct.length;for(var CA=0;CA<Ps;CA++)R.push(ct[CA])}else if(Vt==="justify"&&Fl.encoding==="Identity-H"){R=[],Ps=ct.length,pr=pr!==0?pr:_A;for(var Qi=0,cs=0;cs<Ps;cs++)if(fa=cs===0?ao(ye):-Qa,bs=cs===0?io(se):Qi,cs<Ps-1){var Ml=Q((pr-Da[cs])/(ct[cs].split(" ").length-1)),zo=ct[cs].split(" ");R.push([zo[0]+" ",bs,fa]),Qi=0;for(var Ks=1;Ks<zo.length;Ks++){var Pc=($o(zo[Ks-1]+" "+zo[Ks])-$o(zo[Ks]))*ii+Ml;Ks==zo.length-1?R.push([zo[Ks],Pc,0]):R.push([zo[Ks]+" ",Pc,0]),Qi-=Pc}}else R.push([ct[cs],bs,fa]);R.push(["",Qi,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Ps=ct.length,pr=pr!==0?pr:_A,cs=0;cs<Ps;cs++){fa=cs===0?ao(ye):-Qa,bs=cs===0?io(se):0;var Qu=ct[cs].split(" ").length-1,Bd=Qu>0?(pr-Da[cs])/Qu:0;cs<Ps-1?Ul.push(P(Q(Bd))):Ul.push(0),R.push([ct[cs],bs,fa])}}}(typeof ke.R2L=="boolean"?ke.R2L:me)===!0&&(R=ai(R,function(Wr,sn,ds){return[Wr.split("").reverse().join(""),sn,ds]})),We={text:R,x:se,y:ye,options:ke,mutex:{pdfEscape:Ht,activeFontKey:tt,fonts:Ct,activeFontSize:Oe}},Ft.publish("postProcessText",We),R=We.text,ls=We.mutex.isHex||!1;var Ic=Ct[tt].encoding;Ic!=="WinAnsiEncoding"&&Ic!=="StandardEncoding"||(R=ai(R,function(Wr,sn,ds){return[Tl(Wr),sn,ds]})),ct=Ol(R),R=[];for(var Vo,co,ma,Ko=Array.isArray(ct[0])?1:0,Wo="",Tc=function(Wr,sn,ds){var ws="";return ds instanceof Lt?(ds=typeof ke.angle=="number"?gs(ds,new Lt(1,0,0,1,Wr,sn)):gs(new Lt(1,0,0,1,Wr,sn),ds),j===w&&(ds=gs(new Lt(1,0,0,-1,0,0),ds)),ws=ds.join(" ")+` Tm
`):ws=P(Wr)+" "+P(sn)+` Td
`,ws},$a=0;$a<ct.length;$a++){switch(Wo="",Ko){case 1:ma=(ls?"<":"(")+ct[$a][0]+(ls?">":")"),Vo=parseFloat(ct[$a][1]),co=parseFloat(ct[$a][2]);break;case 0:ma=(ls?"<":"(")+ct[$a]+(ls?">":")"),Vo=io(se),co=ao(ye)}Ul!==void 0&&Ul[$a]!==void 0&&(Wo=Ul[$a]+` Tw
`),$a===0?R.push(Wo+Tc(Vo,co,vs)+ma):Ko===0?R.push(Wo+ma):Ko===1&&R.push(Wo+Tc(Vo,co,vs)+ma)}R=Ko===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var pa=`BT
/`;return pa+=tt+" "+Oe+` Tf
`,pa+=P(Oe*Ra)+` TL
`,pa+=Hn+`
`,pa+=Vs,pa+=R,re(pa+="ET"),f[tt]=!0,nn};var _l=m.__private__.clip=m.clip=function(R){return re(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return _l("evenodd")},m.__private__.discardPath=m.discardPath=function(){return re("n"),this};var Xr=m.__private__.isValidStyle=function(R){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(se=!0),se};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return Xr(R)&&(d=R),this};var Ro=m.__private__.getStyle=m.getStyle=function(R){var se=d;switch(R){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=R}return se},Cc=m.close=function(){return re("h"),this};m.stroke=function(){return re("S"),this},m.fill=function(R){return Mo("f",R),this},m.fillEvenOdd=function(R){return Mo("f*",R),this},m.fillStroke=function(R){return Mo("B",R),this},m.fillStrokeEvenOdd=function(R){return Mo("B*",R),this};var Mo=function(R,se){pn(se)==="object"?gA(se,R):re(R)},Cl=function(R){R===null||j===w&&R===void 0||(R=Ro(R),re(R))};function bd(R,se,ye,ke,Le){var We=new Ap(se||this.boundingBox,ye||this.xStep,ke||this.yStep,this.gState,Le||this.matrix);We.stream=this.stream;var ct=R+"$$"+this.cloneIndex+++"$$";return On(ct,We),We}var gA=function(R,se){var ye=mt[R.key],ke=gt[ye];if(ke instanceof WA)re("q"),re(xA(se)),ke.gState&&m.setGState(ke.gState),re(R.matrix.toString()+" cm"),re("/"+ye+" sh"),re("Q");else if(ke instanceof Ap){var Le=new Lt(1,0,0,-1,0,jd());R.matrix&&(Le=Le.multiply(R.matrix||xs),ye=bd.call(ke,R.key,R.boundingBox,R.xStep,R.yStep,Le).id),re("q"),re("/Pattern cs"),re("/"+ye+" scn"),ke.gState&&m.setGState(ke.gState),re(se),re("Q")}},xA=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bc=m.moveTo=function(R,se){return re(P(Q(R))+" "+P(F(se))+" m"),this},Ou=m.lineTo=function(R,se){return re(P(Q(R))+" "+P(F(se))+" l"),this},Aa=m.curveTo=function(R,se,ye,ke,Le,We){return re([P(Q(R)),P(F(se)),P(Q(ye)),P(F(ke)),P(Q(Le)),P(F(We)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,se,ye,ke,Le){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(ke)||!Xr(Le))throw new Error("Invalid arguments passed to jsPDF.line");return j===b?this.lines([[ye-R,ke-se]],R,se,[1,1],Le||"S"):this.lines([[ye-R,ke-se]],R,se,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,se,ye,ke,Le,We){var ct,Rt,Vt,dr,pr,Ur,zn,vs,nn,Es,ls,Vs;if(typeof R=="number"&&(Vs=ye,ye=se,se=R,R=Vs),ke=ke||[1,1],We=We||!1,isNaN(se)||isNaN(ye)||!Array.isArray(R)||!Array.isArray(ke)||!Xr(Le)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bc(se,ye),ct=ke[0],Rt=ke[1],dr=R.length,Es=se,ls=ye,Vt=0;Vt<dr;Vt++)(pr=R[Vt]).length===2?(Es=pr[0]*ct+Es,ls=pr[1]*Rt+ls,Ou(Es,ls)):(Ur=pr[0]*ct+Es,zn=pr[1]*Rt+ls,vs=pr[2]*ct+Es,nn=pr[3]*Rt+ls,Es=pr[4]*ct+Es,ls=pr[5]*Rt+ls,Aa(Ur,zn,vs,nn,Es,ls));return We&&Cc(),Cl(Le),this},m.path=function(R){for(var se=0;se<R.length;se++){var ye=R[se],ke=ye.c;switch(ye.op){case"m":Bc(ke[0],ke[1]);break;case"l":Ou(ke[0],ke[1]);break;case"c":Aa.apply(this,ke);break;case"h":Cc()}}return this},m.__private__.rect=m.rect=function(R,se,ye,ke,Le){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(ke)||!Xr(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return j===b&&(ke=-ke),re([P(Q(R)),P(F(se)),P(Q(ye)),P(Q(ke)),"re"].join(" ")),Cl(Le),this},m.__private__.triangle=m.triangle=function(R,se,ye,ke,Le,We,ct){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(ke)||isNaN(Le)||isNaN(We)||!Xr(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-R,ke-se],[Le-ye,We-ke],[R-Le,se-We]],R,se,[1,1],ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,se,ye,ke,Le,We,ct){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(ke)||isNaN(Le)||isNaN(We)||!Xr(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*ye),We=Math.min(We,.5*ke),this.lines([[ye-2*Le,0],[Le*Rt,0,Le,We-We*Rt,Le,We],[0,ke-2*We],[0,We*Rt,-Le*Rt,We,-Le,We],[2*Le-ye,0],[-Le*Rt,0,-Le,-We*Rt,-Le,-We],[0,2*We-ke],[0,-We*Rt,Le*Rt,-We,Le,-We]],R+Le,se,[1,1],ct,!0),this},m.__private__.ellipse=m.ellipse=function(R,se,ye,ke,Le){if(isNaN(R)||isNaN(se)||isNaN(ye)||isNaN(ke)||!Xr(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ye,ct=4/3*(Math.SQRT2-1)*ke;return Bc(R+ye,se),Aa(R+ye,se-ct,R+We,se-ke,R,se-ke),Aa(R-We,se-ke,R-ye,se-ct,R-ye,se),Aa(R-ye,se+ct,R-We,se+ke,R,se+ke),Aa(R+We,se+ke,R+ye,se+ct,R+ye,se),Cl(Le),this},m.__private__.circle=m.circle=function(R,se,ye,ke){if(isNaN(R)||isNaN(se)||isNaN(ye)||!Xr(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,se,ye,ye,ke)},m.setFont=function(R,se,ye){return ye&&(se=I(se,ye)),tt=so(R,se,{disableWarning:!1}),this};var Lu=m.__private__.getFont=m.getFont=function(){return Ct[so.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,se,ye={};for(R in wt)if(wt.hasOwnProperty(R))for(se in ye[R]=[],wt[R])wt[R].hasOwnProperty(se)&&ye[R].push(se);return ye},m.addFont=function(R,se,ye,ke,Le){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ye=I(ye,ke)),xt.call(this,R,se,ye,Le=Le||"Identity-H")};var Sc,wd=e.lineWidth||.200025,c0=m.__private__.getLineWidth=m.getLineWidth=function(){return wd},_t=m.__private__.setLineWidth=m.setLineWidth=function(R){return wd=R,re(P(Q(R))+" w"),this};m.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(R,se){if(R=R||[],se=se||0,isNaN(se)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(ye){return P(Q(ye))}).join(" "),se=P(Q(se)),re("["+R+"] "+se+" d"),this};var Ua=m.__private__.getLineHeight=m.getLineHeight=function(){return Oe*Sc};m.__private__.getLineHeight=m.getLineHeight=function(){return Oe*Sc};var rn=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Sc=R),this},fm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Sc};rn(e.lineHeight);var io=m.__private__.getHorizontalCoordinate=function(R){return Q(R)},ao=m.__private__.getVerticalCoordinate=function(R){return j===w?R:Et[X].mediaBox.topRightY-Et[X].mediaBox.bottomLeftY-Q(R)},yA=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return P(io(R))},Bl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return P(ao(R))},kc=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return as(kc)},m.__private__.setStrokeColor=m.setDrawColor=function(R,se,ye,ke){return kc=os({ch1:R,ch2:se,ch3:ye,ch4:ke,pdfColorType:"draw",precision:2}),re(kc),this};var Sl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return as(Sl)},m.__private__.setFillColor=m.setFillColor=function(R,se,ye,ke){return Sl=os({ch1:R,ch2:se,ch3:ye,ch4:ke,pdfColorType:"fill",precision:2}),re(Sl),this};var Hn=e.textColor||"0 g",kl=m.__private__.getTextColor=m.getTextColor=function(){return as(Hn)};m.__private__.setTextColor=m.setTextColor=function(R,se,ye,ke){return Hn=os({ch1:R,ch2:se,ch3:ye,ch4:ke,pdfColorType:"text",precision:3}),this};var Do=e.charSpace,mm=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Do||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Do=R,this};var vA=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var se=m.CapJoinStyles[R];if(se===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vA=se,re(se+" J"),this};var Fu=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var se=m.CapJoinStyles[R];if(se===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fu=se,re(se+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(P(Q(R))+" M"),this},m.GState=H2,m.setGState=function(R){(R=typeof R=="string"?at[At[R]]:Uu(null,R)).equals(rt)||(re("/"+R.id+" gs"),rt=R)};var Uu=function(R,se){if(!R||!At[R]){var ye=!1;for(var ke in at)if(at.hasOwnProperty(ke)&&at[ke].equals(se)){ye=!0;break}if(ye)se=at[ke];else{var Le="GS"+(Object.keys(at).length+1).toString(10);at[Le]=se,se.id=Le}return R&&(At[R]=se.id),Ft.publish("addGState",se),se}};m.addGState=function(R,se){return Uu(R,se),this},m.saveGraphicsState=function(){return re("q"),$t.push({key:tt,size:Oe,color:Hn}),this},m.restoreGraphicsState=function(){re("Q");var R=$t.pop();return tt=R.key,Oe=R.size,Hn=R.color,rt=null,this},m.setCurrentTransformationMatrix=function(R){return re(R.toString()+" cm"),this},m.comment=function(R){return re("#"+R),this};var El=function(R,se){var ye=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(We){isNaN(We)||(ye=parseFloat(We))}});var ke=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(We){isNaN(We)||(ke=parseFloat(We))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(We){Le=We.toString()}}),this},Ru=function(R,se,ye,ke){El.call(this,R,se),this.type="rect";var Le=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(ct){isNaN(ct)||(Le=parseFloat(ct))}});var We=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(ct){isNaN(ct)||(We=parseFloat(ct))}}),this},Nr=function(){this.page=ze,this.currentPage=X,this.pages=fe.slice(0),this.pagesContext=Et.slice(0),this.x=it,this.y=lt,this.matrix=yt,this.width=Pl(X),this.height=pm(X),this.outputDestination=je,this.id="",this.objectNumber=-1};Nr.prototype.restore=function(){ze=this.page,X=this.currentPage,Et=this.pagesContext,fe=this.pages,it=this.x,lt=this.y,yt=this.matrix,wA(X,this.width),oo(X,this.height),je=this.outputDestination};var bA=function(R,se,ye,ke,Le){Cn.push(new Nr),ze=X=0,fe=[],it=R,lt=se,yt=Le,Kr([ye,ke])};for(var si in m.beginFormObject=function(R,se,ye,ke,Le){return bA(R,se,ye,ke,Le),this},m.endFormObject=function(R){return function(se){if(Yr[se])Cn.pop().restore();else{var ye=new Nr,ke="Xo"+(Object.keys(er).length+1).toString(10);ye.id=ke,Yr[se]=ke,er[ke]=ye,Ft.publish("addFormObject",ye),Cn.pop().restore()}}(R),this},m.doFormObject=function(R,se){var ye=er[Yr[R]];return re("q"),re(se.toString()+" cm"),re("/"+ye.id+" Do"),re("Q"),this},m.getFormObject=function(R){var se=er[Yr[R]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},m.save=function(R,se){return R=R||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?($A(ur(Fa()),R),typeof $A.unload=="function"&&hr.setTimeout&&setTimeout($A.unload,911),this):new Promise(function(ye,ke){try{var Le=$A(ur(Fa()),R);typeof $A.unload=="function"&&hr.setTimeout&&setTimeout($A.unload,911),ye(Le)}catch(We){ke(We.message)}})},Yt.API)Yt.API.hasOwnProperty(si)&&(si==="events"&&Yt.API.events.length?function(R,se){var ye,ke,Le;for(Le=se.length-1;Le!==-1;Le--)ye=se[Le][0],ke=se[Le][1],R.subscribe.apply(R,[ye].concat(typeof ke=="function"?[ke]:ke))}(Ft,Yt.API.events):m[si]=Yt.API[si]);function Pl(R){return Et[R].mediaBox.topRightX-Et[R].mediaBox.bottomLeftX}function wA(R,se){Et[R].mediaBox.topRightX=se+Et[R].mediaBox.bottomLeftX}function pm(R){return Et[R].mediaBox.topRightY-Et[R].mediaBox.bottomLeftY}function oo(R,se){Et[R].mediaBox.topRightY=se+Et[R].mediaBox.bottomLeftY}var Il=m.getPageWidth=function(R){return Pl(R=R||X)/Ke},jA=m.setPageWidth=function(R,se){wA(R,se*Ke)},jd=m.getPageHeight=function(R){return pm(R=R||X)/Ke},gm=m.setPageHeight=function(R,se){oo(R,se*Ke)};return m.internal={pdfEscape:Ht,getStyle:Ro,getFont:Lu,getFontSize:et,getCharSpace:mm,getTextColor:kl,getLineHeight:Ua,getLineHeightFactor:fm,getLineWidth:c0,write:Ce,getHorizontalCoordinate:io,getVerticalCoordinate:ao,getCoordinateString:yA,getVerticalCoordinateString:Bl,collections:{},newObject:fr,newAdditionalObject:ri,newObjectDeferred:Bt,newObjectDeferredBegin:un,getFilters:Bn,putStream:qe,events:Ft,scaleFactor:Ke,pageSize:{getWidth:function(){return Il(X)},setWidth:function(R){jA(X,R)},getHeight:function(){return jd(X)},setHeight:function(R){gm(X,R)}},encryptionOptions:u,encryption:Jn,getEncryptor:function(R){return u!==null?Jn.encryptor(R,0):function(se){return se}},output:Fn,getNumberOfPages:La,get pages(){return fe},out:re,f2:k,f3:E,getPageInfo:ys,getPageInfoByObjId:Am,getCurrentPageInfo:Tu,getPDFVersion:p,Point:El,Rectangle:Ru,Matrix:Lt,hasHotfix:Mi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Il(X)},set:function(R){jA(X,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return jd(X)},set:function(R){gm(X,R)},enumerable:!0,configurable:!0}),(function(R){for(var se=0,ye=Ue.length;se<ye;se++){var ke=xt.call(this,R[se][0],R[se][1],R[se][2],Ue[se][3],!0);A===!1&&(f[ke]=!0);var Le=R[se][0].split("-");Ge({id:ke,fontName:Le[0],fontStyle:Le[1]||""})}Ft.publish("addFonts",{fonts:Ct,dictionary:wt})}).call(m,Ue),tt="F1",en(i,r),Ft.publish("initialized"),m}Wm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Wm.prototype.processOwnerPassword=function(e,t){return kk(Sk(t).substr(0,5),e)},Wm.prototype.encryptor=function(e,t){var r=Sk(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return kk(r,n)}},H2.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||pn(e)!==pn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Yt.API={events:[]},Yt.version="3.0.4";var _s=Yt.API,tI=1,om=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yr=function(e){return e.toFixed(2)},th=function(e){return e.toFixed(5)};_s.__acroform__={};var ro=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},VM=function(e){return e*tI},Dc=function(e){var t=new rX,r=zt.internal.getHeight(e)||0,n=zt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(yr(n)),Number(yr(r))],t},kBe=_s.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},EBe=_s.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},PBe=_s.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ds=_s.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PBe(e,t-1)},Qs=_s.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kBe(e,t-1)},$s=_s.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return EBe(e,t-1)},IBe=_s.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(yr(c.lowerLeft_X)),Number(yr(c.lowerLeft_Y)),Number(yr(c.upperRight_X)),Number(yr(c.upperRight_Y))]},TBe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Ek(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+yr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Dc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Ek=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var a=r,o=zt.internal.getHeight(e)||0;o=o<0?-o:o;var l=zt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(k,E,Q){if(k+1<i.length){var F=E+" "+i[k+1][0];return Bw(F,e,Q).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var d,u,A=Bw("3",e,a).height,f=e.multiline?o-a:(o-A)/2,m=f+=2,x=0,p=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bw(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",b=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var j=!1;if(i[w].length!==1&&v!==i[w].length-1){if((A+2)*(b+2)+2>o)continue e;y+=i[w][v],j=!0,p=w,w--}else{y=(y+=i[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(w),B=c(N,y,a),I=w>=i.length-1;if(B&&!I){y+=" ",v=0;continue}if(B||I){if(I)p=N;else if(e.multiline&&(A+2)*(b+2)+2>o)continue e}else{if(!e.multiline||(A+2)*(b+2)+2>o)continue e;p=N}}for(var P="",T=x;T<=p;T++){var U=i[T];if(e.multiline){if(T===p){P+=U[v]+" ",v=(v+1)%U.length;continue}if(T===x){P+=U[U.length-1]+" ";continue}}P+=U[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=Bw(P,e,a).width,e.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}t+=yr(d)+" "+yr(m)+` Td
`,t+="("+om(P)+`) Tj
`,t+=-yr(d)+` 0 Td
`,m=-(a+2),u=0,x=j?p:p+1,b++,y=""}break}return n.text=t,n.fontSize=a,n},Bw=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},OBe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LBe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},FBe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(wc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(OBe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tI=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&LBe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=IBe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=zt.createDefaultAppearanceStream(l),pn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=TBe(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var A="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(A+="/"+f+" ",A+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(i,l)),A+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),A+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);A+=">>"}c.push({key:"AP",value:`<<
`+A+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(p,v){for(var y in p)if(p.hasOwnProperty(y)){var b=y,w=p[y];v.internal.newObjectDeferredBegin(w.objId,!0),pn(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete p[b]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},tX=_s.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),pn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+om(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},NB=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+om(n(e))+")"},zc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zc.prototype.toString=function(){return this.objId+" 0 R"},zc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},zc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:tX(i,this.objId,this.scope)}):i instanceof zc?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var rX=function(){zc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ro(rX,zc);var nX=function(){zc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+om(r(e))+")"}},set:function(r){e=r}})};ro(nX,zc);var wc=function e(){zc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ds(t,3)},set:function(y){y?this.F=Qs(t,3):this.F=$s(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof z2)return;a="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+om(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/tI:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof z2||this instanceof bf))return NB(A,this.objId,this.scope)},set:function(y){y=y.toString(),A=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof wi==0?NB(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof wi==0?y.substr(0,1)==="("?Rm(y.substr(1,y.length-2)):Rm(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Rm(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof wi==1?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof wi==0?NB(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof wi==0?y.substr(0,1)==="("?Rm(y.substr(1,y.length-2)):Rm(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wi==1?Rm(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof wi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){y=!!y,p=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,1)},set:function(y){y?this.Ff=Qs(this.Ff,1):this.Ff=$s(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,2)},set:function(y){y?this.Ff=Qs(this.Ff,2):this.Ff=$s(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,3)},set:function(y){y?this.Ff=Qs(this.Ff,3):this.Ff=$s(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};ro(wc,zc);var Op=function(){wc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tX(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,18)},set:function(r){r?this.Ff=Qs(this.Ff,18):this.Ff=$s(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Qs(this.Ff,19):this.Ff=$s(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,20)},set:function(r){r?(this.Ff=Qs(this.Ff,20),t.sort()):this.Ff=$s(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,22)},set:function(r){r?this.Ff=Qs(this.Ff,22):this.Ff=$s(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(r){r?this.Ff=Qs(this.Ff,23):this.Ff=$s(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,27)},set:function(r){r?this.Ff=Qs(this.Ff,27):this.Ff=$s(this.Ff,27)}}),this.hasAppearanceStream=!1};ro(Op,wc);var Lp=function(){Op.call(this),this.fontName="helvetica",this.combo=!1};ro(Lp,Op);var Fp=function(){Lp.call(this),this.combo=!0};ro(Fp,Lp);var E1=function(){Fp.call(this),this.edit=!0};ro(E1,Fp);var wi=function(){wc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,15)},set:function(r){r?this.Ff=Qs(this.Ff,15):this.Ff=$s(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,16)},set:function(r){r?this.Ff=Qs(this.Ff,16):this.Ff=$s(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,17)},set:function(r){r?this.Ff=Qs(this.Ff,17):this.Ff=$s(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(r){r?this.Ff=Qs(this.Ff,26):this.Ff=$s(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+om(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){pn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ro(wi,wc);var P1=function(){wi.call(this),this.pushButton=!0};ro(P1,wi);var Up=function(){wi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ro(Up,wi);var z2=function(){var e,t;wc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+om(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){pn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ro(z2,wc),Up.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Up.prototype.createOption=function(e){var t=new z2;return t.Parent=this,t.optionName=e,this.Kids.push(t),UBe.call(this.scope,t),t};var I1=function(){wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};ro(I1,wi);var bf=function(){wc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,13)},set:function(t){t?this.Ff=Qs(this.Ff,13):this.Ff=$s(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,21)},set:function(t){t?this.Ff=Qs(this.Ff,21):this.Ff=$s(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,23)},set:function(t){t?this.Ff=Qs(this.Ff,23):this.Ff=$s(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,24)},set:function(t){t?this.Ff=Qs(this.Ff,24):this.Ff=$s(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,25)},set:function(t){t?this.Ff=Qs(this.Ff,25):this.Ff=$s(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,26)},set:function(t){t?this.Ff=Qs(this.Ff,26):this.Ff=$s(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ro(bf,wc);var T1=function(){bf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ds(this.Ff,14)},set:function(e){e?this.Ff=Qs(this.Ff,14):this.Ff=$s(this.Ff,14)}}),this.password=!0};ro(T1,bf);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Ek(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+yr(zt.internal.getWidth(e))+" "+yr(zt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+yr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Dc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=zt.internal.getHeight(e),o=zt.internal.getWidth(e),l=Ek(e,e.caption);return i.push("1 g"),i.push("0 0 "+yr(o)+" "+yr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yr(o-1)+" "+yr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+yr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(zt.internal.getWidth(e))+" "+yr(zt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Circle.YesNormal,t.D[e]=zt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=zt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+th(zt.internal.getWidth(e)/2)+" "+th(zt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5)),o=Number((n*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+th(zt.internal.getWidth(e)/2)+" "+th(zt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+th(zt.internal.getWidth(e)/2)+" "+th(zt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+th(zt.internal.getWidth(e)/2)+" "+th(zt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Cross.YesNormal,t.D[e]=zt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Dc(e);t.scope=e.scope;var r=[],n=zt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+yr(zt.internal.getWidth(e)-2)+" "+yr(zt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(yr(n.x1.x)+" "+yr(n.x1.y)+" m"),r.push(yr(n.x2.x)+" "+yr(n.x2.y)+" l"),r.push(yr(n.x4.x)+" "+yr(n.x4.y)+" m"),r.push(yr(n.x3.x)+" "+yr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=zt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+yr(zt.internal.getWidth(e))+" "+yr(zt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+yr(zt.internal.getWidth(e)-2)+" "+yr(zt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(yr(r.x1.x)+" "+yr(r.x1.y)+" m"),n.push(yr(r.x2.x)+" "+yr(r.x2.y)+" l"),n.push(yr(r.x4.x)+" "+yr(r.x4.y)+" m"),n.push(yr(r.x3.x)+" "+yr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Dc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+yr(zt.internal.getWidth(e))+" "+yr(zt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=zt.internal.getWidth(e),r=zt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},zt.internal.getWidth=function(e){var t=0;return pn(e)==="object"&&(t=VM(e.Rect[2])),t},zt.internal.getHeight=function(e){var t=0;return pn(e)==="object"&&(t=VM(e.Rect[3])),t};var UBe=_s.addField=function(e){if(FBe(this,e),!(e instanceof wc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_s.AcroFormChoiceField=Op,_s.AcroFormListBox=Lp,_s.AcroFormComboBox=Fp,_s.AcroFormEditBox=E1,_s.AcroFormButton=wi,_s.AcroFormPushButton=P1,_s.AcroFormRadioButton=Up,_s.AcroFormCheckBox=I1,_s.AcroFormTextField=bf,_s.AcroFormPasswordField=T1,_s.AcroFormAppearance=zt,_s.AcroForm={ChoiceField:Op,ListBox:Lp,ComboBox:Fp,EditBox:E1,Button:wi,PushButton:P1,RadioButton:Up,CheckBox:I1,TextField:bf,PasswordField:T1,Appearance:zt},Yt.AcroForm={ChoiceField:Op,ListBox:Lp,ComboBox:Fp,EditBox:E1,Button:wi,PushButton:P1,RadioButton:Up,CheckBox:I1,TextField:bf,PasswordField:T1,Appearance:zt};Yt.AcroForm;function sX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(k,E){var Q,F,K,W,D,z=r;if((E=E||r)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(B(k))for(D in n)for(K=n[D],Q=0;Q<K.length;Q+=1){for(W=!0,F=0;F<K[Q].length;F+=1)if(K[Q][F]!==void 0&&K[Q][F]!==k[F]){W=!1;break}if(W===!0){z=D;break}}else for(D in n)for(K=n[D],Q=0;Q<K.length;Q+=1){for(W=!0,F=0;F<K[Q].length;F+=1)if(K[Q][F]!==void 0&&K[Q][F]!==k.charCodeAt(F)){W=!1;break}if(W===!0){z=D;break}}return z===r&&E!==r&&(z=E),z},a=function k(E){for(var Q=this.internal.write,F=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:E.width}),W.push({key:"Height",value:E.height}),E.colorSpace===y.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===y.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var D="",z=0,ee=E.transparency.length;z<ee;z++)D+=E.transparency[z]+" "+E.transparency[z]+" ";W.push({key:"Mask",value:"["+D+"]"})}E.sMask!==void 0&&W.push({key:"SMask",value:E.objectId+1+" 0 R"});var te=E.filter!==void 0?["/"+E.filter]:void 0;if(F({data:E.data,additionalKeyValues:W,alreadyAppliedFilters:te,objectId:E.objectId}),Q("endobj"),"sMask"in E&&E.sMask!==void 0){var le,$=(le=E.sMaskBitsPerComponent)!==null&&le!==void 0?le:E.bitsPerComponent,X={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:E.sMask};"filter"in E&&(X.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(E.width),X.filter=E.filter),k.call(this,X)}if(E.colorSpace===y.INDEXED){var V=this.internal.newObject();F({data:P(new Uint8Array(E.palette)),objectId:V}),Q("endobj")}},o=function(){var k=this.internal.collections[t+"images"];for(var E in k)a.call(this,k[E])},l=function(){var k,E=this.internal.collections[t+"images"],Q=this.internal.write;for(var F in E)Q("/I"+(k=E[F]).index,k.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var k=this.internal.collections[t+"images"];return c.call(this),k},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(k){return typeof e["process"+k.toUpperCase()]=="function"},f=function(k){return pn(k)==="object"&&k.nodeType===1},m=function(k,E){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var Q=""+k.getAttribute("src");if(Q.indexOf("data:image/")===0)return k1(unescape(Q).split("base64,").pop());var F=e.loadFile(Q,!0);if(F!==void 0)return F}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var K;switch(E){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return k1(k.toDataURL(K,1).split("base64,").pop())}},x=function(k){var E=this.internal.collections[t+"images"];if(E){for(var Q in E)if(k===E[Q].alias)return E[Q]}},p=function(k,E,Q){return k||E||(k=-96,E=-96),k<0&&(k=-1*Q.width*72/k/this.internal.scaleFactor),E<0&&(E=-1*Q.height*72/E/this.internal.scaleFactor),k===0&&(k=E*Q.width/Q.height),E===0&&(E=k*Q.height/Q.width),[k,E]},v=function(k,E,Q,F,K,W){var D=p.call(this,Q,F,K),z=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,te=d.call(this);if(Q=D[0],F=D[1],te[K.index]=K,W){W*=Math.PI/180;var le=Math.cos(W),$=Math.sin(W),X=function(ne){return ne.toFixed(4)},V=[X(le),X($),X(-1*$),X(le),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,z(k),ee(E+F),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([z(Q),"0","0",z(F),"0","0","cm"].join(" "))):this.internal.write([z(Q),"0","0",z(F),z(k),ee(E+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(k){var E,Q,F=0;if(typeof k=="string")for(Q=k.length,E=0;E<Q;E++)F=(F<<5)-F+k.charCodeAt(E),F|=0;else if(B(k))for(Q=k.byteLength/2,E=0;E<Q;E++)F=(F<<5)-F+k[E],F|=0;return F},j=e.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var E=!0;return k.length===0&&(E=!1),k.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(E=!1),E},N=e.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var E=k.indexOf(",");return E<0?null:k.substring(0,E).trim().endsWith("base64")?k.substring(E+1):null};e.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var B=e.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(k){for(var E=k.length,Q=new Uint8Array(E),F=0;F<E;F++)Q[F]=k.charCodeAt(F);return Q},P=e.__addimage__.arrayBufferToBinaryString=function(k){for(var E="",Q=B(k)?k:new Uint8Array(k),F=0;F<Q.length;F+=8192)E+=String.fromCharCode.apply(null,Q.subarray(F,F+8192));return E};e.addImage=function(){var k,E,Q,F,K,W,D,z,ee;if(typeof arguments[1]=="number"?(E=r,Q=arguments[1],F=arguments[2],K=arguments[3],W=arguments[4],D=arguments[5],z=arguments[6],ee=arguments[7]):(E=arguments[1],Q=arguments[2],F=arguments[3],K=arguments[4],W=arguments[5],D=arguments[6],z=arguments[7],ee=arguments[8]),pn(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var te=k;k=te.imageData,E=te.format||E||r,Q=te.x||Q||0,F=te.y||F||0,K=te.w||te.width||K,W=te.h||te.height||W,D=te.alias||D,z=te.compression||z,ee=te.rotation||te.angle||ee}var le=this.internal.getFilters();if(z===void 0&&le.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(Q)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var $=T.call(this,k,E,D,z);return v.call(this,Q,F,K,W,$,ee),this};var T=function(k,E,Q,F){var K,W,D;if(typeof k=="string"&&i(k)===r){k=unescape(k);var z=U(k,!1);(z!==""||(z=e.loadFile(k,!0))!==void 0)&&(k=z)}if(f(k)&&(k=m(k,E)),E=i(k,E),!A(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((D=Q)==null||D.length===0)&&(Q=function(ee){return typeof ee=="string"||B(ee)?w(ee):B(ee.data)?w(ee.data):null}(k)),(K=x.call(this,Q))||(k instanceof Uint8Array||E==="RGBA"||(W=k,k=I(k)),K=this["process"+E.toUpperCase()](k,u.call(this),Q,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:b.NONE}(F),W)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},U=e.__addimage__.convertBase64ToBinaryString=function(k,E){E=typeof E!="boolean"||E;var Q,F="";if(typeof k=="string"){var K;Q=(K=N(k))!==null&&K!==void 0?K:k;try{F=k1(Q)}catch(W){if(E)throw j(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(k){var E,Q,F="";if(f(k)&&(k=m(k)),typeof k=="string"&&i(k)===r&&((F=U(k,!1))===""&&(F=e.loadFile(k)||""),k=F),Q=i(k),!A(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(k instanceof Uint8Array||(k=I(k)),!(E=this["process"+Q.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=Q,E}})(Yt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,A=0;A<d.length&&!u;A++)switch((n=d[A]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){n=d[f];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(p.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(y(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(y(b))+") >>",p.content=a;var w=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var B=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+i),h:d(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=e.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&a(p)&&t[p.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(p){var v=0,y=r,b="",w=0;for(v=0;v<p.length;v+=1)y[p.charCodeAt(v)]!==void 0?(w++,typeof(y=y[p.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,w=0),v===p.length-1&&(y=r,b+=p.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,b+=p.charAt(v-w),v-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(p,v,y){return o(p)?a(p)===!1?-1:!d(p)||!o(v)&&!o(y)||!o(y)&&l(v)||l(p)&&!o(v)||l(p)&&c(v)||l(p)&&l(v)?0:u(p)&&o(v)&&!l(v)&&o(y)&&d(y)?3:l(p)||!o(y)?1:2:-1},m=function(p){var v=0,y=0,b=0,w="",j="",N="",B=(p=p||"").split("\\s+"),I=[];for(v=0;v<B.length;v+=1){for(I.push(""),y=0;y<B[v].length;y+=1)w=B[v][y],j=B[v][y-1],N=B[v][y+1],o(w)?(b=f(w,j,N),I[v]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):I[v]+=w;I[v]=A(I[v])}return I.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([m(v[b][0]),v[b][1],v[b][2]]):y.push([m(v[b])]);p=y}else p=m(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",x])}(Yt.API),Yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(p){A=p}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(p){x=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),A=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,p=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,j){return w.concat(v.splitTextToSize(j,y))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)m<(p=this.getStringUnitWidth(c[b],{font:A})*u)&&(m=p);return m!==0&&(x=c.length),{w:m/=f,h:Math.max((x*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=A.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,u,A,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,x,p,v,y=[],b=[],w=[],j={},N={},B=[],I=[],P=(f=f||{}).autoSize||!1,T=f.printHeaders!==!1,U=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,k=f.margins||Object.assign({width:this.getPageWidth()},t),E=typeof f.padding=="number"?f.padding:3,Q=f.headerBackgroundColor||"#c8c8c8",F=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=F,this.setFontSize(U),A==null)b=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(A)&&pn(A[0])==="object")for(y=A.map(function(te){return te.name}),b=A.map(function(te){return te.prompt||te.name||""}),w=A.map(function(te){return te.align||"left"}),m=0;m<A.length;m+=1)N[A[m].name]=.7499990551181103*A[m].width;else Array.isArray(A)&&typeof A[0]=="string"&&(b=y=A,w=y.map(function(){return"left"}));if(P||Array.isArray(A)&&typeof A[0]=="string")for(m=0;m<y.length;m+=1){for(j[v=y[m]]=u.map(function(te){return te[v]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=j[v],this.setFont(void 0,"normal"),p=0;p<x.length;p+=1)B.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[v]=Math.max.apply(null,B)+E+E,B=[]}if(T){var K={};for(m=0;m<y.length;m+=1)K[y[m]]={},K[y[m]].text=b[m],K[y[m]].align=w[m];var W=l.call(this,K,N);I=y.map(function(te){return new a(c,d,N[te],W,K[te].text,void 0,K[te].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var D=A.reduce(function(te,le){return te[le.name]=le.align,te},{});for(m=0;m<u.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:u[m]},this);var z=l.call(this,u[m],N);for(p=0;p<y.length;p+=1){var ee=u[m][y[p]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:p,data:ee},this),o.call(this,new a(c,d,N[y[p]],z,ee,m+2,D[y[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*A/f+u+u},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(x)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(Yt.API);var iX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},aX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Pk=sX(aX),oX=[100,200,300,400,500,600,700,800,900],RBe=sX(oX);function _B(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return iX[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof Pk[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function KM(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var MBe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},WM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GM(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function qM(e){return e.trimLeft()}function DBe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function QBe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sw,YM,XM,Mm,kw,JM,ZM,eD,CB=["times"];function tD(e,t,r,n,i){var a=4,o=nD;switch(i){case Yt.API.image_compression.FAST:a=1,o=rD;break;case Yt.API.image_compression.MEDIUM:a=6,o=sD;break;case Yt.API.image_compression.SLOW:a=9,o=iD}e=function(c,d,u,A){for(var f,m=c.length/d,x=new Uint8Array(c.length+m),p=[$Be,rD,nD,sD,iD],v=0;v<m;v+=1){var y=v*d,b=c.subarray(y,y+d);if(A)x.set(A(b,u,f),y+v);else{for(var w=p.length,j=[],N=0;N<w;N+=1)j[N]=p[N](b,u,f);var B=zBe(j.concat());x.set(j[B],y+v)}f=b}return x}(e,t,Math.ceil(r*n/8),o);var l=Nk(e,{level:a});return Yt.API.__addimage__.arrayBufferToBinaryString(l)}function $Be(e){var t=Array.apply([],e);return t.unshift(0),t}function rD(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function nD(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function sD(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,l=r&&r[a]||0;i[a+1]=e[a]+256-(o+l>>>1)&255}return i}function iD(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=HBe(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function HBe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function zBe(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function BB(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return lX(e,i)>>a&o}function aD(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(t&l)<<o;(function(d,u,A){if(u+1<d.byteLength)d.setUint16(u,A,!1);else{var f=A>>8&255;d.setUint8(u,f)}})(e,a,lX(e,a)&~(l<<o)&65535|c)}function lX(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function VBe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var d=!0,u=[],A=0,f=null,m=0,x=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];A=e[t++]|e[t++]<<8,f=e[t++],1&p||(f=null),m=p>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++],N=j>>6&1,B=1<<1+(7&j),I=l,P=c,T=!1;j>>7&&(T=!0,I=t,P=B,t+=3*B);var U=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}u.push({x:v,y,width:b,height:w,has_local_palette:T,palette_offset:I,palette_size:P,data_offset:U,data_length:t-U,transparent_index:f,interlaced:!!N,delay:A,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return x},this.frameInfo=function(E){if(E<0||E>=u.length)throw new Error("Frame index out of range.");return u[E]},this.decodeAndBlitFrameBGRA=function(E,Q){var F=this.frameInfo(E),K=F.width*F.height,W=new Uint8Array(K);oD(e,F.data_offset,W,K);var D=F.palette_offset,z=F.transparent_index;z===null&&(z=256);var ee=F.width,te=r-ee,le=ee,$=4*(F.y*r+F.x),X=4*((F.y+F.height)*r+F.x),V=$,ne=4*te;F.interlaced===!0&&(ne+=4*r*7);for(var ae=8,he=0,ge=W.length;he<ge;++he){var J=W[he];if(le===0&&(le=ee,(V+=ne)>=X&&(ne=4*te+4*r*(ae-1),V=$+(ee+te)*(ae<<1),ae>>=1)),J===z)V+=4;else{var ue=e[D+3*J],fe=e[D+3*J+1],Y=e[D+3*J+2];Q[V++]=Y,Q[V++]=fe,Q[V++]=ue,Q[V++]=255}--le}},this.decodeAndBlitFrameRGBA=function(E,Q){var F=this.frameInfo(E),K=F.width*F.height,W=new Uint8Array(K);oD(e,F.data_offset,W,K);var D=F.palette_offset,z=F.transparent_index;z===null&&(z=256);var ee=F.width,te=r-ee,le=ee,$=4*(F.y*r+F.x),X=4*((F.y+F.height)*r+F.x),V=$,ne=4*te;F.interlaced===!0&&(ne+=4*r*7);for(var ae=8,he=0,ge=W.length;he<ge;++he){var J=W[he];if(le===0&&(le=ee,(V+=ne)>=X&&(ne=4*te+4*r*(ae-1),V=$+(ee+te)*(ae<<1),ae>>=1)),J===z)V+=4;else{var ue=e[D+3*J],fe=e[D+3*J+1],Y=e[D+3*J+2];Q[V++]=ue,Q[V++]=fe,Q[V++]=Y,Q[V++]=255}--le}}}function oD(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,d=(1<<c)-1,u=0,A=0,f=0,m=e[t++],x=new Int32Array(4096),p=null;;){for(;u<16&&m!==0;)A|=e[t++]<<u,u+=8,m===1?m=e[t++]:--m;if(u<c)break;var v=A&d;if(A>>=c,u-=c,v!==a){if(v===o)break;for(var y=v<l?v:p,b=0,w=y;w>a;)w=x[w]>>8,++b;var j=w;if(f+b+(y!==v?1:0)>n)return void Pn.log("Warning, gif stream longer than expected.");r[f++]=j;var N=f+=b;for(y!==v&&(r[f++]=j),w=y;b--;)w=x[w],r[--N]=255&w,w>>=8;p!==null&&l<4096&&(x[l++]=p<<8|j,l>=d+1&&c<12&&(++c,d=d<<1|1)),p=v}else l=o+1,d=(1<<(c=i+1))-1,p=null}return f!==n&&Pn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function SB(e){var t,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),A=new Array(65535),f=new Array(65535),m=new Array(64),x=new Array(64),p=[],v=0,y=7,b=new Array(64),w=new Array(64),j=new Array(64),N=new Array(256),B=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W($,X){for(var V=0,ne=0,ae=new Array,he=1;he<=16;he++){for(var ge=1;ge<=$[he];ge++)ae[X[ne]]=[],ae[X[ne]][0]=V,ae[X[ne]][1]=he,ne++,V++;V*=2}return ae}function D($){for(var X=$[0],V=$[1]-1;V>=0;)X&1<<V&&(v|=1<<y),V--,--y<0&&(v==255?(z(255),z(0)):z(v),y=7,v=0)}function z($){p.push($)}function ee($){z($>>8&255),z(255&$)}function te($,X,V,ne,ae){for(var he,ge=ae[0],J=ae[240],ue=function(Oe,Xe){var et,me,Be,Ne,Ee,$e,ot,nt,tt,Ke,it=0;for(tt=0;tt<8;++tt){et=Oe[it],me=Oe[it+1],Be=Oe[it+2],Ne=Oe[it+3],Ee=Oe[it+4],$e=Oe[it+5],ot=Oe[it+6];var lt=et+(nt=Oe[it+7]),yt=et-nt,Ct=me+ot,wt=me-ot,$t=Be+$e,gt=Be-$e,mt=Ne+Ee,at=Ne-Ee,At=lt+mt,rt=lt-mt,ze=Ct+$t,Et=Ct-$t;Oe[it]=At+ze,Oe[it+4]=At-ze;var Ft=.707106781*(Et+rt);Oe[it+2]=rt+Ft,Oe[it+6]=rt-Ft;var _n=.382683433*((At=at+gt)-(Et=wt+yt)),er=.5411961*At+_n,Yr=1.306562965*Et+_n,Cn=.707106781*(ze=gt+wt),Lt=yt+Cn,gs=yt-Cn;Oe[it+5]=gs+er,Oe[it+3]=gs-er,Oe[it+1]=Lt+Yr,Oe[it+7]=Lt-Yr,it+=8}for(it=0,tt=0;tt<8;++tt){et=Oe[it],me=Oe[it+8],Be=Oe[it+16],Ne=Oe[it+24],Ee=Oe[it+32],$e=Oe[it+40],ot=Oe[it+48];var xs=et+(nt=Oe[it+56]),On=et-nt,Ln=me+ot,fr=me-ot,Bt=Be+$e,un=Be-$e,ri=Ne+Ee,zs=Ne-Ee,is=xs+ri,as=xs-ri,os=Ln+Bt,Bn=Ln-Bt;Oe[it]=is+os,Oe[it+32]=is-os;var qe=.707106781*(Bn+as);Oe[it+16]=as+qe,Oe[it+48]=as-qe;var Nt=.382683433*((is=zs+un)-(Bn=fr+On)),kt=.5411961*is+Nt,ut=1.306562965*Bn+Nt,Ut=.707106781*(os=un+fr),bn=On+Ut,Fr=On-Ut;Oe[it+40]=Fr+kt,Oe[it+24]=Fr-kt,Oe[it+8]=bn+ut,Oe[it+56]=bn-ut,it++}for(tt=0;tt<64;++tt)Ke=Oe[tt]*Xe[tt],m[tt]=Ke>0?Ke+.5|0:Ke-.5|0;return m}($,X),fe=0;fe<64;++fe)x[I[fe]]=ue[fe];var Y=x[0]-V;V=x[0],Y==0?D(ne[0]):(D(ne[f[he=32767+Y]]),D(A[he]));for(var je=63;je>0&&x[je]==0;)je--;if(je==0)return D(ge),V;for(var xe,re=1;re<=je;){for(var Ce=re;x[re]==0&&re<=je;)++re;var Ie=re-Ce;if(Ie>=16){xe=Ie>>4;for(var Ue=1;Ue<=xe;++Ue)D(J);Ie&=15}he=32767+x[re],D(ae[(Ie<<4)+f[he]]),D(A[he]),re++}return je!=63&&D(ge),V}function le($){$=Math.min(Math.max($,1),100),a!=$&&(function(X){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ae=o((V[ne]*X+50)/100);ae=Math.min(Math.max(ae,1),255),l[I[ne]]=ae}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var J=o((he[ge]*X+50)/100);J=Math.min(Math.max(J,1),255),c[I[ge]]=J}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fe=0,Y=0;Y<8;Y++)for(var je=0;je<8;je++)d[fe]=1/(l[I[fe]]*ue[Y]*ue[je]*8),u[fe]=1/(c[I[fe]]*ue[Y]*ue[je]*8),fe++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),a=$)}this.encode=function($,X){X&&le(X),p=new Array,v=0,y=7,ee(65496),ee(65504),ee(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),ee(1),ee(1),z(0),z(0),function(){ee(65499),ee(132),z(0);for(var me=0;me<64;me++)z(l[me]);z(1);for(var Be=0;Be<64;Be++)z(c[Be])}(),function(me,Be){ee(65472),ee(17),z(8),ee(Be),ee(me),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}($.width,$.height),function(){ee(65476),ee(418),z(0);for(var me=0;me<16;me++)z(P[me+1]);for(var Be=0;Be<=11;Be++)z(T[Be]);z(16);for(var Ne=0;Ne<16;Ne++)z(U[Ne+1]);for(var Ee=0;Ee<=161;Ee++)z(k[Ee]);z(1);for(var $e=0;$e<16;$e++)z(E[$e+1]);for(var ot=0;ot<=11;ot++)z(Q[ot]);z(17);for(var nt=0;nt<16;nt++)z(F[nt+1]);for(var tt=0;tt<=161;tt++)z(K[tt])}(),ee(65498),ee(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var V=0,ne=0,ae=0;v=0,y=7,this.encode.displayName="_encode_";for(var he,ge,J,ue,fe,Y,je,xe,re,Ce=$.data,Ie=$.width,Ue=$.height,Oe=4*Ie,Xe=0;Xe<Ue;){for(he=0;he<Oe;){for(fe=Oe*Xe+he,je=-1,xe=0,re=0;re<64;re++)Y=fe+(xe=re>>3)*Oe+(je=4*(7&re)),Xe+xe>=Ue&&(Y-=Oe*(Xe+1+xe-Ue)),he+je>=Oe&&(Y-=he+je-Oe+4),ge=Ce[Y++],J=Ce[Y++],ue=Ce[Y++],b[re]=(B[ge]+B[J+256|0]+B[ue+512|0]>>16)-128,w[re]=(B[ge+768|0]+B[J+1024|0]+B[ue+1280|0]>>16)-128,j[re]=(B[ge+1280|0]+B[J+1536|0]+B[ue+1792|0]>>16)-128;V=te(b,d,V,t,n),ne=te(w,u,ne,r,i),ae=te(j,u,ae,r,i),he+=32}Xe+=8}if(y>=0){var et=[];et[1]=y+1,et[0]=(1<<y+1)-1,D(et)}return ee(65497),new Uint8Array(p)},e=e||50,function(){for(var $=String.fromCharCode,X=0;X<256;X++)N[X]=$(X)}(),t=W(P,T),r=W(E,Q),n=W(U,k),i=W(F,K),function(){for(var $=1,X=2,V=1;V<=15;V++){for(var ne=$;ne<X;ne++)f[32767+ne]=V,A[32767+ne]=[],A[32767+ne][1]=V,A[32767+ne][0]=ne;for(var ae=-(X-1);ae<=-$;ae++)f[32767+ae]=V,A[32767+ae]=[],A[32767+ae][1]=V,A[32767+ae][0]=X-1+ae;$<<=1,X<<=1}}(),function(){for(var $=0;$<256;$++)B[$]=19595*$,B[$+256|0]=38470*$,B[$+512|0]=7471*$+32768,B[$+768|0]=-11059*$,B[$+1024|0]=-21709*$,B[$+1280|0]=32768*$+8421375,B[$+1536|0]=-27439*$,B[$+1792|0]=-5329*$}(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function lD(e){function t(T){if(!T)throw Error("assert :P")}function r(T,U,k){for(var E=0;4>E;E++)if(T[U+E]!=k.charCodeAt(E))return!0;return!1}function n(T,U,k,E,Q){for(var F=0;F<Q;F++)T[U+F]=k[E+F]}function i(T,U,k,E){for(var Q=0;Q<E;Q++)T[U+Q]=k}function a(T){return new Int32Array(T)}function o(T,U){for(var k=[],E=0;E<T;E++)k.push(new U);return k}function l(T,U){var k=[];return function E(Q,F,K){for(var W=K[F],D=0;D<W&&(Q.push(K.length>F+1?[]:new U),!(K.length<F+1));D++)E(Q[D],F+1,K)}(k,0,T),k}var c=function(){var T=this;function U(C,O){for(var H=1<<O-1>>>0;C&H;)H>>>=1;return H?(C&H-1)+H:C}function k(C,O,H,G,ie){t(!(G%H));do C[O+(G-=H)]=ie;while(0<G)}function E(C,O,H,G,ie){if(t(2328>=ie),512>=ie)var oe=a(512);else if((oe=a(ie))==null)return 0;return function(de,Ae,pe,ve,Pe,De){var be,Te,Fe=Ae,Ye=1<<pe,Me=a(16),Ze=a(16);for(t(Pe!=0),t(ve!=null),t(de!=null),t(0<pe),Te=0;Te<Pe;++Te){if(15<ve[Te])return 0;++Me[ve[Te]]}if(Me[0]==Pe)return 0;for(Ze[1]=0,be=1;15>be;++be){if(Me[be]>1<<be)return 0;Ze[be+1]=Ze[be]+Me[be]}for(Te=0;Te<Pe;++Te)be=ve[Te],0<ve[Te]&&(De[Ze[be]++]=Te);if(Ze[15]==1)return(ve=new Q).g=0,ve.value=De[0],k(de,Fe,1,Ye,ve),Ye;var st,pt=-1,ft=Ye-1,qt=0,Qt=1,_r=1,Wt=1<<pe;for(Te=0,be=1,Pe=2;be<=pe;++be,Pe<<=1){if(Qt+=_r<<=1,0>(_r-=Me[be]))return 0;for(;0<Me[be];--Me[be])(ve=new Q).g=be,ve.value=De[Te++],k(de,Fe+qt,Pe,Wt,ve),qt=U(qt,be)}for(be=pe+1,Pe=2;15>=be;++be,Pe<<=1){if(Qt+=_r<<=1,0>(_r-=Me[be]))return 0;for(;0<Me[be];--Me[be]){if(ve=new Q,(qt&ft)!=pt){for(Fe+=Wt,st=1<<(pt=be)-pe;15>pt&&!(0>=(st-=Me[pt]));)++pt,st<<=1;Ye+=Wt=1<<(st=pt-pe),de[Ae+(pt=qt&ft)].g=st+pe,de[Ae+pt].value=Fe-Ae-pt}ve.g=be-pe,ve.value=De[Te++],k(de,Fe+(qt>>pe),Pe,Wt,ve),qt=U(qt,be)}}return Qt!=2*Ze[15]-1?0:Ye}(C,O,H,G,ie,oe)}function Q(){this.value=this.g=0}function F(){this.value=this.g=0}function K(){this.G=o(5,Q),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o($o,F)}function W(C,O,H,G){t(C!=null),t(O!=null),t(2147483648>G),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=O,C.pa=H,C.Jd=O,C.Yc=H+G,C.Zc=4<=G?H+G-4+1:H,ge(C)}function D(C,O){for(var H=0;0<O--;)H|=ue(C,128)<<O;return H}function z(C,O){var H=D(C,O);return J(C)?-H:H}function ee(C,O,H,G){var ie,oe=0;for(t(C!=null),t(O!=null),t(4294967288>G),C.Sb=G,C.Ra=0,C.u=0,C.h=0,4<G&&(G=4),ie=0;ie<G;++ie)oe+=O[H+ie]<<8*ie;C.Ra=oe,C.bb=G,C.oa=O,C.pa=H}function te(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<lo-8>>>0,++C.bb,C.u-=8;ne(C)&&(C.h=1,C.u=0)}function le(C,O){if(t(0<=O),!C.h&&O<=bs){var H=V(C)&fa[O];return C.u+=O,te(C),H}return C.h=1,C.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(C){return C.Ra>>>(C.u&lo-1)>>>0}function ne(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>lo}function ae(C,O){C.u=O,C.h=ne(C)}function he(C){C.u>=Rl&&(t(C.u>=Rl),te(C))}function ge(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function J(C){return D(C,1)}function ue(C,O){var H=C.Ca;0>C.b&&ge(C);var G=C.b,ie=H*O>>>8,oe=(C.I>>>G>ie)+0;for(oe?(H-=ie,C.I-=ie+1<<G>>>0):H=ie+1,G=H,ie=0;256<=G;)ie+=8,G>>=8;return G=7^ie+Ho[G],C.b-=G,C.Ca=(H<<G)-1,oe}function fe(C,O,H){C[O+0]=H>>24&255,C[O+1]=H>>16&255,C[O+2]=H>>8&255,C[O+3]=255&H}function Y(C,O){return C[O+0]|C[O+1]<<8}function je(C,O){return Y(C,O)|C[O+2]<<16}function xe(C,O){return Y(C,O)|Y(C,O+2)<<16}function re(C,O){var H=1<<O;return t(C!=null),t(0<O),C.X=a(H),C.X==null?0:(C.Mb=32-O,C.Xa=O,1)}function Ce(C,O){t(C!=null),t(O!=null),t(C.Xa==O.Xa),n(O.X,0,C.X,0,1<<O.Xa)}function Ie(){this.X=[],this.Xa=this.Mb=0}function Ue(C,O,H,G){t(H!=null),t(G!=null);var ie=H[0],oe=G[0];return ie==0&&(ie=(C*oe+O/2)/O),oe==0&&(oe=(O*ie+C/2)/C),0>=ie||0>=oe?0:(H[0]=ie,G[0]=oe,1)}function Oe(C,O){return C+(1<<O)-1>>>O}function Xe(C,O){return((4278255360&C)+(4278255360&O)>>>0&4278255360)+((16711935&C)+(16711935&O)>>>0&16711935)>>>0}function et(C,O){T[O]=function(H,G,ie,oe,de,Ae,pe){var ve;for(ve=0;ve<de;++ve){var Pe=T[C](Ae[pe+ve-1],ie,oe+ve);Ae[pe+ve]=Xe(H[G+ve],Pe)}}}function me(){this.ud=this.hd=this.jd=0}function Be(C,O){return((4278124286&(C^O))>>>1)+(C&O)>>>0}function Ne(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Ee(C,O){return Ne(C+(C-O+.5>>1))}function $e(C,O,H){return Math.abs(O-H)-Math.abs(C-H)}function ot(C,O,H,G,ie,oe,de){for(G=oe[de-1],H=0;H<ie;++H)oe[de+H]=G=Xe(C[O+H],G)}function nt(C,O,H,G,ie){var oe;for(oe=0;oe<H;++oe){var de=C[O+oe],Ae=de>>8&255,pe=16711935&(pe=(pe=16711935&de)+((Ae<<16)+Ae));G[ie+oe]=(4278255360&de)+pe>>>0}}function tt(C,O){O.jd=255&C,O.hd=C>>8&255,O.ud=C>>16&255}function Ke(C,O,H,G,ie,oe){var de;for(de=0;de<G;++de){var Ae=O[H+de],pe=Ae>>>8,ve=Ae,Pe=255&(Pe=(Pe=Ae>>>16)+((C.jd<<24>>24)*(pe<<24>>24)>>>5));ve=255&(ve=(ve+=(C.hd<<24>>24)*(pe<<24>>24)>>>5)+((C.ud<<24>>24)*(Pe<<24>>24)>>>5)),ie[oe+de]=(4278255360&Ae)+(Pe<<16)+ve}}function it(C,O,H,G,ie){T[O]=function(oe,de,Ae,pe,ve,Pe,De,be,Te){for(pe=De;pe<be;++pe)for(De=0;De<Te;++De)ve[Pe++]=ie(Ae[G(oe[de++])])},T[C]=function(oe,de,Ae,pe,ve,Pe,De){var be=8>>oe.b,Te=oe.Ea,Fe=oe.K[0],Ye=oe.w;if(8>be)for(oe=(1<<oe.b)-1,Ye=(1<<be)-1;de<Ae;++de){var Me,Ze=0;for(Me=0;Me<Te;++Me)Me&oe||(Ze=G(pe[ve++])),Pe[De++]=ie(Fe[Ze&Ye]),Ze>>=be}else T["VP8LMapColor"+H](pe,ve,Fe,Ye,Pe,De,de,Ae,Te)}}function lt(C,O,H,G,ie){for(H=O+H;O<H;){var oe=C[O++];G[ie++]=oe>>16&255,G[ie++]=oe>>8&255,G[ie++]=255&oe}}function yt(C,O,H,G,ie){for(H=O+H;O<H;){var oe=C[O++];G[ie++]=oe>>16&255,G[ie++]=oe>>8&255,G[ie++]=255&oe,G[ie++]=oe>>24&255}}function Ct(C,O,H,G,ie){for(H=O+H;O<H;){var oe=(de=C[O++])>>16&240|de>>12&15,de=240&de|de>>28&15;G[ie++]=oe,G[ie++]=de}}function wt(C,O,H,G,ie){for(H=O+H;O<H;){var oe=(de=C[O++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;G[ie++]=oe,G[ie++]=de}}function $t(C,O,H,G,ie){for(H=O+H;O<H;){var oe=C[O++];G[ie++]=255&oe,G[ie++]=oe>>8&255,G[ie++]=oe>>16&255}}function gt(C,O,H,G,ie,oe){if(oe==0)for(H=O+H;O<H;)fe(G,((oe=C[O++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ie+=32;else n(G,ie,C,O,H)}function mt(C,O){T[O][0]=T[C+"0"],T[O][1]=T[C+"1"],T[O][2]=T[C+"2"],T[O][3]=T[C+"3"],T[O][4]=T[C+"4"],T[O][5]=T[C+"5"],T[O][6]=T[C+"6"],T[O][7]=T[C+"7"],T[O][8]=T[C+"8"],T[O][9]=T[C+"9"],T[O][10]=T[C+"10"],T[O][11]=T[C+"11"],T[O][12]=T[C+"12"],T[O][13]=T[C+"13"],T[O][14]=T[C+"0"],T[O][15]=T[C+"0"]}function at(C){return C==bm||C==wm||C==jm||C==h}function At(){this.eb=[],this.size=this.A=this.fb=0}function rt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ze(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new rt,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ft(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function _n(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function er(C,O){var H=C.T,G=O.ba.f.RGBA,ie=G.eb,oe=G.fb+C.ka*G.A,de=Bi[O.ba.S],Ae=C.y,pe=C.O,ve=C.f,Pe=C.N,De=C.ea,be=C.W,Te=O.cc,Fe=O.dc,Ye=O.Mc,Me=O.Nc,Ze=C.ka,st=C.ka+C.T,pt=C.U,ft=pt+1>>1;for(Ze==0?de(Ae,pe,null,null,ve,Pe,De,be,ve,Pe,De,be,ie,oe,null,null,pt):(de(O.ec,O.fc,Ae,pe,Te,Fe,Ye,Me,ve,Pe,De,be,ie,oe-G.A,ie,oe,pt),++H);Ze+2<st;Ze+=2)Te=ve,Fe=Pe,Ye=De,Me=be,Pe+=C.Rc,be+=C.Rc,oe+=2*G.A,de(Ae,(pe+=2*C.fa)-C.fa,Ae,pe,Te,Fe,Ye,Me,ve,Pe,De,be,ie,oe-G.A,ie,oe,pt);return pe+=C.fa,C.j+st<C.o?(n(O.ec,O.fc,Ae,pe,pt),n(O.cc,O.dc,ve,Pe,ft),n(O.Mc,O.Nc,De,be,ft),H--):1&st||de(Ae,pe,null,null,ve,Pe,De,be,ve,Pe,De,be,ie,oe+G.A,null,null,pt),H}function Yr(C,O,H){var G=C.F,ie=[C.J];if(G!=null){var oe=C.U,de=O.ba.S,Ae=de==EA||de==jm;O=O.ba.f.RGBA;var pe=[0],ve=C.ka;pe[0]=C.T,C.Kb&&(ve==0?--pe[0]:(--ve,ie[0]-=C.width),C.j+C.ka+C.T==C.o&&(pe[0]=C.o-C.j-ve));var Pe=O.eb;ve=O.fb+ve*O.A,C=h0(G,ie[0],C.width,oe,pe,Pe,ve+(Ae?0:3),O.A),t(H==pe),C&&at(de)&&Go(Pe,ve,Ae,oe,pe,O.A)}return 0}function Cn(C){var O=C.ma,H=O.ba.S,G=11>H,ie=H==SA||H==kA||H==EA||H==vm||H==12||at(H);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!_A(O.Oa,C,ie?11:12))return 0;if(ie&&at(H)&&Ol(),C.da)alert("todo:use_scaling");else{if(G){if(O.Ib=_n,C.Kb){if(H=C.U+1>>1,O.memory=a(C.U+2*H),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+C.U,O.Mc=O.cc,O.Nc=O.dc+H,O.Ib=er,Ol()}}else alert("todo:EmitYUV");ie&&(O.Jb=Yr,G&&ii())}if(G&&!xT){for(C=0;256>C;++C)ure[C]=89858*(C-128)+ub>>db,fre[C]=-22014*(C-128)+ub,Are[C]=-45773*(C-128),hre[C]=113618*(C-128)+ub>>db;for(C=x0;C<u_;++C)O=76283*(C-16)+ub>>db,mre[C-x0]=mr(O,255),pre[C-x0]=mr(O+8>>4,15);xT=1}return 1}function Lt(C){var O=C.ma,H=C.U,G=C.T;return t(!(1&C.ka)),0>=H||0>=G?0:(H=O.Ib(C,O),O.Jb!=null&&O.Jb(C,O,H),O.Dc+=H,1)}function gs(C){C.ma.memory=null}function xs(C,O,H,G){return le(C,8)!=47?0:(O[0]=le(C,14)+1,H[0]=le(C,14)+1,G[0]=le(C,1),le(C,3)!=0?0:!C.h)}function On(C,O){if(4>C)return C+1;var H=C-2>>1;return(2+(1&C)<<H)+le(O,H)+1}function Ln(C,O){return 120<O?O-120:1<=(H=((H=Se[O-1])>>4)*C+(8-(15&H)))?H:1;var H}function fr(C,O,H){var G=V(H),ie=C[O+=255&G].g-8;return 0<ie&&(ae(H,H.u+8),G=V(H),O+=C[O].value,O+=G&(1<<ie)-1),ae(H,H.u+C[O].g),C[O].value}function Bt(C,O,H){return H.g+=C.g,H.value+=C.value<<O>>>0,t(8>=H.g),C.g}function un(C,O,H){var G=C.xc;return t((O=G==0?0:C.vc[C.md*(H>>G)+(O>>G)])<C.Wb),C.Ya[O]}function ri(C,O,H,G){var ie=C.ab,oe=C.c*O,de=C.C;O=de+O;var Ae=H,pe=G;for(G=C.Ta,H=C.Ua;0<ie--;){var ve=C.gc[ie],Pe=de,De=O,be=Ae,Te=pe,Fe=(pe=G,Ae=H,ve.Ea);switch(t(Pe<De),t(De<=ve.nc),ve.hc){case 2:cs(be,Te,(De-Pe)*Fe,pe,Ae);break;case 0:var Ye=Pe,Me=De,Ze=pe,st=Ae,pt=(Wt=ve).Ea;Ye==0&&(CA(be,Te,null,null,1,Ze,st),ot(be,Te+1,0,0,pt-1,Ze,st+1),Te+=pt,st+=pt,++Ye);for(var ft=1<<Wt.b,qt=ft-1,Qt=Oe(pt,Wt.b),_r=Wt.K,Wt=Wt.w+(Ye>>Wt.b)*Qt;Ye<Me;){var Mr=_r,oi=Wt,Cr=1;for(Qi(be,Te,Ze,st-pt,1,Ze,st);Cr<pt;){var Gt=(Cr&~qt)+ft;Gt>pt&&(Gt=pt),(0,Qu[Mr[oi++]>>8&15])(be,Te+ +Cr,Ze,st+Cr-pt,Gt-Cr,Ze,st+Cr),Cr=Gt}Te+=pt,st+=pt,++Ye&qt||(Wt+=Qt)}De!=ve.nc&&n(pe,Ae-Fe,pe,Ae+(De-Pe-1)*Fe,Fe);break;case 1:for(Fe=be,Me=Te,pt=(be=ve.Ea)-(st=be&~(Ze=(Te=1<<ve.b)-1)),Ye=Oe(be,ve.b),ft=ve.K,ve=ve.w+(Pe>>ve.b)*Ye;Pe<De;){for(qt=ft,Qt=ve,_r=new me,Wt=Me+st,Mr=Me+be;Me<Wt;)tt(qt[Qt++],_r),Bd(_r,Fe,Me,Te,pe,Ae),Me+=Te,Ae+=Te;Me<Mr&&(tt(qt[Qt++],_r),Bd(_r,Fe,Me,pt,pe,Ae),Me+=pt,Ae+=pt),++Pe&Ze||(ve+=Ye)}break;case 3:if(be==pe&&Te==Ae&&0<ve.b){for(Me=pe,be=Fe=Ae+(De-Pe)*Fe-(st=(De-Pe)*Oe(ve.Ea,ve.b)),Te=pe,Ze=Ae,Ye=[],st=(pt=st)-1;0<=st;--st)Ye[st]=Te[Ze+st];for(st=pt-1;0<=st;--st)Me[be+st]=Ye[st];Ml(ve,Pe,De,pe,Fe,pe,Ae)}else Ml(ve,Pe,De,be,Te,pe,Ae)}Ae=G,pe=H}pe!=H&&n(G,H,Ae,pe,oe)}function zs(C,O){var H=C.V,G=C.Ba+C.c*C.C,ie=O-C.C;if(t(O<=C.l.o),t(16>=ie),0<ie){var oe=C.l,de=C.Ta,Ae=C.Ua,pe=oe.width;if(ri(C,ie,H,G),ie=Ae=[Ae],t((H=C.C)<(G=O)),t(oe.v<oe.va),G>oe.o&&(G=oe.o),H<oe.j){var ve=oe.j-H;H=oe.j,ie[0]+=ve*pe}if(H>=G?H=0:(ie[0]+=4*oe.v,oe.ka=H-oe.j,oe.U=oe.va-oe.v,oe.T=G-H,H=1),H){if(Ae=Ae[0],11>(H=C.ca).S){var Pe=H.f.RGBA,De=(G=H.S,ie=oe.U,oe=oe.T,ve=Pe.eb,Pe.A),be=oe;for(Pe=Pe.fb+C.Ma*Pe.A;0<be--;){var Te=de,Fe=Ae,Ye=ie,Me=ve,Ze=Pe;switch(G){case ym:Ic(Te,Fe,Ye,Me,Ze);break;case SA:Vo(Te,Fe,Ye,Me,Ze);break;case bm:Vo(Te,Fe,Ye,Me,Ze),Go(Me,Ze,0,Ye,1,0);break;case m0:Ko(Te,Fe,Ye,Me,Ze);break;case kA:gt(Te,Fe,Ye,Me,Ze,1);break;case wm:gt(Te,Fe,Ye,Me,Ze,1),Go(Me,Ze,0,Ye,1,0);break;case EA:gt(Te,Fe,Ye,Me,Ze,0);break;case jm:gt(Te,Fe,Ye,Me,Ze,0),Go(Me,Ze,1,Ye,1,0);break;case vm:co(Te,Fe,Ye,Me,Ze);break;case h:co(Te,Fe,Ye,Me,Ze),u0(Me,Ze,Ye,1,0);break;case ob:ma(Te,Fe,Ye,Me,Ze);break;default:t(0)}Ae+=pe,Pe+=De}C.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=H.height)}}C.C=O,t(C.C<=C.i)}function is(C){var O;if(0<C.ua)return 0;for(O=0;O<C.Wb;++O){var H=C.Ya[O].G,G=C.Ya[O].H;if(0<H[1][G[1]+0].g||0<H[2][G[2]+0].g||0<H[3][G[3]+0].g)return 0}return 1}function as(C,O,H,G,ie,oe){if(C.Z!=0){var de=C.qd,Ae=C.rd;for(t(hn[C.Z]!=null);O<H;++O)hn[C.Z](de,Ae,G,ie,G,ie,oe),de=G,Ae=ie,ie+=oe;C.qd=de,C.rd=Ae}}function os(C,O){var H=C.l.ma,G=H.Z==0||H.Z==1?C.l.j:C.C;if(G=C.C<G?G:C.C,t(O<=C.l.o),O>G){var ie=C.l.width,oe=H.ca,de=H.tb+ie*G,Ae=C.V,pe=C.Ba+C.c*G,ve=C.gc;t(C.ab==1),t(ve[0].hc==3),Ks(ve[0],G,O,Ae,pe,oe,de),as(H,G,O,oe,de,ie)}C.C=C.Ma=O}function Bn(C,O,H,G,ie,oe,de){var Ae=C.$/G,pe=C.$%G,ve=C.m,Pe=C.s,De=H+C.$,be=De;ie=H+G*ie;var Te=H+G*oe,Fe=280+Pe.ua,Ye=C.Pb?Ae:16777216,Me=0<Pe.ua?Pe.Wa:null,Ze=Pe.wc,st=De<Te?un(Pe,pe,Ae):null;t(C.C<oe),t(Te<=ie);var pt=!1;e:for(;;){for(;pt||De<Te;){var ft=0;if(Ae>=Ye){var qt=De-H;t((Ye=C).Pb),Ye.wd=Ye.m,Ye.xd=qt,0<Ye.s.ua&&Ce(Ye.s.Wa,Ye.s.vb),Ye=Ae+He}if(pe&Ze||(st=un(Pe,pe,Ae)),t(st!=null),st.Qb&&(O[De]=st.qb,pt=!0),!pt)if(he(ve),st.jc){ft=ve,qt=O;var Qt=De,_r=st.pd[V(ft)&$o-1];t(st.jc),256>_r.g?(ae(ft,ft.u+_r.g),qt[Qt]=_r.value,ft=0):(ae(ft,ft.u+_r.g-256),t(256<=_r.value),ft=_r.value),ft==0&&(pt=!0)}else ft=fr(st.G[0],st.H[0],ve);if(ve.h)break;if(pt||256>ft){if(!pt)if(st.nd)O[De]=(st.qb|ft<<8)>>>0;else{if(he(ve),pt=fr(st.G[1],st.H[1],ve),he(ve),qt=fr(st.G[2],st.H[2],ve),Qt=fr(st.G[3],st.H[3],ve),ve.h)break;O[De]=(Qt<<24|pt<<16|ft<<8|qt)>>>0}if(pt=!1,++De,++pe>=G&&(pe=0,++Ae,de!=null&&Ae<=oe&&!(Ae%16)&&de(C,Ae),Me!=null))for(;be<De;)ft=O[be++],Me.X[(506832829*ft&4294967295)>>>Me.Mb]=ft}else if(280>ft){if(ft=On(ft-256,ve),qt=fr(st.G[4],st.H[4],ve),he(ve),qt=Ln(G,qt=On(qt,ve)),ve.h)break;if(De-H<qt||ie-De<ft)break e;for(Qt=0;Qt<ft;++Qt)O[De+Qt]=O[De+Qt-qt];for(De+=ft,pe+=ft;pe>=G;)pe-=G,++Ae,de!=null&&Ae<=oe&&!(Ae%16)&&de(C,Ae);if(t(De<=ie),pe&Ze&&(st=un(Pe,pe,Ae)),Me!=null)for(;be<De;)ft=O[be++],Me.X[(506832829*ft&4294967295)>>>Me.Mb]=ft}else{if(!(ft<Fe))break e;for(pt=ft-280,t(Me!=null);be<De;)ft=O[be++],Me.X[(506832829*ft&4294967295)>>>Me.Mb]=ft;ft=De,t(!(pt>>>(qt=Me).Xa)),O[ft]=qt.X[pt],pt=!0}pt||t(ve.h==ne(ve))}if(C.Pb&&ve.h&&De<ie)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Ce(C.s.vb,C.s.Wa);else{if(ve.h)break e;de!=null&&de(C,Ae>oe?oe:Ae),C.a=0,C.$=De-H}return 1}return C.a=3,0}function qe(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var O=C.Wa;O!=null&&(O.X=null),C.vb=null,t(C!=null)}function Nt(){var C=new dr;return C==null?null:(C.a=0,C.xb=p0,mt("Predictor","VP8LPredictors"),mt("Predictor","VP8LPredictors_C"),mt("PredictorAdd","VP8LPredictorsAdd"),mt("PredictorAdd","VP8LPredictorsAdd_C"),cs=nt,Bd=Ke,Ic=lt,Vo=yt,co=Ct,ma=wt,Ko=$t,T.VP8LMapColor32b=zo,T.VP8LMapColor8b=Pc,C)}function kt(C,O,H,G,ie){var oe=1,de=[C],Ae=[O],pe=G.m,ve=G.s,Pe=null,De=0;e:for(;;){if(H)for(;oe&&le(pe,1);){var be=de,Te=Ae,Fe=G,Ye=1,Me=Fe.m,Ze=Fe.gc[Fe.ab],st=le(Me,2);if(Fe.Oc&1<<st)oe=0;else{switch(Fe.Oc|=1<<st,Ze.hc=st,Ze.Ea=be[0],Ze.nc=Te[0],Ze.K=[null],++Fe.ab,t(4>=Fe.ab),st){case 0:case 1:Ze.b=le(Me,3)+2,Ye=kt(Oe(Ze.Ea,Ze.b),Oe(Ze.nc,Ze.b),0,Fe,Ze.K),Ze.K=Ze.K[0];break;case 3:var pt,ft=le(Me,8)+1,qt=16<ft?0:4<ft?1:2<ft?2:3;if(be[0]=Oe(Ze.Ea,qt),Ze.b=qt,pt=Ye=kt(ft,1,0,Fe,Ze.K)){var Qt,_r=ft,Wt=Ze,Mr=1<<(8>>Wt.b),oi=a(Mr);if(oi==null)pt=0;else{var Cr=Wt.K[0],Gt=Wt.w;for(oi[0]=Wt.K[0][0],Qt=1;Qt<1*_r;++Qt)oi[Qt]=Xe(Cr[Gt+Qt],oi[Qt-1]);for(;Qt<4*Mr;++Qt)oi[Qt]=0;Wt.K[0]=null,Wt.K[0]=oi,pt=1}}Ye=pt;break;case 2:break;default:t(0)}oe=Ye}}if(de=de[0],Ae=Ae[0],oe&&le(pe,1)&&!(oe=1<=(De=le(pe,4))&&11>=De)){G.a=3;break e}var St;if(St=oe)t:{var Ts,vr,Qr,Vn=G,Si=de,xa=Ae,js=De,Vi=H,ya=Vn.m,li=Vn.s,Hr=[null],An=1,Ns=0,fn=Re[js];r:for(;;){if(Vi&&le(ya,1)){var ki=le(ya,3)+2,$l=Oe(Si,ki),Os=Oe(xa,ki),za=$l*Os;if(!kt($l,Os,0,Vn,Hr))break r;for(Hr=Hr[0],li.xc=ki,Ts=0;Ts<za;++Ts){var En=Hr[Ts]>>8&65535;Hr[Ts]=En,En>=An&&(An=En+1)}}if(ya.h)break r;for(vr=0;5>vr;++vr){var ci=M[vr];!vr&&0<js&&(ci+=1<<js),Ns<ci&&(Ns=ci)}var ho=o(An*fn,Q),va=An,Ao=o(va,K);if(Ao==null)var fo=null;else t(65536>=va),fo=Ao;var Va=a(Ns);if(fo==null||Va==null||ho==null){Vn.a=1;break r}var mo=ho;for(Ts=Qr=0;Ts<An;++Ts){var Un=fo[Ts],po=Un.G,Hl=Un.H,PA=0,Sd=1,Ei=0;for(vr=0;5>vr;++vr){ci=M[vr],po[vr]=mo,Hl[vr]=Qr,!vr&&0<js&&(ci+=1<<js);s:{var Ab,h_=ci,fb=Vn,y0=Va,yre=mo,vre=Qr,A_=0,Ku=fb.m,bre=le(Ku,1);if(i(y0,0,0,h_),bre){var wre=le(Ku,1)+1,jre=le(Ku,1),bT=le(Ku,jre==0?1:8);y0[bT]=1,wre==2&&(y0[bT=le(Ku,8)]=1);var mb=1}else{var wT=a(19),jT=le(Ku,4)+4;if(19<jT){fb.a=3;var pb=0;break s}for(Ab=0;Ab<jT;++Ab)wT[ce[Ab]]=le(Ku,3);var f_=void 0,v0=void 0,NT=fb,Nre=wT,gb=h_,_T=y0,m_=0,Wu=NT.m,CT=8,BT=o(128,Q);n:for(;E(BT,0,7,Nre,19);){if(le(Wu,1)){var _re=2+2*le(Wu,3);if((f_=2+le(Wu,_re))>gb)break n}else f_=gb;for(v0=0;v0<gb&&f_--;){he(Wu);var ST=BT[0+(127&V(Wu))];ae(Wu,Wu.u+ST.g);var _m=ST.value;if(16>_m)_T[v0++]=_m,_m!=0&&(CT=_m);else{var Cre=_m==16,kT=_m-16,Bre=S[kT],ET=le(Wu,g[kT])+Bre;if(v0+ET>gb)break n;for(var Sre=Cre?CT:0;0<ET--;)_T[v0++]=Sre}}m_=1;break n}m_||(NT.a=3),mb=m_}(mb=mb&&!Ku.h)&&(A_=E(yre,vre,8,y0,h_)),mb&&A_!=0?pb=A_:(fb.a=3,pb=0)}if(pb==0)break r;if(Sd&&q[vr]==1&&(Sd=mo[Qr].g==0),PA+=mo[Qr].g,Qr+=pb,3>=vr){var b0,p_=Va[0];for(b0=1;b0<ci;++b0)Va[b0]>p_&&(p_=Va[b0]);Ei+=p_}}if(Un.nd=Sd,Un.Qb=0,Sd&&(Un.qb=(po[3][Hl[3]+0].value<<24|po[1][Hl[1]+0].value<<16|po[2][Hl[2]+0].value)>>>0,PA==0&&256>po[0][Hl[0]+0].value&&(Un.Qb=1,Un.qb+=po[0][Hl[0]+0].value<<8)),Un.jc=!Un.Qb&&6>Ei,Un.jc){var xb,kd=Un;for(xb=0;xb<$o;++xb){var Gu=xb,qu=kd.pd[Gu],yb=kd.G[0][kd.H[0]+Gu];256<=yb.value?(qu.g=yb.g+256,qu.value=yb.value):(qu.g=0,qu.value=0,Gu>>=Bt(yb,8,qu),Gu>>=Bt(kd.G[1][kd.H[1]+Gu],16,qu),Gu>>=Bt(kd.G[2][kd.H[2]+Gu],0,qu),Bt(kd.G[3][kd.H[3]+Gu],24,qu))}}}li.vc=Hr,li.Wb=An,li.Ya=fo,li.yc=ho,St=1;break t}St=0}if(!(oe=St)){G.a=3;break e}if(0<De){if(ve.ua=1<<De,!re(ve.Wa,De)){G.a=1,oe=0;break e}}else ve.ua=0;var g_=G,PT=de,kre=Ae,x_=g_.s,y_=x_.xc;if(g_.c=PT,g_.i=kre,x_.md=Oe(PT,y_),x_.wc=y_==0?-1:(1<<y_)-1,H){G.xb=l_;break e}if((Pe=a(de*Ae))==null){G.a=1,oe=0;break e}oe=(oe=Bn(G,Pe,0,de,Ae,Ae,null))&&!pe.h;break e}return oe?(ie!=null?ie[0]=Pe:(t(Pe==null),t(H)),G.$=0,H||qe(ve)):qe(ve),oe}function ut(C,O){var H=C.c*C.i,G=H+O+16*O;return t(C.c<=O),C.V=a(G),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+H+O,1)}function Ut(C,O){var H=C.C,G=O-H,ie=C.V,oe=C.Ba+C.c*H;for(t(O<=C.l.o);0<G;){var de=16<G?16:G,Ae=C.l.ma,pe=C.l.width,ve=pe*de,Pe=Ae.ca,De=Ae.tb+pe*H,be=C.Ta,Te=C.Ua;ri(C,de,ie,oe),ib(be,Te,Pe,De,ve),as(Ae,H,H+de,Pe,De,pe),G-=de,ie+=de*C.c,H+=de}t(H==O),C.C=C.Ma=O}function bn(){this.ub=this.yd=this.td=this.Rb=0}function Fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function we(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Qe(){this.Yb=function(){var C=[];return function O(H,G,ie){for(var oe=ie[G],de=0;de<oe&&(H.push(ie.length>G+1?[]:0),!(ie.length<G+1));de++)O(H[de],G+1,ie)}(C,0,[3,11]),C}()}function Ge(){this.jb=a(3),this.Wc=l([4,8],Qe),this.Xc=l([4,17],Qe)}function xt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ht(){this.ld=this.La=this.dd=this.tc=0}function Kr(){this.Na=this.la=0}function en(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ni(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _c(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ht),this.Y=0,this.ya=Array(new ni),this.aa=0,this.l=new tn}function La(){this.y=a(16),this.f=a(8),this.ea=a(8)}function so(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new bn,this.Kc=new Fr,this.ed=new xt,this.Qa=new we,this.Ic=this.$c=this.Aa=0,this.D=new _c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,$),this.ia=0,this.pb=o(4,en),this.Pa=new Ge,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new La),this.Hd=0,this.rb=Array(new Kr),this.sb=0,this.wa=Array(new Ht),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ni),this.L=this.aa=0,this.gd=l([4,2],Ht),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mr(C,O){return 0>C?0:C>O?O:C}function tn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Iu(){var C=new so;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Jt||(Jt=ur)),C}function Sn(C,O,H){return C.a==0&&(C.a=O,C.sc=H,C.cb=0),0}function Nl(C,O,H){return 3<=H&&C[O+0]==157&&C[O+1]==1&&C[O+2]==42}function Fa(C,O){if(C==null)return 0;if(C.a=0,C.sc="OK",O==null)return Sn(C,2,"null VP8Io passed to VP8GetHeaders()");var H=O.data,G=O.w,ie=O.ha;if(4>ie)return Sn(C,7,"Truncated header.");var oe=H[G+0]|H[G+1]<<8|H[G+2]<<16,de=C.Od;if(de.Rb=!(1&oe),de.td=oe>>1&7,de.yd=oe>>4&1,de.ub=oe>>5,3<de.td)return Sn(C,3,"Incorrect keyframe parameters.");if(!de.yd)return Sn(C,4,"Frame not displayable.");G+=3,ie-=3;var Ae=C.Kc;if(de.Rb){if(7>ie)return Sn(C,7,"cannot parse picture header");if(!Nl(H,G,ie))return Sn(C,3,"Bad code word");Ae.c=16383&(H[G+4]<<8|H[G+3]),Ae.Td=H[G+4]>>6,Ae.i=16383&(H[G+6]<<8|H[G+5]),Ae.Ud=H[G+6]>>6,G+=7,ie-=7,C.za=Ae.c+15>>4,C.Ub=Ae.i+15>>4,O.width=Ae.c,O.height=Ae.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((oe=C.Pa).jb,0,255,oe.jb.length),t((oe=C.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(de.ub>ie)return Sn(C,7,"bad partition length");W(oe=C.m,H,G,de.ub),G+=de.ub,ie-=de.ub,de.Rb&&(Ae.Ld=J(oe),Ae.Kd=J(oe)),Ae=C.Qa;var pe,ve=C.Pa;if(t(oe!=null),t(Ae!=null),Ae.Cb=J(oe),Ae.Cb){if(Ae.Bb=J(oe),J(oe)){for(Ae.Fb=J(oe),pe=0;4>pe;++pe)Ae.Zb[pe]=J(oe)?z(oe,7):0;for(pe=0;4>pe;++pe)Ae.Lb[pe]=J(oe)?z(oe,6):0}if(Ae.Bb)for(pe=0;3>pe;++pe)ve.jb[pe]=J(oe)?D(oe,8):255}else Ae.Bb=0;if(oe.Ka)return Sn(C,3,"cannot parse segment header");if((Ae=C.ed).zd=J(oe),Ae.Tb=D(oe,6),Ae.wb=D(oe,3),Ae.Pc=J(oe),Ae.Pc&&J(oe)){for(ve=0;4>ve;++ve)J(oe)&&(Ae.vd[ve]=z(oe,6));for(ve=0;4>ve;++ve)J(oe)&&(Ae.od[ve]=z(oe,6))}if(C.L=Ae.Tb==0?0:Ae.zd?1:2,oe.Ka)return Sn(C,3,"cannot parse filter header");var Pe=ie;if(ie=pe=G,G=pe+Pe,Ae=Pe,C.Xb=(1<<D(C.m,2))-1,Pe<3*(ve=C.Xb))H=7;else{for(pe+=3*ve,Ae-=3*ve,Pe=0;Pe<ve;++Pe){var De=H[ie+0]|H[ie+1]<<8|H[ie+2]<<16;De>Ae&&(De=Ae),W(C.Jc[+Pe],H,pe,De),pe+=De,Ae-=De,ie+=3}W(C.Jc[+ve],H,pe,Ae),H=pe<G?0:5}if(H!=0)return Sn(C,H,"cannot parse partitions");for(H=D(pe=C.m,7),ie=J(pe)?z(pe,4):0,G=J(pe)?z(pe,4):0,Ae=J(pe)?z(pe,4):0,ve=J(pe)?z(pe,4):0,pe=J(pe)?z(pe,4):0,Pe=C.Qa,De=0;4>De;++De){if(Pe.Cb){var be=Pe.Zb[De];Pe.Fb||(be+=H)}else{if(0<De){C.pb[De]=C.pb[0];continue}be=H}var Te=C.pb[De];Te.Sc[0]=dt[mr(be+ie,127)],Te.Sc[1]=Pt[mr(be+0,127)],Te.Eb[0]=2*dt[mr(be+G,127)],Te.Eb[1]=101581*Pt[mr(be+Ae,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=dt[mr(be+ve,117)],Te.Qc[1]=Pt[mr(be+pe,127)],Te.lc=be+pe}if(!de.Rb)return Sn(C,4,"Not a key frame.");for(J(oe),de=C.Pa,H=0;4>H;++H){for(ie=0;8>ie;++ie)for(G=0;3>G;++G)for(Ae=0;11>Ae;++Ae)ve=ue(oe,Vu[H][ie][G][Ae])?D(oe,8):Ha[H][ie][G][Ae],de.Wc[H][ie].Yb[G][Ae]=ve;for(ie=0;17>ie;++ie)de.Xc[H][ie]=de.Wc[H][o_[ie]]}return C.kc=J(oe),C.kc&&(C.Bd=D(oe,8)),C.cb=1}function ur(C,O,H,G,ie,oe,de){var Ae=O[ie].Yb[H];for(H=0;16>ie;++ie){if(!ue(C,Ae[H+0]))return ie;for(;!ue(C,Ae[H+1]);)if(Ae=O[++ie].Yb[0],H=0,ie==16)return 16;var pe=O[ie+1].Yb;if(ue(C,Ae[H+2])){var ve=C,Pe=0;if(ue(ve,(be=Ae)[(De=H)+3]))if(ue(ve,be[De+6])){for(Ae=0,De=2*(Pe=ue(ve,be[De+8]))+(be=ue(ve,be[De+9+Pe])),Pe=0,be=Sr[De];be[Ae];++Ae)Pe+=Pe+ue(ve,be[Ae]);Pe+=3+(8<<De)}else ue(ve,be[De+7])?(Pe=7+2*ue(ve,165),Pe+=ue(ve,145)):Pe=5+ue(ve,159);else Pe=ue(ve,be[De+4])?3+ue(ve,be[De+5]):2;Ae=pe[2]}else Pe=1,Ae=pe[1];pe=de+Ci[ie],0>(ve=C).b&&ge(ve);var De,be=ve.b,Te=(De=ve.Ca>>1)-(ve.I>>be)>>31;--ve.b,ve.Ca+=Te,ve.Ca|=1,ve.I-=(De+1&Te)<<be,oe[pe]=((Pe^Te)-Te)*G[(0<ie)+0]}return 16}function Fn(C){var O=C.rb[C.sb-1];O.la=0,O.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function Mi(C,O,H,G,ie){ie=C[O+H+32*G]+(ie>>3),C[O+H+32*G]=-256&ie?0>ie?0:255:ie}function Jn(C,O,H,G,ie,oe){Mi(C,O,0,H,G+ie),Mi(C,O,1,H,G+oe),Mi(C,O,2,H,G-oe),Mi(C,O,3,H,G-ie)}function ys(C){return(20091*C>>16)+C}function Am(C,O,H,G){var ie,oe=0,de=a(16);for(ie=0;4>ie;++ie){var Ae=C[O+0]+C[O+8],pe=C[O+0]-C[O+8],ve=(35468*C[O+4]>>16)-ys(C[O+12]),Pe=ys(C[O+4])+(35468*C[O+12]>>16);de[oe+0]=Ae+Pe,de[oe+1]=pe+ve,de[oe+2]=pe-ve,de[oe+3]=Ae-Pe,oe+=4,O++}for(ie=oe=0;4>ie;++ie)Ae=(C=de[oe+0]+4)+de[oe+8],pe=C-de[oe+8],ve=(35468*de[oe+4]>>16)-ys(de[oe+12]),Mi(H,G,0,0,Ae+(Pe=ys(de[oe+4])+(35468*de[oe+12]>>16))),Mi(H,G,1,0,pe+ve),Mi(H,G,2,0,pe-ve),Mi(H,G,3,0,Ae-Pe),oe++,G+=32}function Tu(C,O,H,G){var ie=C[O+0]+4,oe=35468*C[O+4]>>16,de=ys(C[O+4]),Ae=35468*C[O+1]>>16;Jn(H,G,0,ie+de,C=ys(C[O+1]),Ae),Jn(H,G,1,ie+oe,C,Ae),Jn(H,G,2,ie-oe,C,Ae),Jn(H,G,3,ie-de,C,Ae)}function _l(C,O,H,G,ie){Am(C,O,H,G),ie&&Am(C,O+16,H,G+4)}function Xr(C,O,H,G){Tc(C,O+0,H,G,1),Tc(C,O+32,H,G+128,1)}function Ro(C,O,H,G){var ie;for(C=C[O+0]+4,ie=0;4>ie;++ie)for(O=0;4>O;++O)Mi(H,G,O,ie,C)}function Cc(C,O,H,G){C[O+0]&&Wr(C,O+0,H,G),C[O+16]&&Wr(C,O+16,H,G+4),C[O+32]&&Wr(C,O+32,H,G+128),C[O+48]&&Wr(C,O+48,H,G+128+4)}function Mo(C,O,H,G){var ie,oe=a(16);for(ie=0;4>ie;++ie){var de=C[O+0+ie]+C[O+12+ie],Ae=C[O+4+ie]+C[O+8+ie],pe=C[O+4+ie]-C[O+8+ie],ve=C[O+0+ie]-C[O+12+ie];oe[0+ie]=de+Ae,oe[8+ie]=de-Ae,oe[4+ie]=ve+pe,oe[12+ie]=ve-pe}for(ie=0;4>ie;++ie)de=(C=oe[0+4*ie]+3)+oe[3+4*ie],Ae=oe[1+4*ie]+oe[2+4*ie],pe=oe[1+4*ie]-oe[2+4*ie],ve=C-oe[3+4*ie],H[G+0]=de+Ae>>3,H[G+16]=ve+pe>>3,H[G+32]=de-Ae>>3,H[G+48]=ve-pe>>3,G+=64}function Cl(C,O,H){var G,ie=O-32,oe=Hi,de=255-C[ie-1];for(G=0;G<H;++G){var Ae,pe=oe,ve=de+C[O-1];for(Ae=0;Ae<H;++Ae)C[O+Ae]=pe[ve+C[ie+Ae]];O+=32}}function bd(C,O){Cl(C,O,4)}function gA(C,O){Cl(C,O,8)}function xA(C,O){Cl(C,O,16)}function Bc(C,O){var H;for(H=0;16>H;++H)n(C,O+32*H,C,O-32,16)}function Ou(C,O){var H;for(H=16;0<H;--H)i(C,O,C[O-1],16),O+=32}function Aa(C,O,H){var G;for(G=0;16>G;++G)i(O,H+32*G,C,16)}function Lu(C,O){var H,G=16;for(H=0;16>H;++H)G+=C[O-1+32*H]+C[O+H-32];Aa(G>>5,C,O)}function Sc(C,O){var H,G=8;for(H=0;16>H;++H)G+=C[O-1+32*H];Aa(G>>4,C,O)}function wd(C,O){var H,G=8;for(H=0;16>H;++H)G+=C[O+H-32];Aa(G>>4,C,O)}function c0(C,O){Aa(128,C,O)}function _t(C,O,H){return C+2*O+H+2>>2}function Ua(C,O){var H,G=O-32;for(G=new Uint8Array([_t(C[G-1],C[G+0],C[G+1]),_t(C[G+0],C[G+1],C[G+2]),_t(C[G+1],C[G+2],C[G+3]),_t(C[G+2],C[G+3],C[G+4])]),H=0;4>H;++H)n(C,O+32*H,G,0,G.length)}function rn(C,O){var H=C[O-1],G=C[O-1+32],ie=C[O-1+64],oe=C[O-1+96];fe(C,O+0,16843009*_t(C[O-1-32],H,G)),fe(C,O+32,16843009*_t(H,G,ie)),fe(C,O+64,16843009*_t(G,ie,oe)),fe(C,O+96,16843009*_t(ie,oe,oe))}function fm(C,O){var H,G=4;for(H=0;4>H;++H)G+=C[O+H-32]+C[O-1+32*H];for(G>>=3,H=0;4>H;++H)i(C,O+32*H,G,4)}function io(C,O){var H=C[O-1+0],G=C[O-1+32],ie=C[O-1+64],oe=C[O-1-32],de=C[O+0-32],Ae=C[O+1-32],pe=C[O+2-32],ve=C[O+3-32];C[O+0+96]=_t(G,ie,C[O-1+96]),C[O+1+96]=C[O+0+64]=_t(H,G,ie),C[O+2+96]=C[O+1+64]=C[O+0+32]=_t(oe,H,G),C[O+3+96]=C[O+2+64]=C[O+1+32]=C[O+0+0]=_t(de,oe,H),C[O+3+64]=C[O+2+32]=C[O+1+0]=_t(Ae,de,oe),C[O+3+32]=C[O+2+0]=_t(pe,Ae,de),C[O+3+0]=_t(ve,pe,Ae)}function ao(C,O){var H=C[O+1-32],G=C[O+2-32],ie=C[O+3-32],oe=C[O+4-32],de=C[O+5-32],Ae=C[O+6-32],pe=C[O+7-32];C[O+0+0]=_t(C[O+0-32],H,G),C[O+1+0]=C[O+0+32]=_t(H,G,ie),C[O+2+0]=C[O+1+32]=C[O+0+64]=_t(G,ie,oe),C[O+3+0]=C[O+2+32]=C[O+1+64]=C[O+0+96]=_t(ie,oe,de),C[O+3+32]=C[O+2+64]=C[O+1+96]=_t(oe,de,Ae),C[O+3+64]=C[O+2+96]=_t(de,Ae,pe),C[O+3+96]=_t(Ae,pe,pe)}function yA(C,O){var H=C[O-1+0],G=C[O-1+32],ie=C[O-1+64],oe=C[O-1-32],de=C[O+0-32],Ae=C[O+1-32],pe=C[O+2-32],ve=C[O+3-32];C[O+0+0]=C[O+1+64]=oe+de+1>>1,C[O+1+0]=C[O+2+64]=de+Ae+1>>1,C[O+2+0]=C[O+3+64]=Ae+pe+1>>1,C[O+3+0]=pe+ve+1>>1,C[O+0+96]=_t(ie,G,H),C[O+0+64]=_t(G,H,oe),C[O+0+32]=C[O+1+96]=_t(H,oe,de),C[O+1+32]=C[O+2+96]=_t(oe,de,Ae),C[O+2+32]=C[O+3+96]=_t(de,Ae,pe),C[O+3+32]=_t(Ae,pe,ve)}function Bl(C,O){var H=C[O+0-32],G=C[O+1-32],ie=C[O+2-32],oe=C[O+3-32],de=C[O+4-32],Ae=C[O+5-32],pe=C[O+6-32],ve=C[O+7-32];C[O+0+0]=H+G+1>>1,C[O+1+0]=C[O+0+64]=G+ie+1>>1,C[O+2+0]=C[O+1+64]=ie+oe+1>>1,C[O+3+0]=C[O+2+64]=oe+de+1>>1,C[O+0+32]=_t(H,G,ie),C[O+1+32]=C[O+0+96]=_t(G,ie,oe),C[O+2+32]=C[O+1+96]=_t(ie,oe,de),C[O+3+32]=C[O+2+96]=_t(oe,de,Ae),C[O+3+64]=_t(de,Ae,pe),C[O+3+96]=_t(Ae,pe,ve)}function kc(C,O){var H=C[O-1+0],G=C[O-1+32],ie=C[O-1+64],oe=C[O-1+96];C[O+0+0]=H+G+1>>1,C[O+2+0]=C[O+0+32]=G+ie+1>>1,C[O+2+32]=C[O+0+64]=ie+oe+1>>1,C[O+1+0]=_t(H,G,ie),C[O+3+0]=C[O+1+32]=_t(G,ie,oe),C[O+3+32]=C[O+1+64]=_t(ie,oe,oe),C[O+3+64]=C[O+2+64]=C[O+0+96]=C[O+1+96]=C[O+2+96]=C[O+3+96]=oe}function Sl(C,O){var H=C[O-1+0],G=C[O-1+32],ie=C[O-1+64],oe=C[O-1+96],de=C[O-1-32],Ae=C[O+0-32],pe=C[O+1-32],ve=C[O+2-32];C[O+0+0]=C[O+2+32]=H+de+1>>1,C[O+0+32]=C[O+2+64]=G+H+1>>1,C[O+0+64]=C[O+2+96]=ie+G+1>>1,C[O+0+96]=oe+ie+1>>1,C[O+3+0]=_t(Ae,pe,ve),C[O+2+0]=_t(de,Ae,pe),C[O+1+0]=C[O+3+32]=_t(H,de,Ae),C[O+1+32]=C[O+3+64]=_t(G,H,de),C[O+1+64]=C[O+3+96]=_t(ie,G,H),C[O+1+96]=_t(oe,ie,G)}function Hn(C,O){var H;for(H=0;8>H;++H)n(C,O+32*H,C,O-32,8)}function kl(C,O){var H;for(H=0;8>H;++H)i(C,O,C[O-1],8),O+=32}function Do(C,O,H){var G;for(G=0;8>G;++G)i(O,H+32*G,C,8)}function mm(C,O){var H,G=8;for(H=0;8>H;++H)G+=C[O+H-32]+C[O-1+32*H];Do(G>>4,C,O)}function vA(C,O){var H,G=4;for(H=0;8>H;++H)G+=C[O+H-32];Do(G>>3,C,O)}function Fu(C,O){var H,G=4;for(H=0;8>H;++H)G+=C[O-1+32*H];Do(G>>3,C,O)}function Uu(C,O){Do(128,C,O)}function El(C,O,H){var G=C[O-H],ie=C[O+0],oe=3*(ie-G)+zu[1020+C[O-2*H]-C[O+H]],de=Oc[112+(oe+4>>3)];C[O-H]=Hi[255+G+Oc[112+(oe+3>>3)]],C[O+0]=Hi[255+ie-de]}function Ru(C,O,H,G){var ie=C[O+0],oe=C[O+H];return ga[255+C[O-2*H]-C[O-H]]>G||ga[255+oe-ie]>G}function Nr(C,O,H,G){return 4*ga[255+C[O-H]-C[O+0]]+ga[255+C[O-2*H]-C[O+H]]<=G}function bA(C,O,H,G,ie){var oe=C[O-3*H],de=C[O-2*H],Ae=C[O-H],pe=C[O+0],ve=C[O+H],Pe=C[O+2*H],De=C[O+3*H];return 4*ga[255+Ae-pe]+ga[255+de-ve]>G?0:ga[255+C[O-4*H]-oe]<=ie&&ga[255+oe-de]<=ie&&ga[255+de-Ae]<=ie&&ga[255+De-Pe]<=ie&&ga[255+Pe-ve]<=ie&&ga[255+ve-pe]<=ie}function si(C,O,H,G){var ie=2*G+1;for(G=0;16>G;++G)Nr(C,O+G,H,ie)&&El(C,O+G,H)}function Pl(C,O,H,G){var ie=2*G+1;for(G=0;16>G;++G)Nr(C,O+G*H,1,ie)&&El(C,O+G*H,1)}function wA(C,O,H,G){var ie;for(ie=3;0<ie;--ie)si(C,O+=4*H,H,G)}function pm(C,O,H,G){var ie;for(ie=3;0<ie;--ie)Pl(C,O+=4,H,G)}function oo(C,O,H,G,ie,oe,de,Ae){for(oe=2*oe+1;0<ie--;){if(bA(C,O,H,oe,de))if(Ru(C,O,H,Ae))El(C,O,H);else{var pe=C,ve=O,Pe=H,De=pe[ve-2*Pe],be=pe[ve-Pe],Te=pe[ve+0],Fe=pe[ve+Pe],Ye=pe[ve+2*Pe],Me=27*(st=zu[1020+3*(Te-be)+zu[1020+De-Fe]])+63>>7,Ze=18*st+63>>7,st=9*st+63>>7;pe[ve-3*Pe]=Hi[255+pe[ve-3*Pe]+st],pe[ve-2*Pe]=Hi[255+De+Ze],pe[ve-Pe]=Hi[255+be+Me],pe[ve+0]=Hi[255+Te-Me],pe[ve+Pe]=Hi[255+Fe-Ze],pe[ve+2*Pe]=Hi[255+Ye-st]}O+=G}}function Il(C,O,H,G,ie,oe,de,Ae){for(oe=2*oe+1;0<ie--;){if(bA(C,O,H,oe,de))if(Ru(C,O,H,Ae))El(C,O,H);else{var pe=C,ve=O,Pe=H,De=pe[ve-Pe],be=pe[ve+0],Te=pe[ve+Pe],Fe=Oc[112+(4+(Ye=3*(be-De))>>3)],Ye=Oc[112+(Ye+3>>3)],Me=Fe+1>>1;pe[ve-2*Pe]=Hi[255+pe[ve-2*Pe]+Me],pe[ve-Pe]=Hi[255+De+Ye],pe[ve+0]=Hi[255+be-Fe],pe[ve+Pe]=Hi[255+Te-Me]}O+=G}}function jA(C,O,H,G,ie,oe){oo(C,O,H,1,16,G,ie,oe)}function jd(C,O,H,G,ie,oe){oo(C,O,1,H,16,G,ie,oe)}function gm(C,O,H,G,ie,oe){var de;for(de=3;0<de;--de)Il(C,O+=4*H,H,1,16,G,ie,oe)}function R(C,O,H,G,ie,oe){var de;for(de=3;0<de;--de)Il(C,O+=4,1,H,16,G,ie,oe)}function se(C,O,H,G,ie,oe,de,Ae){oo(C,O,ie,1,8,oe,de,Ae),oo(H,G,ie,1,8,oe,de,Ae)}function ye(C,O,H,G,ie,oe,de,Ae){oo(C,O,1,ie,8,oe,de,Ae),oo(H,G,1,ie,8,oe,de,Ae)}function ke(C,O,H,G,ie,oe,de,Ae){Il(C,O+4*ie,ie,1,8,oe,de,Ae),Il(H,G+4*ie,ie,1,8,oe,de,Ae)}function Le(C,O,H,G,ie,oe,de,Ae){Il(C,O+4,1,ie,8,oe,de,Ae),Il(H,G+4,1,ie,8,oe,de,Ae)}function We(){this.ba=new ze,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ft,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ct(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vt(){this.ua=0,this.Wa=new Ie,this.vb=new Ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new Q}function dr(){this.xb=this.a=0,this.l=new tn,this.ca=new ze,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vt,this.ab=0,this.gc=o(4,Rt),this.Oc=0}function pr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ur(C,O,H,G,ie,oe,de){for(C=C==null?0:C[O+0],O=0;O<de;++O)ie[oe+O]=C+H[G+O]&255,C=ie[oe+O]}function zn(C,O,H,G,ie,oe,de){var Ae;if(C==null)Ur(null,null,H,G,ie,oe,de);else for(Ae=0;Ae<de;++Ae)ie[oe+Ae]=C[O+Ae]+H[G+Ae]&255}function vs(C,O,H,G,ie,oe,de){if(C==null)Ur(null,null,H,G,ie,oe,de);else{var Ae,pe=C[O+0],ve=pe,Pe=pe;for(Ae=0;Ae<de;++Ae)ve=Pe+(pe=C[O+Ae])-ve,Pe=H[G+Ae]+(-256&ve?0>ve?0:255:ve)&255,ve=pe,ie[oe+Ae]=Pe}}function nn(C,O,H,G){var ie=O.width,oe=O.o;if(t(C!=null&&O!=null),0>H||0>=G||H+G>oe)return null;if(!C.Cc){if(C.ga==null){var de;if(C.ga=new pr,(de=C.ga==null)||(de=O.width*O.o,t(C.Gb.length==0),C.Gb=a(de),C.Uc=0,C.Gb==null?de=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,de=1),de=!de),!de){de=C.ga;var Ae=C.Fa,pe=C.P,ve=C.qc,Pe=C.mb,De=C.nb,be=pe+1,Te=ve-1,Fe=de.l;if(t(Ae!=null&&Pe!=null&&O!=null),hn[0]=null,hn[1]=Ur,hn[2]=zn,hn[3]=vs,de.ca=Pe,de.tb=De,de.c=O.width,de.i=O.height,t(0<de.c&&0<de.i),1>=ve)O=0;else if(de.$a=3&Ae[pe+0],de.Z=Ae[pe+0]>>2&3,de.Lc=Ae[pe+0]>>4&3,pe=Ae[pe+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||pe)O=0;else if(Fe.put=Lt,Fe.ac=Cn,Fe.bc=gs,Fe.ma=de,Fe.width=O.width,Fe.height=O.height,Fe.Da=O.Da,Fe.v=O.v,Fe.va=O.va,Fe.j=O.j,Fe.o=O.o,de.$a)e:{t(de.$a==1),O=Nt();t:for(;;){if(O==null){O=0;break e}if(t(de!=null),de.mc=O,O.c=de.c,O.i=de.i,O.l=de.l,O.l.ma=de,O.l.width=de.c,O.l.height=de.i,O.a=0,ee(O.m,Ae,be,Te),!kt(de.c,de.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&is(O.s)?(de.ic=1,Ae=O.c*O.i,O.Ta=null,O.Ua=0,O.V=a(Ae),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(de.ic=0,O=ut(O,de.c)),!O))break t;O=1;break e}de.mc=null,O=0}else O=Te>=de.c*de.i;de=!O}if(de)return null;C.ga.Lc!=1?C.Ga=0:G=oe-H}t(C.ga!=null),t(H+G<=oe);e:{if(O=(Ae=C.ga).c,oe=Ae.l.o,Ae.$a==0){if(be=C.rc,Te=C.Vc,Fe=C.Fa,pe=C.P+1+H*O,ve=C.mb,Pe=C.nb+H*O,t(pe<=C.P+C.qc),Ae.Z!=0)for(t(hn[Ae.Z]!=null),de=0;de<G;++de)hn[Ae.Z](be,Te,Fe,pe,ve,Pe,O),be=ve,Te=Pe,Pe+=O,pe+=O;else for(de=0;de<G;++de)n(ve,Pe,Fe,pe,O),be=ve,Te=Pe,Pe+=O,pe+=O;C.rc=be,C.Vc=Te}else{if(t(Ae.mc!=null),O=H+G,t((de=Ae.mc)!=null),t(O<=de.i),de.C>=O)O=1;else if(Ae.ic||ii(),Ae.ic){Ae=de.V,be=de.Ba,Te=de.c;var Ye=de.i,Me=(Fe=1,pe=de.$/Te,ve=de.$%Te,Pe=de.m,De=de.s,de.$),Ze=Te*Ye,st=Te*O,pt=De.wc,ft=Me<st?un(De,ve,pe):null;t(Me<=Ze),t(O<=Ye),t(is(De));t:for(;;){for(;!Pe.h&&Me<st;){if(ve&pt||(ft=un(De,ve,pe)),t(ft!=null),he(Pe),256>(Ye=fr(ft.G[0],ft.H[0],Pe)))Ae[be+Me]=Ye,++Me,++ve>=Te&&(ve=0,++pe<=O&&!(pe%16)&&os(de,pe));else{if(!(280>Ye)){Fe=0;break t}Ye=On(Ye-256,Pe);var qt,Qt=fr(ft.G[4],ft.H[4],Pe);if(he(Pe),!(Me>=(Qt=Ln(Te,Qt=On(Qt,Pe)))&&Ze-Me>=Ye)){Fe=0;break t}for(qt=0;qt<Ye;++qt)Ae[be+Me+qt]=Ae[be+Me+qt-Qt];for(Me+=Ye,ve+=Ye;ve>=Te;)ve-=Te,++pe<=O&&!(pe%16)&&os(de,pe);Me<st&&ve&pt&&(ft=un(De,ve,pe))}t(Pe.h==ne(Pe))}os(de,pe>O?O:pe);break t}!Fe||Pe.h&&Me<Ze?(Fe=0,de.a=Pe.h?5:3):de.$=Me,O=Fe}else O=Bn(de,de.V,de.Ba,de.c,de.i,O,Ut);if(!O){G=0;break e}}H+G>=oe&&(C.Cc=1),G=1}if(!G)return null;if(C.Cc&&((G=C.ga)!=null&&(G.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+H*ie}function Es(C,O,H,G,ie,oe){for(;0<ie--;){var de,Ae=C,pe=O+(H?1:0),ve=C,Pe=O+(H?0:3);for(de=0;de<G;++de){var De=ve[Pe+4*de];De!=255&&(De*=32897,Ae[pe+4*de+0]=Ae[pe+4*de+0]*De>>23,Ae[pe+4*de+1]=Ae[pe+4*de+1]*De>>23,Ae[pe+4*de+2]=Ae[pe+4*de+2]*De>>23)}O+=oe}}function ls(C,O,H,G,ie){for(;0<G--;){var oe;for(oe=0;oe<H;++oe){var de=C[O+2*oe+0],Ae=15&(ve=C[O+2*oe+1]),pe=4369*Ae,ve=(240&ve|ve>>4)*pe>>16;C[O+2*oe+0]=(240&de|de>>4)*pe>>16&240|(15&de|de<<4)*pe>>16>>4&15,C[O+2*oe+1]=240&ve|Ae}O+=ie}}function Vs(C,O,H,G,ie,oe,de,Ae){var pe,ve,Pe=255;for(ve=0;ve<ie;++ve){for(pe=0;pe<G;++pe){var De=C[O+pe];oe[de+4*pe]=De,Pe&=De}O+=H,de+=Ae}return Pe!=255}function Ra(C,O,H,G,ie){var oe;for(oe=0;oe<ie;++oe)H[G+oe]=C[O+oe]>>8}function ii(){Go=Es,u0=ls,h0=Vs,ib=Ra}function Tl(C,O,H){T[C]=function(G,ie,oe,de,Ae,pe,ve,Pe,De,be,Te,Fe,Ye,Me,Ze,st,pt){var ft,qt=pt-1>>1,Qt=Ae[pe+0]|ve[Pe+0]<<16,_r=De[be+0]|Te[Fe+0]<<16;t(G!=null);var Wt=3*Qt+_r+131074>>2;for(O(G[ie+0],255&Wt,Wt>>16,Ye,Me),oe!=null&&(Wt=3*_r+Qt+131074>>2,O(oe[de+0],255&Wt,Wt>>16,Ze,st)),ft=1;ft<=qt;++ft){var Mr=Ae[pe+ft]|ve[Pe+ft]<<16,oi=De[be+ft]|Te[Fe+ft]<<16,Cr=Qt+Mr+_r+oi+524296,Gt=Cr+2*(Mr+_r)>>3;Wt=Gt+Qt>>1,Qt=(Cr=Cr+2*(Qt+oi)>>3)+Mr>>1,O(G[ie+2*ft-1],255&Wt,Wt>>16,Ye,Me+(2*ft-1)*H),O(G[ie+2*ft-0],255&Qt,Qt>>16,Ye,Me+(2*ft-0)*H),oe!=null&&(Wt=Cr+_r>>1,Qt=Gt+oi>>1,O(oe[de+2*ft-1],255&Wt,Wt>>16,Ze,st+(2*ft-1)*H),O(oe[de+2*ft+0],255&Qt,Qt>>16,Ze,st+(2*ft+0)*H)),Qt=Mr,_r=oi}1&pt||(Wt=3*Qt+_r+131074>>2,O(G[ie+pt-1],255&Wt,Wt>>16,Ye,Me+(pt-1)*H),oe!=null&&(Wt=3*_r+Qt+131074>>2,O(oe[de+pt-1],255&Wt,Wt>>16,Ze,st+(pt-1)*H)))}}function Ol(){Bi[ym]=c_,Bi[SA]=lb,Bi[m0]=d_,Bi[kA]=Nm,Bi[EA]=g0,Bi[vm]=cb,Bi[ob]=cre,Bi[bm]=lb,Bi[wm]=Nm,Bi[jm]=g0,Bi[h]=cb}function ai(C){return C&-16384?0>C?0:255:C>>dre}function Ll(C,O){return ai((19077*C>>8)+(26149*O>>8)-14234)}function Ec(C,O,H){return ai((19077*C>>8)-(6419*O>>8)-(13320*H>>8)+8708)}function Nd(C,O){return ai((19077*C>>8)+(33050*O>>8)-17685)}function Qo(C,O,H,G,ie){G[ie+0]=Ll(C,H),G[ie+1]=Ec(C,O,H),G[ie+2]=Nd(C,O)}function Ps(C,O,H,G,ie){G[ie+0]=Nd(C,O),G[ie+1]=Ec(C,O,H),G[ie+2]=Ll(C,H)}function _d(C,O,H,G,ie){var oe=Ec(C,O,H);O=oe<<3&224|Nd(C,O)>>3,G[ie+0]=248&Ll(C,H)|oe>>5,G[ie+1]=O}function Cd(C,O,H,G,ie){var oe=240&Nd(C,O)|15;G[ie+0]=240&Ll(C,H)|Ec(C,O,H)>>4,G[ie+1]=oe}function Mu(C,O,H,G,ie){G[ie+0]=255,Qo(C,O,H,G,ie+1)}function NA(C,O,H,G,ie){Ps(C,O,H,G,ie),G[ie+3]=255}function kn(C,O,H,G,ie){Qo(C,O,H,G,ie),G[ie+3]=255}function Di(C,O,H){T[C]=function(G,ie,oe,de,Ae,pe,ve,Pe,De){for(var be=Pe+(-2&De)*H;Pe!=be;)O(G[ie+0],oe[de+0],Ae[pe+0],ve,Pe),O(G[ie+1],oe[de+0],Ae[pe+0],ve,Pe+H),ie+=2,++de,++pe,Pe+=2*H;1&De&&O(G[ie+0],oe[de+0],Ae[pe+0],ve,Pe)}}function Du(C,O,H){return H==0?C==0?O==0?6:5:O==0?4:0:H}function Ma(C,O,H,G,ie){switch(C>>>30){case 3:Tc(O,H,G,ie,0);break;case 2:$a(O,H,G,ie);break;case 1:Wr(O,H,G,ie)}}function Da(C,O){var H,G,ie=O.M,oe=O.Nb,de=C.oc,Ae=C.pc+40,pe=C.oc,ve=C.pc+584,Pe=C.oc,De=C.pc+600;for(H=0;16>H;++H)de[Ae+32*H-1]=129;for(H=0;8>H;++H)pe[ve+32*H-1]=129,Pe[De+32*H-1]=129;for(0<ie?de[Ae-1-32]=pe[ve-1-32]=Pe[De-1-32]=129:(i(de,Ae-32-1,127,21),i(pe,ve-32-1,127,9),i(Pe,De-32-1,127,9)),G=0;G<C.za;++G){var be=O.ya[O.aa+G];if(0<G){for(H=-1;16>H;++H)n(de,Ae+32*H-4,de,Ae+32*H+12,4);for(H=-1;8>H;++H)n(pe,ve+32*H-4,pe,ve+32*H+4,4),n(Pe,De+32*H-4,Pe,De+32*H+4,4)}var Te=C.Gd,Fe=C.Hd+G,Ye=be.ad,Me=be.Hc;if(0<ie&&(n(de,Ae-32,Te[Fe].y,0,16),n(pe,ve-32,Te[Fe].f,0,8),n(Pe,De-32,Te[Fe].ea,0,8)),be.Za){var Ze=de,st=Ae-32+16;for(0<ie&&(G>=C.za-1?i(Ze,st,Te[Fe].y[15],4):n(Ze,st,Te[Fe+1].y,0,4)),H=0;4>H;H++)Ze[st+128+H]=Ze[st+256+H]=Ze[st+384+H]=Ze[st+0+H];for(H=0;16>H;++H,Me<<=2)Ze=de,st=Ae+yT[H],uo[be.Ob[H]](Ze,st),Ma(Me,Ye,16*+H,Ze,st)}else if(Ze=Du(G,ie,be.Ob[0]),Lc[Ze](de,Ae),Me!=0)for(H=0;16>H;++H,Me<<=2)Ma(Me,Ye,16*+H,de,Ae+yT[H]);for(H=be.Gc,Ze=Du(G,ie,be.Dd),Yo[Ze](pe,ve),Yo[Ze](Pe,De),Me=Ye,Ze=pe,st=ve,255&(be=0|H)&&(170&be?pa(Me,256,Ze,st):sn(Me,256,Ze,st)),be=Pe,Me=De,255&(H>>=8)&&(170&H?pa(Ye,320,be,Me):sn(Ye,320,be,Me)),ie<C.Ub-1&&(n(Te[Fe].y,0,de,Ae+480,16),n(Te[Fe].f,0,pe,ve+224,8),n(Te[Fe].ea,0,Pe,De+224,8)),H=8*oe*C.B,Te=C.sa,Fe=C.ta+16*G+16*oe*C.R,Ye=C.qa,be=C.ra+8*G+H,Me=C.Ha,Ze=C.Ia+8*G+H,H=0;16>H;++H)n(Te,Fe+H*C.R,de,Ae+32*H,16);for(H=0;8>H;++H)n(Ye,be+H*C.B,pe,ve+32*H,8),n(Me,Ze+H*C.B,Pe,De+32*H,8)}}function Qa(C,O,H,G,ie,oe,de,Ae,pe){var ve=[0],Pe=[0],De=0,be=pe!=null?pe.kd:0,Te=pe??new ct;if(C==null||12>H)return 7;Te.data=C,Te.w=O,Te.ha=H,O=[O],H=[H],Te.gb=[Te.gb];e:{var Fe=O,Ye=H,Me=Te.gb;if(t(C!=null),t(Ye!=null),t(Me!=null),Me[0]=0,12<=Ye[0]&&!r(C,Fe[0],"RIFF")){if(r(C,Fe[0]+8,"WEBP")){Me=3;break e}var Ze=xe(C,Fe[0]+4);if(12>Ze||4294967286<Ze){Me=3;break e}if(be&&Ze>Ye[0]-8){Me=7;break e}Me[0]=Ze,Fe[0]+=12,Ye[0]-=12}Me=0}if(Me!=0)return Me;for(Ze=0<Te.gb[0],H=H[0];;){e:{var st=C;Ye=O,Me=H;var pt=ve,ft=Pe,qt=Fe=[0];if((Wt=De=[De])[0]=0,8>Me[0])Me=7;else{if(!r(st,Ye[0],"VP8X")){if(xe(st,Ye[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Qt=xe(st,Ye[0]+8),_r=1+je(st,Ye[0]+12);if(2147483648<=_r*(st=1+je(st,Ye[0]+15))){Me=3;break e}qt!=null&&(qt[0]=Qt),pt!=null&&(pt[0]=_r),ft!=null&&(ft[0]=st),Ye[0]+=18,Me[0]-=18,Wt[0]=1}Me=0}}if(De=De[0],Fe=Fe[0],Me!=0)return Me;if(Ye=!!(2&Fe),!Ze&&De)return 3;if(oe!=null&&(oe[0]=!!(16&Fe)),de!=null&&(de[0]=Ye),Ae!=null&&(Ae[0]=0),de=ve[0],Fe=Pe[0],De&&Ye&&pe==null){Me=0;break}if(4>H){Me=7;break}if(Ze&&De||!Ze&&!De&&!r(C,O[0],"ALPH")){H=[H],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{Qt=C,Me=O,Ze=H;var Wt=Te.gb;pt=Te.na,ft=Te.P,qt=Te.Sa,_r=22,t(Qt!=null),t(Ze!=null),st=Me[0];var Mr=Ze[0];for(t(pt!=null),t(qt!=null),pt[0]=null,ft[0]=null,qt[0]=0;;){if(Me[0]=st,Ze[0]=Mr,8>Mr){Me=7;break e}var oi=xe(Qt,st+4);if(4294967286<oi){Me=3;break e}var Cr=8+oi+1&-2;if(_r+=Cr,0<Wt&&_r>Wt){Me=3;break e}if(!r(Qt,st,"VP8 ")||!r(Qt,st,"VP8L")){Me=0;break e}if(Mr[0]<Cr){Me=7;break e}r(Qt,st,"ALPH")||(pt[0]=Qt,ft[0]=st+8,qt[0]=oi),st+=Cr,Mr-=Cr}}if(H=H[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Me!=0)break}H=[H],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(Wt=C,Me=O,Ze=H,pt=Te.gb[0],ft=Te.Ja,qt=Te.xa,Qt=Me[0],st=!r(Wt,Qt,"VP8 "),_r=!r(Wt,Qt,"VP8L"),t(Wt!=null),t(Ze!=null),t(ft!=null),t(qt!=null),8>Ze[0])Me=7;else{if(st||_r){if(Wt=xe(Wt,Qt+4),12<=pt&&Wt>pt-12){Me=3;break e}if(be&&Wt>Ze[0]-8){Me=7;break e}ft[0]=Wt,Me[0]+=8,Ze[0]-=8,qt[0]=_r}else qt[0]=5<=Ze[0]&&Wt[Qt+0]==47&&!(Wt[Qt+4]>>5),ft[0]=Ze[0];Me=0}if(H=H[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],O=O[0],Me!=0)break;if(4294967286<Te.Ja)return 3;if(Ae==null||Ye||(Ae[0]=Te.xa?2:1),de=[de],Fe=[Fe],Te.xa){if(5>H){Me=7;break}Ae=de,be=Fe,Ye=oe,C==null||5>H?C=0:5<=H&&C[O+0]==47&&!(C[O+4]>>5)?(Ze=[0],Wt=[0],pt=[0],ee(ft=new X,C,O,H),xs(ft,Ze,Wt,pt)?(Ae!=null&&(Ae[0]=Ze[0]),be!=null&&(be[0]=Wt[0]),Ye!=null&&(Ye[0]=pt[0]),C=1):C=0):C=0}else{if(10>H){Me=7;break}Ae=Fe,C==null||10>H||!Nl(C,O+3,H-3)?C=0:(be=C[O+0]|C[O+1]<<8|C[O+2]<<16,Ye=16383&(C[O+7]<<8|C[O+6]),C=16383&(C[O+9]<<8|C[O+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=Te.Ja||!Ye||!C?C=0:(de&&(de[0]=Ye),Ae&&(Ae[0]=C),C=1))}if(!C||(de=de[0],Fe=Fe[0],De&&(ve[0]!=de||Pe[0]!=Fe)))return 3;pe!=null&&(pe[0]=Te,pe.offset=O-pe.w,t(4294967286>O-pe.w),t(pe.offset==pe.ha-H));break}return Me==0||Me==7&&De&&pe==null?(oe!=null&&(oe[0]|=Te.na!=null&&0<Te.na.length),G!=null&&(G[0]=de),ie!=null&&(ie[0]=Fe),0):Me}function _A(C,O,H){var G=O.width,ie=O.height,oe=0,de=0,Ae=G,pe=ie;if(O.Da=C!=null&&0<C.Da,O.Da&&(Ae=C.cd,pe=C.bd,oe=C.v,de=C.j,11>H||(oe&=-2,de&=-2),0>oe||0>de||0>=Ae||0>=pe||oe+Ae>G||de+pe>ie))return 0;if(O.v=oe,O.j=de,O.va=oe+Ae,O.o=de+pe,O.U=Ae,O.T=pe,O.da=C!=null&&0<C.da,O.da){if(!Ue(Ae,pe,H=[C.ib],oe=[C.hb]))return 0;O.ib=H[0],O.hb=oe[0]}return O.ob=C!=null&&C.ob,O.Kb=C==null||!C.Sd,O.da&&(O.ob=O.ib<3*G/4&&O.hb<3*ie/4,O.Kb=0),1}function Fl(C){if(C==null)return 2;if(11>C.S){var O=C.f.RGBA;O.fb+=(C.height-1)*O.A,O.A=-O.A}else O=C.f.kb,C=C.height,O.O+=(C-1)*O.fa,O.fa=-O.fa,O.N+=(C-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(C-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(C-1)*O.lb,O.lb=-O.lb);return 0}function Ul(C,O,H,G){if(G==null||0>=C||0>=O)return 2;if(H!=null){if(H.Da){var ie=H.cd,oe=H.bd,de=-2&H.v,Ae=-2&H.j;if(0>de||0>Ae||0>=ie||0>=oe||de+ie>C||Ae+oe>O)return 2;C=ie,O=oe}if(H.da){if(!Ue(C,O,ie=[H.ib],oe=[H.hb]))return 2;C=ie[0],O=oe[0]}}G.width=C,G.height=O;e:{var pe=G.width,ve=G.height;if(C=G.S,0>=pe||0>=ve||!(C>=ym&&13>C))C=2;else{if(0>=G.Rd&&G.sd==null){de=oe=ie=O=0;var Pe=(Ae=pe*vT[C])*ve;if(11>C||(oe=(ve+1)/2*(O=(pe+1)/2),C==12&&(de=(ie=pe)*ve)),(ve=a(Pe+2*oe+de))==null){C=1;break e}G.sd=ve,11>C?((pe=G.f.RGBA).eb=ve,pe.fb=0,pe.A=Ae,pe.size=Pe):((pe=G.f.kb).y=ve,pe.O=0,pe.fa=Ae,pe.Fd=Pe,pe.f=ve,pe.N=0+Pe,pe.Ab=O,pe.Cd=oe,pe.ea=ve,pe.W=0+Pe+oe,pe.Db=O,pe.Ed=oe,C==12&&(pe.F=ve,pe.J=0+Pe+2*oe),pe.Tc=de,pe.lb=ie)}if(O=1,ie=G.S,oe=G.width,de=G.height,ie>=ym&&13>ie)if(11>ie)C=G.f.RGBA,O&=(Ae=Math.abs(C.A))*(de-1)+oe<=C.size,O&=Ae>=oe*vT[ie],O&=C.eb!=null;else{C=G.f.kb,Ae=(oe+1)/2,Pe=(de+1)/2,pe=Math.abs(C.fa),ve=Math.abs(C.Ab);var De=Math.abs(C.Db),be=Math.abs(C.lb),Te=be*(de-1)+oe;O&=pe*(de-1)+oe<=C.Fd,O&=ve*(Pe-1)+Ae<=C.Cd,O=(O&=De*(Pe-1)+Ae<=C.Ed)&pe>=oe&ve>=Ae&De>=Ae,O&=C.y!=null,O&=C.f!=null,O&=C.ea!=null,ie==12&&(O&=be>=oe,O&=Te<=C.Tc,O&=C.F!=null)}else O=0;C=O?0:2}}return C!=0||H!=null&&H.fd&&(C=Fl(G)),C}var $o=64,fa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bs=24,lo=32,Rl=8,Ho=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];et("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(C){return C},T.Predictor2=function(C,O,H){return O[H+0]},T.Predictor3=function(C,O,H){return O[H+1]},T.Predictor4=function(C,O,H){return O[H-1]},T.Predictor5=function(C,O,H){return Be(Be(C,O[H+1]),O[H+0])},T.Predictor6=function(C,O,H){return Be(C,O[H-1])},T.Predictor7=function(C,O,H){return Be(C,O[H+0])},T.Predictor8=function(C,O,H){return Be(O[H-1],O[H+0])},T.Predictor9=function(C,O,H){return Be(O[H+0],O[H+1])},T.Predictor10=function(C,O,H){return Be(Be(C,O[H-1]),Be(O[H+0],O[H+1]))},T.Predictor11=function(C,O,H){var G=O[H+0];return 0>=$e(G>>24&255,C>>24&255,(O=O[H-1])>>24&255)+$e(G>>16&255,C>>16&255,O>>16&255)+$e(G>>8&255,C>>8&255,O>>8&255)+$e(255&G,255&C,255&O)?G:C},T.Predictor12=function(C,O,H){var G=O[H+0];return(Ne((C>>24&255)+(G>>24&255)-((O=O[H-1])>>24&255))<<24|Ne((C>>16&255)+(G>>16&255)-(O>>16&255))<<16|Ne((C>>8&255)+(G>>8&255)-(O>>8&255))<<8|Ne((255&C)+(255&G)-(255&O)))>>>0},T.Predictor13=function(C,O,H){var G=O[H-1];return(Ee((C=Be(C,O[H+0]))>>24&255,G>>24&255)<<24|Ee(C>>16&255,G>>16&255)<<16|Ee(C>>8&255,G>>8&255)<<8|Ee(255&C,255&G))>>>0};var CA=T.PredictorAdd0;T.PredictorAdd1=ot,et("Predictor2","PredictorAdd2"),et("Predictor3","PredictorAdd3"),et("Predictor4","PredictorAdd4"),et("Predictor5","PredictorAdd5"),et("Predictor6","PredictorAdd6"),et("Predictor7","PredictorAdd7"),et("Predictor8","PredictorAdd8"),et("Predictor9","PredictorAdd9"),et("Predictor10","PredictorAdd10"),et("Predictor11","PredictorAdd11"),et("Predictor12","PredictorAdd12"),et("Predictor13","PredictorAdd13");var Qi=T.PredictorAdd2;it("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),it("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var cs,Ml=T.ColorIndexInverseTransform,zo=T.MapARGB,Ks=T.VP8LColorIndexInverseTransformAlpha,Pc=T.MapAlpha,Qu=T.VP8LPredictorsAdd=[];Qu.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var Bd,Ic,Vo,co,ma,Ko,Wo,Tc,$a,pa,Wr,sn,ds,ws,Dl,$i,Ql,xm,BA,rb,d0,nb,$u,sb,Go,u0,h0,ib,qo=a(511),A0=a(2041),f0=a(225),Hu=a(767),ab=0,zu=A0,Oc=f0,Hi=Hu,ga=qo,ym=0,SA=1,m0=2,kA=3,EA=4,vm=5,ob=6,bm=7,wm=8,jm=9,h=10,g=[2,3,7],S=[3,3,11],M=[280,256,256,256,40],q=[0,1,1,1,0],ce=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Se=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Re=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],He=8,dt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Jt=null,Sr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ci=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Is=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ha=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],o_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lc=[],uo=[],Yo=[],l_=1,p0=2,hn=[],Bi=[];Tl("UpsampleRgbLinePair",Qo,3),Tl("UpsampleBgrLinePair",Ps,3),Tl("UpsampleRgbaLinePair",kn,4),Tl("UpsampleBgraLinePair",NA,4),Tl("UpsampleArgbLinePair",Mu,4),Tl("UpsampleRgba4444LinePair",Cd,2),Tl("UpsampleRgb565LinePair",_d,2);var c_=T.UpsampleRgbLinePair,d_=T.UpsampleBgrLinePair,lb=T.UpsampleRgbaLinePair,Nm=T.UpsampleBgraLinePair,g0=T.UpsampleArgbLinePair,cb=T.UpsampleRgba4444LinePair,cre=T.UpsampleRgb565LinePair,db=16,ub=1<<db-1,x0=-227,u_=482,dre=6,xT=0,ure=a(256),hre=a(256),Are=a(256),fre=a(256),mre=a(u_-x0),pre=a(u_-x0);Di("YuvToRgbRow",Qo,3),Di("YuvToBgrRow",Ps,3),Di("YuvToRgbaRow",kn,4),Di("YuvToBgraRow",NA,4),Di("YuvToArgbRow",Mu,4),Di("YuvToRgba4444Row",Cd,2),Di("YuvToRgb565Row",_d,2);var yT=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hb=[0,2,8],gre=[8,7,6,4,4,2,2,2,1,1,1,1],xre=1;this.WebPDecodeRGBA=function(C,O,H,G,ie){var oe=SA,de=new We,Ae=new ze;de.ba=Ae,Ae.S=oe,Ae.width=[Ae.width],Ae.height=[Ae.height];var pe=Ae.width,ve=Ae.height,Pe=new Et;if(Pe==null||C==null)var De=2;else t(Pe!=null),De=Qa(C,O,H,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(De!=0?pe=0:(pe!=null&&(pe[0]=Pe.width[0]),ve!=null&&(ve[0]=Pe.height[0]),pe=1),pe){Ae.width=Ae.width[0],Ae.height=Ae.height[0],G!=null&&(G[0]=Ae.width),ie!=null&&(ie[0]=Ae.height);e:{if(G=new tn,(ie=new ct).data=C,ie.w=O,ie.ha=H,ie.kd=1,O=[0],t(ie!=null),((C=Qa(ie.data,ie.w,ie.ha,null,null,null,O,null,ie))==0||C==7)&&O[0]&&(C=4),(O=C)==0){if(t(de!=null),G.data=ie.data,G.w=ie.w+ie.offset,G.ha=ie.ha-ie.offset,G.put=Lt,G.ac=Cn,G.bc=gs,G.ma=de,ie.xa){if((C=Nt())==null){de=1;break e}if(function(be,Te){var Fe=[0],Ye=[0],Me=[0];t:for(;;){if(be==null)return 0;if(Te==null)return be.a=2,0;if(be.l=Te,be.a=0,ee(be.m,Te.data,Te.w,Te.ha),!xs(be.m,Fe,Ye,Me)){be.a=3;break t}if(be.xb=p0,Te.width=Fe[0],Te.height=Ye[0],!kt(Fe[0],Ye[0],1,be,null))break t;return 1}return t(be.a!=0),0}(C,G)){if(G=(O=Ul(G.width,G.height,de.Oa,de.ba))==0){t:{G=C;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((H=G.l)!=null),t((ie=H.ma)!=null),G.xb!=0){if(G.ca=ie.ba,G.tb=ie.tb,t(G.ca!=null),!_A(ie.Oa,H,kA)){G.a=2;break r}if(!ut(G,H.width)||H.da)break r;if((H.da||at(G.ca.S))&&ii(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&ii()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!re(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Bn(G,G.V,G.Ba,G.c,G.i,H.o,zs))break r;ie.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(O=C.a)}else O=C.a}else{if((C=new Iu)==null){de=1;break e}if(C.Fa=ie.na,C.P=ie.P,C.qc=ie.Sa,Fa(C,G)){if((O=Ul(G.width,G.height,de.Oa,de.ba))==0){if(C.Aa=0,H=de.Oa,t((ie=C)!=null),H!=null){if(0<(pe=0>(pe=H.Md)?0:100<pe?255:255*pe/100)){for(ve=Pe=0;4>ve;++ve)12>(De=ie.pb[ve]).lc&&(De.ia=pe*gre[0>De.lc?0:De.lc]>>3),Pe|=De.ia;Pe&&(alert("todo:VP8InitRandom"),ie.ia=1)}ie.Ga=H.Id,100<ie.Ga?ie.Ga=100:0>ie.Ga&&(ie.Ga=0)}(function(be,Te){if(be==null)return 0;if(Te==null)return Sn(be,2,"NULL VP8Io parameter in VP8Decode().");if(!be.cb&&!Fa(be,Te))return 0;if(t(be.cb),Te.ac==null||Te.ac(Te)){Te.ob&&(be.L=0);var Fe=hb[be.L];if(be.L==2?(be.yb=0,be.zb=0):(be.yb=Te.v-Fe>>4,be.zb=Te.j-Fe>>4,0>be.yb&&(be.yb=0),0>be.zb&&(be.zb=0)),be.Va=Te.o+15+Fe>>4,be.Hb=Te.va+15+Fe>>4,be.Hb>be.za&&(be.Hb=be.za),be.Va>be.Ub&&(be.Va=be.Ub),0<be.L){var Ye=be.ed;for(Fe=0;4>Fe;++Fe){var Me;if(be.Qa.Cb){var Ze=be.Qa.Lb[Fe];be.Qa.Fb||(Ze+=Ye.Tb)}else Ze=Ye.Tb;for(Me=0;1>=Me;++Me){var st=be.gd[Fe][Me],pt=Ze;if(Ye.Pc&&(pt+=Ye.vd[0],Me&&(pt+=Ye.od[0])),0<(pt=0>pt?0:63<pt?63:pt)){var ft=pt;0<Ye.wb&&(ft=4<Ye.wb?ft>>2:ft>>1)>9-Ye.wb&&(ft=9-Ye.wb),1>ft&&(ft=1),st.dd=ft,st.tc=2*pt+ft,st.ld=40<=pt?2:15<=pt?1:0}else st.tc=0;st.La=Me}}}Fe=0}else Sn(be,6,"Frame setup failed"),Fe=be.a;if(Fe=Fe==0){if(Fe){be.$c=0,0<be.Aa||(be.Ic=xre);t:{Fe=be.Ic,Ye=4*(ft=be.za);var qt=32*ft,Qt=ft+1,_r=0<be.L?ft*(0<be.Aa?2:1):0,Wt=(be.Aa==2?2:1)*ft;if((st=Ye+832+(Me=3*(16*Fe+hb[be.L])/2*qt)+(Ze=be.Fa!=null&&0<be.Fa.length?be.Kc.c*be.Kc.i:0))!=st)Fe=0;else{if(st>be.Vb){if(be.Vb=0,be.Ec=a(st),be.Fc=0,be.Ec==null){Fe=Sn(be,1,"no memory during frame initialization.");break t}be.Vb=st}st=be.Ec,pt=be.Fc,be.Ac=st,be.Bc=pt,pt+=Ye,be.Gd=o(qt,La),be.Hd=0,be.rb=o(Qt+1,Kr),be.sb=1,be.wa=_r?o(_r,Ht):null,be.Y=0,be.D.Nb=0,be.D.wa=be.wa,be.D.Y=be.Y,0<be.Aa&&(be.D.Y+=ft),t(!0),be.oc=st,be.pc=pt,pt+=832,be.ya=o(Wt,ni),be.aa=0,be.D.ya=be.ya,be.D.aa=be.aa,be.Aa==2&&(be.D.aa+=ft),be.R=16*ft,be.B=8*ft,ft=(qt=hb[be.L])*be.R,qt=qt/2*be.B,be.sa=st,be.ta=pt+ft,be.qa=be.sa,be.ra=be.ta+16*Fe*be.R+qt,be.Ha=be.qa,be.Ia=be.ra+8*Fe*be.B+qt,be.$c=0,pt+=Me,be.mb=Ze?st:null,be.nb=Ze?pt:null,t(pt+Ze<=be.Fc+be.Vb),Fn(be),i(be.Ac,be.Bc,0,Ye),Fe=1}}if(Fe){if(Te.ka=0,Te.y=be.sa,Te.O=be.ta,Te.f=be.qa,Te.N=be.ra,Te.ea=be.Ha,Te.Vd=be.Ia,Te.fa=be.R,Te.Rc=be.B,Te.F=null,Te.J=0,!ab){for(Fe=-255;255>=Fe;++Fe)qo[255+Fe]=0>Fe?-Fe:Fe;for(Fe=-1020;1020>=Fe;++Fe)A0[1020+Fe]=-128>Fe?-128:127<Fe?127:Fe;for(Fe=-112;112>=Fe;++Fe)f0[112+Fe]=-16>Fe?-16:15<Fe?15:Fe;for(Fe=-255;510>=Fe;++Fe)Hu[255+Fe]=0>Fe?0:255<Fe?255:Fe;ab=1}Wo=Mo,Tc=_l,pa=Xr,Wr=Ro,sn=Cc,$a=Tu,ds=jA,ws=jd,Dl=se,$i=ye,Ql=gm,xm=R,BA=ke,rb=Le,d0=si,nb=Pl,$u=wA,sb=pm,uo[0]=fm,uo[1]=bd,uo[2]=Ua,uo[3]=rn,uo[4]=io,uo[5]=yA,uo[6]=ao,uo[7]=Bl,uo[8]=Sl,uo[9]=kc,Lc[0]=Lu,Lc[1]=xA,Lc[2]=Bc,Lc[3]=Ou,Lc[4]=Sc,Lc[5]=wd,Lc[6]=c0,Yo[0]=mm,Yo[1]=gA,Yo[2]=Hn,Yo[3]=kl,Yo[4]=Fu,Yo[5]=vA,Yo[6]=Uu,Fe=1}else Fe=0}Fe&&(Fe=function(Mr,oi){for(Mr.M=0;Mr.M<Mr.Va;++Mr.M){var Cr,Gt=Mr.Jc[Mr.M&Mr.Xb],St=Mr.m,Ts=Mr;for(Cr=0;Cr<Ts.za;++Cr){var vr=St,Qr=Ts,Vn=Qr.Ac,Si=Qr.Bc+4*Cr,xa=Qr.zc,js=Qr.ya[Qr.aa+Cr];if(Qr.Qa.Bb?js.$b=ue(vr,Qr.Pa.jb[0])?2+ue(vr,Qr.Pa.jb[2]):ue(vr,Qr.Pa.jb[1]):js.$b=0,Qr.kc&&(js.Ad=ue(vr,Qr.Bd)),js.Za=!ue(vr,145)+0,js.Za){var Vi=js.Ob,ya=0;for(Qr=0;4>Qr;++Qr){var li,Hr=xa[0+Qr];for(li=0;4>li;++li){Hr=zi[Vn[Si+li]][Hr];for(var An=Is[ue(vr,Hr[0])];0<An;)An=Is[2*An+ue(vr,Hr[An])];Hr=-An,Vn[Si+li]=Hr}n(Vi,ya,Vn,Si,4),ya+=4,xa[0+Qr]=Hr}}else Hr=ue(vr,156)?ue(vr,128)?1:3:ue(vr,163)?2:0,js.Ob[0]=Hr,i(Vn,Si,Hr,4),i(xa,0,Hr,4);js.Dd=ue(vr,142)?ue(vr,114)?ue(vr,183)?1:3:2:0}if(Ts.m.Ka)return Sn(Mr,7,"Premature end-of-partition0 encountered.");for(;Mr.ja<Mr.za;++Mr.ja){if(Ts=Gt,vr=(St=Mr).rb[St.sb-1],Vn=St.rb[St.sb+St.ja],Cr=St.ya[St.aa+St.ja],Si=St.kc?Cr.Ad:0)vr.la=Vn.la=0,Cr.Za||(vr.Na=Vn.Na=0),Cr.Hc=0,Cr.Gc=0,Cr.ia=0;else{var Ns,fn;if(vr=Vn,Vn=Ts,Si=St.Pa.Xc,xa=St.ya[St.aa+St.ja],js=St.pb[xa.$b],Qr=xa.ad,Vi=0,ya=St.rb[St.sb-1],Hr=li=0,i(Qr,Vi,0,384),xa.Za)var ki=0,$l=Si[3];else{An=a(16);var Os=vr.Na+ya.Na;if(Os=Jt(Vn,Si[1],Os,js.Eb,0,An,0),vr.Na=ya.Na=(0<Os)+0,1<Os)Wo(An,0,Qr,Vi);else{var za=An[0]+3>>3;for(An=0;256>An;An+=16)Qr[Vi+An]=za}ki=1,$l=Si[0]}var En=15&vr.la,ci=15&ya.la;for(An=0;4>An;++An){var ho=1&ci;for(za=fn=0;4>za;++za)En=En>>1|(ho=(Os=Jt(Vn,$l,Os=ho+(1&En),js.Sc,ki,Qr,Vi))>ki)<<7,fn=fn<<2|(3<Os?3:1<Os?2:Qr[Vi+0]!=0),Vi+=16;En>>=4,ci=ci>>1|ho<<7,li=(li<<8|fn)>>>0}for($l=En,ki=ci>>4,Ns=0;4>Ns;Ns+=2){for(fn=0,En=vr.la>>4+Ns,ci=ya.la>>4+Ns,An=0;2>An;++An){for(ho=1&ci,za=0;2>za;++za)Os=ho+(1&En),En=En>>1|(ho=0<(Os=Jt(Vn,Si[2],Os,js.Qc,0,Qr,Vi)))<<3,fn=fn<<2|(3<Os?3:1<Os?2:Qr[Vi+0]!=0),Vi+=16;En>>=2,ci=ci>>1|ho<<5}Hr|=fn<<4*Ns,$l|=En<<4<<Ns,ki|=(240&ci)<<Ns}vr.la=$l,ya.la=ki,xa.Hc=li,xa.Gc=Hr,xa.ia=43690&Hr?0:js.ia,Si=!(li|Hr)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[Cr.$b][Cr.Za],St.wa[St.Y+St.ja].La|=!Si),Ts.Ka)return Sn(Mr,7,"Premature end-of-file encountered.")}if(Fn(Mr),St=oi,Ts=1,Cr=(Gt=Mr).D,vr=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(Cr.M=Gt.M,Cr.uc=vr,Da(Gt,Cr),Ts=1,Cr=(fn=Gt.D).Nb,vr=(Hr=hb[Gt.L])*Gt.R,Vn=Hr/2*Gt.B,An=16*Cr*Gt.R,za=8*Cr*Gt.B,Si=Gt.sa,xa=Gt.ta-vr+An,js=Gt.qa,Qr=Gt.ra-Vn+za,Vi=Gt.Ha,ya=Gt.Ia-Vn+za,ci=(En=fn.M)==0,li=En>=Gt.Va-1,Gt.Aa==2&&Da(Gt,fn),fn.uc)for(ho=(Os=Gt).D.M,t(Os.D.uc),fn=Os.yb;fn<Os.Hb;++fn){ki=fn,$l=ho;var va=(Ao=(Ei=Os).D).Nb;Ns=Ei.R;var Ao=Ao.wa[Ao.Y+ki],fo=Ei.sa,Va=Ei.ta+16*va*Ns+16*ki,mo=Ao.dd,Un=Ao.tc;if(Un!=0)if(t(3<=Un),Ei.L==1)0<ki&&nb(fo,Va,Ns,Un+4),Ao.La&&sb(fo,Va,Ns,Un),0<$l&&d0(fo,Va,Ns,Un+4),Ao.La&&$u(fo,Va,Ns,Un);else{var po=Ei.B,Hl=Ei.qa,PA=Ei.ra+8*va*po+8*ki,Sd=Ei.Ha,Ei=Ei.Ia+8*va*po+8*ki;va=Ao.ld,0<ki&&(ws(fo,Va,Ns,Un+4,mo,va),$i(Hl,PA,Sd,Ei,po,Un+4,mo,va)),Ao.La&&(xm(fo,Va,Ns,Un,mo,va),rb(Hl,PA,Sd,Ei,po,Un,mo,va)),0<$l&&(ds(fo,Va,Ns,Un+4,mo,va),Dl(Hl,PA,Sd,Ei,po,Un+4,mo,va)),Ao.La&&(Ql(fo,Va,Ns,Un,mo,va),BA(Hl,PA,Sd,Ei,po,Un,mo,va))}}if(Gt.ia&&alert("todo:DitherRow"),St.put!=null){if(fn=16*En,En=16*(En+1),ci?(St.y=Gt.sa,St.O=Gt.ta+An,St.f=Gt.qa,St.N=Gt.ra+za,St.ea=Gt.Ha,St.W=Gt.Ia+za):(fn-=Hr,St.y=Si,St.O=xa,St.f=js,St.N=Qr,St.ea=Vi,St.W=ya),li||(En-=Hr),En>St.o&&(En=St.o),St.F=null,St.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&fn<En&&(St.J=nn(Gt,St,fn,En-fn),St.F=Gt.mb,St.F==null&&St.F.length==0)){Ts=Sn(Gt,3,"Could not decode alpha data.");break t}fn<St.j&&(Hr=St.j-fn,fn=St.j,t(!(1&Hr)),St.O+=Gt.R*Hr,St.N+=Gt.B*(Hr>>1),St.W+=Gt.B*(Hr>>1),St.F!=null&&(St.J+=St.width*Hr)),fn<En&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=fn-St.j,St.U=St.va-St.v,St.T=En-fn,Ts=St.put(St))}Cr+1!=Gt.Ic||li||(n(Gt.sa,Gt.ta-vr,Si,xa+16*Gt.R,vr),n(Gt.qa,Gt.ra-Vn,js,Qr+8*Gt.B,Vn),n(Gt.Ha,Gt.Ia-Vn,Vi,ya+8*Gt.B,Vn))}if(!Ts)return Sn(Mr,6,"Output aborted.")}return 1}(be,Te)),Te.bc!=null&&Te.bc(Te),Fe&=1}return Fe?(be.cb=0,Fe):0})(C,G)||(O=C.a)}}else O=C.a}O==0&&de.Oa!=null&&de.Oa.fd&&(O=Fl(de.ba))}de=O}oe=de!=0?null:11>oe?Ae.f.RGBA.eb:Ae.f.kb.y}else oe=null;return oe};var vT=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(T,U){for(var k="",E=0;E<4;E++)k+=String.fromCharCode(T[U++]);return k}function u(T,U){return T[U+0]|T[U+1]<<8}function A(T,U){return(T[U+0]|T[U+1]<<8|T[U+2]<<16)>>>0}function f(T,U){return(T[U+0]|T[U+1]<<8|T[U+2]<<16|T[U+3]<<24)>>>0}new c;var m=[0],x=[0],p=[],v=new c,y=e,b=function(T,U){var k={},E=0,Q=!1,F=0,K=0;if(k.frames=[],!function($,X){for(var V=0;V<4;V++)if($[X+V]!="RIFF".charCodeAt(V))return!0;return!1}(T,U)){for(f(T,U+=4),U+=8;U<T.length;){var W=d(T,U),D=f(T,U+=4);U+=4;var z=D+(1&D);switch(W){case"VP8 ":case"VP8L":k.frames[E]===void 0&&(k.frames[E]={}),(le=k.frames[E]).src_off=Q?K:U-8,le.src_size=F+D+8,E++,Q&&(Q=!1,F=0,K=0);break;case"VP8X":(le=k.header={}).feature_flags=T[U];var ee=U+4;le.canvas_width=1+A(T,ee),ee+=3,le.canvas_height=1+A(T,ee),ee+=3;break;case"ALPH":Q=!0,F=z+8,K=U-8;break;case"ANIM":(le=k.header).bgcolor=f(T,U),ee=U+4,le.loop_count=u(T,ee),ee+=2;break;case"ANMF":var te,le;(le=k.frames[E]={}).offset_x=2*A(T,U),U+=3,le.offset_y=2*A(T,U),U+=3,le.width=1+A(T,U),U+=3,le.height=1+A(T,U),U+=3,le.duration=A(T,U),U+=3,te=T[U++],le.dispose=1&te,le.blend=te>>1&1}W!="ANMF"&&(U+=z)}return k}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var w=b.header?b.header:null,j=b.frames?b.frames:null;if(w){w.loop_counter=w.loop_count,m=[w.canvas_height],x=[w.canvas_width];for(var N=0;N<j.length&&j[N].blend!=0;N++);}var B=j[0],I=v.WebPDecodeRGBA(y,B.src_off,B.src_size,x,m);B.rgba=I,B.imgwidth=x[0],B.imgheight=m[0];for(var P=0;P<x[0]*m[0]*4;P++)p[P]=I[P];return this.width=x,this.height=m,this.data=p,this}(function(e){var t,r,n,i,a,o,l,c,d,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var A=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=$;Object.defineProperty(this,"pdf",{get:function(){return X}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(re){V=!!re}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(re){ne=!!re}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(re){isNaN(re)||(ae=re)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(re){isNaN(re)||(he=re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(re){var Ce;typeof re=="number"?Ce=[re,re,re,re]:((Ce=new Array(4))[0]=re[0],Ce[1]=re.length>=2?re[1]:Ce[0],Ce[2]=re.length>=3?re[2]:Ce[0],Ce[3]=re.length>=4?re[3]:Ce[1]),d.margin=Ce}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(re){ge=re}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(re){J=re}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(re){ue=re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(re){re instanceof u&&(d=re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(re){d.path=re}});var fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return fe},set:function(re){fe=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var Ce;Ce=f(re),this.ctx.fillStyle=Ce.style,this.ctx.isFillTransparent=Ce.a===0,this.ctx.fillOpacity=Ce.a,this.pdf.setFillColor(Ce.r,Ce.g,Ce.b,{a:Ce.a}),this.pdf.setTextColor(Ce.r,Ce.g,Ce.b,{a:Ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var Ce=f(re);this.ctx.strokeStyle=Ce.style,this.ctx.isStrokeTransparent=Ce.a===0,this.ctx.strokeOpacity=Ce.a,Ce.a===0?this.pdf.setDrawColor(255,255,255):(Ce.a,this.pdf.setDrawColor(Ce.r,Ce.g,Ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var Y=null,je=null,xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(re){Y=null,je=null,xe=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var Ce;if(this.ctx.font=re,(Ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var Ie=Ce[1];Ce[2];var Ue=Ce[3],Oe=Ce[4];Ce[5];var Xe=Ce[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(et==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var me=function(it){var lt,yt,Ct=[],wt=it.trim();if(wt==="")return CB;if(wt in WM)return[WM[wt]];for(;wt!=="";){switch(yt=null,lt=(wt=qM(wt)).charAt(0)){case'"':case"'":yt=DBe(wt.substring(1),lt);break;default:yt=QBe(wt)}if(yt===null||(Ct.push(yt[0]),(wt=qM(yt[1]))!==""&&wt.charAt(0)!==","))return CB;wt=wt.replace(/^,/,"")}return Ct}(Xe);if(this.fontFaces){var Be=function(it,lt){var yt=it.getFontList(),Ct=JSON.stringify(yt);if(Y===null||je!==Ct){var wt=function($t){var gt=[];return Object.keys($t).forEach(function(mt){$t[mt].forEach(function(at){var At=null;switch(at){case"bold":At={family:mt,weight:"bold"};break;case"italic":At={family:mt,style:"italic"};break;case"bolditalic":At={family:mt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:mt}}At!==null&&(At.ref={name:mt,style:at},gt.push(At))})}),gt}(yt);Y=function($t){for(var gt={},mt=0;mt<$t.length;++mt){var at=_B($t[mt]),At=at.family,rt=at.stretch,ze=at.style,Et=at.weight;gt[At]=gt[At]||{},gt[At][rt]=gt[At][rt]||{},gt[At][rt][ze]=gt[At][rt][ze]||{},gt[At][rt][ze][Et]=at}return gt}(wt.concat(lt)),je=Ct}return Y}(this.pdf,this.fontFaces),Ne=me.map(function(it){return{family:it,stretch:"normal",weight:Ue,style:Ie}}),Ee=function(it,lt,yt){for(var Ct=(yt=yt||{}).defaultFontFamily||"times",wt=Object.assign({},MBe,yt.genericFontFamilies||{}),$t=null,gt=null,mt=0;mt<lt.length;++mt)if(wt[($t=_B(lt[mt])).family]&&($t.family=wt[$t.family]),it.hasOwnProperty($t.family)){gt=it[$t.family];break}if(!(gt=gt||it[Ct]))throw new Error("Could not find a font-family for the rule '"+GM($t)+"' and default family '"+Ct+"'.");if(gt=function(at,At){if(At[at])return At[at];var rt=Pk[at],ze=rt<=Pk.normal?-1:1,Et=KM(At,aX,rt,ze);if(!Et)throw new Error("Could not find a matching font-stretch value for "+at);return Et}($t.stretch,gt),gt=function(at,At){if(At[at])return At[at];for(var rt=iX[at],ze=0;ze<rt.length;++ze)if(At[rt[ze]])return At[rt[ze]];throw new Error("Could not find a matching font-style for "+at)}($t.style,gt),!(gt=function(at,At){if(At[at])return At[at];if(at===400&&At[500])return At[500];if(at===500&&At[400])return At[400];var rt=RBe[at],ze=KM(At,oX,rt,at<400?-1:1);if(!ze)throw new Error("Could not find a matching font-weight for value "+at);return ze}($t.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+GM($t)+"'.");return gt}(Be,Ne);this.pdf.setFont(Ee.ref.name,Ee.ref.style)}else{var $e="";(Ue==="bold"||parseInt(Ue,10)>=700||Ie==="bold")&&($e="bold"),Ie==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var ot="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<me.length;tt++){if(this.pdf.internal.getFont(me[tt],$e,{noFallback:!0,disableWarning:!0})!==void 0){ot=me[tt];break}if($e==="bolditalic"&&this.pdf.internal.getFont(me[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=me[tt],$e="bold";else if(this.pdf.internal.getFont(me[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=me[tt],$e="normal";break}}if(ot===""){for(var Ke=0;Ke<me.length;Ke++)if(nt[me[Ke]]){ot=nt[me[Ke]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};A.prototype.setLineDash=function($){this.lineDash=$},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){j.call(this,"fill",!1)},A.prototype.stroke=function(){j.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function($,X){if(isNaN($)||isNaN(X))throw Pn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o($,X));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o($,X)},A.prototype.closePath=function(){var $=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&pn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){$=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},A.prototype.lineTo=function($,X){if(isNaN($)||isNaN(X))throw Pn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o($,X));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},A.prototype.quadraticCurveTo=function($,X,V,ne){if(isNaN(V)||isNaN(ne)||isNaN($)||isNaN(X))throw Pn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(V,ne)),he=this.ctx.transform.applyToPoint(new o($,X));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},A.prototype.bezierCurveTo=function($,X,V,ne,ae,he){if(isNaN(ae)||isNaN(he)||isNaN($)||isNaN(X)||isNaN(V)||isNaN(ne))throw Pn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ae,he)),J=this.ctx.transform.applyToPoint(new o($,X)),ue=this.ctx.transform.applyToPoint(new o(V,ne));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:ue.x,y2:ue.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},A.prototype.arc=function($,X,V,ne,ae,he){if(isNaN($)||isNaN(X)||isNaN(V)||isNaN(ne)||isNaN(ae))throw Pn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o($,X));$=ge.x,X=ge.y;var J=this.ctx.transform.applyToPoint(new o(0,V)),ue=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(J.x-ue.x,2)+Math.pow(J.y-ue.y,2))}Math.abs(ae-ne)>=2*Math.PI&&(ne=0,ae=2*Math.PI),this.path.push({type:"arc",x:$,y:X,radius:V,startAngle:ne,endAngle:ae,counterclockwise:he})},A.prototype.arcTo=function($,X,V,ne,ae){throw new Error("arcTo not implemented.")},A.prototype.rect=function($,X,V,ne){if(isNaN($)||isNaN(X)||isNaN(V)||isNaN(ne))throw Pn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,X),this.lineTo($+V,X),this.lineTo($+V,X+ne),this.lineTo($,X+ne),this.lineTo($,X),this.lineTo($+V,X),this.lineTo($,X)},A.prototype.fillRect=function($,X,V,ne){if(isNaN($)||isNaN(X)||isNaN(V)||isNaN(ne))throw Pn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,X,V,ne),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},A.prototype.strokeRect=function($,X,V,ne){if(isNaN($)||isNaN(X)||isNaN(V)||isNaN(ne))throw Pn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect($,X,V,ne),this.stroke())},A.prototype.clearRect=function($,X,V,ne){if(isNaN($)||isNaN(X)||isNaN(V)||isNaN(ne))throw Pn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,X,V,ne))},A.prototype.save=function($){$=typeof $!="boolean"||$;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},A.prototype.restore=function($){$=typeof $!="boolean"||$;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(X),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function($){var X,V,ne,ae;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))X=0,V=0,ne=0,ae=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(he!==null)X=parseInt(he[1]),V=parseInt(he[2]),ne=parseInt(he[3]),ae=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)X=parseInt(he[1]),V=parseInt(he[2]),ne=parseInt(he[3]),ae=parseFloat(he[4]);else{if(ae=1,typeof $=="string"&&$.charAt(0)!=="#"){var ge=new JY($);$=ge.ok?ge.toHex():"#000000"}$.length===4?(X=$.substring(1,2),X+=X,V=$.substring(2,3),V+=V,ne=$.substring(3,4),ne+=ne):(X=$.substring(1,3),V=$.substring(3,5),ne=$.substring(5,7)),X=parseInt(X,16),V=parseInt(V,16),ne=parseInt(ne,16)}}return{r:X,g:V,b:ne,a:ae,style:$}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function($,X,V,ne){if(isNaN(X)||isNaN(V)||typeof $!="string")throw Pn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!m.call(this)){var ae=z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;E.call(this,{text:$,x:X,y:V,scale:he,angle:ae,align:this.textAlign,maxWidth:ne})}},A.prototype.strokeText=function($,X,V,ne){if(isNaN(X)||isNaN(V)||typeof $!="string")throw Pn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ne=isNaN(ne)?void 0:ne;var ae=z(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;E.call(this,{text:$,x:X,y:V,scale:he,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ne})}},A.prototype.measureText=function($){if(typeof $!="string")throw Pn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,V=this.pdf.internal.scaleFactor,ne=X.internal.getFontSize(),ae=X.getStringUnitWidth($)*ne/X.internal.scaleFactor;return new function(he){var ge=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:ae*=Math.round(96*V/72*1e4)/1e4})},A.prototype.scale=function($,X){if(isNaN($)||isNaN(X))throw Pn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c($,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},A.prototype.rotate=function($){if(isNaN($))throw Pn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},A.prototype.translate=function($,X){if(isNaN($)||isNaN(X))throw Pn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,$,X);this.ctx.transform=this.ctx.transform.multiply(V)},A.prototype.transform=function($,X,V,ne,ae,he){if(isNaN($)||isNaN(X)||isNaN(V)||isNaN(ne)||isNaN(ae)||isNaN(he))throw Pn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c($,X,V,ne,ae,he);this.ctx.transform=this.ctx.transform.multiply(ge)},A.prototype.setTransform=function($,X,V,ne,ae,he){$=isNaN($)?1:$,X=isNaN(X)?0:X,V=isNaN(V)?0:V,ne=isNaN(ne)?1:ne,ae=isNaN(ae)?0:ae,he=isNaN(he)?0:he,this.ctx.transform=new c($,X,V,ne,ae,he)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function($,X,V,ne,ae,he,ge,J,ue){var fe=this.pdf.getImageProperties($),Y=1,je=1,xe=1,re=1;ne!==void 0&&J!==void 0&&(xe=J/ne,re=ue/ae,Y=fe.width/ne*J/ne,je=fe.height/ae*ue/ae),he===void 0&&(he=X,ge=V,X=0,V=0),ne!==void 0&&J===void 0&&(J=ne,ue=ae),ne===void 0&&J===void 0&&(J=fe.width,ue=fe.height);var Ce=this.ctx.transform.decompose(),Ie=z(Ce.rotate.shx),Ue=new c,Oe=(Ue=(Ue=(Ue=Ue.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new l(he-X*xe,ge-V*re,ne*Y,ae*je));if(this.autoPaging){for(var Xe,et=v.call(this,Oe),me=[],Be=0;Be<et.length;Be+=1)me.indexOf(et[Be])===-1&&me.push(et[Be]);w(me);for(var Ne=me[0],Ee=me[me.length-1],$e=Ne;$e<Ee+1;$e++){this.pdf.setPage($e);var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=$e===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=$e===1?0:tt+($e-2)*Ke;if(this.ctx.clip_path.length!==0){var lt=this.path;Xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Xe,this.posX+this.margin[3],-it+nt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=lt}var yt=JSON.parse(JSON.stringify(Oe));yt=b([yt],this.posX+this.margin[3],-it+nt+this.ctx.prevPageLastElemOffset)[0];var Ct=($e>Ne||$e<Ee)&&p.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ke,null).clip().discardPath()),this.pdf.addImage($,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Ie),Ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ie)};var v=function($,X,V){var ne=[];X=X||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ne.push(Math.floor(($.y+ae)/V)+1);break;case"arc":ne.push(Math.floor(($.y+ae-$.radius)/V)+1),ne.push(Math.floor(($.y+ae+$.radius)/V)+1);break;case"qct":var he=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ne.push(Math.floor((he.y+ae)/V)+1),ne.push(Math.floor((he.y+he.h+ae)/V)+1);break;case"bct":var ge=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ne.push(Math.floor((ge.y+ae)/V)+1),ne.push(Math.floor((ge.y+ge.h+ae)/V)+1);break;case"rect":ne.push(Math.floor(($.y+ae)/V)+1),ne.push(Math.floor(($.y+$.h+ae)/V)+1)}for(var J=0;J<ne.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<ne[J];)y.call(this);return ne},y=function(){var $=this.fillStyle,X=this.strokeStyle,V=this.font,ne=this.lineCap,ae=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=X,this.font=V,this.lineCap=ne,this.lineWidth=ae,this.lineJoin=he},b=function($,X,V){for(var ne=0;ne<$.length;ne++)switch($[ne].type){case"bct":$[ne].x2+=X,$[ne].y2+=V;case"qct":$[ne].x1+=X,$[ne].y1+=V;default:$[ne].x+=X,$[ne].y+=V}return $},w=function($){return $.sort(function(X,V){return X-V})},j=function($,X){var V=this.fillStyle,ne=this.strokeStyle,ae=this.lineCap,he=this.lineWidth,ge=Math.abs(he*this.ctx.transform.scaleX),J=this.lineJoin;if(this.autoPaging){for(var ue,fe,Y=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),xe=[],re=0;re<je.length;re++)if(je[re].x!==void 0)for(var Ce=v.call(this,je[re]),Ie=0;Ie<Ce.length;Ie+=1)xe.indexOf(Ce[Ie])===-1&&xe.push(Ce[Ie]);for(var Ue=0;Ue<xe.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<xe[Ue];)y.call(this);w(xe);for(var Oe=xe[0],Xe=xe[xe.length-1],et=Oe;et<Xe+1;et++){this.pdf.setPage(et),this.fillStyle=V,this.strokeStyle=ne,this.lineCap=ae,this.lineWidth=ge,this.lineJoin=J;var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=et===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ee=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=et===1?0:Ne+(et-2)*Ee;if(this.ctx.clip_path.length!==0){var ot=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ue,this.posX+this.margin[3],-$e+Be+this.ctx.prevPageLastElemOffset),N.call(this,$,!0),this.path=ot}if(fe=JSON.parse(JSON.stringify(Y)),this.path=b(fe,this.posX+this.margin[3],-$e+Be+this.ctx.prevPageLastElemOffset),X===!1||et===0){var nt=(et>Oe||et<Xe)&&p.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,Ee,null).clip().discardPath()),N.call(this,$,X),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}this.path=Y}else this.lineWidth=ge,N.call(this,$,X),this.lineWidth=he},N=function($,X){if(($!=="stroke"||X||!x.call(this))&&($==="stroke"||X||!m.call(this))){for(var V,ne,ae=[],he=this.path,ge=0;ge<he.length;ge++){var J=he[ge];switch(J.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:J,deltas:[],abs:[]});break;case"lt":var ue=ae.length;if(he[ge-1]&&!isNaN(he[ge-1].x)&&(V=[J.x-he[ge-1].x,J.y-he[ge-1].y],ue>0)){for(;ue>=0;ue--)if(ae[ue-1].close!==!0&&ae[ue-1].begin!==!0){ae[ue-1].deltas.push(V),ae[ue-1].abs.push(J);break}}break;case"bct":V=[J.x1-he[ge-1].x,J.y1-he[ge-1].y,J.x2-he[ge-1].x,J.y2-he[ge-1].y,J.x-he[ge-1].x,J.y-he[ge-1].y],ae[ae.length-1].deltas.push(V);break;case"qct":var fe=he[ge-1].x+2/3*(J.x1-he[ge-1].x),Y=he[ge-1].y+2/3*(J.y1-he[ge-1].y),je=J.x+2/3*(J.x1-J.x),xe=J.y+2/3*(J.y1-J.y),re=J.x,Ce=J.y;V=[fe-he[ge-1].x,Y-he[ge-1].y,je-he[ge-1].x,xe-he[ge-1].y,re-he[ge-1].x,Ce-he[ge-1].y],ae[ae.length-1].deltas.push(V);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(J)}}ne=X?null:$==="stroke"?"stroke":"fill";for(var Ie=!1,Ue=0;Ue<ae.length;Ue++)if(ae[Ue].arc)for(var Oe=ae[Ue].abs,Xe=0;Xe<Oe.length;Xe++){var et=Oe[Xe];et.type==="arc"?P.call(this,et.x,et.y,et.radius,et.startAngle,et.endAngle,et.counterclockwise,void 0,X,!Ie):Q.call(this,et.x,et.y),Ie=!0}else if(ae[Ue].close===!0)this.pdf.internal.out("h"),Ie=!1;else if(ae[Ue].begin!==!0){var me=ae[Ue].start.x,Be=ae[Ue].start.y;F.call(this,ae[Ue].deltas,me,Be),Ie=!0}ne&&T.call(this,ne),X&&U.call(this)}},B=function($){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-V;case"top":return $+X-V;case"hanging":return $+X-2*V;case"middle":return $+X/2-V;default:return $}},I=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(X,V){this.colorStops.push([X,V])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function($,X,V,ne,ae,he,ge,J,ue){for(var fe=W.call(this,V,ne,ae,he),Y=0;Y<fe.length;Y++){var je=fe[Y];Y===0&&(ue?k.call(this,je.x1+$,je.y1+X):Q.call(this,je.x1+$,je.y1+X)),K.call(this,$,X,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}J?U.call(this):T.call(this,ge)},T=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},k=function($,X){this.pdf.internal.out(r($)+" "+n(X)+" m")},E=function($){var X;switch($.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var V,ne,ae,he=this.pdf.getTextDimensions($.text),ge=B.call(this,$.y),J=I.call(this,ge)-he.h,ue=this.ctx.transform.applyToPoint(new o($.x,ge));if(this.autoPaging){var fe=this.ctx.transform.decompose(),Y=new c;Y=(Y=(Y=Y.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var je=this.ctx.transform.applyToRectangle(new l($.x,ge,he.w,he.h)),xe=Y.applyToRectangle(new l($.x,J,he.w,he.h)),re=v.call(this,xe),Ce=[],Ie=0;Ie<re.length;Ie+=1)Ce.indexOf(re[Ie])===-1&&Ce.push(re[Ie]);w(Ce);for(var Ue=Ce[0],Oe=Ce[Ce.length-1],Xe=Ue;Xe<Oe+1;Xe++){this.pdf.setPage(Xe);var et=Xe===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],Ne=Be-this.margin[0],Ee=this.pdf.internal.pageSize.width-this.margin[1],$e=Ee-this.margin[3],ot=Xe===1?0:me+(Xe-2)*Ne;if(this.ctx.clip_path.length!==0){var nt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(V,this.posX+this.margin[3],-1*ot+et),N.call(this,"fill",!0),this.path=nt}var tt=b([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-ot+et+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*$.scale),ae=this.lineWidth,this.lineWidth=ae*$.scale);var Ke=this.autoPaging!=="text";if(Ke||tt.y+tt.h<=Be){if(Ke||tt.y>=et&&tt.x<=Ee){var it=Ke?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Ee-tt.x)[0],lt=b([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-ot+et+this.ctx.prevPageLastElemOffset)[0],yt=Ke&&(Xe>Ue||Xe<Oe)&&p.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,Ne,null).clip().discardPath()),this.pdf.text(it,lt.x,lt.y,{angle:$.angle,align:X,renderingMode:$.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else tt.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-tt.y);$.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ae)}}else $.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*$.scale),ae=this.lineWidth,this.lineWidth=ae*$.scale),this.pdf.text($.text,ue.x+this.posX,ue.y+this.posY,{angle:$.angle,align:X,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=ae)},Q=function($,X,V,ne){V=V||0,ne=ne||0,this.pdf.internal.out(r($+V)+" "+n(X+ne)+" l")},F=function($,X,V){return this.pdf.lines($,X,V,null,null)},K=function($,X,V,ne,ae,he,ge,J){this.pdf.internal.out([t(i(V+$)),t(a(ne+X)),t(i(ae+$)),t(a(he+X)),t(i(ge+$)),t(a(J+X)),"c"].join(" "))},W=function($,X,V,ne){for(var ae=2*Math.PI,he=Math.PI/2;X>V;)X-=ae;var ge=Math.abs(V-X);ge<ae&&ne&&(ge=ae-ge);for(var J=[],ue=ne?-1:1,fe=X;ge>1e-5;){var Y=fe+ue*Math.min(ge,he);J.push(D.call(this,$,fe,Y)),ge-=Math.abs(Y-fe),fe=Y}return J},D=function($,X,V){var ne=(V-X)/2,ae=$*Math.cos(ne),he=$*Math.sin(ne),ge=ae,J=-he,ue=ge*ge+J*J,fe=ue+ge*ae+J*he,Y=4/3*(Math.sqrt(2*ue*fe)-fe)/(ge*he-J*ae),je=ge-Y*J,xe=J+Y*ge,re=je,Ce=-xe,Ie=ne+X,Ue=Math.cos(Ie),Oe=Math.sin(Ie);return{x1:$*Math.cos(X),y1:$*Math.sin(X),x2:je*Ue-xe*Oe,y2:je*Oe+xe*Ue,x3:re*Ue-Ce*Oe,y3:re*Oe+Ce*Ue,x4:$*Math.cos(V),y4:$*Math.sin(V)}},z=function($){return 180*$/Math.PI},ee=function($,X,V,ne,ae,he){var ge=$+.5*(V-$),J=X+.5*(ne-X),ue=ae+.5*(V-ae),fe=he+.5*(ne-he),Y=Math.min($,ae,ge,ue),je=Math.max($,ae,ge,ue),xe=Math.min(X,he,J,fe),re=Math.max(X,he,J,fe);return new l(Y,xe,je-Y,re-xe)},te=function($,X,V,ne,ae,he,ge,J){var ue,fe,Y,je,xe,re,Ce,Ie,Ue,Oe,Xe,et,me,Be,Ne=V-$,Ee=ne-X,$e=ae-V,ot=he-ne,nt=ge-ae,tt=J-he;for(fe=0;fe<41;fe++)Ue=(Ce=(Y=$+(ue=fe/40)*Ne)+ue*((xe=V+ue*$e)-Y))+ue*(xe+ue*(ae+ue*nt-xe)-Ce),Oe=(Ie=(je=X+ue*Ee)+ue*((re=ne+ue*ot)-je))+ue*(re+ue*(he+ue*tt-re)-Ie),fe==0?(Xe=Ue,et=Oe,me=Ue,Be=Oe):(Xe=Math.min(Xe,Ue),et=Math.min(et,Oe),me=Math.max(me,Ue),Be=Math.max(Be,Oe));return new l(Math.round(Xe),Math.round(et),Math.round(me-Xe),Math.round(Be-et))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,X,V=($=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:X}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Yt.API),function(e){var t=function(o){var l,c,d,u,A,f,m,x,p,v;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(A=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(f=(A=((A=((A=((A=(A-(v=A%85))/85)-(p=A%85))/85)-(x=A%85))/85)-(m=A%85))/85)%85,c.push(f+33,m+33,x+33,p+33,v+33)):c.push(122);return function(y,b){for(var w=b;w>0;w--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,A,f=String,m="length",x=255,p="charCodeAt",v="slice",y="replace";for(o[v](-2),o=o[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),d=[],u=0,A=(o+=l="uuuuu"[v](o[m]%5||5))[m];A>u;u+=5)c=52200625*(o[p](u)-33)+614125*(o[p](u+1)-33)+7225*(o[p](u+2)-33)+85*(o[p](u+3)-33)+(o[p](u+4)-33),d.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(b,w){for(var j=w;j>0;j--)b.pop()}(d,l[m]),f.fromCharCode.apply(f,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=Nk(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};e.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(Yt.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var A=new XMLHttpRequest,f=0,m=function(x){var p=x.length,v=[],y=String.fromCharCode;for(f=0;f<p;f+=1)v.push(y(255&x.charCodeAt(f)));return v.join("")};if(A.open("GET",c,!d),A.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(A.onload=function(){A.status===200?u(m(this.responseText)):u(void 0)}),A.send(null),d&&A.status===200)return m(A.responseText)}(i,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Yt.API),function(e){function t(){return(hr.html2canvas?Promise.resolve(hr.html2canvas):oB(()=>Promise.resolve().then(()=>p_e),void 0)).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(hr.DOMPurify?Promise.resolve(hr.DOMPurify):oB(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=pn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},a=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),A=c.firstChild;A;A=A.nextSibling)d!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||u.appendChild(l(A,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var x=u[m],p=x.src.find(function(v){return v.format==="truetype"});p&&d.addFont(p.url,x.ref.name,x.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,d.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,A){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return d.updateProgress(null,u),f}).then(u,A).then(function(f){return d.updateProgress(1),f})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),f=d.call(A,l,c);return o.convert(f,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Yt.getPageSize=function(l,c,d){if(pn(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var A,f=(""+d).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+c}var x,p=0,v=0;if(m.hasOwnProperty(f))p=m[f][1]/A,v=m[f][0]/A;else try{p=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>p&&(x=v,v=p,p=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>v&&(x=v,v=p,p=x)}return{width:v,height:p,unit:c,k:A,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(_B):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(Yt.API),Yt.API.addJS=function(e){return XM=e,this.internal.events.subscribe("postPutResources",function(){Sw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),YM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+XM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sw!==void 0&&YM!==void 0&&this.internal.out("/Names <</JavaScript "+Sw+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var A=r.internal.newObject();u.push(A);var f=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(A){for(var f,m=256*A.charCodeAt(4)+A.charCodeAt(5),x=A.length,p={width:0,height:0,numcomponents:1},v=4;v<x;v+=2){if(v+=m,t.indexOf(A.charCodeAt(v+1))!==-1){f=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),p={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:f,numcomponents:A.charCodeAt(v+9)};break}m=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return u}}(Yt.API),Yt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=NBe(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,d=a.palette,u=a.depth;i=d&&c===1?function(P){for(var T=P.width,U=P.height,k=P.data,E=P.palette,Q=P.depth,F=!1,K=[],W=[],D=void 0,z=!1,ee=0,te=0;te<E.length;te++){var le=tM(E[te],4),$=le[0],X=le[1],V=le[2],ne=le[3];K.push($,X,V),ne!=null&&(ne===0?(ee++,W.length<1&&W.push(te)):ne<255&&(z=!0))}if(z||ee>1){F=!0,W=void 0;var ae=T*U;D=new Uint8Array(ae);for(var he=new DataView(k.buffer),ge=0;ge<ae;ge++){var J=BB(he,ge,Q),ue=tM(E[J],4)[3];D[ge]=ue}}else ee===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:k,alphaBytes:D,needSMask:F,palette:K,mask:W}}(a):c===2||c===4?function(P){for(var T=P.data,U=P.width,k=P.height,E=P.channels,Q=P.depth,F=E===2?"DeviceGray":"DeviceRGB",K=E-1,W=U*k,D=K,z=W*D,ee=1*W,te=Math.ceil(z*Q/8),le=Math.ceil(ee*Q/8),$=new Uint8Array(te),X=new Uint8Array(le),V=new DataView(T.buffer),ne=new DataView($.buffer),ae=new DataView(X.buffer),he=!1,ge=0;ge<W;ge++){for(var J=ge*E,ue=0;ue<D;ue++)aD(ne,BB(V,J+ue,Q),ge*D+ue,Q);var fe=BB(V,J+D,Q);fe<(1<<Q)-1&&(he=!0),aD(ae,fe,1*ge,Q)}return{colorSpace:F,colorsPerPixel:K,sMaskBitsPerComponent:he?Q:void 0,colorBytes:$,alphaBytes:X,needSMask:he}}(a):function(P){var T=P.data,U=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(k){for(var E=k.length,Q=new Uint8Array(2*E),F=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),K=0;K<E;K++)F.setUint16(2*K,k[K],!1);return Q}(T):T,needSMask:!1}}(a);var A,f,m,x=i,p=x.colorSpace,v=x.colorsPerPixel,y=x.sMaskBitsPerComponent,b=x.colorBytes,w=x.alphaBytes,j=x.needSMask,N=x.palette,B=x.mask,I=null;return n!==Yt.API.image_compression.NONE&&typeof Nk=="function"?(I=function(P){var T;switch(P){case Yt.API.image_compression.FAST:T=11;break;case Yt.API.image_compression.MEDIUM:T=13;break;case Yt.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),A=this.decode.FLATE_DECODE,f="/Predictor ".concat(I," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(o),e=tD(b,Math.ceil(o*v*u/8),v,u,n),j&&(m=tD(w,Math.ceil(o*y/8),1,y,n))):(A=void 0,f=void 0,e=b,j&&(m=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:e,index:t,filter:A,decodeParameters:f,transparency:B,palette:N,sMask:m,predictor:I,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:p}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new VBe(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new SB(100).encode(d,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(Yt.API),Vl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Pn.log("bit decode error:"+r)}},Vl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Vl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Vl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Vl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,d=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=e}},Vl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=e}},Vl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Vl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Vl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Vl(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new SB(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)}}(Yt.API),lD.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new lD(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new SB(100).encode(c,100);return e.processJPEG.call(this,d,r,n,i)}}(Yt.API),Yt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=n[d],A=n[d+1],f=n[d+2],m=n[d+3];a[l++]=u,a[l++]=A,a[l++]=f,o[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mm=Yt.API,kw=Mm.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,A=t.doKerning!==!1,f=0,m=e.length,x=0,p=l[0]||c,v=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(f=A&&pn(d[n])==="object"&&!isNaN(parseInt(d[n][x],10))?d[n][x]/u:0,v.push((l[n]||p)/c+f)),x=n;return v},JM=Mm.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Mm.processArabic&&(e=Mm.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:kw.apply(this,arguments).reduce(function(a,o){return a+o},0)},ZM=function(e,t,r,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},eD=function(e,t,r){r||(r={});var n,i,a,o,l,c,d,u=[],A=[u],f=r.textIndent||0,m=0,x=0,p=e.split(" "),v=kw.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),b=[];p.map(function(j){(j=j.split(/\s*\n/)).length>1?b=b.concat(j.map(function(N,B){return(B&&N.length?`
`:"")+N})):b.push(j[0])}),p=b,c=JM.apply(this,[y,r])}for(a=0,o=p.length;a<o;a++){var w=0;if(n=p[a],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+m+(x=(i=kw.apply(this,[n,r])).reduce(function(j,N){return j+N},0))>t||w){if(x>t){for(l=ZM.apply(this,[n,i,t-(f+m),t]),u.push(l.shift()),u=[l.pop()];l.length;)A.push([l.shift()]);x=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(j,N){return j+N},0)}else u=[n];A.push(u),f=x+c,m=v}else u.push(n),f+=m+x,m=v}return d=c?function(j,N){return(N?y:"")+j.join(" ")}:function(j){return j.join(" ")},A.map(d)},Mm.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle),f="Unicode";return A.metadata[f]?{widths:A.metadata[f].widths||{0:1},kerning:A.metadata[f].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(eD.apply(this,[n[l],o,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(f){return"0x"+parseInt(f,10).toString(16)},l=e.__fontmetrics__.compress=function(f){var m,x,p,v,y=["{"];for(var b in f){if(m=f[b],isNaN(parseInt(b,10))?x="'"+b+"'":(b=parseInt(b,10),x=(x=o(b).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof m=="number")m<0?(p=o(m).slice(3),v="-"):(p=o(m).slice(2),v=""),p=v+p.slice(0,-1)+i[p.slice(-1)];else{if(pn(m)!=="object")throw new Error("Don't know what to do with value type "+pn(m)+".");p=l(m)}y.push(x+p)}return y.push("}"),y.join("")},c=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,p,v,y={},b=1,w=y,j=[],N="",B="",I=f.length-1,P=1;P<I;P+=1)(v=f[P])=="'"?m?(p=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(j.push([w,p]),w={},p=void 0):v=="}"?((x=j.pop())[0][x[1]]=w,p=void 0,w=x[0]):v=="-"?b=-1:p===void 0?n.hasOwnProperty(v)?(N+=n[v],p=parseInt(N,16)*b,b=1,N=""):N+=v:n.hasOwnProperty(v)?(B+=n[v],w[p]=parseInt(B,16)*b,b=1,p=void 0,B=""):B+=v;return y},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},A={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var m=f.font,x=A.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var p=u.Unicode[m.postScriptName];p&&(m.metadata.Unicode.encoding=p,m.encoding=p.codePages[0])}])}(Yt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(k1(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Yt),Yt.API.addSvgAsImage=function(e,t,r,n,i,a,o,l){if(isNaN(t)||isNaN(r))throw Pn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Pn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(hr.canvg?Promise.resolve(hr.canvg):oB(()=>import("./index.es--CLDXh1z.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(u)}).then(function(){A.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,o,l)})},Yt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Yt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,A=0;function f(x,p){var v,y=!1;for(v=0;v<x.length;v+=1)x[v]===p&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(A=0;A<m;A+=1)r[l[A]].value=r[l[A]].defaultValue,r[l[A]].explicitSet=!1}if(pn(e)==="object"){for(i in e)if(a=e[i],f(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&f(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,p=[];for(x in r)r[x].explicitSet===!0&&(r[x].type==="name"?p.push("/"+x+" /"+r[x].value):p.push("/"+x+" "+r[x].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Yt.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],A=0,f=a.length;A<f;++A){if(l=o.metadata.characterToGlyph(a.charCodeAt(A)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(A),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(a){var o,l,c,d,u,A,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],A=0,f=(l=Object.keys(a).sort(function(m,x){return m-x})).length;A<f;A++)o=l[A],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var A=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<f.length;x++)m+=String.fromCharCode(f[x]);var p=d();u({data:m,addLength1:!0,objectId:p}),c("endobj");var v=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Gm(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+Gm(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(A)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+Gm(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var A=l.metadata.rawData,f="",m=0;m<A.length;m++)f+=String.fromCharCode(A[m]);var x=d();u({data:f,addLength1:!0,objectId:x}),c("endobj");var p=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var v=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Gm(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Gm(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,d=a.y,u=a.options||{},A=a.mutex||{},f=A.pdfEscape,m=A.activeFontKey,x=A.fonts,p=m,v="",y=0,b="",w=x[p].encoding;if(x[p].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:A};for(b=l,p=m,Array.isArray(l)&&(b=l[0]),y=0;y<b.length;y+=1)x[p].metadata.hasOwnProperty("cmap")&&(o=x[p].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),o||b[y].charCodeAt(0)<256&&x[p].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var j="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?j=f(v,p).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(j=r(v,x[p])),A.isHex=!0,{text:j,x:c,y:d,options:u,mutex:A}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(Yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,d,u,A=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var j=function(k){var E=k.charCodeAt(),Q=E>>8,F=p[Q];return F!==void 0?A[256*F+(255&E)]:Q===252||Q===253?"AL":y.test(Q)?"L":Q===8?"R":"N"},N=function(k){for(var E,Q=0;Q<k.length;Q++){if((E=j(k.charAt(Q)))==="L")return!1;if(E==="R")return!0}return!1},B=function(k,E,Q,F){var K,W,D,z,ee=E[F];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(ee="AN");break;case"AL":b=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":F<1||F+1>=E.length||(K=Q[F-1])!=="EN"&&K!=="AN"||(W=E[F+1])!=="EN"&&W!=="AN"?ee="N":b&&(W="AN"),ee=W===K?W:"N";break;case"ES":ee=(K=F>0?Q[F-1]:"B")==="EN"&&F+1<E.length&&E[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&Q[F-1]==="EN"){ee="EN";break}if(b){ee="N";break}for(D=F+1,z=E.length;D<z&&E[D]==="ET";)D++;ee=D<z&&E[D]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=E.length,D=F+1;D<z&&E[D]==="NSM";)D++;if(D<z){var te=k[F],le=te>=1425&&te<=2303||te===64286;if(K=E[D],le&&(K==="R"||K==="AL")){ee="R";break}}}ee=F<1||(K=E[F-1])==="B"?"N":Q[F-1];break;case"B":b=!1,i=!0,ee=w;break;case"S":a=!0,ee="N"}return ee},I=function(k,E,Q){var F=k.split("");return Q&&P(F,Q,{hiLevel:w}),F.reverse(),E&&E.reverse(),F.join("")},P=function(k,E,Q){var F,K,W,D,z,ee=-1,te=k.length,le=0,$=[],X=w?m:f,V=[];for(b=!1,i=!1,a=!1,K=0;K<te;K++)V[K]=j(k[K]);for(W=0;W<te;W++){if(z=le,$[W]=B(k,V,$,W),F=240&(le=X[z][x[$[W]]]),le&=15,E[W]=D=X[le][5],F>0)if(F===16){for(K=ee;K<W;K++)E[K]=1;ee=-1}else ee=-1;if(X[le][6])ee===-1&&(ee=W);else if(ee>-1){for(K=ee;K<W;K++)E[K]=D;ee=-1}V[W]==="B"&&(E[W]=0),Q.hiLevel|=D}a&&function(ne,ae,he){for(var ge=0;ge<he;ge++)if(ne[ge]==="S"){ae[ge]=w;for(var J=ge-1;J>=0&&ne[J]==="WS";J--)ae[J]=w}}(V,E,te)},T=function(k,E,Q,F,K){if(!(K.hiLevel<k)){if(k===1&&w===1&&!i)return E.reverse(),void(Q&&Q.reverse());for(var W,D,z,ee,te=E.length,le=0;le<te;){if(F[le]>=k){for(z=le+1;z<te&&F[z]>=k;)z++;for(ee=le,D=z-1;ee<D;ee++,D--)W=E[ee],E[ee]=E[D],E[D]=W,Q&&(W=Q[ee],Q[ee]=Q[D],Q[D]=W);le=z}le++}}},U=function(k,E,Q){var F=k.split(""),K={hiLevel:w};return Q||(Q=[]),P(F,Q,K),function(W,D,z){if(z.hiLevel!==0&&u)for(var ee,te=0;te<W.length;te++)D[te]===1&&(ee=v.indexOf(W[te]))>=0&&(W[te]=v[ee+1])}(F,Q,K),T(2,F,E,Q,K),T(1,F,E,Q,K),F.join("")};return this.__bidiEngine__.doBidiReorder=function(k,E,Q){if(function(K,W){if(W)for(var D=0;D<K.length;D++)W[D]=D;l===void 0&&(l=N(K)),d===void 0&&(d=N(K))}(k,E),o||!c||d)if(o&&c&&l^d)w=l?1:0,k=I(k,E,Q);else if(!o&&c&&d)w=l?1:0,k=U(k,E,Q),k=I(k,E);else if(!o||l||c||d){if(o&&!c&&l^d)k=I(k,E),l?(w=0,k=U(k,E,Q)):(w=1,k=U(k,E,Q),k=I(k,E));else if(o&&l&&!c&&d)w=1,k=U(k,E,Q),k=I(k,E);else if(!o&&!c&&l^d){var F=u;l?(w=1,k=U(k,E,Q),w=0,u=!1,k=U(k,E,Q),u=F):(w=0,k=U(k,E,Q),k=I(k,E),w=1,u=!1,k=U(k,E,Q),u=F,k=I(k,E))}}else w=0,k=U(k,E,Q);else w=l?1:0,k=U(k,E,Q);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,l=k.isInputRtl,d=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Yt),Yt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new eA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new aSe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new KBe(this.contents),this.head=new GBe(this),this.name=new ZBe(this),this.cmap=new cX(this),this.toUnicode={},this.hhea=new qBe(this),this.maxp=new eSe(this),this.hmtx=new tSe(this),this.post=new XBe(this),this.os2=new YBe(this),this.loca=new iSe(this),this.glyf=new rSe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var jc,eA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),KBe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,l,c,d,u,A,f,m,x,p;for(p in m=Object.keys(r).length,c=Math.log(2),A=16*Math.floor(Math.log(m)/c),o=Math.floor(A/c),u=16*m-A,(i=new eA).writeInt(this.scalarType),i.writeShort(m),i.writeShort(A),i.writeShort(o),i.writeShort(u),a=16*m,d=i.pos+a,l=null,x=[],r)for(f=r[p],i.writeString(p),i.writeInt(e(f)),i.writeInt(d),i.writeInt(f.length),x=x.concat(f),p==="head"&&(l=d),d+=f.length;d%4;)x.push(0),d++;return i.write(x),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=dX.call(r);r.length%4;)r.push(0);for(a=new eA(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),WBe={}.hasOwnProperty,gd=function(e,t){for(var r in t)WBe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};jc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var GBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new eA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),cD=function(){function e(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),f=m/2,t.pos+=6,a=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),t.pos+=2,p=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),d=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),u=function(){var j,N;for(N=[],c=j=0;0<=f?j<f:j>f;c=0<=f?++j:--j)N.push(t.readUInt16());return N}(),i=(this.length-t.pos+this.offset)/2,l=function(){var j,N;for(N=[],c=j=0;0<=i?j<i:j>i;c=0<=i?++j:--j)N.push(t.readUInt16());return N}(),c=y=0,w=a.length;y<w;c=++y)for(v=a[c],n=b=x=p[c];x<=v?b<=v:b>=v;n=x<=v?++b:--b)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-x)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}t.pos=A}return e.encode=function(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,I,P,T,U,k,E,Q,F,K,W,D,z,ee,te,le,$,X,V,ne,ae,he,ge,J,ue,fe,Y;switch(F=new eA,o=Object.keys(t).sort(function(je,xe){return je-xe}),r){case"macroman":for(p=0,v=function(){var je=[];for(x=0;x<256;++x)je.push(0);return je}(),b={0:0},a={},K=0,ee=o.length;K<ee;K++)b[J=t[i=o[K]]]==null&&(b[J]=++p),a[i]={old:t[i],new:b[t[i]]},v[i]=b[t[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(v),{charMap:a,subtable:F.data,maxGlyphID:p+1};case"unicode":for(E=[],A=[],w=0,b={},n={},y=d=null,W=0,te=o.length;W<te;W++)b[N=t[i=o[W]]]==null&&(b[N]=++w),n[i]={old:N,new:b[N]},l=b[N]-i,y!=null&&l===d||(y&&A.push(y),E.push(i),d=l),y=i;for(y&&A.push(y),A.push(65535),E.push(65535),U=2*(T=E.length),P=2*Math.pow(Math.log(T)/Math.LN2,2),f=Math.log(P/2)/Math.LN2,I=2*T-P,c=[],B=[],m=[],x=D=0,le=E.length;D<le;x=++D){if(k=E[x],u=A[x],k===65535){c.push(0),B.push(0);break}if(k-(Q=n[k].new)>=32768)for(c.push(0),B.push(2*(m.length+T-x)),i=z=k;k<=u?z<=u:z>=u;i=k<=u?++z:--z)m.push(n[i].new);else c.push(Q-k),B.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*T+2*m.length),F.writeUInt16(0),F.writeUInt16(U),F.writeUInt16(P),F.writeUInt16(f),F.writeUInt16(I),he=0,$=A.length;he<$;he++)i=A[he],F.writeUInt16(i);for(F.writeUInt16(0),ge=0,X=E.length;ge<X;ge++)i=E[ge],F.writeUInt16(i);for(ue=0,V=c.length;ue<V;ue++)l=c[ue],F.writeUInt16(l);for(fe=0,ne=B.length;fe<ne;fe++)j=B[fe],F.writeUInt16(j);for(Y=0,ae=m.length;Y<ae;Y++)p=m[Y],F.writeUInt16(p);return{charMap:n,subtable:F.data,maxGlyphID:w+1}}},e}(),cX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new cD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=cD.encode(t,r),(i=new eA).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),qBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),YBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),XBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),JBe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ZBe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,l,c,d,u,A,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=u=0,A=n.length;u<A;a=++u)i=n[a],t.pos=i.offset,d=t.readString(i.length),o=new JBe(d,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),eSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),tSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)u.push(t.readInt16());return u}(),this.widths=(function(){var d,u,A,f;for(f=[],d=0,u=(A=this.metrics).length;d<u;d++)a=A[d],f.push(a.advance);return f}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),dX=[].slice,rSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,l,c,d,u,A;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new eA(r.read(i))).readShort(),d=l.readShort(),A=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[t]=o===-1?new sSe(l,d,A,c,u):new nSe(l,o,d,A,c,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=t[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),nSe=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),sSe=function(){function e(t,r,n,i,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new eA(dX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),iSe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return gd(e,jc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},e}(),aSe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,l,c,d,u,A,f,m,x,p,v,y;for(i in n=cX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},y=n.charMap)m[(c=y[i]).old]=c.new;for(x in f=n.maxGlyphID,o)x in m||(m[x]=f++);return u=function(b){var w,j;for(w in j={},b)j[b[w]]=w;return j}(m),A=Object.keys(u).sort(function(b,w){return b-w}),p=function(){var b,w,j;for(j=[],b=0,w=A.length;b<w;b++)l=A[b],j.push(u[l]);return j}(),a=this.font.glyf.encode(o,p,m),d=this.font.loca.encode(a.offsets,p),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Yt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();const oSe=()=>{var d,u,A,f;const{tenantData:e,loading:t}=sm(),r=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m||0),n=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",i=m=>{if(!m)return"N/A";if(typeof m=="string")return m;const{street:x,city:p,state:v,pincode:y,landmark:b}=m;return[x,b,p,v,y].filter(Boolean).join(", ")},a=async()=>{const m=document.getElementById("rental-agreement-content");if(m)try{const x=await yY(m,{scale:2,useCORS:!0,logging:!1,windowWidth:m.scrollWidth,windowHeight:m.scrollHeight}),p=x.toDataURL("image/png"),v=new Yt("p","mm","a4"),y=v.internal.pageSize.getWidth(),b=x.height*y/x.width;v.addImage(p,"PNG",0,0,y,b),v.save(`Rental-Agreement-${(e==null?void 0:e.userName)||"Tenant"}.pdf`)}catch(x){console.error("Error generating PDF:",x),alert("Failed to generate agreement PDF. Please try again.")}},o=()=>{window.print()};if(t)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading agreement..."})]})})});if(!e)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Zt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Agreement Found"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy agreement."})]})})});const{property:l,room:c}=e;return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(ks,{className:"w-10 h-10 mr-3"}),"Tenancy Agreement"]}),s.jsx("p",{className:"text-purple-100 text-lg",children:"Your rental agreement details"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:o,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(LV,{className:"w-4 h-4"}),"Print"]}),s.jsxs("button",{onClick:a,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-50 transition-colors shadow-lg flex items-center gap-2",children:[s.jsx(tu,{className:"w-4 h-4"}),"Download"]})]})]})})]})}),s.jsxs(Z.div,{id:"rental-agreement-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 p-8 border-b-4 border-purple-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"RENTAL AGREEMENT"}),s.jsxs("p",{className:"text-gray-600",children:["This agreement is made on ",n(e.actualCheckInDate)]})]})}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(ar,{className:"w-5 h-5 mr-2 text-purple-600"}),"Parties to the Agreement"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-purple-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-2",children:"LANDLORD (Owner)"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:((d=e.owner)==null?void 0:d.name)||e.ownerName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:((u=e.owner)==null?void 0:u.email)||e.ownerEmail||"Email not available"}),s.jsx("p",{className:"text-sm text-gray-600",children:((A=e.owner)==null?void 0:A.phone)||e.ownerPhone||"Phone not available"})]}),s.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-2",children:"TENANT"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:e.userName}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.userEmail}),s.jsx("p",{className:"text-sm text-gray-600",children:e.userPhone})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2 text-purple-600"}),"Property Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Property Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(l==null?void 0:l.propertyName)||e.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(c==null?void 0:c.roomNumber)||e.roomNumber]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Address"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:i(l==null?void 0:l.address)!=="N/A"?i(l==null?void 0:l.address):((f=e.propertySnapshot)==null?void 0:f.address)||"Address not available"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(c==null?void 0:c.roomType)||"Standard"})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(ti,{className:"w-5 h-5 mr-2 text-purple-600"}),"Financial Terms"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-3xl font-bold text-green-900",children:r(e.monthlyRent)}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Payable on or before 5th of every month"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-6",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r(e.securityDeposit)}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Refundable at end of tenancy"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Or,{className:"w-5 h-5 mr-2 text-purple-600"}),"Tenure Details"]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Check-in Date"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:n(e.actualCheckInDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Agreement Status"}),s.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[s.jsx(jt,{className:"w-4 h-4 mr-1"}),"Active"]})]})]})})]}),s.jsx("div",{className:"border-t-2 border-gray-200 pt-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Landlord's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.ownerName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 font-medium mb-4",children:"Tenant's Signature"}),s.jsx("div",{className:"border-b-2 border-gray-300 pb-4 mb-2",children:s.jsxs("div",{className:"flex items-end justify-between",children:[s.jsx("p",{className:"text-3xl text-indigo-900",style:{fontFamily:'"Great Vibes", cursive'},children:e.userName}),s.jsx("span",{className:"text-[10px] uppercase tracking-wider text-green-600 font-semibold border border-green-200 px-2 py-0.5 rounded bg-green-50",children:"Digitally Signed"})]})}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Date: ",n(e.actualCheckInDate)]})]})]})})]}),s.jsx("div",{className:"bg-gray-100 p-6 text-center border-t",children:s.jsx("p",{className:"text-sm text-gray-600",children:"This is a digitally generated agreement. For any queries, please contact the property owner."})})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl overflow-hidden p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(tr,{className:"w-8 h-8 text-purple-600"}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Terms & Conditions"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant shall pay the monthly rent on or before the 5th of every month."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The security deposit will be refunded within 30 days of vacating the premises, subject to deductions for damages."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant must provide 30 days notice before vacating the property."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The tenant is responsible for maintaining the property in good condition."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"Subletting is not permitted without prior written consent from the landlord."})]}),s.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-4 rounded-lg",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700",children:"The landlord reserves the right to inspect the property with 24 hours prior notice."})]})]})]})]})})})},lSe="http://localhost:5000/api",cSe=()=>{var A,f;const{tenantData:e,loading:t}=sm(),[r,n]=_.useState([]),[i,a]=_.useState(!0);_.useEffect(()=>{e&&(async()=>{var x;if(e!=null&&e.roomId)try{a(!0);const p=localStorage.getItem("authToken"),v=((x=e.roomId)==null?void 0:x._id)||e.roomId,b=(await xr.get(`${lSe}/property/public/rooms/${v}/tenants`,{headers:{Authorization:`Bearer ${p}`}})).data.tenants||[],w=[],j=new Set,N=B=>B?typeof B=="string"?B:(B._id||B.id||B).toString():"";b.forEach(B=>{const I=N(B.userId);I&&!j.has(I)&&(j.add(I),w.push(B))}),n(w)}catch(p){console.error("Error fetching roommates:",p)}finally{a(!1)}})()},[e]);const o=m=>m?new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",l=m=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(m||0);if(t||i)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading roommates..."})]})})});if(!e)return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(Zt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Active Tenancy"}),s.jsx("p",{className:"text-gray-600",children:"You don't have an active tenancy at the moment."})]})})});const{property:c,room:d}=e,u=(A=JSON.parse(localStorage.getItem("user")))==null?void 0:A.id;return s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl shadow-2xl p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 flex items-center",children:[s.jsx(Vr,{className:"w-10 h-10 mr-3"}),"Your Roommates"]}),s.jsxs("p",{className:"text-indigo-100 text-lg",children:["People living in Room ",d==null?void 0:d.roomNumber]})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[s.jsx("p",{className:"text-indigo-100 text-sm",children:"Total Tenants"}),s.jsx("p",{className:"text-4xl font-bold",children:r.length})]})]})})]})}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Room Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-indigo-700 font-medium mb-1",children:"Property"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(c==null?void 0:c.propertyName)||e.propertyName||"N/A"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-purple-700 font-medium mb-1",children:"Room Number"}),s.jsxs("p",{className:"text-base font-semibold text-gray-900",children:["Room ",(d==null?void 0:d.roomNumber)||e.roomNumber||"N/A"]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"Room Type"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:(d==null?void 0:d.roomType)||"Standard"})]}),s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsxs("p",{className:"text-sm text-green-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(ti,{className:"w-3 h-3"})," Monthly Rent"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:l((d==null?void 0:d.rent)||e.monthlyRent)})]}),s.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 md:col-span-2 lg:col-span-2",children:[s.jsxs("p",{className:"text-sm text-amber-700 font-medium mb-1 flex items-center gap-1",children:[s.jsx(wr,{className:"w-3 h-3"})," Address"]}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:c!=null&&c.address&&typeof c.address=="object"?`${c.address.street||""}, ${c.address.city||""}, ${c.address.state||""} - ${c.address.pincode||""}`:((f=e.propertySnapshot)==null?void 0:f.address)||"Address not available"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((m,x)=>{var v,y;const p=m.userId===u;return s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+x*.1},className:`bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow ${p?"ring-2 ring-indigo-500":""}`,children:s.jsxs("div",{className:`p-6 ${p?"bg-gradient-to-r from-indigo-50 to-purple-50":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.profilePicture||typeof m.userId=="object"&&((v=m.userId)!=null&&v.profilePicture)?s.jsx("img",{src:m.profilePicture||((y=m.userId)==null?void 0:y.profilePicture),alt:m.userName,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-sm"}):s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx(ar,{className:"w-8 h-8 text-white"})}),p&&s.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-xs font-medium rounded-full",children:"You"}),m.status==="active"&&s.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full flex items-center gap-1",children:[s.jsx(Que,{className:"w-3 h-3"}),"Active"]})]}),s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:[m.userName," ",p&&s.jsx("span",{className:"text-indigo-600 font-semibold",children:"(You)"})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(yn,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:m.userEmail})]}),m.userPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ms,{className:"w-4 h-4 text-indigo-600 flex-shrink-0"}),s.jsx("span",{children:m.userPhone})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Or,{className:"w-4 h-4 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Checked in on"}),s.jsx("p",{className:"font-medium text-gray-900",children:o(m.actualCheckInDate)})]})]})})]})},m._id)})}),r.length===0&&s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[s.jsx(Vr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"No roommates found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"You might be the only tenant in this room"})]}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Privacy Notice"}),s.jsx("p",{className:"text-sm text-gray-700",children:"Contact information is shared only with tenants residing in the same room. Please respect each other's privacy and maintain a friendly environment."})]})]})})]})})})},Ew="http://localhost:5000/api",dSe=()=>{const{tenantData:e,loading:t,error:r}=sm(),{toast:n}=xc(),[i,a]=_.useState([]),[o,l]=_.useState(!1),[c,d]=_.useState(!1),[u,A]=_.useState([]),[f,m]=_.useState(null),x=E=>E?typeof E=="string"?E:(E._id||E.id||E).toString():"",p=localStorage.getItem("userUpiId")||"",[v,y]=_.useState({description:"",totalAmount:"",paidBy:"",splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:p}),b=["Groceries","Utilities","Food Delivery","Cleaning Supplies","Internet","Maintenance","Other"];_.useEffect(()=>{const E=JSON.parse(localStorage.getItem("user"));E&&(m(E.id||E._id||E.userId),y(Q=>({...Q,paidBy:E.name||""})))},[]);const w=async()=>{var E;if(e!=null&&e.roomId)try{l(!0);const Q=localStorage.getItem("authToken"),F=((E=e.roomId)==null?void 0:E._id)||e.roomId,W=(await xr.get(`${Ew}/property/public/rooms/${F}/tenants`,{headers:{Authorization:`Bearer ${Q}`}})).data.tenants||[],D=[],z=new Set;W.forEach(te=>{const le=x(te.userId);le&&!z.has(le)&&(z.add(le),D.push(te))}),a(D);const ee=await xr.get(`${Ew}/property/expenses`,{headers:{Authorization:`Bearer ${Q}`}});A(ee.data.expenses||[])}catch(Q){console.error("Error fetching data:",Q)}finally{l(!1)}};_.useEffect(()=>{e&&w()},[e]);const j=async E=>{var D,z;E.preventDefault();const Q=[...v.splitWith,f],F=[...new Set(Q)],K=parseFloat(v.totalAmount)/F.length,W=F.map(ee=>({user:ee,amount:K}));try{const ee=localStorage.getItem("authToken");await xr.post(`${Ew}/property/expenses`,{description:v.description,totalAmount:parseFloat(v.totalAmount),category:v.category,date:v.date,targetUpiId:v.targetUpiId,splits:W},{headers:{Authorization:`Bearer ${ee}`}}),localStorage.setItem("userUpiId",v.targetUpiId),n({title:"Success",description:"Expense added successfully"}),d(!1),y({description:"",totalAmount:"",paidBy:v.paidBy,splitWith:[],category:"groceries",date:new Date().toISOString().split("T")[0],targetUpiId:v.targetUpiId}),w()}catch(ee){console.error("Error adding expense:",ee),n({variant:"destructive",title:"Error",description:((z=(D=ee.response)==null?void 0:D.data)==null?void 0:z.message)||"Failed to add expense"})}},N=async(E,Q)=>{var W,D;const F=((W=E.paidBy)==null?void 0:W.name)||((D=E.paidBy)==null?void 0:D.userName)||"Roommate",K=`upi://pay?pa=${E.targetUpiId}&pn=${encodeURIComponent(F)}&tr=${E._id}&tn=${encodeURIComponent(E.description)}&am=${Q}&cu=INR`;window.location.href=K,setTimeout(()=>{window.confirm("Did you complete the payment via your UPI app?")&&B(E._id)},3e3)},B=async E=>{try{const Q=localStorage.getItem("authToken");await xr.post(`${Ew}/property/expenses/${E}/settle`,{},{headers:{Authorization:`Bearer ${Q}`}}),n({title:"Success",description:"Payment settled!"}),w()}catch(Q){console.error("Error settling expense:",Q),n({variant:"destructive",title:"Error",description:"Failed to update payment status"})}},I=E=>{if(!E||!f)return;const Q=x(E),F=x(f);Q!==F&&y(K=>{const W=K.splitWith.some(D=>D.toString()===Q);return{...K,splitWith:W?K.splitWith.filter(D=>D.toString()!==Q):[...K.splitWith,Q]}})},P=E=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(E||0),T=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),U=u.reduce((E,Q)=>{const F=Q.splits.find(K=>K.user._id===f||K.user===f);return F&&Q.paidBy._id!==f&&F.status==="pending"?E+F.amount:E},0),k=u.reduce((E,Q)=>{if(Q.paidBy._id===f){const F=Q.splits.reduce((K,W)=>W.user._id!==f&&W.status==="pending"?K+W.amount:K,0);return E+F}return E},0);return t?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying tenant status..."})]})})}):e?s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(CN,{className:"w-8 h-8 text-green-600"}),"Expense Split"]}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Manage shared expenses easily"})]}),s.jsxs("button",{onClick:()=>d(!c),className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg flex items-center gap-2 text-sm",children:[c?s.jsx(or,{className:"w-4 h-4"}):s.jsx(ld,{className:"w-4 h-4"}),c?"Cancel":"Add Expense"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-red-100 flex flex-col justify-between h-32 relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1",children:"You Owe"}),s.jsx("h3",{className:"text-2xl font-bold text-red-600",children:P(U)})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(xF,{className:"w-16 h-16 text-red-600"})})]}),s.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-green-100 flex flex-col justify-between h-32 relative overflow-hidden group",children:[s.jsxs("div",{className:"relative z-10",children:[s.jsx("p",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1",children:"Owed to You"}),s.jsx("h3",{className:"text-2xl font-bold text-green-600",children:P(k)})]}),s.jsx("div",{className:"absolute right-0 bottom-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:s.jsx(No,{className:"w-16 h-16 text-green-600"})})]})]}),c&&s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-6 mb-8 border border-gray-100",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"New Expense"}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),s.jsx("input",{type:"text",required:!0,value:v.description,onChange:E=>y({...v,description:E.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"What's this for?"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:""}),s.jsx("input",{type:"number",required:!0,min:"1",value:v.totalAmount,onChange:E=>y({...v,totalAmount:E.target.value}),className:"w-full pl-7 pr-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",placeholder:"0.00"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Category"}),s.jsx("select",{required:!0,value:v.category,onChange:E=>y({...v,category:E.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm",children:b.map(E=>s.jsx("option",{value:E.toLowerCase(),children:E},E))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Your UPI ID (for receiving payment)"}),s.jsx("input",{type:"text",required:!0,value:v.targetUpiId,onChange:E=>y({...v,targetUpiId:E.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50",placeholder:"username@upi"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Roommates will pay to this ID."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:"Split with"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.filter(E=>x(E.userId)!==x(f)).map(E=>{var K,W;const Q=x(E.userId),F=v.splitWith.some(D=>x(D)===Q);return s.jsxs("button",{type:"button",onClick:()=>I(E.userId),className:`flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm transition-all ${F?"bg-green-50 border-green-500 text-green-700":"bg-white border-gray-200 text-gray-600 hover:border-green-300"}`,children:[E.profilePicture||typeof E.userId=="object"&&((K=E.userId)!=null&&K.profilePicture)?s.jsx("img",{src:E.profilePicture||((W=E.userId)==null?void 0:W.profilePicture),alt:E.userName,className:"w-5 h-5 rounded-full object-cover"}):s.jsx(ar,{className:"w-3 h-3"}),E.userName]},E._id)})}),s.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["You + ",v.splitWith.length," others. Share: ",s.jsxs("strong",{className:"text-gray-700",children:[P(v.totalAmount&&v.splitWith.length+1?v.totalAmount/(v.splitWith.length+1):0),"/person"]})]})]}),s.jsx("button",{type:"submit",disabled:v.splitWith.length===0,className:"w-full py-3 bg-gray-900 text-white rounded-xl font-medium hover:bg-black transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"Add Expense"})]})]}),s.jsxs("div",{className:"space-y-4",children:[u.map(E=>{var W,D,z,ee;const Q=E.paidBy._id===f,F=E.splits.find(te=>te.user._id===f||te.user===f),K=(F==null?void 0:F.status)==="settled";return!Q&&!F?null:s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Q?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:Q?s.jsx(No,{className:"w-5 h-5"}):s.jsx(xF,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:E.description}),s.jsx("p",{className:"text-xs text-gray-500",children:Q?`You paid ${P(E.totalAmount)}`:`${((W=E.paidBy)==null?void 0:W.name)||((D=E.paidBy)==null?void 0:D.userName)||"Someone"} paid ${P(E.totalAmount)}`})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:T(E.date)}),s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs font-medium capitalize",children:E.category})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"text-sm",children:Q?s.jsxs("span",{className:"text-green-700 font-medium",children:["You are owed ",P(E.splits.reduce((te,le)=>le.user._id!==f&&le.status==="pending"?te+le.amount:te,0))]}):s.jsx("span",{className:K?"text-gray-500":"text-red-700 font-medium",children:K?"You settled your share":`You owe ${P(F==null?void 0:F.amount)}`})})}),!Q&&!K&&s.jsxs("button",{onClick:()=>N(E,F.amount),className:"px-4 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-full hover:bg-blue-700 transition-colors shadow-sm flex items-center gap-1",children:["Pay ",(((z=E.paidBy)==null?void 0:z.name)||((ee=E.paidBy)==null?void 0:ee.userName)||"Roommate").split(" ")[0]]}),Q&&s.jsx("div",{className:"flex -space-x-2",children:E.splits.filter(te=>te.user._id!==f).map(te=>{var le,$,X,V;return s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center border-2 border-white text-[10px] font-bold ${te.status==="settled"?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,title:`${((le=te.user)==null?void 0:le.name)||(($=te.user)==null?void 0:$.userName)||"User"}: ${te.status}`,children:(((X=te.user)==null?void 0:X.name)||((V=te.user)==null?void 0:V.userName)||"?").charAt(0)},te._id)})})]})]},E._id)}),u.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"No shared expenses yet."})})]})]})})}):s.jsx(jr,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md bg-white p-8 rounded-2xl shadow-xl",children:[s.jsx(Zt,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),s.jsxs("p",{className:"text-gray-600 mb-6",children:["Unable to verify tenant status.",r?s.jsxs("span",{className:"block mt-2 text-red-500 text-sm",children:["Error: ",r]}):s.jsx("span",{className:"block mt-2 text-sm text-gray-500",children:"Please make sure the backend server is running."})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Retry"})]})})})},uSe=e=>{const t=new Date(e),n=Math.floor((new Date-t)/1e3);if(n<60)return"Just now";const i=Math.floor(n/60);if(i<60)return`${i} minute${i>1?"s":""} ago`;const a=Math.floor(i/60);if(a<24)return`${a} hour${a>1?"s":""} ago`;const o=Math.floor(a/24);if(o<7)return`${o} day${o>1?"s":""} ago`;const l=Math.floor(o/7);if(l<4)return`${l} week${l>1?"s":""} ago`;const c=Math.floor(o/30);if(c<12)return`${c} month${c>1?"s":""} ago`;const d=Math.floor(o/365);return`${d} year${d>1?"s":""} ago`},hSe=({onMenuToggle:e})=>{const t=cr(),r=_.useRef(!0),[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState([]),[d,u]=_.useState(0),[A,f]=_.useState(!1),[m,x]=_.useState(()=>JSON.parse(localStorage.getItem("user")||"{}"));_.useEffect(()=>{const j=()=>{try{x(JSON.parse(localStorage.getItem("user")||"{}"))}catch{}};return window.addEventListener("lyvo-profile-update",j),window.addEventListener("lyvo-login",j),window.addEventListener("lyvo-logout",j),()=>{window.removeEventListener("lyvo-profile-update",j),window.removeEventListener("lyvo-login",j),window.removeEventListener("lyvo-logout",j)}},[]),_.useEffect(()=>{const j=N=>{console.log(" OwnerNavbar received new-notification event:",N.detail),p(!0)};return window.addEventListener("new-notification",j),()=>window.removeEventListener("new-notification",j)},[]);const p=async(j=!1)=>{if(A&&!j){console.log("Skipping fetch: already loading");return}try{j||f(!0);const N=localStorage.getItem("authToken"),B=JSON.parse(localStorage.getItem("user")||"{}");if(!N||!B._id){console.log("Skipping fetch: Not authenticated");return}const I="http://localhost:5000/api";console.log("Fetching notifications from:",`${I}/notifications`);const P=await fetch(`${I}/notifications`,{headers:{Authorization:`Bearer ${N}`}});if(P.ok){const T=await P.json();T.success&&r.current&&(console.log("Notifications fetched:",T.data.length),c(T.data||[]),u(T.unreadCount||0))}else console.error("Fetch failed:",P.status)}catch(N){console.error("Error fetching notifications:",N)}finally{j||f(!1)}},v=async j=>{try{const N=localStorage.getItem("authToken"),B=JSON.parse(localStorage.getItem("user")||"{}");if(!N||!B._id)return;(await fetch(`http://localhost:5000/api/notifications/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${N}`,"x-user-id":B._id}})).ok&&(c(T=>T.filter(U=>U._id!==j)),u(T=>Math.max(0,T-1)),p(!0))}catch(N){console.error("Error deleting notification:",N)}};_.useEffect(()=>()=>{r.current=!1},[]),_.useEffect(()=>{p();const j=setInterval(()=>{p()},12e4);return()=>{clearInterval(j)}},[]),_.useEffect(()=>{const j=N=>{console.log(" OwnerNavbar received new-notification event:",N.detail),p(!0)};return window.addEventListener("new-notification",j),()=>window.removeEventListener("new-notification",j)},[]),_.useEffect(()=>{const j=N=>{N.target.closest(".dropdown-container")||(i(!1),o(!1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const y=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),t("/login")},b={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},w={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(Z.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:w,whileHover:"hover",whileTap:"tap",children:s.jsx(_N,{className:"w-5 h-5"})}),s.jsxs(Tt,{to:"/owner-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(Z.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Z.button,{onClick:()=>o(!a),className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(Wh,{className:"w-5 h-5"}),d>0&&s.jsx(Z.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:d>9?"9+":d})]}),s.jsx(gn,{children:a&&s.jsxs(Z.div,{className:"absolute right-0 mt-2 w-72 sm:w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:A?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading notifications..."})]}):l.filter(j=>!j.is_read).length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Wh,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No new notifications"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You're all caught up!"})]}):l.filter(j=>!j.is_read).slice(0,5).map(j=>s.jsxs(Z.div,{className:"relative p-4 border-b border-gray-100 bg-blue-50 hover:bg-blue-100 group",transition:{duration:.2},children:[s.jsx("div",{className:"cursor-pointer pr-8",onClick:()=>{j.action_url&&(t(j.action_url),o(!1))},children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j.title}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:j.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:uSe(j.createdAt)})]}),s.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]})}),s.jsx("button",{onClick:N=>{N.stopPropagation(),v(j._id)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors opacity-0 group-hover:opacity-100",title:"Delete notification",children:s.jsx(sr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},j._id))}),l.filter(j=>!j.is_read).length>0&&s.jsxs("div",{className:"p-4 border-t border-gray-200 flex items-center justify-between",children:[s.jsx(Tt,{to:"/owner-notifications",className:"text-sm text-red-600 hover:text-red-700 font-medium",onClick:()=>o(!1),children:"View all notifications"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[l.filter(j=>!j.is_read).length," unread"]})]})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Z.button,{onClick:()=>i(!n),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:w,whileHover:"hover",whileTap:"tap",children:[s.jsx(Z.div,{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full overflow-hidden bg-red-100 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:m!=null&&m.profilePicture?s.jsx("img",{src:m.profilePicture,alt:"avatar",className:"w-full h-full object-cover"}):s.jsx(ar,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:m.name||"Owner"})]}),s.jsx(gn,{children:n&&s.jsx(Z.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:b,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Z.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsx(Tt,{to:"/owner-profile",className:"block px-4 py-2 text-sm text-gray-700",children:"Profile Settings"})}),s.jsx(Z.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(hc,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},dD=({onClose:e})=>{const t=to(),r=cr(),n=JSON.parse(localStorage.getItem("user")||"{}"),i=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login")},a=[{name:"Dashboard",href:"/owner-dashboard",icon:Ir},{name:"Properties",href:"/owner-properties",icon:Jr},{name:"Tenants",href:"/owner-tenants",icon:Vr},{name:"Bookings",href:"/owner-bookings",icon:Or},{name:"Maintenance",href:"/owner-maintenance",icon:zd},{name:"Payments",href:"/owner-payments",icon:ti},{name:"Analytics",href:"/owner-analytics",icon:_p},{name:"Profile Settings",href:"/owner-settings",icon:nc}],o=d=>t.pathname===d,l={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},c={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(Z.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(Z.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(Z.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Owner",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})," Owner"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Property Management"})]})]}),s.jsx(Z.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:c,whileHover:"hover",whileTap:"tap",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx(Z.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Z.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(Vr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name||"Property Owner"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email||"owner@lyvo+.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsxs("div",{className:"px-4 space-y-2",children:[s.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:s.jsxs(Tt,{to:"/owner-add-property",onClick:e,className:"group flex items-center px-3 py-3 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 mb-4 shadow-sm",children:[s.jsx(ld,{className:"mr-3 h-5 w-5"}),"Add Property"]})}),a.map((d,u)=>{const A=d.icon;return s.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+u*.05,duration:.3,ease:"easeOut"},children:s.jsx(Z.div,{variants:l,whileHover:"hover",whileTap:"tap",children:s.jsxs(Tt,{to:d.href,onClick:e,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${o(d.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(A,{className:`mr-3 h-5 w-5 ${o(d.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),d.name]})})},d.name)})]})}),s.jsx(Z.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(Z.button,{onClick:i,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:c,whileHover:"hover",whileTap:"tap",children:[s.jsx(hc,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},ASe=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 py-6 px-4 lg:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-8",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Property Management Platform"})]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4 max-w-md",children:"Streamline your property management operations with our comprehensive platform designed for property owners and managers."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),s.jsxs("a",{href:"#",className:"text-gray-400 hover:text-gray-600",children:[s.jsx("span",{className:"sr-only",children:"LinkedIn"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{fillRule:"evenodd",d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",clipRule:"evenodd"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Tt,{to:"/owner-dashboard",className:"text-sm text-gray-600 hover:text-gray-900",children:"Dashboard"})}),s.jsx("li",{children:s.jsx(Tt,{to:"/owner-properties",className:"text-sm text-gray-600 hover:text-gray-900",children:"Properties"})}),s.jsx("li",{children:s.jsx(Tt,{to:"/owner-tenants",className:"text-sm text-gray-600 hover:text-gray-900",children:"Tenants"})}),s.jsx("li",{children:s.jsx(Tt,{to:"/owner-settings",className:"text-sm text-gray-600 hover:text-gray-900",children:"Settings"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Help Center"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Contact Support"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"API Reference"})})]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[" 2024 ",s.jsx("span",{className:"text-red-600",children:"Lyvo"}),s.jsx("span",{className:"text-black",children:"+"}),". All rights reserved."]}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Privacy Policy"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Terms of Service"}),s.jsx("a",{href:"#",className:"text-sm text-gray-600 hover:text-gray-900",children:"Cookie Policy"})]})]})})]})}),cn=({children:e,hideFooter:t=!1})=>{const[r,n]=_.useState(!1),[i,a]=_.useState(!1),o=()=>{n(!r)},l=()=>{n(!1)},c={hidden:{x:"-100%",opacity:0,transition:{duration:.3,ease:"easeInOut"}},visible:{x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},exit:{x:"-100%",opacity:0,transition:{duration:.25,ease:"easeInOut"}}},d={hidden:{opacity:0,transition:{duration:.2}},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},u=A=>{if(!A||A.role!==3)return!1;const f=!!A.govtIdFrontUrl||!!A.govtIdBackUrl,m=A.kycVerified===!0||A.kycStatus==="approved";return!(f||m)};return _.useEffect(()=>{const A=async()=>{try{const m=localStorage.getItem("user");if(!m)return;const x=JSON.parse(m);if((x==null?void 0:x.role)!==3)return;a(u(x));const p=localStorage.getItem("authToken");if(!p||!(x!=null&&x._id))return;const y=await fetch(`http://localhost:5000/api/user/profile/${x._id}`,{headers:{Authorization:`Bearer ${p}`}});if(y.ok){const b=await y.json();b!=null&&b._id&&(localStorage.setItem("user",JSON.stringify(b)),a(u(b)))}}catch{}};A();const f=()=>A();return window.addEventListener("lyvo-user-updated",f),()=>window.removeEventListener("lyvo-user-updated",f)},[]),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(dD,{onClose:l})}),s.jsxs("div",{className:"lg:ml-64",children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white shadow-sm",children:s.jsx(hSe,{onMenuToggle:o})}),i&&s.jsx("div",{className:"fixed top-20 right-4 z-40 max-w-xs",children:s.jsxs("div",{className:"bg-white border border-yellow-300 rounded-xl shadow-lg p-4",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Add Govt ID"}),s.jsx("div",{className:"text-xs text-gray-600 mb-3",children:"Verify your identity to boost trust. Upload any govt-approved ID."}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("button",{onClick:()=>{window.location.href="/owner-settings#kyc"},className:"px-3 py-1.5 bg-red-600 text-white text-xs rounded-md hover:bg-red-700",children:"Add ID"}),s.jsx("button",{onClick:()=>a(!1),className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700",children:"Dismiss"})]})]})}),s.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 overflow-auto",children:e}),!t&&s.jsx(ASe,{})]}),s.jsx(gn,{children:r&&s.jsx(Z.div,{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",variants:d,initial:"hidden",animate:"visible",exit:"exit",onClick:l})}),s.jsx(gn,{children:r&&s.jsx("div",{className:"fixed inset-0 z-50 lg:hidden",children:s.jsx(Z.div,{className:"absolute inset-y-0 left-0 w-64 max-w-[80vw]",variants:c,initial:"hidden",animate:"visible",exit:"exit",children:s.jsx(dD,{onClose:l})})})}),s.jsx(jK,{}),s.jsx(cW,{})]})},fSe=()=>{const e=cr(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState(0),[l,c]=_.useState(!1),[d,u]=_.useState(null),[A,f]=_.useState([]),[m,x]=_.useState([]),[p,v]=_.useState({totalProperties:0,activeTenants:0,monthlyRevenue:0,averageRating:0,occupancyRate:0,pendingApplications:0}),[y,b]=_.useState(!1),[w,j]=_.useState(null);_.useEffect(()=>{(()=>{const z=localStorage.getItem("authToken"),ee=localStorage.getItem("user");if(!z||!ee){e("/login");return}try{const te=JSON.parse(ee);if(te.role!==3){e("/login");return}r(te)}catch(te){console.error("Error parsing user data:",te),e("/login")}i(!1)})()},[e]);const N=async()=>{try{c(!0),u(null);const D=localStorage.getItem("authToken");if(!D){console.warn("No auth token found for tenant fetch"),u("Authentication required");return}const z="http://localhost:5000/api";console.log("Fetching tenants from:",`${z}/property/owner/tenants`);const ee=new AbortController,te=setTimeout(()=>ee.abort(),1e4),le=await fetch(`${z}/property/owner/tenants`,{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},signal:ee.signal});if(clearTimeout(te),console.log("Tenant fetch response status:",le.status),le.ok){const $=await le.json();if(console.log("Tenant fetch response data:",$),$.success){const X=$.count||0;o(X),console.log(`Successfully fetched ${X} tenants`),u(null)}else console.warn("API returned success: false",$.message),u($.message||"Failed to fetch tenant data")}else{const $=await le.text();console.error("Tenant fetch failed:",le.status,$),le.status===401?u("Authentication failed. Please log in again."):le.status===404?(o(0),u(null),console.log("No tenants found for this owner")):le.status>=500?u("Server error. Please try again later."):u(`Failed to fetch tenants (${le.status})`)}}catch(D){console.error("Network error fetching tenant count:",D),D.name==="AbortError"?u("Request timed out. Please try again."):D.name==="TypeError"&&D.message.includes("fetch")?u("Network error. Please check your connection."):u("Unexpected error occurred")}finally{c(!1)}};_.useEffect(()=>{t&&U()},[t]),_.useEffect(()=>{(A.length>0||m.length>0)&&T()},[A,m,a]);const B=()=>{console.log("Retrying tenant fetch..."),N()},I=async()=>{try{const D=localStorage.getItem("authToken");if(!D){console.warn("No auth token found for properties fetch");return}const ee=await fetch("http://localhost:5000/api/property/owner/properties",{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}});if(ee.ok){const te=await ee.json();te.success&&te.data&&(f(te.data),console.log(`Successfully fetched ${te.data.length} properties`))}else console.error("Failed to fetch properties:",ee.status)}catch(D){console.error("Error fetching properties:",D)}},P=async()=>{try{const D=localStorage.getItem("authToken");if(!D){console.warn("No auth token found for bookings fetch");return}const ee=await fetch("http://localhost:5000/api/property/owner/bookings",{headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}});if(ee.ok){const te=await ee.json();te.success&&te.bookings&&(x(te.bookings),console.log(`Successfully fetched ${te.bookings.length} bookings`))}else console.error("Failed to fetch bookings:",ee.status)}catch(D){console.error("Error fetching bookings:",D)}},T=()=>{try{const D=A.length,z=a,te=m.filter(he=>he.status==="confirmed").reduce((he,ge)=>he+(ge.rent||0),0),le=A.filter(he=>he.rating&&he.rating>0),$=le.length>0?le.reduce((he,ge)=>he+ge.rating,0)/le.length:0;let X=0,V=0;A.forEach(he=>{he.rooms&&Array.isArray(he.rooms)&&(X+=he.rooms.length,V+=he.rooms.filter(ge=>!ge.isAvailable).length)});const ne=X>0?Math.round(V/X*100):0,ae=m.filter(he=>he.status==="pending").length;v({totalProperties:D,activeTenants:z,monthlyRevenue:te,averageRating:Math.round($*10)/10,occupancyRate:ne,pendingApplications:ae}),console.log("Dashboard stats calculated:",{totalProperties:D,activeTenants:z,monthlyRevenue:te,averageRating:$,occupancyRate:ne,pendingApplications:ae})}catch(D){console.error("Error calculating dashboard stats:",D)}},U=async()=>{try{b(!0),j(null),await Promise.all([I(),P(),N()])}catch(D){console.error("Error fetching dashboard data:",D),j("Failed to load dashboard data")}finally{b(!1)}},k=A.slice(0,3).map(D=>{const z=D.rooms||[],ee=z.length,te=z.filter(ae=>!ae.isAvailable).length,le=ee>0?Math.round(te/ee*100):0,X=m.filter(ae=>String(ae.propertyId)===String(D._id)&&ae.status==="confirmed").reduce((ae,he)=>ae+(he.rent||0),0),V=D.images&&D.images[0]?D.images[0]:D.frontImage||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center";let ne="Location not available";if(D.address){if(typeof D.address=="string")ne=D.address;else if(typeof D.address=="object"){const ae=[];D.address.city&&ae.push(D.address.city),D.address.state&&ae.push(D.address.state),ne=ae.length>0?ae.join(", "):"Location not available"}}return{id:D._id,name:D.propertyName||D.property_name||"Unnamed Property",location:ne,type:D.propertyType||D.property_type||"Property",tenants:te,occupancy:`${le}%`,revenue:`${X.toLocaleString("en-IN")}`,status:D.status==="approved"?"Active":D.status||"Pending",image:V}}),E=D=>{if(!D)return"Unknown time";const z=new Date(D),te=Math.floor((new Date-z)/1e3);if(te<60)return"Just now";const le=Math.floor(te/60);if(le<60)return`${le} minute${le>1?"s":""} ago`;const $=Math.floor(le/60);if($<24)return`${$} hour${$>1?"s":""} ago`;const X=Math.floor($/24);if(X<7)return`${X} day${X>1?"s":""} ago`;const V=Math.floor(X/7);if(V<4)return`${V} week${V>1?"s":""} ago`;const ne=Math.floor(X/30);if(ne<12)return`${ne} month${ne>1?"s":""} ago`;const ae=Math.floor(X/365);return`${ae} year${ae>1?"s":""} ago`},F=(()=>{const D=[];return m.slice(0,3).forEach(z=>{var ne;const ee=A.find(ae=>String(ae._id)===String(z.propertyId)),te=ee?ee.propertyName||ee.property_name:"Unknown Property",le=((ne=z.userSnapshot)==null?void 0:ne.name)||"Unknown User";let $="",X="",V="";switch(z.status){case"pending_approval":$=`New booking request from ${le} for ${te}`,X="pending",V="tenant";break;case"confirmed":$=`Booking confirmed by ${le} for ${te}`,X="completed",V="payment";break;case"checked_in":$=`${le} successfully checked in to ${te}`,X="completed",V="tenant";break;case"rejected":$=`Booking rejected for ${te}`,X="completed",V="tenant";break;case"cancelled":$=`Booking cancelled for ${te}`,X="completed",V="tenant";break;default:$=`Booking ${z.status} for ${te}`,X="in-progress",V="tenant"}D.push({id:`booking-${z._id}`,type:V,message:$,time:E(z.createdAt||z.bookedAt),status:X,createdAt:z.createdAt||z.bookedAt})}),A.slice(0,2).forEach(z=>{const ee=z.propertyName||z.property_name||"Unnamed Property";D.push({id:`property-${z._id}`,type:"property",message:`Property "${ee}" ${z.status==="approved"?"approved":"pending approval"}`,time:E(z.createdAt),status:z.status==="approved"?"completed":"pending",createdAt:z.createdAt})}),D.sort((z,ee)=>new Date(ee.createdAt)-new Date(z.createdAt)).slice(0,4)})(),K=D=>{switch(D){case"tenant":return s.jsx(Vr,{className:"w-5 h-5 text-blue-600"});case"payment":return s.jsx(ti,{className:"w-5 h-5 text-green-600"});case"maintenance":return s.jsx(Jr,{className:"w-5 h-5 text-orange-600"});case"property":return s.jsx(ld,{className:"w-5 h-5 text-purple-600"});default:return s.jsx(Or,{className:"w-5 h-5 text-gray-600"})}},W=D=>{switch(D){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"in-progress":return"text-blue-600 bg-blue-100";default:return"text-gray-600 bg-gray-100"}};return n?s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(cn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["Welcome back, ",(t==null?void 0:t.name)||"Owner","!"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Here's what's happening with your properties today."})]}),s.jsxs("div",{className:"sm:mt-0 flex space-x-3",children:[s.jsxs("button",{onClick:()=>e("/owner-messages"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Messages"]}),s.jsxs("button",{onClick:()=>e("/owner-add-property"),className:"w-full sm:w-auto inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsx(ld,{className:"w-4 h-4 mr-2"}),"Add Property"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.totalProperties})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-blue-100 rounded-lg",children:s.jsx(Jr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(No,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+2 this month"})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Active Tenants"}),l?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):d?s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-red-600",children:"Error loading tenants"}),s.jsx("button",{onClick:B,className:"text-xs text-blue-600 hover:text-blue-800 underline",children:"Retry"})]}):s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.activeTenants})]}),s.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${d?"bg-red-100":"bg-green-100"}`,children:s.jsx(Vr,{className:`w-5 h-5 sm:w-6 sm:h-6 ${d?"text-red-600":"text-green-600"}`})})]}),!l&&!d&&s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(No,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:p.activeTenants>0?"+3 this week":"No tenants yet"})]}),d&&s.jsx("div",{className:"mt-3 sm:mt-4",children:s.jsx("p",{className:"text-xs text-gray-500",children:d==="No tenants found for this owner"?"Start by adding properties and getting bookings":"Check your connection and try again"})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Monthly Revenue"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:["",p.monthlyRevenue.toLocaleString()]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-green-100 rounded-lg",children:s.jsx(ti,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(No,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+12% vs last month"})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Average Rating"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.averageRating})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-yellow-100 rounded-lg",children:s.jsx(ka,{className:"w-5 h-5 sm:w-6 sm:h-6 text-yellow-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(No,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+0.2 this month"})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Occupancy Rate"}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[p.occupancyRate,"%"]})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-lg",children:s.jsx(Au,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-green-600",children:[s.jsx(No,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),s.jsx("span",{children:"+5% vs last month"})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200 sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Applications"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:p.pendingApplications})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-orange-100 rounded-lg",children:s.jsx(Or,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"})})]}),s.jsx("div",{className:"mt-3 sm:mt-4 flex items-center text-xs sm:text-sm text-blue-600",children:s.jsx("span",{children:"Requires attention"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Properties"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Your latest property listings and their performance"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:y?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading properties..."})]}):k.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Jr,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No properties yet"}),s.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Add your first property to get started"}),s.jsx("button",{onClick:()=>e("/owner-add-property"),className:"px-4 py-2 bg-red-600 text-white text-xs font-medium rounded-lg hover:bg-red-700",children:"Add Property"})]}):k.map(D=>s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("img",{src:D.image,alt:D.name,className:"w-12 h-12 sm:w-16 sm:h-16 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 truncate",children:D.name}),s.jsx("p",{className:"text-xs text-gray-500",children:D.location}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-600",children:[D.tenants," tenants"]}),s.jsx("span",{className:"text-xs text-gray-600",children:""}),s.jsxs("span",{className:"text-xs text-gray-600",children:[D.occupancy," occupied"]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900",children:D.revenue}),s.jsx("p",{className:"text-xs text-green-600",children:D.status})]}),s.jsx("button",{className:"p-1 sm:p-2 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(Bv,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]},D.id))}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200",children:s.jsx("button",{onClick:()=>e("/owner-properties"),className:"text-xs sm:text-sm text-red-600 hover:text-red-700 font-medium",children:"View all properties "})})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Recent Activities"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Latest updates and notifications"})]}),s.jsx("div",{className:"p-4 sm:p-6 space-y-4",children:y?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-red-600 mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading activities..."})]}):F.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(Or,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No recent activities"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Activities will appear here as bookings and properties are created"})]}):F.map(D=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:K(D.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-900",children:D.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.time})]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${W(D.status)} flex-shrink-0`,children:D.status})]},D.id))})]})]})]})})},mSe=()=>{const e=cr(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState([]),[l,c]=_.useState(""),[d,u]=_.useState("all"),[A,f]=_.useState({}),[m,x]=_.useState({}),p=async()=>{try{const j=localStorage.getItem("authToken");if(!j){e("/login");return}const N=await fetch("http://localhost:5000/api/property/owner/properties",{headers:{Authorization:`Bearer ${j}`}});if(N.ok){const B=await N.json();B.success&&(console.log("Properties fetched:",B.data),o(B.data))}}catch(j){console.error("Error fetching properties:",j)}},v=async(j,N)=>{try{x(P=>({...P,[j]:!0}));const B=localStorage.getItem("authToken");if(!B){e("/login");return}const I=await fetch(`http://localhost:5000/api/property/owner/properties/${j}/status`,{method:"PUT",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({status:N})});I.ok?(await I.json()).success&&(o(T=>T.map(U=>U._id===j?{...U,status:N,updated_at:new Date().toISOString()}:U)),console.log("Property status updated successfully")):console.error("Failed to update property status")}catch(B){console.error("Error updating property status:",B)}finally{x(B=>({...B,[j]:!1}))}};window.refreshProperties=p,_.useEffect(()=>{(()=>{const N=localStorage.getItem("authToken"),B=localStorage.getItem("user");if(!N||!B){e("/login");return}try{const I=JSON.parse(B);if(I.role!==3){e("/login");return}r(I),p()}catch(I){console.error("Error parsing user data:",I),e("/login")}i(!1)})()},[e]);const y=a.map(j=>{var I,P,T,U;let N=[],B=!1;if(console.log("Processing property:",j.property_name),console.log("Property images:",j.images),j.images){const k=[{url:j.images.front,label:"Front"},{url:j.images.hall,label:"Hall"},{url:j.images.room,label:"Room"},{url:j.images.back,label:"Back"},{url:j.images.toilet,label:"Toilet"},{url:j.images.frontImage,label:"Front"},{url:j.images.hallImage,label:"Hall"},{url:j.images.roomImage,label:"Room"},{url:j.images.backImage,label:"Back"},{url:j.images.toiletImage,label:"Toilet"}].filter(E=>E.url);j.images.images&&Array.isArray(j.images.images)&&j.images.images.forEach((E,Q)=>{E&&k.push({url:E,label:`Image ${Q+1}`})}),N=k,B=k.length>0,console.log("Found images:",N.length)}return B||(N=[{url:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",label:"Default"}]),{id:j._id||j.id,name:j.property_name,location:`${((I=j.address)==null?void 0:I.city)||""}, ${((P=j.address)==null?void 0:P.state)||""}`,type:j.property_type,status:j.status==="active"?"Active":"Inactive",tenants:j.rooms?j.rooms.filter(k=>!k.is_available).length:0,maxTenants:j.rooms?j.rooms.length:0,monthlyRent:((T=j.pricing)==null?void 0:T.monthly_rent)||((U=j.rooms)==null?void 0:U.reduce((k,E)=>k+(E.rent||0),0))||0,totalRooms:j.rooms?j.rooms.length:0,lastUpdated:j.updated_at?new Date(j.updated_at).toISOString().split("T")[0]:j.created_at?new Date(j.created_at).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],images:N,hasUploadedImages:B}}),b=j=>{switch(j){case"Active":return"text-green-600 bg-green-100";case"Under Construction":return"text-yellow-600 bg-yellow-100";case"Maintenance":return"text-orange-600 bg-orange-100";case"Inactive":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},w=y.filter(j=>{const N=j.name.toLowerCase().includes(l.toLowerCase())||j.location.toLowerCase().includes(l.toLowerCase()),B=d==="all"||j.status===d;return N&&B});return n?s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(cn,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Properties"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage your property portfolio and listings"})]})}),s.jsx("div",{className:"bg-white p-3 sm:p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search properties by name or location...",value:l,onChange:j=>c(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})}),s.jsx("div",{className:"sm:w-48",children:s.jsxs("select",{value:d,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"Active",children:"Active"}),s.jsx("option",{value:"Under Construction",children:"Under Construction"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Inactive",children:"Inactive"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:w.map((j,N)=>{var B,I,P,T;return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow duration-200",children:[s.jsxs("div",{className:"relative h-40 sm:h-48 bg-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:(B=j.images[0])==null?void 0:B.url,alt:`${j.name} - ${(I=j.images[0])==null?void 0:I.label}`,className:"w-full h-full object-cover",onLoad:()=>{f(U=>({...U,[j.id]:!1}))},onError:U=>{U.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=400&h=300&fit=crop&crop=center",f(k=>({...k,[j.id]:!1}))}}),A[j.id]!==!1&&s.jsx(Z.div,{className:"absolute inset-0 bg-gray-200 flex items-center justify-center",initial:{opacity:1},animate:{opacity:0},transition:{delay:.5,duration:.3},children:s.jsx(Z.div,{className:"w-8 h-8 border-2 border-gray-300 border-t-red-600 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}),((P=j.images[0])==null?void 0:P.label)!=="Default"&&s.jsx("div",{className:"absolute bottom-1 left-1",children:s.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-black bg-opacity-50 text-white",children:(T=j.images[0])==null?void 0:T.label})})]}),s.jsx(Z.div,{className:"absolute top-2 sm:top-3 right-2 sm:right-3",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.3},children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b(j.status)}`,children:j.status})})]}),s.jsxs("div",{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:j.name}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 flex-shrink-0",children:s.jsx(Bv,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-2 mb-3 sm:mb-4",children:s.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-gray-600",children:[s.jsx(wr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:j.location})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-3 sm:mb-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:j.totalRooms}),s.jsx("div",{className:"text-xs text-gray-500",children:"Rooms"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:j.type||"N/A"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Type"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:j.status}),s.jsx("div",{className:"text-xs text-gray-500",children:"Status"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{console.log("View button clicked for property:",j.id),console.log("Navigating to:",`/owner-property/${j.id}`),e(`/owner-property/${j.id}`)},className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx(Er,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"View"]}),s.jsxs("button",{onClick:()=>e(`/owner-edit-property/${j.id}`),className:"flex-1 flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium text-gray-700 bg-blue-100 rounded-lg hover:bg-blue-200 transition-colors duration-200",children:[s.jsx(mf,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Edit"]}),s.jsx("button",{onClick:()=>v(j.id,j.status==="Active"?"inactive":"active"),disabled:m[j.id],className:`flex items-center justify-center px-2 sm:px-3 py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors duration-200 ${j.status==="Active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${m[j.id]?"opacity-50 cursor-not-allowed":""}`,children:m[j.id]?s.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):j.status==="Active"?s.jsx(TV,{className:"w-3 h-3 sm:w-4 sm:h-4"}):s.jsx(OV,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),s.jsxs("div",{className:"mt-2 sm:mt-3 text-xs text-gray-500 text-center",children:["Last updated: ",new Date(j.lastUpdated).toLocaleDateString()]})]})]},j.id)})}),w.length===0&&s.jsxs("div",{className:"text-center py-8 sm:py-12",children:[s.jsx(Jr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),s.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:l||d!=="all"?"Try adjusting your search or filters":"No properties available"})]})]})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const pSe=()=>{var Yr,Cn,Lt,gs,xs,On,Ln,fr,Bt,un,ri,zs,is,as,os,Bn,qe,Nt,kt,ut,Ut,bn,Fr;const{id:e}=_u(),t=cr(),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(0),[c,d]=_.useState(null),[u,A]=_.useState(null),[f,m]=_.useState(!1),[x,p]=_.useState(null),[v,y]=_.useState(!1),[b,w]=_.useState(!1),[j,N]=_.useState({}),[B,I]=_.useState(!1),[P,T]=_.useState({}),[U,k]=_.useState(!1),[E,Q]=_.useState(!1),[F,K]=_.useState({room_number:"",room_type:"Single",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),[W,D]=_.useState(!1),[z,ee]=_.useState(""),[te,le]=_.useState(!1),[$,X]=_.useState(!1),[V,ne]=_.useState({}),[ae,he]=_.useState(""),[ge,J]=_.useState(!1),ue=(we,Qe)=>{const Ge=Qe.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:we,fileName:Qe,isPdf:Ge}),fetch(we,{method:"HEAD"}).then(xt=>{console.log("Document URL response:",xt.status,xt.statusText),xt.ok||console.error("Document URL not accessible:",xt.status)}).catch(xt=>{console.error("Error checking document URL:",xt)}),A({url:we,name:Qe,type:Ge?"pdf":"image"})},fe=we=>{console.log("Opening room details for room:",we),console.log("Room ID:",we._id),p(we),y(!0)},Y=we=>{console.log("Opening edit room for:",we),T({_id:we._id,room_number:we.room_number,room_type:we.room_type,room_size:we.room_size,bed_type:we.bed_type,occupancy:we.occupancy,rent:we.rent,description:we.description||"",amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1,...we.amenities},room_image:we.room_image,toilet_image:we.toilet_image}),w(!0)},je=()=>{let we="101";if(r&&r.rooms&&r.rooms.length>0){const Qe=r.rooms.map(Ge=>parseInt(Ge.room_number)).filter(Ge=>!isNaN(Ge));Qe.length>0&&(we=(Math.max(...Qe)+1).toString())}K({room_number:we,room_type:"Single",room_size:"",bed_type:"Single Bed",rent:"",description:"",occupancy:1,amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},room_image:null,room_image_file:null,toilet_image:null,toilet_image_file:null}),k(!0)},xe=(we,Qe)=>{K(Ge=>{const xt={...Ge,[we]:Qe};if(we==="room_type"){const Ht={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};xt.occupancy=Ht[Qe]||1}return xt})},re=(we,Qe)=>{K(Ge=>({...Ge,amenities:{...Ge.amenities,[we]:Qe}}))},Ce=(we,Qe)=>{const Ge=we.target.files[0];Ge&&K(xt=>({...xt,[Qe]:URL.createObjectURL(Ge),[`${Qe}_file`]:Ge}))},Ie=we=>{K(Qe=>({...Qe,[we]:null,[`${we}_file`]:null}))},Ue=()=>{const we=[];return F.room_number||we.push("Room Number is required"),r&&r.rooms&&r.rooms.some(Qe=>Qe.room_number.toString()===F.room_number.toString())&&we.push("Room Number already exists"),(!F.rent||Number(F.rent)<=0)&&we.push("Valid Rent is required"),(!F.room_size||Number(F.room_size)<=0)&&we.push("Valid Room Size is required"),F.room_image_file||we.push("Room Image is required"),F.amenities.attachedBathroom&&!F.toilet_image_file&&we.push("Toilet Image is required for attached bathroom"),we},Oe=async()=>{try{const we=Ue();if(we.length>0)throw new Error(we.join(`
`));Q(!0);const Qe=localStorage.getItem("authToken"),Ge=new FormData,xt={...F};delete xt.room_image,delete xt.room_image_file,delete xt.toilet_image,delete xt.toilet_image_file,Ge.append("roomData",JSON.stringify(xt)),F.room_image_file&&Ge.append("room_image",F.room_image_file),F.toilet_image_file&&Ge.append("toilet_image",F.toilet_image_file);const Ht=await fetch(`http://localhost:5000/api/property/owner/properties/${e}/rooms`,{method:"POST",headers:{Authorization:`Bearer ${Qe}`},body:Ge}),Kr=await Ht.json();if(Ht.ok&&Kr.success)await Ke(),k(!1),ee("Room added successfully!"),D(!0),setTimeout(()=>D(!1),3e3);else throw new Error(Kr.message||"Failed to add room")}catch(we){console.error("Error adding room:",we),ee(`Error: ${we.message}`),D(!0)}finally{Q(!1)}},Xe=(we,Qe)=>{T(Ge=>{const xt={...Ge,[we]:Qe};if(we==="room_type"){const Ht={Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1};xt.occupancy=Ht[Qe]||1}return xt})},et=(we,Qe)=>{T(Ge=>{const xt={...Ge,amenities:{...Ge.amenities,[we]:Qe}};return we==="attachedBathroom"&&!Qe&&(xt.toilet_image=null,xt.toilet_image_file=null),xt})},me=(we,Qe)=>{ne(Ge=>({...Ge,[we]:Qe}))},Be=(we,Qe)=>{ne(Ge=>({...Ge,amenities:{...Ge.amenities,[we]:Qe}}))},Ne=(we,Qe)=>{ne(Ge=>({...Ge,rules:{...Ge.rules,[we]:Qe}}))},Ee=async we=>{try{J(!0);const Qe=localStorage.getItem("authToken");if(!Qe){t("/login");return}const Ge=await fetch(`http://localhost:5000/api/property/owner/properties/${e}/status`,{method:"PUT",headers:{Authorization:`Bearer ${Qe}`,"Content-Type":"application/json"},body:JSON.stringify({status:we})});Ge.ok?(await Ge.json()).success&&(n(Ht=>({...Ht,status:we,updated_at:new Date().toISOString()})),console.log("Property status updated successfully")):console.error("Failed to update property status")}catch(Qe){console.error("Error updating property status:",Qe)}finally{J(!1)}},$e=we=>{const Qe=we.target.files[0];if(Qe){const Ge=URL.createObjectURL(Qe);T(xt=>({...xt,room_image:Ge,room_image_file:Qe}))}},ot=we=>{const Qe=we.target.files[0];if(Qe){const Ge=URL.createObjectURL(Qe);T(xt=>({...xt,toilet_image:Ge,toilet_image_file:Qe}))}},nt=()=>{T(we=>({...we,room_image:null,room_image_file:null}))},tt=()=>{T(we=>({...we,toilet_image:null,toilet_image_file:null}))},Ke=async()=>{try{const we=localStorage.getItem("authToken"),Qe=await fetch(`http://localhost:5000/api/property/owner/properties/${e}`,{headers:{Authorization:`Bearer ${we}`,"x-user-id":(()=>{try{const Ge=JSON.parse(localStorage.getItem("user")||"{}");return Ge._id||Ge.id||""}catch{return""}})()}});if(Qe.ok){const Ge=await Qe.json();Ge.success&&(n(Ge.data),console.log("Property data refreshed"))}}catch(we){console.error("Error refreshing property data:",we)}},it=async()=>{try{const we=localStorage.getItem("authToken"),Qe=(()=>{try{const xt=JSON.parse(localStorage.getItem("user")||"{}");return xt._id||xt.id||""}catch{return""}})();console.log("Fetching owner email for userId:",Qe),console.log("User service URL:",`http://localhost:4002/api/users/${Qe}`);const Ge=await fetch(`http://localhost:5000/api/user/profile/${Qe}`,{headers:{Authorization:`Bearer ${we}`,"x-user-id":Qe}});if(console.log("Owner email response status:",Ge.status),Ge.ok){const xt=await Ge.json();console.log("Owner email response data:",xt),xt.success&&xt.data&&(he(xt.data.email||""),console.log("Owner email fetched and set:",xt.data.email))}else console.error("Failed to fetch owner email:",Ge.status)}catch(we){console.error("Error fetching owner email:",we)}},lt=async()=>{try{I(!0);const we=localStorage.getItem("authToken"),Qe=(()=>{try{const en=JSON.parse(localStorage.getItem("user")||"{}");return en._id||en.id||""}catch{return""}})(),Ge=new FormData,xt={...P};delete xt.room_image_file,delete xt.toilet_image_file,delete xt.room_image,delete xt.toilet_image,Ge.append("roomData",JSON.stringify(xt)),P.room_image_file&&Ge.append("room_image",P.room_image_file),P.toilet_image_file&&Ge.append("toilet_image",P.toilet_image_file),console.log("Updating room:",P._id),console.log("Room data:",xt);const Ht=await fetch(`http://localhost:5000/api/property/rooms/${P._id}`,{method:"PUT",headers:{Authorization:`Bearer ${we}`,"x-user-id":Qe},body:Ge}),Kr=await Ht.json();if(console.log("Update response:",Kr),Ht.ok){if(await Ke(),x&&x._id===P._id)try{const en=localStorage.getItem("authToken"),ni=(()=>{try{const La=JSON.parse(localStorage.getItem("user")||"{}");return La._id||La.id||""}catch{return""}})(),_c=await fetch(`http://localhost:5000/api/property/owner/properties/${e}`,{headers:{Authorization:`Bearer ${en}`,"x-user-id":ni}});if(_c.ok){const La=await _c.json();if(La.success&&La.data){const so=La.data.rooms.find(mr=>mr._id===P._id);so&&p(so)}}}catch(en){console.error("Error fetching updated room data:",en)}w(!1),ee("Room updated successfully!"),D(!0),setTimeout(()=>{D(!1)},3e3)}else console.error("Failed to update room:",Ht.status,Kr),ee(`Failed to update room: ${Kr.message||"Unknown error"}`),D(!0)}catch(we){console.error("Error updating room:",we),ee(`Error updating room: ${we.message}`),D(!0)}finally{I(!1)}},yt=async()=>{try{X(!0);const we=localStorage.getItem("authToken"),Qe=(()=>{try{const Kr=JSON.parse(localStorage.getItem("user")||"{}");return Kr._id||Kr.id||""}catch{return""}})(),Ge={property_name:V.property_name,description:V.description,amenities:V.amenities,rules:V.rules,contact_number:V.contact_number,security_deposit:V.security_deposit,maintenance_fee:V.maintenance_fee,latitude:V.latitude,longitude:V.longitude,address:{street:V.address,city:V.city,state:V.state,pincode:V.pincode,landmark:V.landmark}};console.log("Updating property:",V._id),console.log("Property data:",Ge);const xt=await fetch(`http://localhost:5000/api/property/owner/properties/${V._id}`,{method:"PUT",headers:{Authorization:`Bearer ${we}`,"Content-Type":"application/json","x-user-id":Qe},body:JSON.stringify(Ge)}),Ht=await xt.json();console.log("Update response:",Ht),xt.ok?(await Ke(),le(!1),ee("Property updated successfully!"),D(!0),setTimeout(()=>{D(!1)},3e3)):(console.error("Failed to update property:",xt.status,Ht),ee(`Failed to update property: ${Ht.message||"Unknown error"}`),D(!0))}catch(we){console.error("Error updating property:",we),ee(`Error updating property: ${we.message}`),D(!0)}finally{X(!1)}},Ct=async(we,Qe)=>{try{console.log("Updating room status:",{roomId:we,newStatus:Qe}),N(en=>({...en,[we]:!0}));const Ge=localStorage.getItem("authToken"),xt=(()=>{try{const en=JSON.parse(localStorage.getItem("user")||"{}");return en._id||en.id||""}catch{return""}})();console.log("API call details:",{url:`http://localhost:5000/api/property/api/rooms/${we}/status`,authToken:Ge?"Present":"Missing",userId:xt||"Missing"});const Ht=await fetch(`http://localhost:5000/api/property/rooms/${we}/status`,{method:"PUT",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json","x-user-id":xt},body:JSON.stringify({is_available:Qe==="active"})});console.log("Response status:",Ht.status);const Kr=await Ht.json();console.log("Response data:",Kr),Ht.ok?(n(en=>({...en,rooms:en.rooms.map(ni=>ni._id===we?{...ni,status:Qe}:ni)})),x&&x._id===we&&p(en=>({...en,status:Qe})),console.log("Room status updated successfully"),ee("Room status updated successfully!"),D(!0),setTimeout(()=>{D(!1)},3e3)):(console.error("Failed to update room status:",Ht.status,Kr),ee(`Failed to update room status: ${Kr.message||"Unknown error"}`),D(!0))}catch(Ge){console.error("Error updating room status:",Ge),ee(`Error updating room status: ${Ge.message}`),D(!0)}finally{N(Ge=>({...Ge,[we]:!1}))}},wt=we=>{switch(we){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},$t=we=>{switch(we){case"active":return jt;case"inactive":return sr;case"maintenance":return ns;default:return sr}};_.useEffect(()=>{(()=>{const Qe=localStorage.getItem("authToken"),Ge=localStorage.getItem("user");if(!Qe||!Ge){t("/login");return}try{const xt=JSON.parse(Ge);if(xt.role!==3){t("/login");return}d(xt)}catch(xt){console.error("Error parsing user data:",xt),t("/login")}})()},[t]),_.useEffect(()=>{e&&(async()=>{try{console.log("PropertyDetails - Fetching property with ID:",e);const Qe=localStorage.getItem("authToken");if(!Qe)return;const Ge=`http://localhost:5000/api/property/owner/properties/${e}`;console.log("PropertyDetails - Fetching from URL:",Ge);const xt=await fetch(Ge,{headers:{Authorization:`Bearer ${Qe}`,"x-user-id":(()=>{try{const Ht=JSON.parse(localStorage.getItem("user")||"{}");return Ht._id||Ht.id||""}catch{return""}})()}});if(xt.ok){const Ht=await xt.json();Ht.success&&(console.log("Property details fetched:",Ht.data),console.log("Property toilet_outside:",Ht.data.toilet_outside),console.log("Property outside_toilet_image:",Ht.data.outside_toilet_image),console.log("Property documents:",Ht.data.documents),console.log("Property rooms:",Ht.data.rooms),Ht.data.rooms&&Ht.data.rooms.forEach((Kr,en)=>{console.log(`Room ${en}:`,Kr),console.log(`Room ${en} ID:`,Kr._id)}),n(Ht.data))}else console.error("Failed to fetch property:",xt.status)}catch(Qe){console.error("Error fetching property details:",Qe)}finally{a(!1)}})()},[e]),_.useEffect(()=>{e&&it()},[e]),_.useEffect(()=>{ae&&te&&ne(we=>({...we,contact_email:ae}))},[ae,te]);const gt=we=>{if(!we)return[];const Qe=[];return[{key:"front",label:"Front View"},{key:"back",label:"Back View"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].forEach(({key:xt,label:Ht})=>{we[xt]&&we[xt]!==null&&Qe.push({url:we[xt],label:Ht,type:"property"})}),we.gallery&&Array.isArray(we.gallery)&&we.gallery.forEach((xt,Ht)=>{xt&&xt!==null&&Qe.push({url:xt,label:`Gallery Image ${Ht+1}`,type:"gallery"})}),Qe},mt=we=>{if(!we||!Array.isArray(we))return[];const Qe=[];return we.forEach((Ge,xt)=>{var Ht;Ge.room_image&&Qe.push({url:Ge.room_image,label:`Room ${Ge.room_number||xt+1} - Room Image`,type:"room",roomNumber:Ge.room_number||xt+1}),Ge.toilet_image&&((Ht=Ge.amenities)!=null&&Ht.attachedBathroom)&&Qe.push({url:Ge.toilet_image,label:`Room ${Ge.room_number||xt+1} - Toilet Image`,type:"toilet",roomNumber:Ge.room_number||xt+1})}),Qe},at=()=>{er&&er.length>1&&l(we=>(we+1)%er.length)},At=()=>{er&&er.length>1&&l(we=>(we-1+er.length)%er.length)},rt=we=>({wifi:nm,parking:ml,kitchen:Bm,gym:PV,security:tr,camera:ts,ac:Bm,waterSupply:Bm,powerBackup:Bm,garden:Bm,swimmingPool:Bm})[we.toLowerCase()]||Ir,ze=we=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(we);if(i)return s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})});if(!r)return s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Jr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Property Not Found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"The property you're looking for doesn't exist or has been removed."}),s.jsxs("button",{onClick:()=>t("/owner-properties"),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(Js,{className:"w-4 h-4 mr-2"}),"Back to Properties"]})]})})});const Et=gt(r.images),Ft=mt(r.rooms),_n=r.outside_toilet_image?[{url:r.outside_toilet_image,label:"Outside Toilet",type:"property"}]:[];console.log("Outside toilet image processing:",{toilet_outside:r.toilet_outside,outside_toilet_image:r.outside_toilet_image,outsideToiletImage:_n});const er=[...Et,...Ft,..._n];return s.jsx(cn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between py-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Js,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.property_name}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsxs("span",{children:[(Yr=r.address)==null?void 0:Yr.city,", ",(Cn=r.address)==null?void 0:Cn.state]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Jr,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:r.property_mode||"Room"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Vr,{className:"w-4 h-4"}),s.jsxs("span",{children:[((Lt=r.rooms)==null?void 0:Lt.length)||0," Rooms"]})]})]})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Jp,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(mf,{className:"w-5 h-5 text-gray-600"})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[er.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-200",children:s.jsx("img",{src:(gs=er[o])==null?void 0:gs.url,alt:(xs=er[o])==null?void 0:xs.label,className:"w-full h-96 object-cover",onError:we=>{we.target.src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&w=800&h=600&fit=crop&crop=center"}})}),er.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:At,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(yF,{className:"w-5 h-5"})}),s.jsx("button",{onClick:at,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(ef,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[s.jsxs("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:[o+1," / ",er.length]}),s.jsx("span",{className:"bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm",children:(On=er[o])==null?void 0:On.label})]}),s.jsx("button",{onClick:()=>m(!0),className:"absolute bottom-4 right-4 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all",children:s.jsx(Tue,{className:"w-5 h-5"})})]}),er.length>1&&s.jsx("div",{className:"p-4 bg-gray-50",children:s.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:er.map((we,Qe)=>s.jsx("button",{onClick:()=>l(Qe),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${Qe===o?"border-red-500":"border-gray-200 hover:border-gray-300"}`,children:s.jsx("img",{src:we.url,alt:we.label,className:"w-full h-full object-cover"})},Qe))})})]}):s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[s.jsx(ts,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Images Available"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"This property doesn't have any images uploaded yet."}),s.jsxs("button",{onClick:()=>t(`/owner-edit-property/${r._id||r.id}`),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),"Add Images"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Room Details"}),s.jsxs("button",{onClick:je,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(ld,{className:"w-5 h-5 mr-2"}),"Add Room"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.rooms.map((we,Qe)=>{var xt,Ht;const Ge=$t(we.status||"active");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-all cursor-pointer group",onClick:()=>fe(we),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:we.room_number||Qe+1})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",we.room_number||Qe+1]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[we.room_type,"  ",we.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:ze(we.rent)}),s.jsx("p",{className:"text-sm text-gray-500",children:"per month"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${wt(we.status||"active")}`,children:[s.jsx(Ge,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:we.status||"Active"})]}),s.jsx("div",{className:"text-sm text-gray-500 group-hover:text-gray-700",children:"Click to view details "})]}),s.jsxs("div",{className:`grid gap-4 mb-4 ${we.room_image&&we.toilet_image&&((xt=we.amenities)!=null&&xt.attachedBathroom)?"grid-cols-2":"grid-cols-1"}`,children:[we.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:we.room_image,alt:`Room ${we.room_number||Qe+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:Kr=>{Kr.target.src="https://via.placeholder.com/300x200?text=Room+Image"}})]}),we.toilet_image&&((Ht=we.amenities)==null?void 0:Ht.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:we.toilet_image,alt:`Room ${we.room_number||Qe+1} Toilet`,className:"w-full h-32 object-cover rounded-lg border",onError:Kr=>{Kr.target.src="https://via.placeholder.com/300x200?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:we.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[we.occupancy," people"]})]})]}),we.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Description:"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:we.description})]}),we.amenities&&Object.keys(we.amenities).length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-sm",children:"Amenities:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(we.amenities).map(([Kr,en])=>{if(en){const ni=rt(Kr);return s.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-green-50 text-green-700 rounded-full text-xs",children:[s.jsx(ni,{className:"w-3 h-3"}),s.jsx("span",{className:"capitalize",children:Kr.replace(/([A-Z])/g," $1").trim()})]},Kr)}return null})})]})]})]},Qe)})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Pricing Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.security_deposit&&s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx(tr,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Security Deposit"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ze(r.security_deposit)})]}),r.property_mode==="room"&&r.rooms&&r.rooms.length>0&&s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(ti,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Starting from"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:ze(Math.min(...r.rooms.map(we=>we.rent)))}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per room/month"})]})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&(()=>{const we=Object.entries(r.amenities).filter(([Qe,Ge])=>Ge===!0);return we.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:we.map(([Qe,Ge])=>{const xt=rt(Qe);return s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[s.jsx(xt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:Qe.replace(/([A-Z])/g," $1").trim()})]},Qe)})})]}):null})(),r.toilet_outside&&r.outside_toilet_image&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Outside Toilet"}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Jr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Outside Toilet Available"}),s.jsx("p",{className:"text-xs text-blue-600",children:"Shared toilet facility for all residents"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full max-w-md h-64 object-cover rounded-lg border",onError:we=>{we.target.src="https://via.placeholder.com/400x300?text=Outside+Toilet+Image"}})})]}),r.rules&&Object.keys(r.rules).length>0&&(()=>{const we=Object.entries(r.rules).filter(([Qe,Ge])=>Ge===!0);return we.length>0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:we.map(([Qe,Ge])=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(jt,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"text-gray-700 capitalize",children:Qe.replace(/([A-Z])/g," $1").trim()})]},Qe))})]}):null})(),(r.land_tax_receipt||r.documents&&r.documents.length>0)&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Property Documents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.land_tax_receipt&&s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ks,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>ue(r.land_tax_receipt,"Land Tax Receipt.pdf"),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(Er,{className:"w-4 h-4"})}),s.jsx("a",{href:r.land_tax_receipt,download:"Land Tax Receipt.pdf",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(tu,{className:"w-4 h-4"})})]})]}),r.documents&&r.documents.map((we,Qe)=>{const Ge=we.split("/").pop()||`Document ${Qe+1}`,xt=Ge.toLowerCase().endsWith(".pdf");return s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ks,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[200px]",children:Ge}),s.jsx("p",{className:"text-xs text-gray-500",children:xt?"PDF Document":"Image Document"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>ue(we,Ge),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Preview",children:s.jsx(Er,{className:"w-4 h-4"})}),s.jsx("a",{href:we,download:Ge,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download",children:s.jsx(tu,{className:"w-4 h-4"})})]})]},Qe)})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Status"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status==="active"?"Active":"Inactive"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>Ee(r.status==="active"?"inactive":"active"),disabled:ge,className:`flex items-center justify-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${r.status==="active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"} ${ge?"opacity-50 cursor-not-allowed":""}`,children:ge?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):r.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(TV,{className:"w-4 h-4 mr-1"}),"Deactivate"]}):s.jsxs(s.Fragment,{children:[s.jsx(OV,{className:"w-4 h-4 mr-1"}),"Activate"]})}),s.jsx("button",{className:"text-sm text-red-600 hover:text-red-700",children:s.jsx(Zp,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Property Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Property Mode"}),s.jsx("p",{className:"font-medium capitalize",children:r.property_mode||"Room"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Vr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Number of Rooms"}),s.jsx("p",{className:"font-medium",children:((Ln=r.rooms)==null?void 0:Ln.length)||0})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Or,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Listed On"}),s.jsx("p",{className:"font-medium",children:new Date(r.createdAt||r.created_at).toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(wr,{className:"w-5 h-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Street"}),s.jsx("p",{className:"font-medium",children:((fr=r.address)==null?void 0:fr.street)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Jr,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"City, State"}),s.jsxs("p",{className:"font-medium",children:[(Bt=r.address)==null?void 0:Bt.city,", ",(un=r.address)==null?void 0:un.state]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ir,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Pincode"}),s.jsx("p",{className:"font-medium",children:((ri=r.address)==null?void 0:ri.pincode)||"Not provided"})]})]}),((zs=r.address)==null?void 0:zs.landmark)&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ka,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Landmark"}),s.jsx("p",{className:"font-medium",children:r.address.landmark})]})]})]})]}),r.latitude&&r.longitude&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Coordinates"}),s.jsxs("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:[r.latitude,", ",r.longitude]})]}),s.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden relative",style:{minHeight:"256px",zIndex:1},children:s.jsxs(Yh,{center:[parseFloat(r.latitude),parseFloat(r.longitude)],zoom:15,style:{height:"100%",width:"100%",zIndex:1},scrollWheelZoom:!0,children:[s.jsx(Jh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(Xh,{position:[parseFloat(r.latitude),parseFloat(r.longitude)],children:s.jsx(_y,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:(r==null?void 0:r.property_name)||"Property Location"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((is=r==null?void 0:r.address)==null?void 0:is.street)&&`${r.address.street}, `,((as=r==null?void 0:r.address)==null?void 0:as.city)&&`${r.address.city}, `,((os=r==null?void 0:r.address)==null?void 0:os.state)&&`${r.address.state}`]})]})})})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(yn,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ms,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:(c==null?void 0:c.phone)||"Not provided"})]})]})]})]})]})]})}),f&&er.length>0&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:s.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[s.jsx("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 z-10 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(sr,{className:"w-6 h-6"})}),s.jsx("img",{src:(Bn=er[o])==null?void 0:Bn.url,alt:(qe=er[o])==null?void 0:qe.label,className:"max-w-full max-h-full object-contain rounded-lg"}),er.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:At,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(yF,{className:"w-6 h-6"})}),s.jsx("button",{onClick:at,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white rounded-full p-2 hover:bg-opacity-70 transition-all",children:s.jsx(ef,{className:"w-6 h-6"})})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",u.name]}),s.jsx("button",{type:"button",onClick:()=>A(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsx("div",{className:"p-4 max-h-[80vh] overflow-auto",children:u.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${u.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:we=>{console.error("PDF iframe error:",we),we.target.style.display="none";const Qe=we.target.parentElement;Qe.innerHTML=`
                          <div class="flex flex-col items-center justify-center h-full bg-gray-50 p-8">
                            <div class="text-center">
                              <FileText class="w-16 h-16 text-gray-400 mx-auto mb-4" />
                              <h3 class="text-lg font-medium text-gray-900 mb-2">PDF Preview Not Available</h3>
                              <p class="text-gray-600 mb-4">This PDF cannot be previewed in the browser.</p>
                              <div class="flex flex-col sm:flex-row gap-3 justify-center">
                                <a href="${u.url}" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                  <ExternalLink class="w-4 h-4 mr-2" />
                                  Open in New Tab
                                </a>
                                <a href="${u.url}" download="${u.name}" class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
                                  <Download class="w-4 h-4 mr-2" />
                                  Download PDF
                                </a>
                              </div>
                            </div>
                          </div>
                        `}})}):s.jsx("img",{src:u.url,alt:u.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:we=>{we.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex justify-between items-center",children:[s.jsx("div",{className:"text-xs text-gray-500",children:u.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[u.type==="pdf"&&s.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(YP,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:u.url,download:u.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(tu,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})}),v&&x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-bold text-lg",children:x.room_number})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Room ",x.room_number]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[x.room_type,"  ",x.room_size," sq ft"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ${wt(x.status||"active")}`,children:[(()=>{const we=$t(x.status||"active");return s.jsx(we,{className:"w-4 h-4"})})(),s.jsx("span",{className:"capitalize",children:x.status||"Active"})]}),s.jsx("button",{onClick:()=>Y(x),className:"p-2 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Room",children:s.jsx(mf,{className:"w-5 h-5 text-blue-600"})}),s.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),x.room_image&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("img",{src:x.room_image,alt:`Room ${x.room_number}`,className:"w-full h-64 object-cover rounded-lg border",onError:we=>{we.target.src="https://via.placeholder.com/400x300?text=Room+Image"}})]}),x.toilet_image&&((Nt=x.amenities)==null?void 0:Nt.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("img",{src:x.toilet_image,alt:`Room ${x.room_number} Toilet`,className:"w-full h-64 object-cover rounded-lg border",onError:we=>{we.target.src="https://via.placeholder.com/400x300?text=Toilet+Image"}})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pricing"}),s.jsx("div",{className:"text-3xl font-bold text-green-600",children:ze(x.rent)}),s.jsx("p",{className:"text-sm text-gray-500",children:"per month"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Specifications"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.room_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Room Size:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Bed Type:"}),s.jsx("span",{className:"ml-2 font-medium",children:x.bed_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Occupancy:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[x.occupancy," people"]})]})]})]}),x.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:x.description})]}),x.amenities&&Object.keys(x.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(x.amenities).map(([we,Qe])=>{if(Qe){const Ge=rt(we);return s.jsxs("div",{className:"flex items-center space-x-1 px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm",children:[s.jsx(Ge,{className:"w-4 h-4"}),s.jsx("span",{className:"capitalize",children:we.replace(/([A-Z])/g," $1").trim()})]},we)}return null})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Room Status Management"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>Ct(x._id,"active"),disabled:j[x._id]||x.status==="active",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="active"?"bg-green-100 text-green-800 cursor-not-allowed":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[j[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):s.jsx(jt,{className:"w-4 h-4"}),s.jsx("span",{children:"Active"})]}),s.jsxs("button",{onClick:()=>Ct(x._id,"inactive"),disabled:j[x._id]||x.status==="inactive",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="inactive"?"bg-gray-100 text-gray-800 cursor-not-allowed":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[j[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-transparent rounded-full animate-spin"}):s.jsx(sr,{className:"w-4 h-4"}),s.jsx("span",{children:"Inactive"})]}),s.jsxs("button",{onClick:()=>Ct(x._id,"maintenance"),disabled:j[x._id]||x.status==="maintenance",className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x.status==="maintenance"?"bg-yellow-100 text-yellow-800 cursor-not-allowed":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100"}`,children:[j[x._id]?s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"}):s.jsx(ns,{className:"w-4 h-4"}),s.jsx("span",{children:"Maintenance"})]})]})]})]})]})})]})}),b&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Room ",P.room_number]}),s.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(sr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Images"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),P.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:P.room_image,alt:"Room",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:nt,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(sr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:$e,className:"hidden",id:"room-image-upload"}),s.jsxs("label",{htmlFor:"room-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(ts,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload room image"})]})]})]}),((kt=P.amenities)==null?void 0:kt.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),P.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:P.toilet_image,alt:"Toilet",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx("button",{onClick:tt,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:s.jsx(sr,{className:"w-4 h-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:ot,className:"hidden",id:"toilet-image-upload"}),s.jsxs("label",{htmlFor:"toilet-image-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[s.jsx(ts,{className:"w-8 h-8 mx-auto mb-2"}),s.jsx("p",{children:"Click to upload toilet image"})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:P.room_type,onChange:we=>Xe("room_type",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq ft)"}),s.jsx("input",{type:"number",value:P.room_size,onChange:we=>Xe("room_size",parseInt(we.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:P.bed_type,onChange:we=>Xe("bed_type",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:P.occupancy,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-set based on room type"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Rent ()"}),s.jsx("input",{type:"number",value:P.rent,onChange:we=>Xe("rent",parseInt(we.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Has attached bathroom?"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`text-sm font-medium ${(ut=P.amenities)!=null&&ut.attachedBathroom?"text-gray-500":"text-gray-900"}`,children:"NO"}),s.jsx("button",{type:"button",onClick:()=>{var we;return et("attachedBathroom",!((we=P.amenities)!=null&&we.attachedBathroom))},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 ${(Ut=P.amenities)!=null&&Ut.attachedBathroom?"bg-red-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${(bn=P.amenities)!=null&&bn.attachedBathroom?"translate-x-6":"translate-x-1"}`})}),s.jsx("span",{className:`text-sm font-medium ${(Fr=P.amenities)!=null&&Fr.attachedBathroom?"text-gray-900":"text-gray-500"}`,children:"YES"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:P.description,onChange:we=>Xe("description",we.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(P.amenities||{}).map(([we,Qe])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>et(we,Ge.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:we.replace(/([A-Z])/g," $1").trim()})]},we))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:lt,disabled:B,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:B?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):"Update Room"})]})]})]})})]})}),W&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-md shadow-xl",children:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:z.includes("successfully")?s.jsx(jt,{className:"w-8 h-8 text-green-600"}):s.jsx(sr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:z.includes("successfully")?"Success!":"Error"}),s.jsx("p",{className:"text-gray-600 mb-6",children:z}),s.jsx("button",{onClick:()=>D(!1),className:`px-6 py-2 rounded-lg font-medium transition-colors ${z.includes("successfully")?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:"OK"})]})})}),te&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsx("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("button",{onClick:()=>le(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(sr,{className:"w-6 h-6 text-gray-500"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name"}),s.jsx("input",{type:"text",value:V.property_name||"",onChange:we=>me("property_name",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsx("textarea",{value:V.address||"",onChange:we=>me("address",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"3",placeholder:"Enter full address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),s.jsx("input",{type:"text",value:V.city||"",onChange:we=>me("city",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter city"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),s.jsx("input",{type:"text",value:V.state||"",onChange:we=>me("state",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter state"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode"}),s.jsx("input",{type:"text",value:V.pincode||"",onChange:we=>me("pincode",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter pincode"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:V.landmark||"",onChange:we=>me("landmark",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),s.jsx("input",{type:"tel",value:V.contact_number||"",onChange:we=>me("contact_number",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter contact number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner Email"}),s.jsx("input",{type:"email",value:V.contact_email||"",readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed",placeholder:"Owner email will be loaded automatically"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is your registered email address"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsx("input",{type:"number",value:V.security_deposit||"",onChange:we=>me("security_deposit",parseFloat(we.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Fee"}),s.jsx("input",{type:"number",value:V.maintenance_fee||"",onChange:we=>me("maintenance_fee",parseFloat(we.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter maintenance fee"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:V.description||"",onChange:we=>me("description",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:"4",placeholder:"Enter property description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Rules and Policies"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(V.rules||{}).map(([we,Qe])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>Ne(we,Ge.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("label",{className:"text-sm text-gray-700 capitalize",children:[we.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},we))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:Object.entries(V.amenities||{}).map(([we,Qe])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>Be(we,Ge.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("label",{className:"text-sm text-gray-700 capitalize",children:we.replace(/([A-Z])/g," $1").trim()})]},we))})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:yt,disabled:$,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:$?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Updating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(mf,{className:"w-4 h-4"}),s.jsx("span",{children:"Update Property"})]})})]})]})]})})}),U&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Room"}),s.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-500",children:s.jsx(sr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),s.jsx("input",{type:"text",value:F.room_number,onChange:we=>xe("room_number",we.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"e.g. 101"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rent ()"}),s.jsx("input",{type:"number",value:F.rent,onChange:we=>xe("rent",we.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"e.g. 5000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsxs("select",{value:F.room_type,onChange:we=>xe("room_type",we.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Triple",children:"Triple"}),s.jsx("option",{value:"Quad",children:"Quad"}),s.jsx("option",{value:"Master",children:"Master"}),s.jsx("option",{value:"Studio",children:"Studio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Size (sq.ft)"}),s.jsx("input",{type:"number",value:F.room_size||"",onChange:we=>xe("room_size",we.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"e.g. 150"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bed Type"}),s.jsxs("select",{value:F.bed_type,onChange:we=>xe("bed_type",we.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"Single Bed",children:"Single Bed"}),s.jsx("option",{value:"Double Bed",children:"Double Bed"}),s.jsx("option",{value:"Queen Bed",children:"Queen Bed"}),s.jsx("option",{value:"King Bed",children:"King Bed"}),s.jsx("option",{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx("option",{value:"No Bed",children:"No Bed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Occupancy"}),s.jsx("input",{type:"number",value:F.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-100"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:F.description,onChange:we=>xe("description",we.target.value),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-red-500 focus:border-red-500",placeholder:"Room description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(F.amenities).map(([we,Qe])=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Qe,onChange:Ge=>re(we,Ge.target.checked),className:"rounded text-red-600 focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-600 capitalize",children:we.replace(/([A-Z])/g," $1").trim()})]},we))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image"}),s.jsx("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:F.room_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:F.room_image,alt:"Room Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>Ie("room_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(sr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(ts,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:we=>Ce(we,"room_image")})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image"}),s.jsx("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors",children:F.toilet_image?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:F.toilet_image,alt:"Toilet Preview",className:"h-32 w-full object-cover rounded-md"}),s.jsx("button",{onClick:()=>Ie("toilet_image"),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:s.jsx(sr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx(ts,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Click to upload"}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:we=>Ce(we,"toilet_image")})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancel"}),s.jsxs("button",{onClick:Oe,disabled:E,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 disabled:opacity-50",children:[E?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):null,s.jsx("span",{children:E?"Adding...":"Add Room"})]})]})]})]})})})]})})};function uD(e,[t,r]){return Math.min(r,Math.max(t,e))}var gSe=_.createContext(void 0);function xSe(e){const t=_.useContext(gSe);return e||t||"ltr"}const ySe=["top","right","bottom","left"],tA=Math.min,jo=Math.max,V2=Math.round,Pw=Math.floor,rd=e=>({x:e,y:e}),vSe={left:"right",right:"left",bottom:"top",top:"bottom"},bSe={start:"end",end:"start"};function Ik(e,t,r){return jo(e,tA(t,r))}function xu(e,t){return typeof e=="function"?e(t):e}function yu(e){return e.split("-")[0]}function Wg(e){return e.split("-")[1]}function rI(e){return e==="x"?"y":"x"}function nI(e){return e==="y"?"height":"width"}const wSe=new Set(["top","bottom"]);function Vc(e){return wSe.has(yu(e))?"y":"x"}function sI(e){return rI(Vc(e))}function jSe(e,t,r){r===void 0&&(r=!1);const n=Wg(e),i=sI(e),a=nI(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=K2(o)),[o,K2(o)]}function NSe(e){const t=K2(e);return[Tk(e),t,Tk(t)]}function Tk(e){return e.replace(/start|end/g,t=>bSe[t])}const hD=["left","right"],AD=["right","left"],_Se=["top","bottom"],CSe=["bottom","top"];function BSe(e,t,r){switch(e){case"top":case"bottom":return r?t?AD:hD:t?hD:AD;case"left":case"right":return t?_Se:CSe;default:return[]}}function SSe(e,t,r,n){const i=Wg(e);let a=BSe(yu(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Tk)))),a}function K2(e){return e.replace(/left|right|bottom|top/g,t=>vSe[t])}function kSe(e){return{top:0,right:0,bottom:0,left:0,...e}}function uX(e){return typeof e!="number"?kSe(e):{top:e,right:e,bottom:e,left:e}}function W2(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function fD(e,t,r){let{reference:n,floating:i}=e;const a=Vc(t),o=sI(t),l=nI(o),c=yu(t),d=a==="y",u=n.x+n.width/2-i.width/2,A=n.y+n.height/2-i.height/2,f=n[l]/2-i[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-i.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:A};break;case"left":m={x:n.x-i.width,y:A};break;default:m={x:n.x,y:n.y}}switch(Wg(t)){case"start":m[o]-=f*(r&&d?-1:1);break;case"end":m[o]+=f*(r&&d?-1:1);break}return m}const ESe=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:A}=fD(d,n,c),f=n,m={},x=0;for(let p=0;p<l.length;p++){const{name:v,fn:y}=l[p],{x:b,y:w,data:j,reset:N}=await y({x:u,y:A,initialPlacement:n,placement:f,strategy:i,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=b??u,A=w??A,m={...m,[v]:{...m[v],...j}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:u,y:A}=fD(d,f,c)),p=-1)}return{x:u,y:A,placement:f,strategy:i,middlewareData:m}};async function Py(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:A="floating",altBoundary:f=!1,padding:m=0}=xu(t,e),x=uX(m),v=l[f?A==="floating"?"reference":"floating":A],y=W2(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),b=A==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},N=W2(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(y.top-N.top+x.top)/j.y,bottom:(N.bottom-y.bottom+x.bottom)/j.y,left:(y.left-N.left+x.left)/j.x,right:(N.right-y.right+x.right)/j.x}}const PSe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=xu(e,t)||{};if(d==null)return{};const A=uX(u),f={x:r,y:n},m=sI(i),x=nI(m),p=await o.getDimensions(d),v=m==="y",y=v?"top":"left",b=v?"bottom":"right",w=v?"clientHeight":"clientWidth",j=a.reference[x]+a.reference[m]-f[m]-a.floating[x],N=f[m]-a.reference[m],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=B?B[w]:0;(!I||!await(o.isElement==null?void 0:o.isElement(B)))&&(I=l.floating[w]||a.floating[x]);const P=j/2-N/2,T=I/2-p[x]/2-1,U=tA(A[y],T),k=tA(A[b],T),E=U,Q=I-p[x]-k,F=I/2-p[x]/2+P,K=Ik(E,F,Q),W=!c.arrow&&Wg(i)!=null&&F!==K&&a.reference[x]/2-(F<E?U:k)-p[x]/2<0,D=W?F<E?F-E:F-Q:0;return{[m]:f[m]+D,data:{[m]:K,centerOffset:F-K-D,...W&&{alignmentOffset:D}},reset:W}}}),ISe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:A=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...v}=xu(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=yu(i),b=Vc(l),w=yu(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=f||(w||!p?[K2(l)]:NSe(l)),B=x!=="none";!f&&B&&N.push(...SSe(l,p,x,j));const I=[l,...N],P=await Py(t,v),T=[];let U=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&T.push(P[y]),A){const F=jSe(i,o,j);T.push(P[F[0]],P[F[1]])}if(U=[...U,{placement:i,overflows:T}],!T.every(F=>F<=0)){var k,E;const F=(((k=a.flip)==null?void 0:k.index)||0)+1,K=I[F];if(K&&(!(A==="alignment"?b!==Vc(K):!1)||U.every(z=>Vc(z.placement)===b?z.overflows[0]>0:!0)))return{data:{index:F,overflows:U},reset:{placement:K}};let W=(E=U.filter(D=>D.overflows[0]<=0).sort((D,z)=>D.overflows[1]-z.overflows[1])[0])==null?void 0:E.placement;if(!W)switch(m){case"bestFit":{var Q;const D=(Q=U.filter(z=>{if(B){const ee=Vc(z.placement);return ee===b||ee==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(ee=>ee>0).reduce((ee,te)=>ee+te,0)]).sort((z,ee)=>z[1]-ee[1])[0])==null?void 0:Q[0];D&&(W=D);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function mD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function pD(e){return ySe.some(t=>e[t]>=0)}const TSe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=xu(e,t);switch(n){case"referenceHidden":{const a=await Py(t,{...i,elementContext:"reference"}),o=mD(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pD(o)}}}case"escaped":{const a=await Py(t,{...i,altBoundary:!0}),o=mD(a,r.floating);return{data:{escapedOffsets:o,escaped:pD(o)}}}default:return{}}}}},hX=new Set(["left","top"]);async function OSe(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=yu(r),l=Wg(r),c=Vc(r)==="y",d=hX.has(o)?-1:1,u=a&&c?-1:1,A=xu(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:x}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*u,y:f*d}:{x:f*d,y:m*u}}const LSe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await OSe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},FSe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...c}=xu(e,t),d={x:r,y:n},u=await Py(t,c),A=Vc(yu(i)),f=rI(A);let m=d[f],x=d[A];if(a){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+u[v],w=m-u[y];m=Ik(b,m,w)}if(o){const v=A==="y"?"top":"left",y=A==="y"?"bottom":"right",b=x+u[v],w=x-u[y];x=Ik(b,x,w)}const p=l.fn({...t,[f]:m,[A]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[f]:a,[A]:o}}}}}},USe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=xu(e,t),u={x:r,y:n},A=Vc(i),f=rI(A);let m=u[f],x=u[A];const p=xu(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=f==="y"?"height":"width",j=a.reference[f]-a.floating[w]+v.mainAxis,N=a.reference[f]+a.reference[w]-v.mainAxis;m<j?m=j:m>N&&(m=N)}if(d){var y,b;const w=f==="y"?"width":"height",j=hX.has(yu(i)),N=a.reference[A]-a.floating[w]+(j&&((y=o.offset)==null?void 0:y[A])||0)+(j?0:v.crossAxis),B=a.reference[A]+a.reference[w]+(j?0:((b=o.offset)==null?void 0:b[A])||0)-(j?v.crossAxis:0);x<N?x=N:x>B&&(x=B)}return{[f]:m,[A]:x}}}},RSe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=xu(e,t),u=await Py(t,d),A=yu(i),f=Wg(i),m=Vc(i)==="y",{width:x,height:p}=a.floating;let v,y;A==="top"||A==="bottom"?(v=A,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=A,v=f==="end"?"top":"bottom");const b=p-u.top-u.bottom,w=x-u.left-u.right,j=tA(p-u[v],b),N=tA(x-u[y],w),B=!t.middlewareData.shift;let I=j,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(I=b),B&&!f){const U=jo(u.left,0),k=jo(u.right,0),E=jo(u.top,0),Q=jo(u.bottom,0);m?P=x-2*(U!==0||k!==0?U+k:jo(u.left,u.right)):I=p-2*(E!==0||Q!==0?E+Q:jo(u.top,u.bottom))}await c({...t,availableWidth:P,availableHeight:I});const T=await o.getDimensions(l.floating);return x!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function l5(){return typeof window<"u"}function Gg(e){return AX(e)?(e.nodeName||"").toLowerCase():"#document"}function Eo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function xd(e){var t;return(t=(AX(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AX(e){return l5()?e instanceof Node||e instanceof Eo(e).Node:!1}function mc(e){return l5()?e instanceof Element||e instanceof Eo(e).Element:!1}function ud(e){return l5()?e instanceof HTMLElement||e instanceof Eo(e).HTMLElement:!1}function gD(e){return!l5()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Eo(e).ShadowRoot}const MSe=new Set(["inline","contents"]);function Wv(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=pc(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!MSe.has(i)}const DSe=new Set(["table","td","th"]);function QSe(e){return DSe.has(Gg(e))}const $Se=[":popover-open",":modal"];function c5(e){return $Se.some(t=>{try{return e.matches(t)}catch{return!1}})}const HSe=["transform","translate","scale","rotate","perspective"],zSe=["transform","translate","scale","rotate","perspective","filter"],VSe=["paint","layout","strict","content"];function iI(e){const t=aI(),r=mc(e)?pc(e):e;return HSe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||zSe.some(n=>(r.willChange||"").includes(n))||VSe.some(n=>(r.contain||"").includes(n))}function KSe(e){let t=rA(e);for(;ud(t)&&!ig(t);){if(iI(t))return t;if(c5(t))return null;t=rA(t)}return null}function aI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const WSe=new Set(["html","body","#document"]);function ig(e){return WSe.has(Gg(e))}function pc(e){return Eo(e).getComputedStyle(e)}function d5(e){return mc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rA(e){if(Gg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gD(e)&&e.host||xd(e);return gD(t)?t.host:t}function fX(e){const t=rA(e);return ig(t)?e.ownerDocument?e.ownerDocument.body:e.body:ud(t)&&Wv(t)?t:fX(t)}function Iy(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=fX(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Eo(i);if(a){const l=Ok(o);return t.concat(o,o.visualViewport||[],Wv(i)?i:[],l&&r?Iy(l):[])}return t.concat(i,Iy(i,[],r))}function Ok(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mX(e){const t=pc(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ud(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=V2(r)!==a||V2(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function oI(e){return mc(e)?e:e.contextElement}function Rp(e){const t=oI(e);if(!ud(t))return rd(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=mX(t);let o=(a?V2(r.width):r.width)/n,l=(a?V2(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const GSe=rd(0);function pX(e){const t=Eo(e);return!aI()||!t.visualViewport?GSe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qSe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Eo(e)?!1:t}function $f(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=oI(e);let o=rd(1);t&&(n?mc(n)&&(o=Rp(n)):o=Rp(e));const l=qSe(a,r,n)?pX(a):rd(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,A=i.height/o.y;if(a){const f=Eo(a),m=n&&mc(n)?Eo(n):n;let x=f,p=Ok(x);for(;p&&n&&m!==x;){const v=Rp(p),y=p.getBoundingClientRect(),b=pc(p),w=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*v.x,j=y.top+(p.clientTop+parseFloat(b.paddingTop))*v.y;c*=v.x,d*=v.y,u*=v.x,A*=v.y,c+=w,d+=j,x=Eo(p),p=Ok(x)}}return W2({width:u,height:A,x:c,y:d})}function u5(e,t){const r=d5(e).scrollLeft;return t?t.left+r:$f(xd(e)).left+r}function gX(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-u5(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function YSe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=xd(n),l=t?c5(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=rd(1);const u=rd(0),A=ud(n);if((A||!A&&!a)&&((Gg(n)!=="body"||Wv(o))&&(c=d5(n)),ud(n))){const m=$f(n);d=Rp(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const f=o&&!A&&!a?gX(o,c):rd(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:r.y*d.y-c.scrollTop*d.y+u.y+f.y}}function XSe(e){return Array.from(e.getClientRects())}function JSe(e){const t=xd(e),r=d5(e),n=e.ownerDocument.body,i=jo(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=jo(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+u5(e);const l=-r.scrollTop;return pc(n).direction==="rtl"&&(o+=jo(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const xD=25;function ZSe(e,t){const r=Eo(e),n=xd(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=aI();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=u5(n);if(d<=0){const u=n.ownerDocument,A=u.body,f=getComputedStyle(A),m=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(n.clientWidth-A.clientWidth-m);x<=xD&&(a-=x)}else d<=xD&&(a+=d);return{width:a,height:o,x:l,y:c}}const e4e=new Set(["absolute","fixed"]);function t4e(e,t){const r=$f(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ud(e)?Rp(e):rd(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function yD(e,t,r){let n;if(t==="viewport")n=ZSe(e,r);else if(t==="document")n=JSe(xd(e));else if(mc(t))n=t4e(t,r);else{const i=pX(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return W2(n)}function xX(e,t){const r=rA(e);return r===t||!mc(r)||ig(r)?!1:pc(r).position==="fixed"||xX(r,t)}function r4e(e,t){const r=t.get(e);if(r)return r;let n=Iy(e,[],!1).filter(l=>mc(l)&&Gg(l)!=="body"),i=null;const a=pc(e).position==="fixed";let o=a?rA(e):e;for(;mc(o)&&!ig(o);){const l=pc(o),c=iI(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&e4e.has(i.position)||Wv(o)&&!c&&xX(e,o))?n=n.filter(u=>u!==o):i=l,o=rA(o)}return t.set(e,n),n}function n4e(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?c5(t)?[]:r4e(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const A=yD(t,u,i);return d.top=jo(A.top,d.top),d.right=tA(A.right,d.right),d.bottom=tA(A.bottom,d.bottom),d.left=jo(A.left,d.left),d},yD(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function s4e(e){const{width:t,height:r}=mX(e);return{width:t,height:r}}function i4e(e,t,r){const n=ud(t),i=xd(t),a=r==="fixed",o=$f(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=rd(0);function d(){c.x=u5(i)}if(n||!n&&!a)if((Gg(t)!=="body"||Wv(i))&&(l=d5(t)),n){const m=$f(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&d();a&&!n&&i&&d();const u=i&&!n&&!a?gX(i,l):rd(0),A=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:A,y:f,width:o.width,height:o.height}}function kB(e){return pc(e).position==="static"}function vD(e,t){if(!ud(e)||pc(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return xd(e)===r&&(r=r.ownerDocument.body),r}function yX(e,t){const r=Eo(e);if(c5(e))return r;if(!ud(e)){let i=rA(e);for(;i&&!ig(i);){if(mc(i)&&!kB(i))return i;i=rA(i)}return r}let n=vD(e,t);for(;n&&QSe(n)&&kB(n);)n=vD(n,t);return n&&ig(n)&&kB(n)&&!iI(n)?r:n||KSe(e)||r}const a4e=async function(e){const t=this.getOffsetParent||yX,r=this.getDimensions,n=await r(e.floating);return{reference:i4e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function o4e(e){return pc(e).direction==="rtl"}const l4e={convertOffsetParentRelativeRectToViewportRelativeRect:YSe,getDocumentElement:xd,getClippingRect:n4e,getOffsetParent:yX,getElementRects:a4e,getClientRects:XSe,getDimensions:s4e,getScale:Rp,isElement:mc,isRTL:o4e};function vX(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c4e(e,t){let r=null,n;const i=xd(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:A,width:f,height:m}=d;if(l||t(),!f||!m)return;const x=Pw(A),p=Pw(i.clientWidth-(u+f)),v=Pw(i.clientHeight-(A+m)),y=Pw(u),w={rootMargin:-x+"px "+-p+"px "+-v+"px "+-y+"px",threshold:jo(0,tA(1,c))||1};let j=!0;function N(B){const I=B[0].intersectionRatio;if(I!==c){if(!j)return o();I?o(!1,I):n=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!vX(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(N,w)}r.observe(e)}return o(!0),a}function d4e(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=oI(e),u=i||a?[...d?Iy(d):[],...Iy(t)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const A=d&&l?c4e(d,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(y=>{let[b]=y;b&&b.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let x,p=c?$f(e):null;c&&v();function v(){const y=$f(e);p&&!vX(p,y)&&r(),p=y,x=requestAnimationFrame(v)}return r(),()=>{var y;u.forEach(b=>{i&&b.removeEventListener("scroll",r),a&&b.removeEventListener("resize",r)}),A==null||A(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const u4e=LSe,h4e=FSe,A4e=ISe,f4e=RSe,m4e=TSe,bD=PSe,p4e=USe,g4e=(e,t,r)=>{const n=new Map,i={platform:l4e,...r},a={...i.platform,_c:n};return ESe(e,t,{...i,platform:a})};var x4e=typeof document<"u",y4e=function(){},O1=x4e?_.useLayoutEffect:y4e;function G2(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!G2(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!G2(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function bX(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wD(e,t){const r=bX(e);return Math.round(t*r)/r}function EB(e){const t=_.useRef(e);return O1(()=>{t.current=e}),t}function v4e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,A]=_.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=_.useState(n);G2(f,n)||m(n);const[x,p]=_.useState(null),[v,y]=_.useState(null),b=_.useCallback(z=>{z!==B.current&&(B.current=z,p(z))},[]),w=_.useCallback(z=>{z!==I.current&&(I.current=z,y(z))},[]),j=a||x,N=o||v,B=_.useRef(null),I=_.useRef(null),P=_.useRef(u),T=c!=null,U=EB(c),k=EB(i),E=EB(d),Q=_.useCallback(()=>{if(!B.current||!I.current)return;const z={placement:t,strategy:r,middleware:f};k.current&&(z.platform=k.current),g4e(B.current,I.current,z).then(ee=>{const te={...ee,isPositioned:E.current!==!1};F.current&&!G2(P.current,te)&&(P.current=te,aA.flushSync(()=>{A(te)}))})},[f,t,r,k,E]);O1(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,A(z=>({...z,isPositioned:!1})))},[d]);const F=_.useRef(!1);O1(()=>(F.current=!0,()=>{F.current=!1}),[]),O1(()=>{if(j&&(B.current=j),N&&(I.current=N),j&&N){if(U.current)return U.current(j,N,Q);Q()}},[j,N,Q,U,T]);const K=_.useMemo(()=>({reference:B,floating:I,setReference:b,setFloating:w}),[b,w]),W=_.useMemo(()=>({reference:j,floating:N}),[j,N]),D=_.useMemo(()=>{const z={position:r,left:0,top:0};if(!W.floating)return z;const ee=wD(W.floating,u.x),te=wD(W.floating,u.y);return l?{...z,transform:"translate("+ee+"px, "+te+"px)",...bX(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ee,top:te}},[r,l,W.floating,u.x,u.y]);return _.useMemo(()=>({...u,update:Q,refs:K,elements:W,floatingStyles:D}),[u,Q,K,W,D])}const b4e=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?bD({element:n.current,padding:i}).fn(r):{}:n?bD({element:n,padding:i}).fn(r):{}}}},w4e=(e,t)=>({...u4e(e),options:[e,t]}),j4e=(e,t)=>({...h4e(e),options:[e,t]}),N4e=(e,t)=>({...p4e(e),options:[e,t]}),_4e=(e,t)=>({...A4e(e),options:[e,t]}),C4e=(e,t)=>({...f4e(e),options:[e,t]}),B4e=(e,t)=>({...m4e(e),options:[e,t]}),S4e=(e,t)=>({...b4e(e),options:[e,t]});var k4e="Arrow",wX=_.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(qr.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});wX.displayName=k4e;var E4e=wX;function P4e(e){const[t,r]=_.useState(void 0);return Ri(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var lI="Popper",[jX,NX]=kv(lI),[I4e,_X]=jX(lI),CX=e=>{const{__scopePopper:t,children:r}=e,[n,i]=_.useState(null);return s.jsx(I4e,{scope:t,anchor:n,onAnchorChange:i,children:r})};CX.displayName=lI;var BX="PopperAnchor",SX=_.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=_X(BX,r),o=_.useRef(null),l=ps(t,o),c=_.useRef(null);return _.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(qr.div,{...i,ref:l})});SX.displayName=BX;var cI="PopperContent",[T4e,O4e]=jX(cI),kX=_.forwardRef((e,t)=>{var he,ge,J,ue,fe,Y;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:A="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=e,v=_X(cI,r),[y,b]=_.useState(null),w=ps(t,je=>b(je)),[j,N]=_.useState(null),B=P4e(j),I=(B==null?void 0:B.width)??0,P=(B==null?void 0:B.height)??0,T=n+(a!=="center"?"-"+a:""),U=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(d)?d:[d],E=k.length>0,Q={padding:U,boundary:k.filter(F4e),altBoundary:E},{refs:F,floatingStyles:K,placement:W,isPositioned:D,middlewareData:z}=v4e({strategy:"fixed",placement:T,whileElementsMounted:(...je)=>d4e(...je,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[w4e({mainAxis:i+P,alignmentAxis:o}),c&&j4e({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?N4e():void 0,...Q}),c&&_4e({...Q}),C4e({...Q,apply:({elements:je,rects:xe,availableWidth:re,availableHeight:Ce})=>{const{width:Ie,height:Ue}=xe.reference,Oe=je.floating.style;Oe.setProperty("--radix-popper-available-width",`${re}px`),Oe.setProperty("--radix-popper-available-height",`${Ce}px`),Oe.setProperty("--radix-popper-anchor-width",`${Ie}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),j&&S4e({element:j,padding:l}),U4e({arrowWidth:I,arrowHeight:P}),f&&B4e({strategy:"referenceHidden",...Q})]}),[ee,te]=IX(W),le=Ac(x);Ri(()=>{D&&(le==null||le())},[D,le]);const $=(he=z.arrow)==null?void 0:he.x,X=(ge=z.arrow)==null?void 0:ge.y,V=((J=z.arrow)==null?void 0:J.centerOffset)!==0,[ne,ae]=_.useState();return Ri(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:D?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(ue=z.transformOrigin)==null?void 0:ue.x,(fe=z.transformOrigin)==null?void 0:fe.y].join(" "),...((Y=z.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(T4e,{scope:r,placedSide:ee,onArrowChange:N,arrowX:$,arrowY:X,shouldHideArrow:V,children:s.jsx(qr.div,{"data-side":ee,"data-align":te,...p,ref:w,style:{...p.style,animation:D?void 0:"none"}})})})});kX.displayName=cI;var EX="PopperArrow",L4e={top:"bottom",right:"left",bottom:"top",left:"right"},PX=_.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=O4e(EX,n),o=L4e[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(E4e,{...i,ref:r,style:{...i.style,display:"block"}})})});PX.displayName=EX;function F4e(e){return e!==null}var U4e=e=>({name:"transformOrigin",options:e,fn(t){var v,y,b;const{placement:r,rects:n,middlewareData:i}=t,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=IX(r),A={start:"0%",center:"50%",end:"100%"}[u],f=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,m=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?A:`${f}px`,p=`${-c}px`):d==="top"?(x=o?A:`${f}px`,p=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?A:`${m}px`):d==="left"&&(x=`${n.floating.width+c}px`,p=o?A:`${m}px`),{data:{x,y:p}}}});function IX(e){const[t,r="center"]=e.split("-");return[t,r]}var R4e=CX,M4e=SX,D4e=kX,Q4e=PX;function $4e(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var H4e=[" ","Enter","ArrowUp","ArrowDown"],z4e=[" ","Enter"],Hf="Select",[h5,A5,V4e]=QV(Hf),[qg]=kv(Hf,[V4e,NX]),f5=NX(),[K4e,dA]=qg(Hf),[W4e,G4e]=qg(Hf),TX=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:A,disabled:f,required:m,form:x}=e,p=f5(t),[v,y]=_.useState(null),[b,w]=_.useState(null),[j,N]=_.useState(!1),B=xSe(d),[I,P]=p2({prop:n,defaultProp:i??!1,onChange:a,caller:Hf}),[T,U]=p2({prop:o,defaultProp:l,onChange:c,caller:Hf}),k=_.useRef(null),E=v?x||!!v.closest("form"):!0,[Q,F]=_.useState(new Set),K=Array.from(Q).map(W=>W.props.value).join(";");return s.jsx(R4e,{...p,children:s.jsxs(K4e,{required:m,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Pp(),value:T,onValueChange:U,open:I,onOpenChange:P,dir:B,triggerPointerDownPosRef:k,disabled:f,children:[s.jsx(h5.Provider,{scope:t,children:s.jsx(W4e,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(W=>{F(D=>new Set(D).add(W))},[]),onNativeOptionRemove:_.useCallback(W=>{F(D=>{const z=new Set(D);return z.delete(W),z})},[]),children:r})}),E?s.jsxs(nJ,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:A,value:T,onChange:W=>U(W.target.value),disabled:f,form:x,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(Q)]},K):null]})})};TX.displayName=Hf;var OX="SelectTrigger",LX=_.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=f5(r),o=dA(OX,r),l=o.disabled||n,c=ps(t,o.onTriggerChange),d=A5(r),u=_.useRef("touch"),[A,f,m]=iJ(p=>{const v=d().filter(w=>!w.disabled),y=v.find(w=>w.value===o.value),b=aJ(v,p,y);b!==void 0&&o.onValueChange(b.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(M4e,{asChild:!0,...a,children:s.jsx(qr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":sJ(o.value)?"":void 0,...i,ref:c,onClick:Dr(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:Dr(i.onPointerDown,p=>{u.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:Dr(i.onKeyDown,p=>{const v=A.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(v&&p.key===" ")&&H4e.includes(p.key)&&(x(),p.preventDefault())})})})});LX.displayName=OX;var FX="SelectValue",UX=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=dA(FX,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,A=ps(t,c.onValueNodeChange);return Ri(()=>{d(u)},[d,u]),s.jsx(qr.span,{...l,ref:A,style:{pointerEvents:"none"},children:sJ(c.value)?s.jsx(s.Fragment,{children:o}):a})});UX.displayName=FX;var q4e="SelectIcon",RX=_.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(qr.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});RX.displayName=q4e;var Y4e="SelectPortal",MX=e=>s.jsx(SN,{asChild:!0,...e});MX.displayName=Y4e;var zf="SelectContent",DX=_.forwardRef((e,t)=>{const r=dA(zf,e.__scopeSelect),[n,i]=_.useState();if(Ri(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?aA.createPortal(s.jsx(QX,{scope:e.__scopeSelect,children:s.jsx(h5.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx($X,{...e,ref:t})});DX.displayName=zf;var ql=10,[QX,uA]=qg(zf),X4e="SelectContentImpl",J4e=tg("SelectContent.RemoveScroll"),$X=_.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:A,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v,...y}=e,b=dA(zf,r),[w,j]=_.useState(null),[N,B]=_.useState(null),I=ps(t,he=>j(he)),[P,T]=_.useState(null),[U,k]=_.useState(null),E=A5(r),[Q,F]=_.useState(!1),K=_.useRef(!1);_.useEffect(()=>{if(w)return GG(w)},[w]),MG();const W=_.useCallback(he=>{const[ge,...J]=E().map(Y=>Y.ref.current),[ue]=J.slice(-1),fe=document.activeElement;for(const Y of he)if(Y===fe||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===ge&&N&&(N.scrollTop=0),Y===ue&&N&&(N.scrollTop=N.scrollHeight),Y==null||Y.focus(),document.activeElement!==fe))return},[E,N]),D=_.useCallback(()=>W([P,w]),[W,P,w]);_.useEffect(()=>{Q&&D()},[Q,D]);const{onOpenChange:z,triggerPointerDownPosRef:ee}=b;_.useEffect(()=>{if(w){let he={x:0,y:0};const ge=ue=>{var fe,Y;he={x:Math.abs(Math.round(ue.pageX)-(((fe=ee.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((Y=ee.current)==null?void 0:Y.y)??0))}},J=ue=>{he.x<=10&&he.y<=10?ue.preventDefault():w.contains(ue.target)||z(!1),document.removeEventListener("pointermove",ge),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",J,{capture:!0})}}},[w,z,ee]),_.useEffect(()=>{const he=()=>z(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[z]);const[te,le]=iJ(he=>{const ge=E().filter(fe=>!fe.disabled),J=ge.find(fe=>fe.ref.current===document.activeElement),ue=aJ(ge,he,J);ue&&setTimeout(()=>ue.ref.current.focus())}),$=_.useCallback((he,ge,J)=>{const ue=!K.current&&!J;(b.value!==void 0&&b.value===ge||ue)&&(T(he),ue&&(K.current=!0))},[b.value]),X=_.useCallback(()=>w==null?void 0:w.focus(),[w]),V=_.useCallback((he,ge,J)=>{const ue=!K.current&&!J;(b.value!==void 0&&b.value===ge||ue)&&k(he)},[b.value]),ne=n==="popper"?Lk:HX,ae=ne===Lk?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:A,collisionBoundary:f,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(QX,{scope:r,content:w,viewport:N,onViewportChange:B,itemRefCallback:$,selectedItem:P,onItemLeave:X,itemTextRefCallback:V,focusSelectedItem:D,selectedItemText:U,position:n,isPositioned:Q,searchRef:te,children:s.jsx(L6,{as:J4e,allowPinchZoom:!0,children:s.jsx(O6,{asChild:!0,trapped:b.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Dr(i,he=>{var ge;(ge=b.trigger)==null||ge.focus({preventScroll:!0}),he.preventDefault()}),children:s.jsx(BN,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ne,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:he=>he.preventDefault(),...y,...ae,onPlaced:()=>F(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Dr(y.onKeyDown,he=>{const ge=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!ge&&he.key.length===1&&le(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ue=E().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const fe=he.target,Y=ue.indexOf(fe);ue=ue.slice(Y+1)}setTimeout(()=>W(ue)),he.preventDefault()}})})})})})})});$X.displayName=X4e;var Z4e="SelectItemAlignedPosition",HX=_.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=dA(zf,r),o=uA(zf,r),[l,c]=_.useState(null),[d,u]=_.useState(null),A=ps(t,I=>u(I)),f=A5(r),m=_.useRef(!1),x=_.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,w=_.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&p&&v&&y){const I=a.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),U=y.getBoundingClientRect();if(a.dir!=="rtl"){const fe=U.left-P.left,Y=T.left-fe,je=I.left-Y,xe=I.width+je,re=Math.max(xe,P.width),Ce=window.innerWidth-ql,Ie=uD(Y,[ql,Math.max(ql,Ce-re)]);l.style.minWidth=xe+"px",l.style.left=Ie+"px"}else{const fe=P.right-U.right,Y=window.innerWidth-T.right-fe,je=window.innerWidth-I.right-Y,xe=I.width+je,re=Math.max(xe,P.width),Ce=window.innerWidth-ql,Ie=uD(Y,[ql,Math.max(ql,Ce-re)]);l.style.minWidth=xe+"px",l.style.right=Ie+"px"}const k=f(),E=window.innerHeight-ql*2,Q=p.scrollHeight,F=window.getComputedStyle(d),K=parseInt(F.borderTopWidth,10),W=parseInt(F.paddingTop,10),D=parseInt(F.borderBottomWidth,10),z=parseInt(F.paddingBottom,10),ee=K+W+Q+z+D,te=Math.min(v.offsetHeight*5,ee),le=window.getComputedStyle(p),$=parseInt(le.paddingTop,10),X=parseInt(le.paddingBottom,10),V=I.top+I.height/2-ql,ne=E-V,ae=v.offsetHeight/2,he=v.offsetTop+ae,ge=K+W+he,J=ee-ge;if(ge<=V){const fe=k.length>0&&v===k[k.length-1].ref.current;l.style.bottom="0px";const Y=d.clientHeight-p.offsetTop-p.offsetHeight,je=Math.max(ne,ae+(fe?X:0)+Y+D),xe=ge+je;l.style.height=xe+"px"}else{const fe=k.length>0&&v===k[0].ref.current;l.style.top="0px";const je=Math.max(V,K+p.offsetTop+(fe?$:0)+ae)+J;l.style.height=je+"px",p.scrollTop=ge-V+p.offsetTop}l.style.margin=`${ql}px 0`,l.style.minHeight=te+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[f,a.trigger,a.valueNode,l,d,p,v,y,a.dir,n]);Ri(()=>w(),[w]);const[j,N]=_.useState();Ri(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const B=_.useCallback(I=>{I&&x.current===!0&&(w(),b==null||b(),x.current=!1)},[w,b]);return s.jsx(tke,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:B,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(qr.div,{...i,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});HX.displayName=Z4e;var eke="SelectPopperPosition",Lk=_.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ql,...a}=e,o=f5(r);return s.jsx(D4e,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lk.displayName=eke;var[tke,dI]=qg(zf,{}),Fk="SelectViewport",zX=_.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=uA(Fk,r),o=dI(Fk,r),l=ps(t,a.onViewportChange),c=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(h5.Slot,{scope:r,children:s.jsx(qr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Dr(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&A){const m=Math.abs(c.current-u.scrollTop);if(m>0){const x=window.innerHeight-ql*2,p=parseFloat(A.style.minHeight),v=parseFloat(A.style.height),y=Math.max(p,v);if(y<x){const b=y+m,w=Math.min(x,b),j=b-w;A.style.height=w+"px",A.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,A.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});zX.displayName=Fk;var VX="SelectGroup",[rke,nke]=qg(VX),ske=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Pp();return s.jsx(rke,{scope:r,id:i,children:s.jsx(qr.div,{role:"group","aria-labelledby":i,...n,ref:t})})});ske.displayName=VX;var KX="SelectLabel",WX=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=nke(KX,r);return s.jsx(qr.div,{id:i.id,...n,ref:t})});WX.displayName=KX;var q2="SelectItem",[ike,GX]=qg(q2),qX=_.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=dA(q2,r),c=uA(q2,r),d=l.value===n,[u,A]=_.useState(a??""),[f,m]=_.useState(!1),x=ps(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,n,i)}),p=Pp(),v=_.useRef("touch"),y=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ike,{scope:r,value:n,disabled:i,textId:p,isSelected:d,onItemTextChange:_.useCallback(b=>{A(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(h5.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:s.jsx(qr.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:Dr(o.onFocus,()=>m(!0)),onBlur:Dr(o.onBlur,()=>m(!1)),onClick:Dr(o.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:Dr(o.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:Dr(o.onPointerDown,b=>{v.current=b.pointerType}),onPointerMove:Dr(o.onPointerMove,b=>{var w;v.current=b.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Dr(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Dr(o.onKeyDown,b=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&b.key===" "||(z4e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});qX.displayName=q2;var xx="SelectItemText",YX=_.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=dA(xx,r),l=uA(xx,r),c=GX(xx,r),d=G4e(xx,r),[u,A]=_.useState(null),f=ps(t,y=>A(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),m=u==null?void 0:u.textContent,x=_.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=d;return Ri(()=>(p(x),()=>v(x)),[p,v,x]),s.jsxs(s.Fragment,{children:[s.jsx(qr.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?aA.createPortal(a.children,o.valueNode):null]})});YX.displayName=xx;var XX="SelectItemIndicator",JX=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return GX(XX,r).isSelected?s.jsx(qr.span,{"aria-hidden":!0,...n,ref:t}):null});JX.displayName=XX;var Uk="SelectScrollUpButton",ZX=_.forwardRef((e,t)=>{const r=uA(Uk,e.__scopeSelect),n=dI(Uk,e.__scopeSelect),[i,a]=_.useState(!1),o=ps(t,n.onScrollButtonChange);return Ri(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(tJ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ZX.displayName=Uk;var Rk="SelectScrollDownButton",eJ=_.forwardRef((e,t)=>{const r=uA(Rk,e.__scopeSelect),n=dI(Rk,e.__scopeSelect),[i,a]=_.useState(!1),o=ps(t,n.onScrollButtonChange);return Ri(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(tJ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});eJ.displayName=Rk;var tJ=_.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=uA("SelectScrollButton",r),o=_.useRef(null),l=A5(r),c=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>c(),[c]),Ri(()=>{var u;const d=l().find(A=>A.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(qr.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Dr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Dr(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Dr(i.onPointerLeave,()=>{c()})})}),ake="SelectSeparator",rJ=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(qr.div,{"aria-hidden":!0,...n,ref:t})});rJ.displayName=ake;var Mk="SelectArrow",oke=_.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=f5(r),a=dA(Mk,r),o=uA(Mk,r);return a.open&&o.position==="popper"?s.jsx(Q4e,{...i,...n,ref:t}):null});oke.displayName=Mk;var lke="SelectBubbleInput",nJ=_.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=_.useRef(null),a=ps(n,i),o=$4e(t);return _.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const A=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(A)}},[o,t]),s.jsx(qr.select,{...r,style:{...KV,...r.style},ref:a,defaultValue:t})});nJ.displayName=lke;function sJ(e){return e===""||e===void 0}function iJ(e){const t=Ac(e),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function aJ(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=cke(e,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function cke(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var dke=TX,oJ=LX,uke=UX,hke=RX,Ake=MX,lJ=DX,fke=zX,cJ=WX,dJ=qX,mke=YX,pke=JX,uJ=ZX,hJ=eJ,AJ=rJ;const Y2=dke,X2=uke,Ty=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(oJ,{ref:n,className:dn("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(hke,{asChild:!0,children:s.jsx(ZA,{className:"h-4 w-4 opacity-50"})})]}));Ty.displayName=oJ.displayName;const fJ=_.forwardRef(({className:e,...t},r)=>s.jsx(uJ,{ref:r,className:dn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(bue,{className:"h-4 w-4"})}));fJ.displayName=uJ.displayName;const mJ=_.forwardRef(({className:e,...t},r)=>s.jsx(hJ,{ref:r,className:dn("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ZA,{className:"h-4 w-4"})}));mJ.displayName=hJ.displayName;const Oy=_.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(Ake,{children:s.jsxs(lJ,{ref:i,className:dn("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(fJ,{}),s.jsx(fke,{className:dn("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(mJ,{})]})}));Oy.displayName=lJ.displayName;const gke=_.forwardRef(({className:e,...t},r)=>s.jsx(cJ,{ref:r,className:dn("px-2 py-1.5 text-sm font-semibold",e),...t}));gke.displayName=cJ.displayName;const ba=_.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(dJ,{ref:n,className:dn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pke,{children:s.jsx(zm,{className:"h-4 w-4"})})}),s.jsx(mke,{children:t})]}));ba.displayName=dJ.displayName;const xke=_.forwardRef(({className:e,...t},r)=>s.jsx(AJ,{ref:r,className:dn("-mx-1 my-1 h-px bg-muted",e),...t}));xke.displayName=AJ.displayName;delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const yke=({onLocationSelect:e})=>(WN({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),vke=({center:e})=>{const t=WN({});return _e.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},bke=()=>{const e=cr(),[t,r]=_.useState(null),[n,i]=_.useState(!0),[a,o]=_.useState(!1),[l,c]=_.useState({propertyName:"",description:"",numberOfRooms:"",propertyMode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:"",latitude:"",longitude:""},monthlyRent:"",securityDeposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:[],requiredImages:{front:null,back:null,hall:null,kitchen:null},toiletOutside:!1,outsideToiletImage:null,landTaxReceipt:null,documents:[],rooms:[]}),[d,u]=_.useState({}),[A,f]=_.useState(!1),[m,x]=_.useState(!1),p=me=>{const Be=[];for(let Ne=1;Ne<=me;Ne++)Be.push({roomNumber:Ne,roomType:"",roomSize:"",bedType:"",occupancy:1,rent:"",amenities:{ac:!1,wifi:!1,tv:!1,fridge:!1,wardrobe:!1,studyTable:!1,balcony:!1,attachedBathroom:!1},description:"",roomImage:null,toiletImage:null});return Be},v=me=>{const Be=parseInt(me),Ne=isNaN(Be)?0:Math.min(Be,6);c(Ee=>({...Ee,numberOfRooms:String(Ne),rooms:Ne>0?p(Ne):[]})),x(Ne>0),!isNaN(Be)&&Be>6?u(Ee=>({...Ee,numberOfRooms:"Maximum 6 rooms allowed"})):d.numberOfRooms==="Maximum 6 rooms allowed"&&u(Ee=>({...Ee,numberOfRooms:""}))},y=me=>({Single:1,Double:2,Triple:3,Quad:4,Master:2,Studio:1})[me]||1,b=(me,Be,Ne)=>{c(Ee=>({...Ee,rooms:Ee.rooms.map(($e,ot)=>{if(ot===me){const nt={...$e,[Be]:Ne};return Be==="roomType"&&Ne&&(nt.occupancy=y(Ne)),nt}return $e})}))},w=(me,Be,Ne)=>{c(Ee=>({...Ee,rooms:Ee.rooms.map(($e,ot)=>ot===me?{...$e,amenities:{...$e.amenities,[Be]:Ne}}:$e)}))},j=(me,Be,Ne)=>{var nt;const Ee=(nt=Ne.target.files)==null?void 0:nt[0];if(!Ee)return;const $e={file:Ee,preview:URL.createObjectURL(Ee),name:Ee.name};c(tt=>({...tt,rooms:tt.rooms.map((Ke,it)=>it===me?{...Ke,[Be]:$e}:Ke)}));const ot=Be==="roomImage"?`room_${me}_roomImage`:`room_${me}_toiletImage`;d[ot]&&u(tt=>({...tt,[ot]:""}))},N=(me,Be)=>{c(Ne=>({...Ne,rooms:Ne.rooms.map((Ee,$e)=>$e===me?{...Ee,[Be]:null}:Ee)}))};_.useRef(null),_.useRef(null);const[B,I]=_.useState(!1),[P,T]=_.useState(!1),[U,k]=_.useState(""),[E,Q]=_.useState([]),[F,K]=_.useState(-1),[W,D]=_.useState(!1),z=_.useRef(null),ee=_.useRef(null),te=_.useRef(!1),[le,$]=_.useState([12.9716,77.5946]);_.useEffect(()=>{(()=>{const Be=localStorage.getItem("authToken"),Ne=localStorage.getItem("user");if(!Be||!Ne){e("/login");return}try{const Ee=JSON.parse(Ne);if(Ee.role!==3){e("/login");return}r(Ee);const $e=!Ee.kycVerified&&!(Ee.govtIdFrontUrl&&Ee.govtIdBackUrl);o($e)}catch(Ee){console.error("Error parsing user data:",Ee),e("/login")}i(!1)})()},[e]),_.useEffect(()=>{if(l.address.latitude&&l.address.longitude){const me=parseFloat(l.address.latitude),Be=parseFloat(l.address.longitude);!isNaN(me)&&!isNaN(Be)&&$([me,Be])}},[l.address.latitude,l.address.longitude]);const X=(me,Be)=>{$([me,Be]),c(Ne=>({...Ne,address:{...Ne.address,latitude:String(me),longitude:String(Be)}}))},V=me=>{const{lat:Be,lng:Ne}=me.target.getLatLng();X(Be,Ne)},ne=()=>{I(!B)},ae=()=>{var Ee;const me=l.address.latitude,Be=l.address.longitude;if(!me||!Be){alert("Set a location first (drag marker or select a place).");return}const Ne=`${me}, ${Be}`;(Ee=navigator.clipboard)!=null&&Ee.writeText?navigator.clipboard.writeText(Ne).then(()=>{alert("Coordinates copied to clipboard")}).catch(()=>{window.prompt("Copy coordinates:",Ne)}):window.prompt("Copy coordinates:",Ne)};_.useEffect(()=>{if(!U||U.trim().length<2){Q([]),D(!1),K(-1);return}if(!te.current)return z.current&&clearTimeout(z.current),z.current=setTimeout(async()=>{try{const me=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(U)}&format=json&addressdetails=1&limit=5&countrycodes=in`,{headers:{Accept:"application/json","User-Agent":"LyvoPropertyApp/1.0"}});if(me.ok){const Be=await me.json();Q(Be),D(Be.length>0),K(-1)}else Q([]),D(!1),K(-1)}catch(me){console.error("Error fetching place suggestions:",me),Q([]),D(!1),K(-1)}},250),()=>{z.current&&clearTimeout(z.current)}},[U]),_.useEffect(()=>{if(!ee.current)return;const me=ee.current.querySelector(`[data-idx="${F}"]`);me&&me.scrollIntoView({block:"nearest"})},[F]);const he=me=>{if(!me)return;te.current=!0,z.current&&clearTimeout(z.current),D(!1),Q([]);const Be=me.address||{},Ne=[Be.road,Be.suburb,Be.neighbourhood].filter(Boolean).join(", "),Ee=Be.city||Be.town||Be.village||Be.municipality||"",$e=Be.state||"",ot=Be.postcode||"",nt=me.name||Be.amenity||"",tt=parseFloat(me.lat),Ke=parseFloat(me.lon);!isNaN(tt)&&!isNaN(Ke)&&$([tt,Ke]),c(it=>({...it,address:{...it.address,street:Ne||it.address.street,city:Ee||it.address.city,state:$e||it.address.state,pincode:ot||it.address.pincode,landmark:nt||it.address.landmark,latitude:isNaN(tt)?it.address.latitude:String(tt),longitude:isNaN(Ke)?it.address.longitude:String(Ke)}})),k(me.display_name||""),D(!1),K(-1),setTimeout(()=>{te.current=!1},0)},ge=me=>{!W||E.length===0||(me.key==="ArrowDown"?(me.preventDefault(),K(Be=>(Be+1)%E.length)):me.key==="ArrowUp"?(me.preventDefault(),K(Be=>(Be-1+E.length)%E.length)):me.key==="Enter"?F>=0&&(me.preventDefault(),he(E[F])):me.key==="Escape"&&(D(!1),K(-1)))},J=(me,Be)=>{if(me.includes(".")){const[Ne,Ee]=me.split(".");c($e=>({...$e,[Ne]:{...$e[Ne],[Ee]:Be}}))}else c(Ne=>({...Ne,[me]:Be}));d[me]&&u(Ne=>({...Ne,[me]:""}))},ue=me=>{c(Be=>({...Be,amenities:{...Be.amenities,[me]:!Be.amenities[me]}}))},fe=me=>{c(Be=>({...Be,rules:{...Be.rules,[me]:!Be.rules[me]}}))},Y=me=>{const Ne=Array.from(me.target.files).map(Ee=>({file:Ee,preview:URL.createObjectURL(Ee),name:Ee.name}));c(Ee=>({...Ee,images:[...Ee.images,...Ne]}))},je=(me,Be)=>{var $e;const Ne=($e=Be.target.files)==null?void 0:$e[0];if(!Ne)return;const Ee={file:Ne,preview:URL.createObjectURL(Ne),name:Ne.name};c(ot=>({...ot,requiredImages:{...ot.requiredImages,[me]:Ee}})),d[`requiredImages.${me}`]&&u(ot=>({...ot,[`requiredImages.${me}`]:""}))},xe=me=>{var Ee;const Be=(Ee=me.target.files)==null?void 0:Ee[0];if(!Be)return;const Ne={file:Be,preview:URL.createObjectURL(Be),name:Be.name};c($e=>({...$e,outsideToiletImage:Ne})),d.outsideToiletImage&&u($e=>({...$e,outsideToiletImage:""}))},re=me=>{c(Be=>({...Be,requiredImages:{...Be.requiredImages,[me]:null}}))},Ce=me=>{c(Be=>({...Be,images:Be.images.filter((Ne,Ee)=>Ee!==me)}))},Ie=me=>{var Ee;const Be=(Ee=me.target.files)==null?void 0:Ee[0];if(!Be)return;const Ne={file:Be,preview:URL.createObjectURL(Be),name:Be.name,type:Be.type};c($e=>({...$e,landTaxReceipt:Ne})),d.landTaxReceipt&&u($e=>({...$e,landTaxReceipt:""}))},Ue=()=>{c(me=>({...me,landTaxReceipt:null}))},Oe=()=>{const me={};if(l.propertyName.trim()||(me.propertyName="Property name is required"),l.description.trim()||(me.description="Description is required"),l.propertyMode==="room"){const Ne=parseInt(l.numberOfRooms);!Ne||Ne<=0?me.numberOfRooms="Number of rooms is required":Ne>6&&(me.numberOfRooms="Maximum 6 rooms allowed")}else l.dormitory.numDorms||(me["dormitory.numDorms"]="Number of dorms is required"),parseInt(l.dormitory.numDorms||"0")>0&&(l.dormitory.bedsPerDorms||[]).findIndex($e=>!$e||parseInt($e)<=0)!==-1&&(me["dormitory.bedsPerDorms"]="Enter beds for each dorm"),l.dormitory.pricePerBed||(me["dormitory.pricePerBed"]="Price per bed is required");l.propertyMode==="room"&&l.rooms.length>0&&l.rooms.forEach((Ne,Ee)=>{var $e;Ne.roomType||(me[`room_${Ee}_type`]=`Room ${Ee+1} type is required`),(!Ne.roomSize||parseInt(Ne.roomSize)<=0)&&(me[`room_${Ee}_size`]=`Room ${Ee+1} size is required`),Ne.bedType||(me[`room_${Ee}_bed`]=`Room ${Ee+1} bed type is required`),(!Ne.rent||parseInt(Ne.rent)<=0)&&(me[`room_${Ee}_rent`]=`Room ${Ee+1} rent is required`),Ne.roomImage||(me[`room_${Ee}_roomImage`]=`Room ${Ee+1} image is required`),($e=Ne.amenities)!=null&&$e.attachedBathroom&&!Ne.toiletImage&&(me[`room_${Ee}_toiletImage`]=`Room ${Ee+1} toilet image is required`)}),l.address.street.trim()||(me["address.street"]="Street address is required"),l.address.city.trim()||(me["address.city"]="City is required"),l.address.state.trim()||(me["address.state"]="State is required"),l.address.pincode.trim()||(me["address.pincode"]="Pincode is required"),l.securityDeposit||(me.securityDeposit="Security deposit is required");const Be=["front","back","hall"];return l.amenities.kitchen&&Be.push("kitchen"),Be.forEach(Ne=>{l.requiredImages[Ne]||(me[`requiredImages.${Ne}`]="Required")}),l.toiletOutside&&!l.outsideToiletImage&&(me.outsideToiletImage="Outside toilet image is required"),l.landTaxReceipt||(me.landTaxReceipt="Latest Land Tax Receipt (PDF) is required"),u(me),Object.keys(me).length===0},Xe=async me=>{var Be,Ne,Ee,$e,ot,nt,tt;if(me.preventDefault(),!!Oe()){f(!0);try{const Ke=localStorage.getItem("authToken");if(!Ke)throw new Error("Authentication token not found");const it=new FormData,lt={...l};l.propertyMode==="room"?lt.rooms=(lt.rooms||[]).map(wt=>{const{roomImage:$t,toiletImage:gt,...mt}=wt;return mt}):lt.rooms=[],it.append("propertyData",JSON.stringify(lt)),(Be=l.requiredImages.front)!=null&&Be.file&&it.append("frontImage",l.requiredImages.front.file),(Ne=l.requiredImages.back)!=null&&Ne.file&&it.append("backImage",l.requiredImages.back.file),(Ee=l.requiredImages.hall)!=null&&Ee.file&&it.append("hallImage",l.requiredImages.hall.file),($e=l.requiredImages.kitchen)!=null&&$e.file&&it.append("kitchenImage",l.requiredImages.kitchen.file),l.propertyMode==="room"?(l.rooms||[]).forEach((wt,$t)=>{var gt,mt;(gt=wt.roomImage)!=null&&gt.file&&it.append(`rooms[${$t}][roomImage]`,wt.roomImage.file),(mt=wt.toiletImage)!=null&&mt.file&&it.append(`rooms[${$t}][toiletImage]`,wt.toiletImage.file)}):((l.dormitory.images||[]).forEach((wt,$t)=>{wt.file&&it.append("dormitoryImages",wt.file)}),(ot=l.dormitory.toiletImage)!=null&&ot.file&&it.append("dormitoryToiletImage",l.dormitory.toiletImage.file)),it.append("toiletOutside",String(!!l.toiletOutside)),l.toiletOutside&&((nt=l.outsideToiletImage)!=null&&nt.file)&&it.append("outsideToiletImage",l.outsideToiletImage.file),console.log("Documents:",l.documents),(tt=l.landTaxReceipt)!=null&&tt.file&&it.append("landTaxReceipt",l.landTaxReceipt.file),l.documents&&Array.isArray(l.documents)&&l.documents.forEach((wt,$t)=>{wt.file&&(console.log("Adding document: documents",wt.file.name),it.append("documents",wt.file))}),console.log("FormData entries:");for(let[wt,$t]of it.entries())console.log(wt,$t);const yt=await fetch("http://localhost:5000/api/property/add",{method:"POST",headers:{Authorization:`Bearer ${Ke}`},body:it}),Ct=await yt.json();if(!yt.ok)throw new Error(Ct.message||"Failed to create property");if(Ct.success)window.refreshProperties&&window.refreshProperties(),e("/owner-properties");else throw new Error(Ct.message||"Failed to create property")}catch(Ke){console.error("Error adding property:",Ke),alert(`Error: ${Ke.message}`)}finally{f(!1)}}};if(n)return s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})});const et=!n&&t&&a;return s.jsxs(cn,{children:[s.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-0 space-y-4 sm:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("button",{onClick:()=>e("/owner-dashboard"),className:"p-1.5 sm:p-2 text-gray-600 hover:text-gray-800 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:s.jsx(Js,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg sm:text-xl sm:text-2xl font-bold text-gray-900",children:"Add New Property"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Fill in the details to list your property"})]})]})}),et&&s.jsxs("div",{className:"p-3 sm:p-4 bg-yellow-50 border border-yellow-200 rounded-lg flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("div",{className:"text-xs sm:text-sm text-yellow-900",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-3 py-2 bg-red-600 text-white rounded-md text-xs sm:text-sm hover:bg-red-700",children:"Go to Upload Documents"})})]}),s.jsxs("form",{onSubmit:Xe,className:`space-y-6 sm:space-y-8 ${et?"pointer-events-none opacity-50 select-none":""}`,children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Jr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:l.propertyName,onChange:me=>J("propertyName",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.propertyName?"border-red-500":"border-gray-300"}`,placeholder:"Enter property name"}),d.propertyName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.propertyName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:l.securityDeposit,onChange:me=>J("securityDeposit",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.securityDeposit?"border-red-500":"border-gray-300"}`,placeholder:"Security deposit amount",min:"0"}),d.securityDeposit&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.securityDeposit})]}),l.propertyMode==="room"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Rooms *"}),s.jsx("input",{type:"number",min:"1",max:"6",value:l.numberOfRooms,onChange:me=>v(me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.numberOfRooms?"border-red-500":"border-gray-300"}`,placeholder:"Enter number of rooms (max 6)"}),d.numberOfRooms&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.numberOfRooms})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:l.description,onChange:me=>J("description",me.target.value),rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d.description?"border-red-500":"border-gray-300"}`,placeholder:"Describe your property, its features, and what makes it special..."}),d.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.description})]})]})]}),m&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(Ir,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Room Details"})]}),s.jsx("div",{className:"space-y-4",children:l.rooms.map((me,Be)=>s.jsxs("div",{className:"border border-red-200 rounded-md p-3 sm:p-4 shadow-sm hover:shadow-md transition-all bg-red-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 rounded-md px-3 py-2 border border-red-200 bg-red-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 text-red-700 flex items-center justify-center font-bold",children:me.roomNumber}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 tracking-wide",children:["Room ",me.roomNumber]}),s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-1.5",children:[me.roomType&&s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:me.roomType}),me.roomSize&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[me.roomSize," sq ft"]}),me.occupancy&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-gray-100 text-gray-700 border border-gray-200",children:[me.occupancy," pax"]}),me.rent&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium bg-green-50 text-green-700 border border-green-200",children:["",me.rent]})]})]})]}),s.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[11px] font-medium bg-red-50 text-red-700 border border-red-200",children:"Room Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4 items-start",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type *"}),s.jsxs(Y2,{value:me.roomType,onValueChange:Ne=>b(Be,"roomType",Ne),children:[s.jsx(Ty,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_type`]?"border-red-500":"border-gray-300"}`,children:s.jsx(X2,{placeholder:"Select room type"})}),s.jsxs(Oy,{position:"popper",children:[s.jsx(ba,{value:"Single",children:"Single"}),s.jsx(ba,{value:"Double",children:"Double"}),s.jsx(ba,{value:"Triple",children:"Triple"}),s.jsx(ba,{value:"Quad",children:"Quad"}),s.jsx(ba,{value:"Master",children:"Master"}),s.jsx(ba,{value:"Studio",children:"Studio"})]})]}),d[`room_${Be}_type`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_type`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Size (sq ft) *"}),s.jsx("input",{type:"number",min:"50",value:me.roomSize,onChange:Ne=>b(Be,"roomSize",Ne.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_size`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter room size"}),d[`room_${Be}_size`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_size`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bed Type *"}),s.jsxs(Y2,{value:me.bedType,onValueChange:Ne=>b(Be,"bedType",Ne),children:[s.jsx(Ty,{className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_bed`]?"border-red-500":"border-gray-300"}`,children:s.jsx(X2,{placeholder:"Select bed type"})}),s.jsxs(Oy,{position:"popper",children:[s.jsx(ba,{value:"Single Bed",children:"Single Bed"}),s.jsx(ba,{value:"Double Bed",children:"Double Bed"}),s.jsx(ba,{value:"Queen Bed",children:"Queen Bed"}),s.jsx(ba,{value:"King Bed",children:"King Bed"}),s.jsx(ba,{value:"Bunk Bed",children:"Bunk Bed"}),s.jsx(ba,{value:"No Bed",children:"No Bed"})]})]}),d[`room_${Be}_bed`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_bed`]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Occupancy *"}),s.jsx("input",{type:"number",min:"1",max:"10",value:me.occupancy,readOnly:!0,className:"w-full px-3 py-2 border rounded-lg bg-gray-50 text-gray-700 cursor-not-allowed border-gray-300",placeholder:"Auto-set based on room type"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Automatically set based on room type"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent () *"}),s.jsx("input",{type:"number",min:"0",value:me.rent,onChange:Ne=>b(Be,"rent",Ne.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d[`room_${Be}_rent`]?"border-red-500":"border-gray-300"}`,placeholder:"Enter monthly rent"}),d[`room_${Be}_rent`]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d[`room_${Be}_rent`]})]}),s.jsxs("div",{className:"md:mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Attached Bathroom"}),s.jsxs("div",{className:"flex items-center h-10 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>w(Be,"attachedBathroom",!me.amenities.attachedBathroom),className:`relative inline-flex items-center h-9 w-16 rounded-full transition-colors border ${me.amenities.attachedBathroom?"bg-green-500 border-green-500":"bg-gray-200 border-gray-300"}`,title:"Toggle attached bathroom","aria-pressed":me.amenities.attachedBathroom,children:[s.jsx("span",{className:`absolute left-1 top-1 h-7 w-7 rounded-full bg-white shadow transition-transform ${me.amenities.attachedBathroom?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Attached bathroom toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${me.amenities.attachedBathroom?"text-green-700":"text-gray-600"}`,children:me.amenities.attachedBathroom?"YES":"NO"})]})]}),s.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Description"}),s.jsx("textarea",{value:me.description,onChange:Ne=>b(Be,"description",Ne.target.value),rows:5,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent border-gray-300 h-36",placeholder:"Describe this room's features..."})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Image *"}),me.roomImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:me.roomImage.preview,alt:me.roomImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>N(Be,"roomImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${d[`room_${Be}_roomImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Room Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ne=>j(Be,"roomImage",Ne)})]}),d[`room_${Be}_roomImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`room_${Be}_roomImage`]})]}),s.jsx("div",{className:"flex flex-col",children:me.amenities.attachedBathroom&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toilet Image (for attached bathroom) *"}),me.toiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:me.toiletImage.preview,alt:me.toiletImage.name,className:"w-full max-w-[220px] h-36 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>N(Be,"toiletImage"),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-36 border-2 border-dashed rounded-lg cursor-pointer ${d[`room_${Be}_toiletImage`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Upload Toilet Image"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ne=>j(Be,"toiletImage",Ne)})]}),d[`room_${Be}_toiletImage`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`room_${Be}_toiletImage`]})]})})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 sm:gap-3 items-center",children:Object.entries(me.amenities).filter(([Ne])=>Ne!=="attachedBathroom").map(([Ne,Ee])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:Ee,onChange:$e=>w(Be,Ne,$e.target.checked),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-700 capitalize",children:Ne.replace(/([A-Z])/g," $1").trim()})]},Ne))})]})]})]},Be))})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(wr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Address Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search PG/Property via Google Maps"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:U,onChange:me=>k(me.target.value),onFocus:()=>E.length>0&&D(!0),onKeyDown:ge,placeholder:"Start typing address, area, landmark...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),W&&s.jsxs("div",{ref:ee,className:"absolute z-40 left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-xl max-h-80 overflow-auto",children:[E.length===0&&s.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No results"}),E.map((me,Be)=>s.jsxs("button",{type:"button","data-idx":Be,onMouseEnter:()=>K(Be),onMouseLeave:()=>K(-1),onClick:()=>he(me),className:`w-full text-left px-4 py-3 text-sm transition-colors ${Be===F?"bg-red-50":"hover:bg-gray-50"}`,children:[s.jsx("div",{className:"text-gray-700 leading-snug line-clamp-2",children:me.display_name||me.name||""}),me.type&&s.jsx("div",{className:"text-xs text-gray-500 mt-0.5 capitalize",children:me.type})]},`${me.place_id}-${Be}`)),s.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-[11px] text-gray-500",children:"Powered by OpenStreetMap"})]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pin PG Location"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>T(!0),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Open Map"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Lat: ",l.address.latitude||""," | Lng: ",l.address.longitude||""]}),s.jsx("button",{type:"button",onClick:ae,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:"Copy Coords"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:l.address.street,onChange:me=>J("address.street",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.street"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter street address"}),d["address.street"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.street"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:l.address.city,onChange:me=>J("address.city",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.city"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter city"}),d["address.city"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.city"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:l.address.state,onChange:me=>J("address.state",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.state"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter state"}),d["address.state"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.state"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:l.address.pincode,onChange:me=>J("address.pincode",me.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${d["address.pincode"]?"border-red-500":"border-gray-300"}`,placeholder:"Enter pincode"}),d["address.pincode"]&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d["address.pincode"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:l.address.landmark,onChange:me=>J("address.landmark",me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Near landmark (optional)"})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(nm,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Amenities"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[["parking4w","Parking (4 wheeler)"],["parking2w","Parking (2 wheeler)"],["kitchen","Kitchen"],["powerBackup","Power Backup"]].map(([me,Be])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!l.amenities[me],onChange:()=>ue(me),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:Be})]},me))})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(tr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Rules and Policies"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Object.entries(l.rules).map(([me,Be])=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Be,onChange:()=>fe(me),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 capitalize",children:[me.replace(/([A-Z])/g," $1").trim()," Allowed"]})]},me))})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(ts,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Images"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].filter(({key:me})=>me!=="kitchen"||l.amenities.kitchen).map(({key:me,label:Be})=>s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[Be," ",me!=="kitchen"||l.amenities.kitchen?"*":""]}),l.requiredImages[me]?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:l.requiredImages[me].preview,alt:l.requiredImages[me].name,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>re(me),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d[`requiredImages.${me}`]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsxs("div",{className:"text-xs text-gray-500 text-center px-2",children:["Upload ",Be]}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Ne=>je(me,Ne)})]}),d[`requiredImages.${me}`]&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d[`requiredImages.${me}`]})]},me))}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(ld,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Y,className:"hidden"})]})}),s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Toilet Outside the Room"}),s.jsxs("button",{type:"button",onClick:()=>c(me=>({...me,toiletOutside:!me.toiletOutside})),className:`relative inline-flex items-center h-7 w-14 rounded-full transition-colors border ${l.toiletOutside?"bg-blue-500 border-blue-500":"bg-gray-200 border-gray-300"}`,"aria-pressed":l.toiletOutside,children:[s.jsx("span",{className:`absolute left-1 top-1 h-5 w-5 rounded-full bg-white shadow transition-transform ${l.toiletOutside?"translate-x-7":"translate-x-0"}`}),s.jsx("span",{className:"sr-only",children:"Toilet outside toggle"})]}),s.jsx("span",{className:`text-xs font-semibold ${l.toiletOutside?"text-blue-700":"text-gray-600"}`,children:l.toiletOutside?"YES":"NO"})]})}),l.toiletOutside&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet Image *"}),l.outsideToiletImage?s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:l.outsideToiletImage.preview,alt:l.outsideToiletImage.name,className:"w-44 h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>c(me=>({...me,outsideToiletImage:null})),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d.outsideToiletImage?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(ld,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload or drag and drop"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:xe})]}),d.outsideToiletImage&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d.outsideToiletImage})]}),l.images.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:l.images.map((me,Be)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:me.preview,alt:me.name,className:"w-full h-24 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>Ce(Be),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 truncate",children:me.name})]},Be))})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"bg-white p-4 sm:p-6 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(ks,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Property Documents"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Upload the latest Land Tax Receipt (PDF). No other property documents are accepted."}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Latest Land Tax Receipt (PDF) *"}),l.landTaxReceipt&&s.jsx("button",{type:"button",onClick:Ue,className:"text-xs text-red-600 hover:underline",children:"Remove"})]}),l.landTaxReceipt?s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded bg-red-100",children:s.jsx(ks,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.landTaxReceipt.name}),s.jsx("div",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("button",{type:"button",onClick:Ue,className:"px-2 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"Change"})]}):s.jsxs("label",{className:`flex flex-col items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${d.landTaxReceipt?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx(ks,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:"Click to upload latest Land Tax Receipt (PDF only)"}),s.jsx("input",{type:"file",accept:"application/pdf",className:"hidden",onChange:Ie})]}),d.landTaxReceipt&&s.jsx("div",{className:"mt-1 text-[11px] text-red-600",children:d.landTaxReceipt})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/owner-dashboard"),className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:A,className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center space-x-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Adding Property..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Sv,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Property"})]})})]})]})]}),P&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Select Location"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",onClick:ne,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 text-xs",children:[B?"Satellite":"Street"," view"]}),s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]})]}),s.jsx("div",{style:{width:"100%",height:"420px"},children:s.jsxs(Yh,{center:le,zoom:15,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[s.jsx(Jh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:B?"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},B?"satellite":"street"),le&&le[0]&&le[1]&&s.jsx(Xh,{position:le,draggable:!0,eventHandlers:{dragend:V}}),s.jsx(vke,{center:le}),s.jsx(yke,{onLocationSelect:X})]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-xs text-gray-600 flex items-center justify-between",children:[s.jsxs("div",{children:["Lat: ",l.address.latitude||""," | Lng: ",l.address.longitude||""]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>T(!1),className:"px-3 py-1.5 bg-red-600 text-white rounded-md hover:bg-red-700 text-xs",children:"Use This Location"}),s.jsx("button",{type:"button",onClick:ae,className:"px-2 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100",children:"Copy Coords"}),s.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"Drag marker or click map to set exact point"})]})]})]})})]})},wke=()=>{cr();const[e,t]=_.useState(null),[r,n]=_.useState(!0),[i,a]=_.useState(null),[o,l]=_.useState(""),[c,d]=_.useState(""),[u,A]=_.useState([]),[f,m]=_.useState([]),[x,p]=_.useState(!1),[v,y]=_.useState(!1),[b,w]=_.useState("disconnected"),j=_.useRef(null),N=_.useRef(null);_.useEffect(()=>{const F=JSON.parse(localStorage.getItem("user")||"{}");t(F);const K=localStorage.getItem("authToken");return K?(Pr.connect(K),Pr.on("connected",()=>{w("connected"),B()}),Pr.on("disconnected",()=>{w("disconnected")}),Pr.on("error",W=>{console.error("Chat service error:",W),w("error")}),Pr.on("receive_message",W=>{console.log("Received message:",W),m(D=>[...D,W]),A(D=>D.map(z=>z.chatId===W.chatId?{...z,lastMessage:W.content,lastMessageTime:new Date(W.createdAt).toLocaleTimeString(),unreadCount:W.senderId!==F.id?(z.unreadCount||0)+1:z.unreadCount}:z))}),Pr.on("messages_read",W=>{console.log("Messages read:",W),m(D=>D.map(z=>W.messageIds.includes(z.messageId)?{...z,readBy:[...z.readBy||[],W.readBy]}:z))}),Pr.on("user_typing",W=>{y(W.isTyping)}),Pr.on("chat_joined",W=>{console.log("Joined chat:",W)}),B()):n(!1),()=>{Pr.disconnect()}},[]);const B=async()=>{try{n(!0);const F=JSON.parse(localStorage.getItem("user")||"{}"),W=(await Pr.getUserChats(F.id||F._id)).map(D=>{var z,ee,te,le,$,X,V,ne,ae,he,ge;return{chatId:D.chatId,bookingId:D.bookingId,seeker:{id:((z=D.otherParticipant)==null?void 0:z.id)||D.otherParticipantId,name:((ee=D.otherParticipant)==null?void 0:ee.name)||`Tenant ${((te=D.otherParticipantId)==null?void 0:te.slice(-4))||"Unknown"}`,email:(le=D.otherParticipant)==null?void 0:le.email,phone:($=D.otherParticipant)==null?void 0:$.phone,avatar:((X=D.otherParticipant)==null?void 0:X.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",property:((V=D.propertyDetails)==null?void 0:V.name)||`Property ${((ne=D.bookingId)==null?void 0:ne.slice(-4))||"Unknown"}`,address:(ae=D.propertyDetails)==null?void 0:ae.address,status:"online"},propertyDetails:D.propertyDetails,bookingDetails:D.bookingDetails,lastMessage:((he=D.lastMessage)==null?void 0:he.content)||"No messages yet",lastMessageTime:(ge=D.lastMessage)!=null&&ge.createdAt?new Date(D.lastMessage.createdAt).toLocaleTimeString():"No messages",unreadCount:D.unreadCount||0,status:D.status}});A(W)}catch(F){console.error("Error loading chats:",F)}finally{n(!1)}},I=async F=>{try{const K=await Pr.getChatMessages(F);m(K),Pr.joinChat(F),Pr.markAsRead()}catch(K){console.error("Error loading chat messages:",K)}},P=F=>{a(F),I(F.chatId),A(K=>K.map(W=>W.chatId===F.chatId?{...W,unreadCount:0}:W))},T=()=>{o.trim()&&i&&(Pr.sendMessage(o.trim()),l(""),N.current&&clearTimeout(N.current),Pr.setTyping(!1))},U=F=>{l(F.target.value),i&&(Pr.setTyping(!0),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{Pr.setTyping(!1)},2e3))},k=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),T())},E=()=>{var F;(F=j.current)==null||F.scrollIntoView({behavior:"smooth"})};_.useEffect(()=>{E()},[f]);const Q=u.filter(F=>F.seeker.name.toLowerCase().includes(c.toLowerCase())||F.seeker.property.toLowerCase().includes(c.toLowerCase()));return r?s.jsx(cn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-8 h-8 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading messages..."})]})})}):s.jsx(cn,{hideFooter:!0,children:s.jsxs("div",{className:"h-[calc(100vh-120px)] bg-gray-100 rounded-lg border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:`px-4 py-2 text-sm text-center ${b==="connected"?"bg-green-100 text-green-800":b==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:[b==="connected"&&" Connected to chat service",b==="error"&&" Connection error - Retrying...",b==="disconnected"&&" Connecting to chat service..."]}),s.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[s.jsxs("div",{className:`${i?"hidden lg:flex lg:w-80":"flex w-full lg:w-80"} bg-white border-r border-gray-200 flex-col`,children:[s.jsx("div",{className:"p-4 bg-red-600 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg sm:text-xl font-semibold",children:"Messages"}),s.jsx("p",{className:"text-xs sm:text-sm text-red-100",children:"Chat with your tenants"})]}),s.jsx("button",{onClick:B,className:"p-2 hover:bg-red-700 rounded-lg transition-colors",title:"Refresh chats",children:s.jsx(la,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search tenants...",value:c,onChange:F=>d(F.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:Q.length===0?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx(ca,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No conversations yet"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Chats will appear here after booking approval"})]}):Q.map(F=>s.jsx(Z.div,{whileHover:{backgroundColor:"#f9fafb"},className:`p-4 border-b border-gray-100 cursor-pointer transition-colors ${(i==null?void 0:i.chatId)===F.chatId?"bg-red-50 border-r-4 border-r-red-500":""}`,onClick:()=>P(F),children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:F.seeker.avatar,alt:F.seeker.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${F.seeker.status==="online"?"bg-green-500":"bg-gray-400"}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:F.seeker.name}),s.jsx("span",{className:"text-xs text-gray-500",children:F.lastMessageTime})]}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:F.seeker.property}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("p",{className:"text-sm text-gray-600 truncate flex-1",children:F.lastMessage}),F.unreadCount>0&&s.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1 min-w-[20px] text-center",children:F.unreadCount})]})]})]})},F.chatId))})]}),s.jsx("div",{className:`${i?"flex flex-col w-full lg:flex-1":"hidden lg:flex lg:flex-1"}`,children:i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-white border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:i.seeker.avatar,alt:i.seeker.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:i.seeker.name}),s.jsx("p",{className:"text-sm text-gray-600",children:i.seeker.property})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ms,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(RV,{className:"w-5 h-5 text-gray-600"})}),s.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Bv,{className:"w-5 h-5 text-gray-600"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[f.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No messages yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Start the conversation!"})]})}):s.jsxs("div",{className:"space-y-3 px-4 py-4",children:[f.map(F=>{const K=(e==null?void 0:e.id)||(e==null?void 0:e._id),W=F.senderId||F.sender,D=String(W)===String(K);return s.jsx("div",{className:`flex ${D?"justify-end":"justify-start"} mb-3`,children:s.jsxs("div",{className:`max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg px-4 py-3 rounded-2xl ${D?"bg-red-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[s.jsx("p",{className:"text-sm leading-relaxed break-words",children:F.content}),s.jsxs("div",{className:`flex items-center mt-2 space-x-1 ${D?"justify-end":"justify-start"}`,children:[s.jsx("span",{className:"text-xs opacity-70",children:new Date(F.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),D&&s.jsx(EV,{className:"w-3 h-3 opacity-70"})]})]})},F.messageId||F.id)}),v&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-3 rounded-2xl rounded-bl-md",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),s.jsx("div",{ref:j})]}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsx("button",{className:"p-2 hover:bg-gray-200 rounded-lg transition-colors flex-shrink-0",title:"Attach file",children:s.jsx(IV,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{value:o,onChange:U,onKeyPress:k,placeholder:"Type a message...",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none min-h-[44px] max-h-32",rows:"1",disabled:b!=="connected",style:{height:"auto",overflow:"hidden"},onInput:F=>{F.target.style.height="auto",F.target.style.height=Math.min(F.target.scrollHeight,128)+"px"}}),s.jsx("button",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-200 rounded-lg transition-colors",title:"Emoji",children:s.jsx(FV,{className:"w-5 h-5 text-gray-600"})})]}),s.jsx("button",{onClick:T,disabled:!o.trim()||b!=="connected",className:"p-3 bg-red-600 text-white rounded-full hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-shrink-0",title:"Send message",children:s.jsx(qh,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ca,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),s.jsx("p",{className:"text-sm",children:"Choose a chat to start messaging"})]})})})]})]})})},jke=()=>{const e=cr();return s.jsx(cn,{children:s.jsx("div",{className:"max-w-3xl mx-auto p-4",children:s.jsxs("div",{className:"bg-white border border-yellow-200 rounded-xl p-6",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Government ID verification required"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"To add a property, please upload and verify your Government ID."}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("button",{type:"button",onClick:()=>e("/owner-settings#kyc"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:"Go to Upload Documents"})})]})})})};var Nke=Array.isArray,no=Nke,_ke=typeof Z0=="object"&&Z0&&Z0.Object===Object&&Z0,pJ=_ke,Cke=pJ,Bke=typeof self=="object"&&self&&self.Object===Object&&self,Ske=Cke||Bke||Function("return this")(),yd=Ske,kke=yd,Eke=kke.Symbol,Gv=Eke,jD=Gv,gJ=Object.prototype,Pke=gJ.hasOwnProperty,Ike=gJ.toString,H0=jD?jD.toStringTag:void 0;function Tke(e){var t=Pke.call(e,H0),r=e[H0];try{e[H0]=void 0;var n=!0}catch{}var i=Ike.call(e);return n&&(t?e[H0]=r:delete e[H0]),i}var Oke=Tke,Lke=Object.prototype,Fke=Lke.toString;function Uke(e){return Fke.call(e)}var Rke=Uke,ND=Gv,Mke=Oke,Dke=Rke,Qke="[object Null]",$ke="[object Undefined]",_D=ND?ND.toStringTag:void 0;function Hke(e){return e==null?e===void 0?$ke:Qke:_D&&_D in Object(e)?Mke(e):Dke(e)}var Bu=Hke;function zke(e){return e!=null&&typeof e=="object"}var Su=zke,Vke=Bu,Kke=Su,Wke="[object Symbol]";function Gke(e){return typeof e=="symbol"||Kke(e)&&Vke(e)==Wke}var Yg=Gke,qke=no,Yke=Yg,Xke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jke=/^\w*$/;function Zke(e,t){if(qke(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Yke(e)?!0:Jke.test(e)||!Xke.test(e)||t!=null&&e in Object(t)}var uI=Zke;function eEe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hA=eEe;const Xg=Zr(hA);var tEe=Bu,rEe=hA,nEe="[object AsyncFunction]",sEe="[object Function]",iEe="[object GeneratorFunction]",aEe="[object Proxy]";function oEe(e){if(!rEe(e))return!1;var t=tEe(e);return t==sEe||t==iEe||t==nEe||t==aEe}var hI=oEe;const ir=Zr(hI);var lEe=yd,cEe=lEe["__core-js_shared__"],dEe=cEe,PB=dEe,CD=function(){var e=/[^.]+$/.exec(PB&&PB.keys&&PB.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uEe(e){return!!CD&&CD in e}var hEe=uEe,AEe=Function.prototype,fEe=AEe.toString;function mEe(e){if(e!=null){try{return fEe.call(e)}catch{}try{return e+""}catch{}}return""}var xJ=mEe,pEe=hI,gEe=hEe,xEe=hA,yEe=xJ,vEe=/[\\^$.*+?()[\]{}|]/g,bEe=/^\[object .+?Constructor\]$/,wEe=Function.prototype,jEe=Object.prototype,NEe=wEe.toString,_Ee=jEe.hasOwnProperty,CEe=RegExp("^"+NEe.call(_Ee).replace(vEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BEe(e){if(!xEe(e)||gEe(e))return!1;var t=pEe(e)?CEe:bEe;return t.test(yEe(e))}var SEe=BEe;function kEe(e,t){return e==null?void 0:e[t]}var EEe=kEe,PEe=SEe,IEe=EEe;function TEe(e,t){var r=IEe(e,t);return PEe(r)?r:void 0}var lm=TEe,OEe=lm,LEe=OEe(Object,"create"),m5=LEe,BD=m5;function FEe(){this.__data__=BD?BD(null):{},this.size=0}var UEe=FEe;function REe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var MEe=REe,DEe=m5,QEe="__lodash_hash_undefined__",$Ee=Object.prototype,HEe=$Ee.hasOwnProperty;function zEe(e){var t=this.__data__;if(DEe){var r=t[e];return r===QEe?void 0:r}return HEe.call(t,e)?t[e]:void 0}var VEe=zEe,KEe=m5,WEe=Object.prototype,GEe=WEe.hasOwnProperty;function qEe(e){var t=this.__data__;return KEe?t[e]!==void 0:GEe.call(t,e)}var YEe=qEe,XEe=m5,JEe="__lodash_hash_undefined__";function ZEe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=XEe&&t===void 0?JEe:t,this}var e3e=ZEe,t3e=UEe,r3e=MEe,n3e=VEe,s3e=YEe,i3e=e3e;function Jg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jg.prototype.clear=t3e;Jg.prototype.delete=r3e;Jg.prototype.get=n3e;Jg.prototype.has=s3e;Jg.prototype.set=i3e;var a3e=Jg;function o3e(){this.__data__=[],this.size=0}var l3e=o3e;function c3e(e,t){return e===t||e!==e&&t!==t}var AI=c3e,d3e=AI;function u3e(e,t){for(var r=e.length;r--;)if(d3e(e[r][0],t))return r;return-1}var p5=u3e,h3e=p5,A3e=Array.prototype,f3e=A3e.splice;function m3e(e){var t=this.__data__,r=h3e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():f3e.call(t,r,1),--this.size,!0}var p3e=m3e,g3e=p5;function x3e(e){var t=this.__data__,r=g3e(t,e);return r<0?void 0:t[r][1]}var y3e=x3e,v3e=p5;function b3e(e){return v3e(this.__data__,e)>-1}var w3e=b3e,j3e=p5;function N3e(e,t){var r=this.__data__,n=j3e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var _3e=N3e,C3e=l3e,B3e=p3e,S3e=y3e,k3e=w3e,E3e=_3e;function Zg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zg.prototype.clear=C3e;Zg.prototype.delete=B3e;Zg.prototype.get=S3e;Zg.prototype.has=k3e;Zg.prototype.set=E3e;var g5=Zg,P3e=lm,I3e=yd,T3e=P3e(I3e,"Map"),fI=T3e,SD=a3e,O3e=g5,L3e=fI;function F3e(){this.size=0,this.__data__={hash:new SD,map:new(L3e||O3e),string:new SD}}var U3e=F3e;function R3e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var M3e=R3e,D3e=M3e;function Q3e(e,t){var r=e.__data__;return D3e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var x5=Q3e,$3e=x5;function H3e(e){var t=$3e(this,e).delete(e);return this.size-=t?1:0,t}var z3e=H3e,V3e=x5;function K3e(e){return V3e(this,e).get(e)}var W3e=K3e,G3e=x5;function q3e(e){return G3e(this,e).has(e)}var Y3e=q3e,X3e=x5;function J3e(e,t){var r=X3e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Z3e=J3e,ePe=U3e,tPe=z3e,rPe=W3e,nPe=Y3e,sPe=Z3e;function e0(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}e0.prototype.clear=ePe;e0.prototype.delete=tPe;e0.prototype.get=rPe;e0.prototype.has=nPe;e0.prototype.set=sPe;var mI=e0,yJ=mI,iPe="Expected a function";function pI(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(iPe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(pI.Cache||yJ),r}pI.Cache=yJ;var vJ=pI;const aPe=Zr(vJ);var oPe=vJ,lPe=500;function cPe(e){var t=oPe(e,function(n){return r.size===lPe&&r.clear(),n}),r=t.cache;return t}var dPe=cPe,uPe=dPe,hPe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,APe=/\\(\\)?/g,fPe=uPe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hPe,function(r,n,i,a){t.push(i?a.replace(APe,"$1"):n||r)}),t}),mPe=fPe;function pPe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var gI=pPe,kD=Gv,gPe=gI,xPe=no,yPe=Yg,ED=kD?kD.prototype:void 0,PD=ED?ED.toString:void 0;function bJ(e){if(typeof e=="string")return e;if(xPe(e))return gPe(e,bJ)+"";if(yPe(e))return PD?PD.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var vPe=bJ,bPe=vPe;function wPe(e){return e==null?"":bPe(e)}var wJ=wPe,jPe=no,NPe=uI,_Pe=mPe,CPe=wJ;function BPe(e,t){return jPe(e)?e:NPe(e,t)?[e]:_Pe(CPe(e))}var jJ=BPe,SPe=Yg;function kPe(e){if(typeof e=="string"||SPe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var y5=kPe,EPe=jJ,PPe=y5;function IPe(e,t){t=EPe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[PPe(t[r++])];return r&&r==n?e:void 0}var xI=IPe,TPe=xI;function OPe(e,t,r){var n=e==null?void 0:TPe(e,t);return n===void 0?r:n}var NJ=OPe;const Po=Zr(NJ);function LPe(e){return e==null}var FPe=LPe;const Ar=Zr(FPe);var UPe=Bu,RPe=no,MPe=Su,DPe="[object String]";function QPe(e){return typeof e=="string"||!RPe(e)&&MPe(e)&&UPe(e)==DPe}var $Pe=QPe;const Vf=Zr($Pe);var _J={exports:{}},vn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI=Symbol.for("react.element"),vI=Symbol.for("react.portal"),v5=Symbol.for("react.fragment"),b5=Symbol.for("react.strict_mode"),w5=Symbol.for("react.profiler"),j5=Symbol.for("react.provider"),N5=Symbol.for("react.context"),HPe=Symbol.for("react.server_context"),_5=Symbol.for("react.forward_ref"),C5=Symbol.for("react.suspense"),B5=Symbol.for("react.suspense_list"),S5=Symbol.for("react.memo"),k5=Symbol.for("react.lazy"),zPe=Symbol.for("react.offscreen"),CJ;CJ=Symbol.for("react.module.reference");function wl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yI:switch(e=e.type,e){case v5:case w5:case b5:case C5:case B5:return e;default:switch(e=e&&e.$$typeof,e){case HPe:case N5:case _5:case k5:case S5:case j5:return e;default:return t}}case vI:return t}}}vn.ContextConsumer=N5;vn.ContextProvider=j5;vn.Element=yI;vn.ForwardRef=_5;vn.Fragment=v5;vn.Lazy=k5;vn.Memo=S5;vn.Portal=vI;vn.Profiler=w5;vn.StrictMode=b5;vn.Suspense=C5;vn.SuspenseList=B5;vn.isAsyncMode=function(){return!1};vn.isConcurrentMode=function(){return!1};vn.isContextConsumer=function(e){return wl(e)===N5};vn.isContextProvider=function(e){return wl(e)===j5};vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yI};vn.isForwardRef=function(e){return wl(e)===_5};vn.isFragment=function(e){return wl(e)===v5};vn.isLazy=function(e){return wl(e)===k5};vn.isMemo=function(e){return wl(e)===S5};vn.isPortal=function(e){return wl(e)===vI};vn.isProfiler=function(e){return wl(e)===w5};vn.isStrictMode=function(e){return wl(e)===b5};vn.isSuspense=function(e){return wl(e)===C5};vn.isSuspenseList=function(e){return wl(e)===B5};vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===v5||e===w5||e===b5||e===C5||e===B5||e===zPe||typeof e=="object"&&e!==null&&(e.$$typeof===k5||e.$$typeof===S5||e.$$typeof===j5||e.$$typeof===N5||e.$$typeof===_5||e.$$typeof===CJ||e.getModuleId!==void 0)};vn.typeOf=wl;_J.exports=vn;var VPe=_J.exports,KPe=Bu,WPe=Su,GPe="[object Number]";function qPe(e){return typeof e=="number"||WPe(e)&&KPe(e)==GPe}var BJ=qPe;const YPe=Zr(BJ);var XPe=BJ;function JPe(e){return XPe(e)&&e!=+e}var ZPe=JPe;const t0=Zr(ZPe);var Na=function(t){return t===0?0:t>0?1:-1},af=function(t){return Vf(t)&&t.indexOf("%")===t.length-1},vt=function(t){return YPe(t)&&!t0(t)},e6e=function(t){return Ar(t)},pi=function(t){return vt(t)||Vf(t)},t6e=0,cm=function(t){var r=++t6e;return"".concat(t||"").concat(r)},_a=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!vt(t)&&!Vf(t))return n;var a;if(af(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return t0(a)&&(a=n),i&&a>r&&(a=r),a},xh=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},r6e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},fi=function(t,r){return vt(t)&&vt(r)?function(n){return t+n*(r-t)}:function(){return r}};function J2(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Po(n,t))===r})}var n6e=function(t,r){return vt(t)&&vt(r)?t-r:Vf(t)&&Vf(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Mp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Dk(e){"@babel/helpers - typeof";return Dk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dk(e)}var s6e=["viewBox","children"],i6e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ID=["points","pathLength"],IB={svg:s6e,polygon:ID,polyline:ID},bI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Z2=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),!Xg(n))return null;var i={};return Object.keys(n).forEach(function(a){bI.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},a6e=function(t,r,n){return function(i){return t(r,n,i),null}},Kf=function(t,r,n){if(!Xg(t)||Dk(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];bI.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=a6e(o,r,n))}),i},o6e=["children"],l6e=["children"];function TD(e,t){if(e==null)return{};var r=c6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qk(e){"@babel/helpers - typeof";return Qk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qk(e)}var OD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ou=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},LD=null,TB=null,wI=function e(t){if(t===LD&&Array.isArray(TB))return TB;var r=[];return _.Children.forEach(t,function(n){Ar(n)||(VPe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),TB=r,LD=t,r};function Io(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return ou(i)}):n=[ou(t)],wI(e).forEach(function(i){var a=Po(i,"type.displayName")||Po(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function wo(e,t){var r=Io(e,t);return r&&r[0]}var FD=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!vt(n)||n<=0||!vt(i)||i<=0)},d6e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],u6e=function(t){return t&&t.type&&Vf(t.type)&&d6e.indexOf(t.type)>=0},SJ=function(t){return t&&Qk(t)==="object"&&"clipDot"in t},h6e=function(t,r,n,i){var a,o=(a=IB==null?void 0:IB[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ir(t)&&(i&&o.includes(r)||i6e.includes(r))||n&&bI.includes(r)},Xt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(_.isValidElement(t)&&(i=t.props),!Xg(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;h6e((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},$k=function e(t,r){if(t===r)return!0;var n=_.Children.count(t);if(n!==_.Children.count(r))return!1;if(n===0)return!0;if(n===1)return UD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!UD(a,o))return!1}return!0},UD=function(t,r){if(Ar(t)&&Ar(r))return!0;if(!Ar(t)&&!Ar(r)){var n=t.props||{},i=n.children,a=TD(n,o6e),o=r.props||{},l=o.children,c=TD(o,l6e);return i&&l?Mp(a,c)&&$k(i,l):!i&&!l?Mp(a,c):!1}return!1},RD=function(t,r){var n=[],i={};return wI(t).forEach(function(a,o){if(u6e(a))n.push(a);else if(a){var l=ou(a.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!i[l])){var A=d(a,l,o);n.push(A),i[l]=!0}}}),n},A6e=function(t){var r=t&&t.type;return r&&OD[r]?OD[r]:null},f6e=function(t,r){return wI(r).indexOf(t)},m6e=["children","width","height","viewBox","className","style","title","desc"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hk.apply(this,arguments)}function p6e(e,t){if(e==null)return{};var r=g6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zk(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,d=p6e(e,m6e),u=i||{width:r,height:n,x:0,y:0},A=gr("recharts-surface",a);return _e.createElement("svg",Hk({},Xt(d,!0,"svg"),{className:A,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),_e.createElement("title",null,l),_e.createElement("desc",null,c),t)}var x6e=["children","className"];function Vk(){return Vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vk.apply(this,arguments)}function y6e(e,t){if(e==null)return{};var r=v6e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Tr=_e.forwardRef(function(e,t){var r=e.children,n=e.className,i=y6e(e,x6e),a=gr("recharts-layer",n);return _e.createElement("g",Vk({className:a},Xt(i,!0),{ref:t}),r)}),lc=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function b6e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var w6e=b6e,j6e=w6e;function N6e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:j6e(e,t,r)}var _6e=N6e,C6e="\\ud800-\\udfff",B6e="\\u0300-\\u036f",S6e="\\ufe20-\\ufe2f",k6e="\\u20d0-\\u20ff",E6e=B6e+S6e+k6e,P6e="\\ufe0e\\ufe0f",I6e="\\u200d",T6e=RegExp("["+I6e+C6e+E6e+P6e+"]");function O6e(e){return T6e.test(e)}var kJ=O6e;function L6e(e){return e.split("")}var F6e=L6e,EJ="\\ud800-\\udfff",U6e="\\u0300-\\u036f",R6e="\\ufe20-\\ufe2f",M6e="\\u20d0-\\u20ff",D6e=U6e+R6e+M6e,Q6e="\\ufe0e\\ufe0f",$6e="["+EJ+"]",Kk="["+D6e+"]",Wk="\\ud83c[\\udffb-\\udfff]",H6e="(?:"+Kk+"|"+Wk+")",PJ="[^"+EJ+"]",IJ="(?:\\ud83c[\\udde6-\\uddff]){2}",TJ="[\\ud800-\\udbff][\\udc00-\\udfff]",z6e="\\u200d",OJ=H6e+"?",LJ="["+Q6e+"]?",V6e="(?:"+z6e+"(?:"+[PJ,IJ,TJ].join("|")+")"+LJ+OJ+")*",K6e=LJ+OJ+V6e,W6e="(?:"+[PJ+Kk+"?",Kk,IJ,TJ,$6e].join("|")+")",G6e=RegExp(Wk+"(?="+Wk+")|"+W6e+K6e,"g");function q6e(e){return e.match(G6e)||[]}var Y6e=q6e,X6e=F6e,J6e=kJ,Z6e=Y6e;function eIe(e){return J6e(e)?Z6e(e):X6e(e)}var tIe=eIe,rIe=_6e,nIe=kJ,sIe=tIe,iIe=wJ;function aIe(e){return function(t){t=iIe(t);var r=nIe(t)?sIe(t):void 0,n=r?r[0]:t.charAt(0),i=r?rIe(r,1).join(""):t.slice(1);return n[e]()+i}}var oIe=aIe,lIe=oIe,cIe=lIe("toUpperCase"),dIe=cIe;const E5=Zr(dIe);function Mn(e){return function(){return e}}const FJ=Math.cos,ej=Math.sin,Nc=Math.sqrt,tj=Math.PI,P5=2*tj,Gk=Math.PI,qk=2*Gk,HA=1e-6,uIe=qk-HA;function UJ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function hIe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UJ;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class AIe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UJ:hIe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,d=i-r,u=o-t,A=l-r,f=u*u+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>HA)if(!(Math.abs(A*c-d*u)>HA)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=i-l,p=c*c+d*d,v=m*m+x*x,y=Math.sqrt(p),b=Math.sqrt(f),w=a*Math.tan((Gk-Math.acos((p+f-v)/(2*y*b)))/2),j=w/b,N=w/y;Math.abs(j-1)>HA&&this._append`L${t+j*u},${r+j*A}`,this._append`A${a},${a},0,0,${+(A*m>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),d=t+l,u=r+c,A=1^o,f=o?i-a:a-i;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>HA||Math.abs(this._y1-u)>HA)&&this._append`L${d},${u}`,n&&(f<0&&(f=f%qk+qk),f>uIe?this._append`A${n},${n},0,1,${A},${t-l},${r-c}A${n},${n},0,1,${A},${this._x1=d},${this._y1=u}`:f>HA&&this._append`A${n},${n},0,${+(f>=Gk)},${A},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function jI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new AIe(t)}function NI(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RJ(e){this._context=e}RJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function I5(e){return new RJ(e)}function MJ(e){return e[0]}function DJ(e){return e[1]}function QJ(e,t){var r=Mn(!0),n=null,i=I5,a=null,o=jI(l);e=typeof e=="function"?e:e===void 0?MJ:Mn(e),t=typeof t=="function"?t:t===void 0?DJ:Mn(t);function l(c){var d,u=(c=NI(c)).length,A,f=!1,m;for(n==null&&(a=i(m=o())),d=0;d<=u;++d)!(d<u&&r(A=c[d],d,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(A,d,c),+t(A,d,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Mn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Mn(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Mn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Iw(e,t,r){var n=null,i=Mn(!0),a=null,o=I5,l=null,c=jI(d);e=typeof e=="function"?e:e===void 0?MJ:Mn(+e),t=typeof t=="function"?t:Mn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DJ:Mn(+r);function d(A){var f,m,x,p=(A=NI(A)).length,v,y=!1,b,w=new Array(p),j=new Array(p);for(a==null&&(l=o(b=c())),f=0;f<=p;++f){if(!(f<p&&i(v=A[f],f,A))===y)if(y=!y)m=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=m;--x)l.point(w[x],j[x]);l.lineEnd(),l.areaEnd()}y&&(w[f]=+e(v,f,A),j[f]=+t(v,f,A),l.point(n?+n(v,f,A):w[f],r?+r(v,f,A):j[f]))}if(b)return l=null,b+""||null}function u(){return QJ().defined(i).curve(o).context(a)}return d.x=function(A){return arguments.length?(e=typeof A=="function"?A:Mn(+A),n=null,d):e},d.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Mn(+A),d):e},d.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Mn(+A),d):n},d.y=function(A){return arguments.length?(t=typeof A=="function"?A:Mn(+A),r=null,d):t},d.y0=function(A){return arguments.length?(t=typeof A=="function"?A:Mn(+A),d):t},d.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Mn(+A),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(A){return arguments.length?(i=typeof A=="function"?A:Mn(!!A),d):i},d.curve=function(A){return arguments.length?(o=A,a!=null&&(l=o(a)),d):o},d.context=function(A){return arguments.length?(A==null?a=l=null:l=o(a=A),d):a},d}class $J{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fIe(e){return new $J(e,!0)}function mIe(e){return new $J(e,!1)}const _I={draw(e,t){const r=Nc(t/tj);e.moveTo(r,0),e.arc(0,0,r,0,P5)}},pIe={draw(e,t){const r=Nc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},HJ=Nc(1/3),gIe=HJ*2,xIe={draw(e,t){const r=Nc(t/gIe),n=r*HJ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},yIe={draw(e,t){const r=Nc(t),n=-r/2;e.rect(n,n,r,r)}},vIe=.8908130915292852,zJ=ej(tj/10)/ej(7*tj/10),bIe=ej(P5/10)*zJ,wIe=-FJ(P5/10)*zJ,jIe={draw(e,t){const r=Nc(t*vIe),n=bIe*r,i=wIe*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=P5*a/5,l=FJ(o),c=ej(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},OB=Nc(3),NIe={draw(e,t){const r=-Nc(t/(OB*3));e.moveTo(0,r*2),e.lineTo(-OB*r,-r),e.lineTo(OB*r,-r),e.closePath()}},Jo=-.5,Zo=Nc(3)/2,Yk=1/Nc(12),_Ie=(Yk/2+1)*3,CIe={draw(e,t){const r=Nc(t/_Ie),n=r/2,i=r*Yk,a=n,o=r*Yk+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Jo*n-Zo*i,Zo*n+Jo*i),e.lineTo(Jo*a-Zo*o,Zo*a+Jo*o),e.lineTo(Jo*l-Zo*c,Zo*l+Jo*c),e.lineTo(Jo*n+Zo*i,Jo*i-Zo*n),e.lineTo(Jo*a+Zo*o,Jo*o-Zo*a),e.lineTo(Jo*l+Zo*c,Jo*c-Zo*l),e.closePath()}};function BIe(e,t){let r=null,n=jI(i);e=typeof e=="function"?e:Mn(e||_I),t=typeof t=="function"?t:Mn(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Mn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Mn(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function rj(){}function nj(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VJ(e){this._context=e}VJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nj(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SIe(e){return new VJ(e)}function KJ(e){this._context=e}KJ.prototype={areaStart:rj,areaEnd:rj,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kIe(e){return new KJ(e)}function WJ(e){this._context=e}WJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nj(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EIe(e){return new WJ(e)}function GJ(e){this._context=e}GJ.prototype={areaStart:rj,areaEnd:rj,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PIe(e){return new GJ(e)}function MD(e){return e<0?-1:1}function DD(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(MD(a)+MD(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function QD(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function LB(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function sj(e){this._context=e}sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LB(this,this._t0,QD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,LB(this,QD(this,r=DD(this,e,t)),r);break;default:LB(this,this._t0,r=DD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qJ(e){this._context=new YJ(e)}(qJ.prototype=Object.create(sj.prototype)).point=function(e,t){sj.prototype.point.call(this,t,e)};function YJ(e){this._context=e}YJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function IIe(e){return new sj(e)}function TIe(e){return new qJ(e)}function XJ(e){this._context=e}XJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$D(e),i=$D(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $D(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function OIe(e){return new XJ(e)}function T5(e,t){this._context=e,this._t=t}T5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function LIe(e){return new T5(e,.5)}function FIe(e){return new T5(e,0)}function UIe(e){return new T5(e,1)}function ag(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function RIe(e,t){return e[t]}function MIe(e){const t=[];return t.key=e,t}function DIe(){var e=Mn([]),t=Xk,r=ag,n=RIe;function i(a){var o=Array.from(e.apply(this,arguments),MIe),l,c=o.length,d=-1,u;for(const A of a)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(A,o[l].key,d,a)]).data=A;for(l=0,u=NI(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Mn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Mn(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Xk:typeof a=="function"?a:Mn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ag,i):r},i}function QIe(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ag(e,t)}}function $Ie(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ag(e,t)}}function HIe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],A=u[n][1]||0,f=u[n-1][1]||0,m=(A-f)/2,x=0;x<l;++x){var p=e[t[x]],v=p[n][1]||0,y=p[n-1][1]||0;m+=v-y}c+=A,d+=m*A}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,ag(e,t)}}function Ly(e){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(e)}var zIe=["type","size","sizeType"];function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(this,arguments)}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){VIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VIe(e,t,r){return t=KIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KIe(e){var t=WIe(e,"string");return Ly(t)=="symbol"?t:t+""}function WIe(e,t){if(Ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GIe(e,t){if(e==null)return{};var r=qIe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JJ={symbolCircle:_I,symbolCross:pIe,symbolDiamond:xIe,symbolSquare:yIe,symbolStar:jIe,symbolTriangle:NIe,symbolWye:CIe},YIe=Math.PI/180,XIe=function(t){var r="symbol".concat(E5(t));return JJ[r]||_I},JIe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*YIe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ZIe=function(t,r){JJ["symbol".concat(E5(t))]=r},CI=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=GIe(t,zIe),d=zD(zD({},c),{},{type:n,size:a,sizeType:l}),u=function(){var v=XIe(n),y=BIe().type(v).size(JIe(a,l,n));return y()},A=d.className,f=d.cx,m=d.cy,x=Xt(d,!0);return f===+f&&m===+m&&a===+a?_e.createElement("path",Jk({},x,{className:gr("recharts-symbols",A),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};CI.registerSymbol=ZIe;function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(this,arguments)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){Fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eZ(n.key),n)}}function nTe(e,t,r){return t&&rTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sTe(e,t,r){return t=ij(t),iTe(e,ZJ()?Reflect.construct(t,r||[],ij(e).constructor):t.apply(e,r))}function iTe(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aTe(e)}function aTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZJ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZJ=function(){return!!e})()}function ij(e){return ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ij(e)}function oTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eE(e,t)}function eE(e,t){return eE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eE(e,t)}function Fy(e,t,r){return t=eZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eZ(e){var t=lTe(e,"string");return og(t)=="symbol"?t:t+""}function lTe(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var el=32,BI=function(e){function t(){return tTe(this,t),sTe(this,t,arguments)}return oTe(t,e),nTe(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=el/2,o=el/6,l=el/3,c=n.inactive?i:n.color;if(n.type==="plainline")return _e.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:el,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return _e.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(el,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return _e.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(el/8,"h").concat(el,"v").concat(el*3/4,"h").concat(-el,"z"),className:"recharts-legend-icon"});if(_e.isValidElement(n.legendIcon)){var d=eTe({},n);return delete d.legendIcon,_e.cloneElement(n.legendIcon,d)}return _e.createElement(CI,{fill:c,cx:a,cy:a,size:el,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,u={x:0,y:0,width:el,height:el},A={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var p=m.formatter||c,v=gr(Fy(Fy({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var y=ir(m.value)?null:m.value;lc(!ir(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=m.inactive?d:m.color;return _e.createElement("li",Zk({className:v,style:A,key:"legend-item-".concat(x)},Kf(n.props,m,x)),_e.createElement(zk,{width:o,height:o,viewBox:u,style:f},n.renderIcon(m)),_e.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,m,x):y))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return _e.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(_.PureComponent);Fy(BI,"displayName","Legend");Fy(BI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cTe=g5;function dTe(){this.__data__=new cTe,this.size=0}var uTe=dTe;function hTe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ATe=hTe;function fTe(e){return this.__data__.get(e)}var mTe=fTe;function pTe(e){return this.__data__.has(e)}var gTe=pTe,xTe=g5,yTe=fI,vTe=mI,bTe=200;function wTe(e,t){var r=this.__data__;if(r instanceof xTe){var n=r.__data__;if(!yTe||n.length<bTe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new vTe(n)}return r.set(e,t),this.size=r.size,this}var jTe=wTe,NTe=g5,_Te=uTe,CTe=ATe,BTe=mTe,STe=gTe,kTe=jTe;function r0(e){var t=this.__data__=new NTe(e);this.size=t.size}r0.prototype.clear=_Te;r0.prototype.delete=CTe;r0.prototype.get=BTe;r0.prototype.has=STe;r0.prototype.set=kTe;var tZ=r0,ETe="__lodash_hash_undefined__";function PTe(e){return this.__data__.set(e,ETe),this}var ITe=PTe;function TTe(e){return this.__data__.has(e)}var OTe=TTe,LTe=mI,FTe=ITe,UTe=OTe;function aj(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new LTe;++t<r;)this.add(e[t])}aj.prototype.add=aj.prototype.push=FTe;aj.prototype.has=UTe;var rZ=aj;function RTe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var nZ=RTe;function MTe(e,t){return e.has(t)}var sZ=MTe,DTe=rZ,QTe=nZ,$Te=sZ,HTe=1,zTe=2;function VTe(e,t,r,n,i,a){var o=r&HTe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var A=-1,f=!0,m=r&zTe?new DTe:void 0;for(a.set(e,t),a.set(t,e);++A<l;){var x=e[A],p=t[A];if(n)var v=o?n(p,x,A,t,e,a):n(x,p,A,e,t,a);if(v!==void 0){if(v)continue;f=!1;break}if(m){if(!QTe(t,function(y,b){if(!$Te(m,b)&&(x===y||i(x,y,r,n,a)))return m.push(b)})){f=!1;break}}else if(!(x===p||i(x,p,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var iZ=VTe,KTe=yd,WTe=KTe.Uint8Array,GTe=WTe;function qTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var YTe=qTe;function XTe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var SI=XTe,KD=Gv,WD=GTe,JTe=AI,ZTe=iZ,eOe=YTe,tOe=SI,rOe=1,nOe=2,sOe="[object Boolean]",iOe="[object Date]",aOe="[object Error]",oOe="[object Map]",lOe="[object Number]",cOe="[object RegExp]",dOe="[object Set]",uOe="[object String]",hOe="[object Symbol]",AOe="[object ArrayBuffer]",fOe="[object DataView]",GD=KD?KD.prototype:void 0,FB=GD?GD.valueOf:void 0;function mOe(e,t,r,n,i,a,o){switch(r){case fOe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case AOe:return!(e.byteLength!=t.byteLength||!a(new WD(e),new WD(t)));case sOe:case iOe:case lOe:return JTe(+e,+t);case aOe:return e.name==t.name&&e.message==t.message;case cOe:case uOe:return e==t+"";case oOe:var l=eOe;case dOe:var c=n&rOe;if(l||(l=tOe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=nOe,o.set(e,t);var u=ZTe(l(e),l(t),n,i,a,o);return o.delete(e),u;case hOe:if(FB)return FB.call(e)==FB.call(t)}return!1}var pOe=mOe;function gOe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var aZ=gOe,xOe=aZ,yOe=no;function vOe(e,t,r){var n=t(e);return yOe(e)?n:xOe(n,r(e))}var bOe=vOe;function wOe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var jOe=wOe;function NOe(){return[]}var _Oe=NOe,COe=jOe,BOe=_Oe,SOe=Object.prototype,kOe=SOe.propertyIsEnumerable,qD=Object.getOwnPropertySymbols,EOe=qD?function(e){return e==null?[]:(e=Object(e),COe(qD(e),function(t){return kOe.call(e,t)}))}:BOe,POe=EOe;function IOe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var TOe=IOe,OOe=Bu,LOe=Su,FOe="[object Arguments]";function UOe(e){return LOe(e)&&OOe(e)==FOe}var ROe=UOe,YD=ROe,MOe=Su,oZ=Object.prototype,DOe=oZ.hasOwnProperty,QOe=oZ.propertyIsEnumerable,$Oe=YD(function(){return arguments}())?YD:function(e){return MOe(e)&&DOe.call(e,"callee")&&!QOe.call(e,"callee")},kI=$Oe,oj={exports:{}};function HOe(){return!1}var zOe=HOe;oj.exports;(function(e,t){var r=yd,n=zOe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(oj,oj.exports);var lZ=oj.exports,VOe=9007199254740991,KOe=/^(?:0|[1-9]\d*)$/;function WOe(e,t){var r=typeof e;return t=t??VOe,!!t&&(r=="number"||r!="symbol"&&KOe.test(e))&&e>-1&&e%1==0&&e<t}var EI=WOe,GOe=9007199254740991;function qOe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GOe}var PI=qOe,YOe=Bu,XOe=PI,JOe=Su,ZOe="[object Arguments]",eLe="[object Array]",tLe="[object Boolean]",rLe="[object Date]",nLe="[object Error]",sLe="[object Function]",iLe="[object Map]",aLe="[object Number]",oLe="[object Object]",lLe="[object RegExp]",cLe="[object Set]",dLe="[object String]",uLe="[object WeakMap]",hLe="[object ArrayBuffer]",ALe="[object DataView]",fLe="[object Float32Array]",mLe="[object Float64Array]",pLe="[object Int8Array]",gLe="[object Int16Array]",xLe="[object Int32Array]",yLe="[object Uint8Array]",vLe="[object Uint8ClampedArray]",bLe="[object Uint16Array]",wLe="[object Uint32Array]",Gn={};Gn[fLe]=Gn[mLe]=Gn[pLe]=Gn[gLe]=Gn[xLe]=Gn[yLe]=Gn[vLe]=Gn[bLe]=Gn[wLe]=!0;Gn[ZOe]=Gn[eLe]=Gn[hLe]=Gn[tLe]=Gn[ALe]=Gn[rLe]=Gn[nLe]=Gn[sLe]=Gn[iLe]=Gn[aLe]=Gn[oLe]=Gn[lLe]=Gn[cLe]=Gn[dLe]=Gn[uLe]=!1;function jLe(e){return JOe(e)&&XOe(e.length)&&!!Gn[YOe(e)]}var NLe=jLe;function _Le(e){return function(t){return e(t)}}var cZ=_Le,lj={exports:{}};lj.exports;(function(e,t){var r=pJ,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(lj,lj.exports);var CLe=lj.exports,BLe=NLe,SLe=cZ,XD=CLe,JD=XD&&XD.isTypedArray,kLe=JD?SLe(JD):BLe,dZ=kLe,ELe=TOe,PLe=kI,ILe=no,TLe=lZ,OLe=EI,LLe=dZ,FLe=Object.prototype,ULe=FLe.hasOwnProperty;function RLe(e,t){var r=ILe(e),n=!r&&PLe(e),i=!r&&!n&&TLe(e),a=!r&&!n&&!i&&LLe(e),o=r||n||i||a,l=o?ELe(e.length,String):[],c=l.length;for(var d in e)(t||ULe.call(e,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||OLe(d,c)))&&l.push(d);return l}var MLe=RLe,DLe=Object.prototype;function QLe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||DLe;return e===r}var $Le=QLe;function HLe(e,t){return function(r){return e(t(r))}}var uZ=HLe,zLe=uZ,VLe=zLe(Object.keys,Object),KLe=VLe,WLe=$Le,GLe=KLe,qLe=Object.prototype,YLe=qLe.hasOwnProperty;function XLe(e){if(!WLe(e))return GLe(e);var t=[];for(var r in Object(e))YLe.call(e,r)&&r!="constructor"&&t.push(r);return t}var JLe=XLe,ZLe=hI,eFe=PI;function tFe(e){return e!=null&&eFe(e.length)&&!ZLe(e)}var qv=tFe,rFe=MLe,nFe=JLe,sFe=qv;function iFe(e){return sFe(e)?rFe(e):nFe(e)}var O5=iFe,aFe=bOe,oFe=POe,lFe=O5;function cFe(e){return aFe(e,lFe,oFe)}var dFe=cFe,ZD=dFe,uFe=1,hFe=Object.prototype,AFe=hFe.hasOwnProperty;function fFe(e,t,r,n,i,a){var o=r&uFe,l=ZD(e),c=l.length,d=ZD(t),u=d.length;if(c!=u&&!o)return!1;for(var A=c;A--;){var f=l[A];if(!(o?f in t:AFe.call(t,f)))return!1}var m=a.get(e),x=a.get(t);if(m&&x)return m==t&&x==e;var p=!0;a.set(e,t),a.set(t,e);for(var v=o;++A<c;){f=l[A];var y=e[f],b=t[f];if(n)var w=o?n(b,y,f,t,e,a):n(y,b,f,e,t,a);if(!(w===void 0?y===b||i(y,b,r,n,a):w)){p=!1;break}v||(v=f=="constructor")}if(p&&!v){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(p=!1)}return a.delete(e),a.delete(t),p}var mFe=fFe,pFe=lm,gFe=yd,xFe=pFe(gFe,"DataView"),yFe=xFe,vFe=lm,bFe=yd,wFe=vFe(bFe,"Promise"),jFe=wFe,NFe=lm,_Fe=yd,CFe=NFe(_Fe,"Set"),hZ=CFe,BFe=lm,SFe=yd,kFe=BFe(SFe,"WeakMap"),EFe=kFe,tE=yFe,rE=fI,nE=jFe,sE=hZ,iE=EFe,AZ=Bu,n0=xJ,e8="[object Map]",PFe="[object Object]",t8="[object Promise]",r8="[object Set]",n8="[object WeakMap]",s8="[object DataView]",IFe=n0(tE),TFe=n0(rE),OFe=n0(nE),LFe=n0(sE),FFe=n0(iE),zA=AZ;(tE&&zA(new tE(new ArrayBuffer(1)))!=s8||rE&&zA(new rE)!=e8||nE&&zA(nE.resolve())!=t8||sE&&zA(new sE)!=r8||iE&&zA(new iE)!=n8)&&(zA=function(e){var t=AZ(e),r=t==PFe?e.constructor:void 0,n=r?n0(r):"";if(n)switch(n){case IFe:return s8;case TFe:return e8;case OFe:return t8;case LFe:return r8;case FFe:return n8}return t});var UFe=zA,UB=tZ,RFe=iZ,MFe=pOe,DFe=mFe,i8=UFe,a8=no,o8=lZ,QFe=dZ,$Fe=1,l8="[object Arguments]",c8="[object Array]",Tw="[object Object]",HFe=Object.prototype,d8=HFe.hasOwnProperty;function zFe(e,t,r,n,i,a){var o=a8(e),l=a8(t),c=o?c8:i8(e),d=l?c8:i8(t);c=c==l8?Tw:c,d=d==l8?Tw:d;var u=c==Tw,A=d==Tw,f=c==d;if(f&&o8(e)){if(!o8(t))return!1;o=!0,u=!1}if(f&&!u)return a||(a=new UB),o||QFe(e)?RFe(e,t,r,n,i,a):MFe(e,t,c,r,n,i,a);if(!(r&$Fe)){var m=u&&d8.call(e,"__wrapped__"),x=A&&d8.call(t,"__wrapped__");if(m||x){var p=m?e.value():e,v=x?t.value():t;return a||(a=new UB),i(p,v,r,n,a)}}return f?(a||(a=new UB),DFe(e,t,r,n,i,a)):!1}var VFe=zFe,KFe=VFe,u8=Su;function fZ(e,t,r,n,i){return e===t?!0:e==null||t==null||!u8(e)&&!u8(t)?e!==e&&t!==t:KFe(e,t,r,n,fZ,i)}var II=fZ,WFe=tZ,GFe=II,qFe=1,YFe=2;function XFe(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var A=new WFe;if(n)var f=n(d,u,c,e,t,A);if(!(f===void 0?GFe(u,d,qFe|YFe,n,A):f))return!1}}return!0}var JFe=XFe,ZFe=hA;function eUe(e){return e===e&&!ZFe(e)}var mZ=eUe,tUe=mZ,rUe=O5;function nUe(e){for(var t=rUe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,tUe(i)]}return t}var sUe=nUe;function iUe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var pZ=iUe,aUe=JFe,oUe=sUe,lUe=pZ;function cUe(e){var t=oUe(e);return t.length==1&&t[0][2]?lUe(t[0][0],t[0][1]):function(r){return r===e||aUe(r,e,t)}}var dUe=cUe;function uUe(e,t){return e!=null&&t in Object(e)}var hUe=uUe,AUe=jJ,fUe=kI,mUe=no,pUe=EI,gUe=PI,xUe=y5;function yUe(e,t,r){t=AUe(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=xUe(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&gUe(i)&&pUe(o,i)&&(mUe(e)||fUe(e)))}var vUe=yUe,bUe=hUe,wUe=vUe;function jUe(e,t){return e!=null&&wUe(e,t,bUe)}var NUe=jUe,_Ue=II,CUe=NJ,BUe=NUe,SUe=uI,kUe=mZ,EUe=pZ,PUe=y5,IUe=1,TUe=2;function OUe(e,t){return SUe(e)&&kUe(t)?EUe(PUe(e),t):function(r){var n=CUe(r,e);return n===void 0&&n===t?BUe(r,e):_Ue(t,n,IUe|TUe)}}var LUe=OUe;function FUe(e){return e}var s0=FUe;function UUe(e){return function(t){return t==null?void 0:t[e]}}var RUe=UUe,MUe=xI;function DUe(e){return function(t){return MUe(t,e)}}var QUe=DUe,$Ue=RUe,HUe=QUe,zUe=uI,VUe=y5;function KUe(e){return zUe(e)?$Ue(VUe(e)):HUe(e)}var WUe=KUe,GUe=dUe,qUe=LUe,YUe=s0,XUe=no,JUe=WUe;function ZUe(e){return typeof e=="function"?e:e==null?YUe:typeof e=="object"?XUe(e)?qUe(e[0],e[1]):GUe(e):JUe(e)}var vd=ZUe;function eRe(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var gZ=eRe;function tRe(e){return e!==e}var rRe=tRe;function nRe(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var sRe=nRe,iRe=gZ,aRe=rRe,oRe=sRe;function lRe(e,t,r){return t===t?oRe(e,t,r):iRe(e,aRe,r)}var cRe=lRe,dRe=cRe;function uRe(e,t){var r=e==null?0:e.length;return!!r&&dRe(e,t,0)>-1}var hRe=uRe;function ARe(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var fRe=ARe;function mRe(){}var pRe=mRe,RB=hZ,gRe=pRe,xRe=SI,yRe=1/0,vRe=RB&&1/xRe(new RB([,-0]))[1]==yRe?function(e){return new RB(e)}:gRe,bRe=vRe,wRe=rZ,jRe=hRe,NRe=fRe,_Re=sZ,CRe=bRe,BRe=SI,SRe=200;function kRe(e,t,r){var n=-1,i=jRe,a=e.length,o=!0,l=[],c=l;if(r)o=!1,i=NRe;else if(a>=SRe){var d=t?null:CRe(e);if(d)return BRe(d);o=!1,i=_Re,c=new wRe}else c=t?[]:l;e:for(;++n<a;){var u=e[n],A=t?t(u):u;if(u=r||u!==0?u:0,o&&A===A){for(var f=c.length;f--;)if(c[f]===A)continue e;t&&c.push(A),l.push(u)}else i(c,A,r)||(c!==l&&c.push(A),l.push(u))}return l}var ERe=kRe,PRe=vd,IRe=ERe;function TRe(e,t){return e&&e.length?IRe(e,PRe(t)):[]}var ORe=TRe;const h8=Zr(ORe);function xZ(e,t,r){return t===!0?h8(e,r):ir(t)?h8(e,t):e}function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}var LRe=["ref"];function A8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(r),!0).forEach(function(n){L5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vZ(n.key),n)}}function URe(e,t,r){return t&&f8(e.prototype,t),r&&f8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RRe(e,t,r){return t=cj(t),MRe(e,yZ()?Reflect.construct(t,r||[],cj(e).constructor):t.apply(e,r))}function MRe(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DRe(e)}function DRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yZ=function(){return!!e})()}function cj(e){return cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cj(e)}function QRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aE(e,t)}function L5(e,t,r){return t=vZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vZ(e){var t=$Re(e,"string");return lg(t)=="symbol"?t:t+""}function $Re(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HRe(e,t){if(e==null)return{};var r=zRe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VRe(e){return e.value}function KRe(e,t){if(_e.isValidElement(e))return _e.cloneElement(e,t);if(typeof e=="function")return _e.createElement(e,t);t.ref;var r=HRe(t,LRe);return _e.createElement(BI,r)}var m8=1,$h=function(e){function t(){var r;FRe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=RRe(this,t,[].concat(i)),L5(r,"lastBoundingBox",{width:-1,height:-1}),r}return QRe(t,e),URe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>m8||Math.abs(i.height-this.lastBoundingBox.height)>m8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ld({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,u=i.chartHeight,A,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();A={left:((d||0)-m.width)/2}}else A=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((u||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ld(Ld({},A),f)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,u=i.payload,A=Ld(Ld({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return _e.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:function(m){n.wrapperNode=m}},KRe(a,Ld(Ld({},this.props),{},{payload:xZ(u,d,VRe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ld(Ld({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&vt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(_.PureComponent);L5($h,"displayName","Legend");L5($h,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var p8=Gv,WRe=kI,GRe=no,g8=p8?p8.isConcatSpreadable:void 0;function qRe(e){return GRe(e)||WRe(e)||!!(g8&&e&&e[g8])}var YRe=qRe,XRe=aZ,JRe=YRe;function bZ(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=JRe),i||(i=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?bZ(l,t-1,r,n,i):XRe(i,l):n||(i[i.length]=l)}return i}var wZ=bZ;function ZRe(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var eMe=ZRe,tMe=eMe,rMe=tMe(),nMe=rMe,sMe=nMe,iMe=O5;function aMe(e,t){return e&&sMe(e,t,iMe)}var jZ=aMe,oMe=qv;function lMe(e,t){return function(r,n){if(r==null)return r;if(!oMe(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var cMe=lMe,dMe=jZ,uMe=cMe,hMe=uMe(dMe),TI=hMe,AMe=TI,fMe=qv;function mMe(e,t){var r=-1,n=fMe(e)?Array(e.length):[];return AMe(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var NZ=mMe;function pMe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var gMe=pMe,x8=Yg;function xMe(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=x8(e),o=t!==void 0,l=t===null,c=t===t,d=x8(t);if(!l&&!d&&!a&&e>t||a&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!d&&e<t||d&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var yMe=xMe,vMe=yMe;function bMe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,l=r.length;++n<o;){var c=vMe(i[n],a[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var wMe=bMe,MB=gI,jMe=xI,NMe=vd,_Me=NZ,CMe=gMe,BMe=cZ,SMe=wMe,kMe=s0,EMe=no;function PMe(e,t,r){t.length?t=MB(t,function(a){return EMe(a)?function(o){return jMe(o,a.length===1?a[0]:a)}:a}):t=[kMe];var n=-1;t=MB(t,BMe(NMe));var i=_Me(e,function(a,o,l){var c=MB(t,function(d){return d(a)});return{criteria:c,index:++n,value:a}});return CMe(i,function(a,o){return SMe(a,o,r)})}var IMe=PMe;function TMe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var OMe=TMe,LMe=OMe,y8=Math.max;function FMe(e,t,r){return t=y8(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=y8(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),LMe(e,this,l)}}var UMe=FMe;function RMe(e){return function(){return e}}var MMe=RMe,DMe=lm,QMe=function(){try{var e=DMe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_Z=QMe,$Me=MMe,v8=_Z,HMe=s0,zMe=v8?function(e,t){return v8(e,"toString",{configurable:!0,enumerable:!1,value:$Me(t),writable:!0})}:HMe,VMe=zMe,KMe=800,WMe=16,GMe=Date.now;function qMe(e){var t=0,r=0;return function(){var n=GMe(),i=WMe-(n-r);if(r=n,i>0){if(++t>=KMe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var YMe=qMe,XMe=VMe,JMe=YMe,ZMe=JMe(XMe),eDe=ZMe,tDe=s0,rDe=UMe,nDe=eDe;function sDe(e,t){return nDe(rDe(e,t,tDe),e+"")}var iDe=sDe,aDe=AI,oDe=qv,lDe=EI,cDe=hA;function dDe(e,t,r){if(!cDe(r))return!1;var n=typeof t;return(n=="number"?oDe(r)&&lDe(t,r.length):n=="string"&&t in r)?aDe(r[t],e):!1}var F5=dDe,uDe=wZ,hDe=IMe,ADe=iDe,b8=F5,fDe=ADe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&b8(e,t[0],t[1])?t=[]:r>2&&b8(t[0],t[1],t[2])&&(t=[t[0]]),hDe(e,uDe(t,1),[])}),mDe=fDe;const OI=Zr(mDe);function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oE.apply(this,arguments)}function pDe(e,t){return vDe(e)||yDe(e,t)||xDe(e,t)||gDe()}function gDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xDe(e,t){if(e){if(typeof e=="string")return w8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w8(e,t)}}function w8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function vDe(e){if(Array.isArray(e))return e}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){bDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bDe(e,t,r){return t=wDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wDe(e){var t=jDe(e,"string");return Uy(t)=="symbol"?t:t+""}function jDe(e,t){if(Uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NDe(e){return Array.isArray(e)&&pi(e[0])&&pi(e[1])?e.join(" ~ "):e}var _De=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,A=t.formatter,f=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var E={padding:0,margin:0},Q=(f?OI(u,f):u).map(function(F,K){if(F.type==="none")return null;var W=DB({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),D=F.formatter||A||NDe,z=F.value,ee=F.name,te=z,le=ee;if(D&&te!=null&&le!=null){var $=D(z,ee,F,K,u);if(Array.isArray($)){var X=pDe($,2);te=X[0],le=X[1]}else te=$}return _e.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:W},pi(le)?_e.createElement("span",{className:"recharts-tooltip-item-name"},le):null,pi(le)?_e.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,_e.createElement("span",{className:"recharts-tooltip-item-value"},te),_e.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return _e.createElement("ul",{className:"recharts-tooltip-item-list",style:E},Q)}return null},j=DB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=DB({margin:0},d),B=!Ar(p),I=B?p:"",P=gr("recharts-default-tooltip",m),T=gr("recharts-tooltip-label",x);B&&v&&u!==void 0&&u!==null&&(I=v(p,u));var U=b?{role:"status","aria-live":"assertive"}:{};return _e.createElement("div",oE({className:P,style:j},U),_e.createElement("p",{className:T,style:N},_e.isValidElement(I)?I:"".concat(I)),w())};function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function Ow(e,t,r){return t=CDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CDe(e){var t=BDe(e,"string");return Ry(t)=="symbol"?t:t+""}function BDe(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z0="recharts-tooltip-wrapper",SDe={visibility:"hidden"};function kDe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return gr(z0,Ow(Ow(Ow(Ow({},"".concat(z0,"-right"),vt(r)&&t&&vt(t.x)&&r>=t.x),"".concat(z0,"-left"),vt(r)&&t&&vt(t.x)&&r<t.x),"".concat(z0,"-bottom"),vt(n)&&t&&vt(t.y)&&n>=t.y),"".concat(z0,"-top"),vt(n)&&t&&vt(t.y)&&n<t.y))}function N8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(a&&vt(a[n]))return a[n];var u=r[n]-l-i,A=r[n]+i;if(t[n])return o[n]?u:A;if(o[n]){var f=u,m=c[n];return f<m?Math.max(A,c[n]):Math.max(u,c[n])}var x=A+l,p=c[n]+d;return x>p?Math.max(u,c[n]):Math.max(A,c[n])}function EDe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function PDe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,A;return o.height>0&&o.width>0&&r?(u=N8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),A=N8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=EDe({translateX:u,translateY:A,useTranslate3d:l})):d=SDe,{cssProperties:d,cssClasses:kDe({translateX:u,translateY:A,coordinate:r})}}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function _8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(r),!0).forEach(function(n){cE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BZ(n.key),n)}}function ODe(e,t,r){return t&&TDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LDe(e,t,r){return t=dj(t),FDe(e,CZ()?Reflect.construct(t,r||[],dj(e).constructor):t.apply(e,r))}function FDe(e,t){if(t&&(cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UDe(e)}function UDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CZ=function(){return!!e})()}function dj(e){return dj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dj(e)}function RDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lE(e,t)}function lE(e,t){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lE(e,t)}function cE(e,t,r){return t=BZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=MDe(e,"string");return cg(t)=="symbol"?t:t+""}function MDe(e,t){if(cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var B8=1,DDe=function(e){function t(){var r;IDe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=LDe(this,t,[].concat(i)),cE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return RDe(t,e),ODe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>B8||Math.abs(n.height-this.state.lastBoundingBox.height)>B8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,u=i.coordinate,A=i.hasPayload,f=i.isAnimationActive,m=i.offset,x=i.position,p=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,b=i.wrapperStyle,w=PDe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),j=w.cssClasses,N=w.cssProperties,B=C8(C8({transition:f&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&A?"visible":"hidden",position:"absolute",top:0,left:0},b);return _e.createElement("div",{tabIndex:-1,className:j,style:B,ref:function(P){n.wrapperNode=P}},d)}}])}(_.PureComponent),QDe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},AA={isSsr:QDe()};function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){LI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kZ(n.key),n)}}function zDe(e,t,r){return t&&HDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VDe(e,t,r){return t=uj(t),KDe(e,SZ()?Reflect.construct(t,r||[],uj(e).constructor):t.apply(e,r))}function KDe(e,t){if(t&&(dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WDe(e)}function WDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SZ=function(){return!!e})()}function uj(e){return uj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uj(e)}function GDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dE(e,t)}function LI(e,t,r){return t=kZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=qDe(e,"string");return dg(t)=="symbol"?t:t+""}function qDe(e,t){if(dg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function YDe(e){return e.dataKey}function XDe(e,t){return _e.isValidElement(e)?_e.cloneElement(e,t):typeof e=="function"?_e.createElement(e,t):_e.createElement(_De,t)}var ra=function(e){function t(){return $De(this,t),VDe(this,t,arguments)}return GDe(t,e),zDe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,u=i.coordinate,A=i.filterNull,f=i.isAnimationActive,m=i.offset,x=i.payload,p=i.payloadUniqBy,v=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,j=i.wrapperStyle,N=x??[];A&&N.length&&(N=xZ(x.filter(function(I){return I.value!=null&&(I.hide!==!0||n.props.includeHidden)}),p,YDe));var B=N.length>0;return _e.createElement(DDe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:a,coordinate:u,hasPayload:B,offset:m,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:j},XDe(d,k8(k8({},this.props),{},{payload:N})))}}])}(_.PureComponent);LI(ra,"displayName","Tooltip");LI(ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!AA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var JDe=yd,ZDe=function(){return JDe.Date.now()},e8e=ZDe,t8e=/\s/;function r8e(e){for(var t=e.length;t--&&t8e.test(e.charAt(t)););return t}var n8e=r8e,s8e=n8e,i8e=/^\s+/;function a8e(e){return e&&e.slice(0,s8e(e)+1).replace(i8e,"")}var o8e=a8e,l8e=o8e,E8=hA,c8e=Yg,P8=NaN,d8e=/^[-+]0x[0-9a-f]+$/i,u8e=/^0b[01]+$/i,h8e=/^0o[0-7]+$/i,A8e=parseInt;function f8e(e){if(typeof e=="number")return e;if(c8e(e))return P8;if(E8(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=E8(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=l8e(e);var r=u8e.test(e);return r||h8e.test(e)?A8e(e.slice(2),r?2:8):d8e.test(e)?P8:+e}var EZ=f8e,m8e=hA,QB=e8e,I8=EZ,p8e="Expected a function",g8e=Math.max,x8e=Math.min;function y8e(e,t,r){var n,i,a,o,l,c,d=0,u=!1,A=!1,f=!0;if(typeof e!="function")throw new TypeError(p8e);t=I8(t)||0,m8e(r)&&(u=!!r.leading,A="maxWait"in r,a=A?g8e(I8(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function m(B){var I=n,P=i;return n=i=void 0,d=B,o=e.apply(P,I),o}function x(B){return d=B,l=setTimeout(y,t),u?m(B):o}function p(B){var I=B-c,P=B-d,T=t-I;return A?x8e(T,a-P):T}function v(B){var I=B-c,P=B-d;return c===void 0||I>=t||I<0||A&&P>=a}function y(){var B=QB();if(v(B))return b(B);l=setTimeout(y,p(B))}function b(B){return l=void 0,f&&n?m(B):(n=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,n=c=i=l=void 0}function j(){return l===void 0?o:b(QB())}function N(){var B=QB(),I=v(B);if(n=arguments,i=this,c=B,I){if(l===void 0)return x(c);if(A)return clearTimeout(l),l=setTimeout(y,t),m(c)}return l===void 0&&(l=setTimeout(y,t)),o}return N.cancel=w,N.flush=j,N}var v8e=y8e,b8e=v8e,w8e=hA,j8e="Expected a function";function N8e(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(j8e);return w8e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),b8e(e,t,{leading:n,maxWait:t,trailing:i})}var _8e=N8e;const PZ=Zr(_8e);function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){C8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C8e(e,t,r){return t=B8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B8e(e){var t=S8e(e,"string");return My(t)=="symbol"?t:t+""}function S8e(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k8e(e,t){return T8e(e)||I8e(e,t)||P8e(e,t)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P8e(e,t){if(e){if(typeof e=="string")return O8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O8(e,t)}}function O8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function T8e(e){if(Array.isArray(e))return e}var of=_.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,A=e.minHeight,f=e.maxHeight,m=e.children,x=e.debounce,p=x===void 0?0:x,v=e.id,y=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,N=_.useRef(null),B=_.useRef();B.current=b,_.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var I=_.useState({containerWidth:i.width,containerHeight:i.height}),P=k8e(I,2),T=P[0],U=P[1],k=_.useCallback(function(Q,F){U(function(K){var W=Math.round(Q),D=Math.round(F);return K.containerWidth===W&&K.containerHeight===D?K:{containerWidth:W,containerHeight:D}})},[]);_.useEffect(function(){var Q=function(ee){var te,le=ee[0].contentRect,$=le.width,X=le.height;k($,X),(te=B.current)===null||te===void 0||te.call(B,$,X)};p>0&&(Q=PZ(Q,p,{trailing:!0,leading:!1}));var F=new ResizeObserver(Q),K=N.current.getBoundingClientRect(),W=K.width,D=K.height;return k(W,D),F.observe(N.current),function(){F.disconnect()}},[k,p]);var E=_.useMemo(function(){var Q=T.containerWidth,F=T.containerHeight;if(Q<0||F<0)return null;lc(af(o)||af(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),lc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=af(o)?Q:o,W=af(c)?F:c;r&&r>0&&(K?W=K/r:W&&(K=W*r),f&&W>f&&(W=f)),lc(K>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,W,o,c,u,A,r);var D=!Array.isArray(m)&&ou(m.type).endsWith("Chart");return _e.Children.map(m,function(z){return _e.isValidElement(z)?_.cloneElement(z,Lw({width:K,height:W},D?{style:Lw({height:"100%",width:"100%",maxHeight:W,maxWidth:K},z.props.style)}:{})):z})},[r,m,c,f,A,u,T,o]);return _e.createElement("div",{id:v?"".concat(v):void 0,className:gr("recharts-responsive-container",y),style:Lw(Lw({},j),{},{width:o,height:c,minWidth:u,minHeight:A,maxHeight:f}),ref:N},E)}),U5=function(t){return null};U5.displayName="Cell";function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){O8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O8e(e,t,r){return t=L8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8e(e){var t=F8e(e,"string");return Dy(t)=="symbol"?t:t+""}function F8e(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dm={widthCache:{},cacheCount:0},U8e=2e3,R8e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},F8="recharts_measurement_span";function M8e(e){var t=uE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Kx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||AA.isSsr)return{width:0,height:0};var n=M8e(r),i=JSON.stringify({text:t,copyStyle:n});if(Dm.widthCache[i])return Dm.widthCache[i];try{var a=document.getElementById(F8);a||(a=document.createElement("span"),a.setAttribute("id",F8),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=uE(uE({},R8e),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Dm.widthCache[i]=c,++Dm.cacheCount>U8e&&(Dm.cacheCount=0,Dm.widthCache={}),c}catch{return{width:0,height:0}}},D8e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function hj(e,t){return z8e(e)||H8e(e,t)||$8e(e,t)||Q8e()}function Q8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $8e(e,t){if(e){if(typeof e=="string")return U8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U8(e,t)}}function U8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function z8e(e){if(Array.isArray(e))return e}function V8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W8e(n.key),n)}}function K8e(e,t,r){return t&&R8(e.prototype,t),r&&R8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W8e(e){var t=G8e(e,"string");return Qy(t)=="symbol"?t:t+""}function G8e(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var M8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q8e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Y8e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,IZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X8e=Object.keys(IZ),fp="NaN";function J8e(e,t){return e*IZ[t]}var Fw=function(){function e(t,r){V8e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!q8e.test(r)&&(this.num=NaN,this.unit=""),X8e.includes(r)&&(this.num=J8e(t,r),this.unit="px")}return K8e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Y8e.exec(r))!==null&&n!==void 0?n:[],a=hj(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function TZ(e){if(e.includes(fp))return fp;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=M8.exec(t))!==null&&r!==void 0?r:[],i=hj(n,4),a=i[1],o=i[2],l=i[3],c=Fw.parse(a??""),d=Fw.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return fp;t=t.replace(M8,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var A,f=(A=D8.exec(t))!==null&&A!==void 0?A:[],m=hj(f,4),x=m[1],p=m[2],v=m[3],y=Fw.parse(x??""),b=Fw.parse(v??""),w=p==="+"?y.add(b):y.subtract(b);if(w.isNaN())return fp;t=t.replace(D8,w.toString())}return t}var Q8=/\(([^()]*)\)/;function Z8e(e){for(var t=e;t.includes("(");){var r=Q8.exec(t),n=hj(r,2),i=n[1];t=t.replace(Q8,TZ(i))}return t}function e7e(e){var t=e.replace(/\s+/g,"");return t=Z8e(t),t=TZ(t),t}function t7e(e){try{return e7e(e)}catch{return fp}}function $B(e){var t=t7e(e.slice(5,-1));return t===fp?"":t}var r7e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],n7e=["dx","dy","angle","className","breakAll"];function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hE.apply(this,arguments)}function $8(e,t){if(e==null)return{};var r=s7e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H8(e,t){return l7e(e)||o7e(e,t)||a7e(e,t)||i7e()}function i7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a7e(e,t){if(e){if(typeof e=="string")return z8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z8(e,t)}}function z8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function l7e(e){if(Array.isArray(e))return e}var OZ=/[ \f\n\r\t\v\u2028\u2029]+/,LZ=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Ar(r)||(n?a=r.toString().split(""):a=r.toString().split(OZ));var o=a.map(function(c){return{word:c,width:Kx(c,i).width}}),l=n?0:Kx("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},c7e=function(t,r,n,i,a){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=vt(o),A=l,f=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(W,D){var z=D.word,ee=D.width,te=W[W.length-1];if(te&&(i==null||a||te.width+ee+n<Number(i)))te.words.push(z),te.width+=ee+n;else{var le={words:[z],width:ee};W.push(le)}return W},[])},m=f(r),x=function(K){return K.reduce(function(W,D){return W.width>D.width?W:D})};if(!u)return m;for(var p="",v=function(K){var W=A.slice(0,K),D=LZ({breakAll:d,style:c,children:W+p}).wordsWithComputedWidth,z=f(D),ee=z.length>o||x(z).width>Number(i);return[ee,z]},y=0,b=A.length-1,w=0,j;y<=b&&w<=A.length-1;){var N=Math.floor((y+b)/2),B=N-1,I=v(B),P=H8(I,2),T=P[0],U=P[1],k=v(N),E=H8(k,1),Q=E[0];if(!T&&!Q&&(y=N+1),T&&Q&&(b=N-1),!T&&Q){j=U;break}w++}return j||m},V8=function(t){var r=Ar(t)?[]:t.toString().split(OZ);return[{words:r}]},d7e=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!AA.isSsr){var c,d,u=LZ({breakAll:o,children:i,style:a});if(u){var A=u.wordsWithComputedWidth,f=u.spaceWidth;c=A,d=f}else return V8(i);return c7e({breakAll:o,children:i,maxLines:l,style:a},c,d,r,n)}return V8(i)},K8="#808080",Wf=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,A=u===void 0?!1:u,f=t.textAnchor,m=f===void 0?"start":f,x=t.verticalAnchor,p=x===void 0?"end":x,v=t.fill,y=v===void 0?K8:v,b=$8(t,r7e),w=_.useMemo(function(){return d7e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:A,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,A,b.style,b.width]),j=b.dx,N=b.dy,B=b.angle,I=b.className,P=b.breakAll,T=$8(b,n7e);if(!pi(n)||!pi(a))return null;var U=n+(vt(j)?j:0),k=a+(vt(N)?N:0),E;switch(p){case"start":E=$B("calc(".concat(d,")"));break;case"middle":E=$B("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:E=$B("calc(".concat(w.length-1," * -").concat(l,")"));break}var Q=[];if(A){var F=w[0].width,K=b.width;Q.push("scale(".concat((vt(K)?K/F:1)/F,")"))}return B&&Q.push("rotate(".concat(B,", ").concat(U,", ").concat(k,")")),Q.length&&(T.transform=Q.join(" ")),_e.createElement("text",hE({},Xt(T,!0),{x:U,y:k,className:gr("recharts-text",I),textAnchor:m,fill:y.includes("url")?K8:y}),w.map(function(W,D){var z=W.words.join(P?"":" ");return _e.createElement("tspan",{x:U,dy:D===0?E:l,key:"".concat(z,"-").concat(D)},z)}))};function Hh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function u7e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FI(e){let t,r,n;e.length!==2?(t=Hh,r=(l,c)=>Hh(e(l),c),n=(l,c)=>e(l)-c):(t=e===Hh||e===u7e?e:h7e,r=e,n=e);function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<0?d=A+1:u=A}while(d<u)}return d}function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const A=d+u>>>1;r(l[A],c)<=0?d=A+1:u=A}while(d<u)}return d}function o(l,c,d=0,u=l.length){const A=i(l,c,d,u-1);return A>d&&n(l[A-1],c)>-n(l[A],c)?A-1:A}return{left:i,center:o,right:a}}function h7e(){return 0}function FZ(e){return e===null?NaN:+e}function*A7e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const f7e=FI(Hh),Yv=f7e.right;FI(FZ).center;class W8 extends Map{constructor(t,r=g7e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(G8(this,t))}has(t){return super.has(G8(this,t))}set(t,r){return super.set(m7e(this,t),r)}delete(t){return super.delete(p7e(this,t))}}function G8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function m7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function p7e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function g7e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function x7e(e=Hh){if(e===Hh)return UZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function UZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const y7e=Math.sqrt(50),v7e=Math.sqrt(10),b7e=Math.sqrt(2);function Aj(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=y7e?10:a>=v7e?5:a>=b7e?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?Aj(e,t,r*2):[l,c,d]}function AE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Aj(t,e,r):Aj(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(a-d)/-o;else for(let d=0;d<l;++d)c[d]=(a-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function fE(e,t,r){return t=+t,e=+e,r=+r,Aj(e,t,r)[2]}function mE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?fE(t,e,r):fE(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function q8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Y8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function RZ(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?UZ:x7e(i);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),A=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*A*(c-A)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*A/c+f)),x=Math.min(n,Math.floor(t+(c-d)*A/c+f));RZ(e,t,m,x,i)}const a=e[t];let o=r,l=n;for(V0(e,r,t),i(e[n],a)>0&&V0(e,r,n);o<l;){for(V0(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?V0(e,r,l):(++l,V0(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function V0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w7e(e,t,r){if(e=Float64Array.from(A7e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Y8(e);if(t>=1)return q8(e);var n,i=(n-1)*t,a=Math.floor(i),o=q8(RZ(e,a).subarray(0,a+1)),l=Y8(e.subarray(a+1));return o+(l-o)*(i-a)}}function j7e(e,t,r=FZ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function N7e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function jl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ku(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pE=Symbol("implicit");function UI(){var e=new W8,t=[],r=[],n=pE;function i(a){let o=e.get(a);if(o===void 0){if(n!==pE)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new W8;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return UI(t,r).unknown(n)},jl.apply(i,arguments),i}function $y(){var e=UI().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function A(){var f=t().length,m=i<n,x=m?i:n,p=m?n:i;a=(p-x)/Math.max(1,f-c+d*2),l&&(a=Math.floor(a)),x+=(p-x-a*(f-c))*u,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var v=N7e(f).map(function(y){return x+a*y});return r(m?v.reverse():v)}return e.domain=function(f){return arguments.length?(t(f),A()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,A()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,A()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,A()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),A()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),A()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,A()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),A()):u},e.copy=function(){return $y(t(),[n,i]).round(l).paddingInner(c).paddingOuter(d).align(u)},jl.apply(A(),arguments)}function MZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MZ(t())},e}function Wx(){return MZ($y.apply(null,arguments).paddingInner(1))}function RI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function DZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Xv(){}var Hy=.7,fj=1/Hy,Dp="\\s*([+-]?\\d+)\\s*",zy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_7e=/^#([0-9a-f]{3,8})$/,C7e=new RegExp(`^rgb\\(${Dp},${Dp},${Dp}\\)$`),B7e=new RegExp(`^rgb\\(${nd},${nd},${nd}\\)$`),S7e=new RegExp(`^rgba\\(${Dp},${Dp},${Dp},${zy}\\)$`),k7e=new RegExp(`^rgba\\(${nd},${nd},${nd},${zy}\\)$`),E7e=new RegExp(`^hsl\\(${zy},${nd},${nd}\\)$`),P7e=new RegExp(`^hsla\\(${zy},${nd},${nd},${zy}\\)$`),X8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RI(Xv,Vy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:J8,formatHex:J8,formatHex8:I7e,formatHsl:T7e,formatRgb:Z8,toString:Z8});function J8(){return this.rgb().formatHex()}function I7e(){return this.rgb().formatHex8()}function T7e(){return QZ(this).formatHsl()}function Z8(){return this.rgb().formatRgb()}function Vy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_7e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?e7(t):r===3?new qa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=C7e.exec(e))?new qa(t[1],t[2],t[3],1):(t=B7e.exec(e))?new qa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S7e.exec(e))?Uw(t[1],t[2],t[3],t[4]):(t=k7e.exec(e))?Uw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=E7e.exec(e))?n7(t[1],t[2]/100,t[3]/100,1):(t=P7e.exec(e))?n7(t[1],t[2]/100,t[3]/100,t[4]):X8.hasOwnProperty(e)?e7(X8[e]):e==="transparent"?new qa(NaN,NaN,NaN,0):null}function e7(e){return new qa(e>>16&255,e>>8&255,e&255,1)}function Uw(e,t,r,n){return n<=0&&(e=t=r=NaN),new qa(e,t,r,n)}function O7e(e){return e instanceof Xv||(e=Vy(e)),e?(e=e.rgb(),new qa(e.r,e.g,e.b,e.opacity)):new qa}function gE(e,t,r,n){return arguments.length===1?O7e(e):new qa(e,t,r,n??1)}function qa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}RI(qa,gE,DZ(Xv,{brighter(e){return e=e==null?fj:Math.pow(fj,e),new qa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hy:Math.pow(Hy,e),new qa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qa(wf(this.r),wf(this.g),wf(this.b),mj(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t7,formatHex:t7,formatHex8:L7e,formatRgb:r7,toString:r7}));function t7(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}`}function L7e(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}${lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function r7(){const e=mj(this.opacity);return`${e===1?"rgb(":"rgba("}${wf(this.r)}, ${wf(this.g)}, ${wf(this.b)}${e===1?")":`, ${e})`}`}function mj(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lf(e){return e=wf(e),(e<16?"0":"")+e.toString(16)}function n7(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new rc(e,t,r,n)}function QZ(e){if(e instanceof rc)return new rc(e.h,e.s,e.l,e.opacity);if(e instanceof Xv||(e=Vy(e)),!e)return new rc;if(e instanceof rc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new rc(o,l,c,e.opacity)}function F7e(e,t,r,n){return arguments.length===1?QZ(e):new rc(e,t,r,n??1)}function rc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}RI(rc,F7e,DZ(Xv,{brighter(e){return e=e==null?fj:Math.pow(fj,e),new rc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hy:Math.pow(Hy,e),new rc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new qa(HB(e>=240?e-240:e+120,i,n),HB(e,i,n),HB(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new rc(s7(this.h),Rw(this.s),Rw(this.l),mj(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mj(this.opacity);return`${e===1?"hsl(":"hsla("}${s7(this.h)}, ${Rw(this.s)*100}%, ${Rw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function s7(e){return e=(e||0)%360,e<0?e+360:e}function Rw(e){return Math.max(0,Math.min(1,e||0))}function HB(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const MI=e=>()=>e;function U7e(e,t){return function(r){return e+r*t}}function R7e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function M7e(e){return(e=+e)==1?$Z:function(t,r){return r-t?R7e(t,r,e):MI(isNaN(t)?r:t)}}function $Z(e,t){var r=t-e;return r?U7e(e,r):MI(isNaN(e)?t:e)}const i7=function e(t){var r=M7e(t);function n(i,a){var o=r((i=gE(i)).r,(a=gE(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),d=$Z(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=c(u),i.opacity=d(u),i+""}}return n.gamma=e,n}(1);function D7e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Q7e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $7e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=i0(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function H7e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pj(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function z7e(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=i0(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var xE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zB=new RegExp(xE.source,"g");function V7e(e){return function(){return e}}function K7e(e){return function(t){return e(t)+""}}function W7e(e,t){var r=xE.lastIndex=zB.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=xE.exec(e))&&(i=zB.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:pj(n,i)})),r=zB.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?K7e(c[0].x):V7e(t):(t=c.length,function(d){for(var u=0,A;u<t;++u)l[(A=c[u]).i]=A.x(d);return l.join("")})}function i0(e,t){var r=typeof t,n;return t==null||r==="boolean"?MI(t):(r==="number"?pj:r==="string"?(n=Vy(t))?(t=n,i7):W7e:t instanceof Vy?i7:t instanceof Date?H7e:Q7e(t)?D7e:Array.isArray(t)?$7e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?z7e:pj)(e,t)}function DI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function G7e(e,t){t===void 0&&(t=e,e=i0);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function q7e(e){return function(){return e}}function gj(e){return+e}var a7=[0,1];function Ca(e){return e}function yE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:q7e(isNaN(t)?NaN:.5)}function Y7e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function X7e(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=yE(i,n),a=r(o,a)):(n=yE(n,i),a=r(a,o)),function(l){return a(n(l))}}function J7e(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=yE(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=Yv(e,l,1,n)-1;return a[c](i[c](l))}}function Jv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function R5(){var e=a7,t=a7,r=i0,n,i,a,o=Ca,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==Ca&&(o=Y7e(e[0],e[f-1])),l=f>2?J7e:X7e,c=d=null,A}function A(f){return f==null||isNaN(f=+f)?a:(c||(c=l(e.map(n),t,r)))(n(o(f)))}return A.invert=function(f){return o(i((d||(d=l(t,e.map(n),pj)))(f)))},A.domain=function(f){return arguments.length?(e=Array.from(f,gj),u()):e.slice()},A.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},A.rangeRound=function(f){return t=Array.from(f),r=DI,u()},A.clamp=function(f){return arguments.length?(o=f?!0:Ca,u()):o!==Ca},A.interpolate=function(f){return arguments.length?(r=f,u()):r},A.unknown=function(f){return arguments.length?(a=f,A):a},function(f,m){return n=f,i=m,u()}}function QI(){return R5()(Ca,Ca)}function Z7e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xj(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ug(e){return e=xj(Math.abs(e)),e?e[1]:NaN}function eQe(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function tQe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ky(e){if(!(t=rQe.exec(e)))throw new Error("invalid format: "+e);var t;return new $I({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ky.prototype=$I.prototype;function $I(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$I.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nQe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var HZ;function sQe(e,t){var r=xj(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(HZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+xj(e,Math.max(0,t+a-1))[0]}function o7(e,t){var r=xj(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const l7={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Z7e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o7(e*100,t),r:o7,s:sQe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c7(e){return e}var d7=Array.prototype.map,u7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iQe(e){var t=e.grouping===void 0||e.thousands===void 0?c7:eQe(d7.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?c7:tQe(d7.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(A){A=Ky(A);var f=A.fill,m=A.align,x=A.sign,p=A.symbol,v=A.zero,y=A.width,b=A.comma,w=A.precision,j=A.trim,N=A.type;N==="n"?(b=!0,N="g"):l7[N]||(w===void 0&&(w=12),j=!0,N="g"),(v||f==="0"&&m==="=")&&(v=!0,f="0",m="=");var B=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",I=p==="$"?n:/[%p]/.test(N)?o:"",P=l7[N],T=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(k){var E=B,Q=I,F,K,W;if(N==="c")Q=P(k)+Q,k="";else{k=+k;var D=k<0||1/k<0;if(k=isNaN(k)?c:P(Math.abs(k),w),j&&(k=nQe(k)),D&&+k==0&&x!=="+"&&(D=!1),E=(D?x==="("?x:l:x==="-"||x==="("?"":x)+E,Q=(N==="s"?u7[8+HZ/3]:"")+Q+(D&&x==="("?")":""),T){for(F=-1,K=k.length;++F<K;)if(W=k.charCodeAt(F),48>W||W>57){Q=(W===46?i+k.slice(F+1):k.slice(F))+Q,k=k.slice(0,F);break}}}b&&!v&&(k=t(k,1/0));var z=E.length+k.length+Q.length,ee=z<y?new Array(y-z+1).join(f):"";switch(b&&v&&(k=t(ee+k,ee.length?y-Q.length:1/0),ee=""),m){case"<":k=E+k+Q+ee;break;case"=":k=E+ee+k+Q;break;case"^":k=ee.slice(0,z=ee.length>>1)+E+k+Q+ee.slice(z);break;default:k=ee+E+k+Q;break}return a(k)}return U.toString=function(){return A+""},U}function u(A,f){var m=d((A=Ky(A),A.type="f",A)),x=Math.max(-8,Math.min(8,Math.floor(ug(f)/3)))*3,p=Math.pow(10,-x),v=u7[8+x/3];return function(y){return m(p*y)+v}}return{format:d,formatPrefix:u}}var Mw,HI,zZ;aQe({thousands:",",grouping:[3],currency:["$",""]});function aQe(e){return Mw=iQe(e),HI=Mw.format,zZ=Mw.formatPrefix,Mw}function oQe(e){return Math.max(0,-ug(Math.abs(e)))}function lQe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ug(t)/3)))*3-ug(Math.abs(e)))}function cQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ug(t)-ug(e))+1}function VZ(e,t,r,n){var i=mE(e,t,r),a;switch(n=Ky(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=lQe(i,o))&&(n.precision=a),zZ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=cQe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=oQe(i))&&(n.precision=a-(n.type==="%")*2);break}}return HI(n)}function fA(e){var t=e.domain;return e.ticks=function(r){var n=t();return AE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return VZ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=i,i=a,a=d);u-- >0;){if(d=fE(o,l,r),d===c)return n[i]=o,n[a]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function yj(){var e=QI();return e.copy=function(){return Jv(e,yj())},jl.apply(e,arguments),fA(e)}function KZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,gj),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return KZ(e).unknown(t)},e=arguments.length?Array.from(e,gj):[0,1],fA(r)}function WZ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function h7(e){return Math.log(e)}function A7(e){return Math.exp(e)}function dQe(e){return-Math.log(-e)}function uQe(e){return-Math.exp(-e)}function hQe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function AQe(e){return e===10?hQe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fQe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function f7(e){return(t,r)=>-e(-t,r)}function zI(e){const t=e(h7,A7),r=t.domain;let n=10,i,a;function o(){return i=fQe(n),a=AQe(n),r()[0]<0?(i=f7(i),a=f7(a),e(dQe,uQe)):e(h7,A7),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const A=u<d;A&&([d,u]=[u,d]);let f=i(d),m=i(u),x,p;const v=l==null?10:+l;let y=[];if(!(n%1)&&m-f<v){if(f=Math.floor(f),m=Math.ceil(m),d>0){for(;f<=m;++f)for(x=1;x<n;++x)if(p=f<0?x/a(-f):x*a(f),!(p<d)){if(p>u)break;y.push(p)}}else for(;f<=m;++f)for(x=n-1;x>=1;--x)if(p=f>0?x/a(-f):x*a(f),!(p<d)){if(p>u)break;y.push(p)}y.length*2<v&&(y=AE(d,u,v))}else y=AE(f,m,Math.min(m-f,v)).map(a);return A?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ky(c)).precision==null&&(c.trim=!0),c=HI(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let A=u/a(Math.round(i(u)));return A*n<n-.5&&(A*=n),A<=d?c(u):""}},t.nice=()=>r(WZ(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function GZ(){const e=zI(R5()).domain([1,10]);return e.copy=()=>Jv(e,GZ()).base(e.base()),jl.apply(e,arguments),e}function m7(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function p7(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function VI(e){var t=1,r=e(m7(t),p7(t));return r.constant=function(n){return arguments.length?e(m7(t=+n),p7(t)):t},fA(r)}function qZ(){var e=VI(R5());return e.copy=function(){return Jv(e,qZ()).constant(e.constant())},jl.apply(e,arguments)}function g7(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mQe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pQe(e){return e<0?-e*e:e*e}function KI(e){var t=e(Ca,Ca),r=1;function n(){return r===1?e(Ca,Ca):r===.5?e(mQe,pQe):e(g7(r),g7(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},fA(t)}function WI(){var e=KI(R5());return e.copy=function(){return Jv(e,WI()).exponent(e.exponent())},jl.apply(e,arguments),e}function gQe(){return WI.apply(null,arguments).exponent(.5)}function x7(e){return Math.sign(e)*e*e}function xQe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YZ(){var e=QI(),t=[0,1],r=!1,n;function i(a){var o=xQe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(x7(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,gj)).map(x7)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return YZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},jl.apply(i,arguments),fA(i)}function XZ(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=j7e(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Yv(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Hh),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return XZ().domain(e).range(t).unknown(n)},jl.apply(a,arguments)}function JZ(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Yv(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return JZ().domain([e,t]).range(i).unknown(a)},jl.apply(fA(o),arguments)}function ZZ(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Yv(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ZZ().domain(e).range(t).unknown(r)},jl.apply(i,arguments)}const VB=new Date,KB=new Date;function gi(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let d;do c.push(d=new Date(+a)),t(a,l),e(a);while(d<a&&a<o);return c},i.filter=a=>gi(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(VB.setTime(+a),KB.setTime(+o),e(VB),e(KB),Math.floor(r(VB,KB))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const vj=gi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vj.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vj);vj.range;const qd=1e3,hl=qd*60,Yd=hl*60,vu=Yd*24,GI=vu*7,y7=vu*30,WB=vu*365,cf=gi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qd)},(e,t)=>(t-e)/qd,e=>e.getUTCSeconds());cf.range;const qI=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qd)},(e,t)=>{e.setTime(+e+t*hl)},(e,t)=>(t-e)/hl,e=>e.getMinutes());qI.range;const YI=gi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hl)},(e,t)=>(t-e)/hl,e=>e.getUTCMinutes());YI.range;const XI=gi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qd-e.getMinutes()*hl)},(e,t)=>{e.setTime(+e+t*Yd)},(e,t)=>(t-e)/Yd,e=>e.getHours());XI.range;const JI=gi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yd)},(e,t)=>(t-e)/Yd,e=>e.getUTCHours());JI.range;const Zv=gi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hl)/vu,e=>e.getDate()-1);Zv.range;const M5=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>e.getUTCDate()-1);M5.range;const eee=gi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vu,e=>Math.floor(e/vu));eee.range;function dm(e){return gi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hl)/GI)}const D5=dm(0),bj=dm(1),yQe=dm(2),vQe=dm(3),hg=dm(4),bQe=dm(5),wQe=dm(6);D5.range;bj.range;yQe.range;vQe.range;hg.range;bQe.range;wQe.range;function um(e){return gi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/GI)}const Q5=um(0),wj=um(1),jQe=um(2),NQe=um(3),Ag=um(4),_Qe=um(5),CQe=um(6);Q5.range;wj.range;jQe.range;NQe.range;Ag.range;_Qe.range;CQe.range;const ZI=gi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ZI.range;const eT=gi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());eT.range;const bu=gi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bu.range;const wu=gi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wu.range;function tee(e,t,r,n,i,a){const o=[[cf,1,qd],[cf,5,5*qd],[cf,15,15*qd],[cf,30,30*qd],[a,1,hl],[a,5,5*hl],[a,15,15*hl],[a,30,30*hl],[i,1,Yd],[i,3,3*Yd],[i,6,6*Yd],[i,12,12*Yd],[n,1,vu],[n,2,2*vu],[r,1,GI],[t,1,y7],[t,3,3*y7],[e,1,WB]];function l(d,u,A){const f=u<d;f&&([d,u]=[u,d]);const m=A&&typeof A.range=="function"?A:c(d,u,A),x=m?m.range(d,+u+1):[];return f?x.reverse():x}function c(d,u,A){const f=Math.abs(u-d)/A,m=FI(([,,v])=>v).right(o,f);if(m===o.length)return e.every(mE(d/WB,u/WB,A));if(m===0)return vj.every(Math.max(mE(d,u,A),1));const[x,p]=o[f/o[m-1][2]<o[m][2]/f?m-1:m];return x.every(p)}return[l,c]}const[BQe,SQe]=tee(wu,eT,Q5,eee,JI,YI),[kQe,EQe]=tee(bu,ZI,D5,Zv,XI,qI);function GB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function K0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function PQe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=W0(i),u=G0(i),A=W0(a),f=G0(a),m=W0(o),x=G0(o),p=W0(l),v=G0(l),y=W0(c),b=G0(c),w={a:D,A:z,b:ee,B:te,c:null,d:_7,e:_7,f:e$e,g:d$e,G:h$e,H:XQe,I:JQe,j:ZQe,L:ree,m:t$e,M:r$e,p:le,q:$,Q:S7,s:k7,S:n$e,u:s$e,U:i$e,V:a$e,w:o$e,W:l$e,x:null,X:null,y:c$e,Y:u$e,Z:A$e,"%":B7},j={a:X,A:V,b:ne,B:ae,c:null,d:C7,e:C7,f:g$e,g:B$e,G:k$e,H:f$e,I:m$e,j:p$e,L:see,m:x$e,M:y$e,p:he,q:ge,Q:S7,s:k7,S:v$e,u:b$e,U:w$e,V:j$e,w:N$e,W:_$e,x:null,X:null,y:C$e,Y:S$e,Z:E$e,"%":B7},N={a:U,A:k,b:E,B:Q,c:F,d:j7,e:j7,f:WQe,g:w7,G:b7,H:N7,I:N7,j:HQe,L:KQe,m:$Qe,M:zQe,p:T,q:QQe,Q:qQe,s:YQe,S:VQe,u:FQe,U:UQe,V:RQe,w:LQe,W:MQe,x:K,X:W,y:w7,Y:b7,Z:DQe,"%":GQe};w.x=B(r,w),w.X=B(n,w),w.c=B(t,w),j.x=B(r,j),j.X=B(n,j),j.c=B(t,j);function B(J,ue){return function(fe){var Y=[],je=-1,xe=0,re=J.length,Ce,Ie,Ue;for(fe instanceof Date||(fe=new Date(+fe));++je<re;)J.charCodeAt(je)===37&&(Y.push(J.slice(xe,je)),(Ie=v7[Ce=J.charAt(++je)])!=null?Ce=J.charAt(++je):Ie=Ce==="e"?" ":"0",(Ue=ue[Ce])&&(Ce=Ue(fe,Ie)),Y.push(Ce),xe=je+1);return Y.push(J.slice(xe,je)),Y.join("")}}function I(J,ue){return function(fe){var Y=K0(1900,void 0,1),je=P(Y,J,fe+="",0),xe,re;if(je!=fe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ue&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(xe=qB(K0(Y.y,0,1)),re=xe.getUTCDay(),xe=re>4||re===0?wj.ceil(xe):wj(xe),xe=M5.offset(xe,(Y.V-1)*7),Y.y=xe.getUTCFullYear(),Y.m=xe.getUTCMonth(),Y.d=xe.getUTCDate()+(Y.w+6)%7):(xe=GB(K0(Y.y,0,1)),re=xe.getDay(),xe=re>4||re===0?bj.ceil(xe):bj(xe),xe=Zv.offset(xe,(Y.V-1)*7),Y.y=xe.getFullYear(),Y.m=xe.getMonth(),Y.d=xe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),re="Z"in Y?qB(K0(Y.y,0,1)).getUTCDay():GB(K0(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(re+5)%7:Y.w+Y.U*7-(re+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,qB(Y)):GB(Y)}}function P(J,ue,fe,Y){for(var je=0,xe=ue.length,re=fe.length,Ce,Ie;je<xe;){if(Y>=re)return-1;if(Ce=ue.charCodeAt(je++),Ce===37){if(Ce=ue.charAt(je++),Ie=N[Ce in v7?ue.charAt(je++):Ce],!Ie||(Y=Ie(J,fe,Y))<0)return-1}else if(Ce!=fe.charCodeAt(Y++))return-1}return Y}function T(J,ue,fe){var Y=d.exec(ue.slice(fe));return Y?(J.p=u.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function U(J,ue,fe){var Y=m.exec(ue.slice(fe));return Y?(J.w=x.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function k(J,ue,fe){var Y=A.exec(ue.slice(fe));return Y?(J.w=f.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function E(J,ue,fe){var Y=y.exec(ue.slice(fe));return Y?(J.m=b.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function Q(J,ue,fe){var Y=p.exec(ue.slice(fe));return Y?(J.m=v.get(Y[0].toLowerCase()),fe+Y[0].length):-1}function F(J,ue,fe){return P(J,t,ue,fe)}function K(J,ue,fe){return P(J,r,ue,fe)}function W(J,ue,fe){return P(J,n,ue,fe)}function D(J){return o[J.getDay()]}function z(J){return a[J.getDay()]}function ee(J){return c[J.getMonth()]}function te(J){return l[J.getMonth()]}function le(J){return i[+(J.getHours()>=12)]}function $(J){return 1+~~(J.getMonth()/3)}function X(J){return o[J.getUTCDay()]}function V(J){return a[J.getUTCDay()]}function ne(J){return c[J.getUTCMonth()]}function ae(J){return l[J.getUTCMonth()]}function he(J){return i[+(J.getUTCHours()>=12)]}function ge(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ue=B(J+="",w);return ue.toString=function(){return J},ue},parse:function(J){var ue=I(J+="",!1);return ue.toString=function(){return J},ue},utcFormat:function(J){var ue=B(J+="",j);return ue.toString=function(){return J},ue},utcParse:function(J){var ue=I(J+="",!0);return ue.toString=function(){return J},ue}}}var v7={"-":"",_:" ",0:"0"},_i=/^\s*\d+/,IQe=/^%/,TQe=/[\\^$*+?|[\]().{}]/g;function Gr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function OQe(e){return e.replace(TQe,"\\$&")}function W0(e){return new RegExp("^(?:"+e.map(OQe).join("|")+")","i")}function G0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LQe(e,t,r){var n=_i.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function FQe(e,t,r){var n=_i.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function UQe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function RQe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function MQe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function b7(e,t,r){var n=_i.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function w7(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function DQe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QQe(e,t,r){var n=_i.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $Qe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function j7(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function HQe(e,t,r){var n=_i.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function N7(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zQe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function VQe(e,t,r){var n=_i.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function KQe(e,t,r){var n=_i.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function WQe(e,t,r){var n=_i.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GQe(e,t,r){var n=IQe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function qQe(e,t,r){var n=_i.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function YQe(e,t,r){var n=_i.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function _7(e,t){return Gr(e.getDate(),t,2)}function XQe(e,t){return Gr(e.getHours(),t,2)}function JQe(e,t){return Gr(e.getHours()%12||12,t,2)}function ZQe(e,t){return Gr(1+Zv.count(bu(e),e),t,3)}function ree(e,t){return Gr(e.getMilliseconds(),t,3)}function e$e(e,t){return ree(e,t)+"000"}function t$e(e,t){return Gr(e.getMonth()+1,t,2)}function r$e(e,t){return Gr(e.getMinutes(),t,2)}function n$e(e,t){return Gr(e.getSeconds(),t,2)}function s$e(e){var t=e.getDay();return t===0?7:t}function i$e(e,t){return Gr(D5.count(bu(e)-1,e),t,2)}function nee(e){var t=e.getDay();return t>=4||t===0?hg(e):hg.ceil(e)}function a$e(e,t){return e=nee(e),Gr(hg.count(bu(e),e)+(bu(e).getDay()===4),t,2)}function o$e(e){return e.getDay()}function l$e(e,t){return Gr(bj.count(bu(e)-1,e),t,2)}function c$e(e,t){return Gr(e.getFullYear()%100,t,2)}function d$e(e,t){return e=nee(e),Gr(e.getFullYear()%100,t,2)}function u$e(e,t){return Gr(e.getFullYear()%1e4,t,4)}function h$e(e,t){var r=e.getDay();return e=r>=4||r===0?hg(e):hg.ceil(e),Gr(e.getFullYear()%1e4,t,4)}function A$e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gr(t/60|0,"0",2)+Gr(t%60,"0",2)}function C7(e,t){return Gr(e.getUTCDate(),t,2)}function f$e(e,t){return Gr(e.getUTCHours(),t,2)}function m$e(e,t){return Gr(e.getUTCHours()%12||12,t,2)}function p$e(e,t){return Gr(1+M5.count(wu(e),e),t,3)}function see(e,t){return Gr(e.getUTCMilliseconds(),t,3)}function g$e(e,t){return see(e,t)+"000"}function x$e(e,t){return Gr(e.getUTCMonth()+1,t,2)}function y$e(e,t){return Gr(e.getUTCMinutes(),t,2)}function v$e(e,t){return Gr(e.getUTCSeconds(),t,2)}function b$e(e){var t=e.getUTCDay();return t===0?7:t}function w$e(e,t){return Gr(Q5.count(wu(e)-1,e),t,2)}function iee(e){var t=e.getUTCDay();return t>=4||t===0?Ag(e):Ag.ceil(e)}function j$e(e,t){return e=iee(e),Gr(Ag.count(wu(e),e)+(wu(e).getUTCDay()===4),t,2)}function N$e(e){return e.getUTCDay()}function _$e(e,t){return Gr(wj.count(wu(e)-1,e),t,2)}function C$e(e,t){return Gr(e.getUTCFullYear()%100,t,2)}function B$e(e,t){return e=iee(e),Gr(e.getUTCFullYear()%100,t,2)}function S$e(e,t){return Gr(e.getUTCFullYear()%1e4,t,4)}function k$e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ag(e):Ag.ceil(e),Gr(e.getUTCFullYear()%1e4,t,4)}function E$e(){return"+0000"}function B7(){return"%"}function S7(e){return+e}function k7(e){return Math.floor(+e/1e3)}var Qm,aee,oee;P$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P$e(e){return Qm=PQe(e),aee=Qm.format,Qm.parse,oee=Qm.utcFormat,Qm.utcParse,Qm}function I$e(e){return new Date(e)}function T$e(e){return e instanceof Date?+e:+new Date(+e)}function tT(e,t,r,n,i,a,o,l,c,d){var u=QI(),A=u.invert,f=u.domain,m=d(".%L"),x=d(":%S"),p=d("%I:%M"),v=d("%I %p"),y=d("%a %d"),b=d("%b %d"),w=d("%B"),j=d("%Y");function N(B){return(c(B)<B?m:l(B)<B?x:o(B)<B?p:a(B)<B?v:n(B)<B?i(B)<B?y:b:r(B)<B?w:j)(B)}return u.invert=function(B){return new Date(A(B))},u.domain=function(B){return arguments.length?f(Array.from(B,T$e)):f().map(I$e)},u.ticks=function(B){var I=f();return e(I[0],I[I.length-1],B??10)},u.tickFormat=function(B,I){return I==null?N:d(I)},u.nice=function(B){var I=f();return(!B||typeof B.range!="function")&&(B=t(I[0],I[I.length-1],B??10)),B?f(WZ(I,B)):u},u.copy=function(){return Jv(u,tT(e,t,r,n,i,a,o,l,c,d))},u}function O$e(){return jl.apply(tT(kQe,EQe,bu,ZI,D5,Zv,XI,qI,cf,aee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function L$e(){return jl.apply(tT(BQe,SQe,wu,eT,Q5,M5,JI,YI,cf,oee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $5(){var e=0,t=1,r,n,i,a,o=Ca,l=!1,c;function d(A){return A==null||isNaN(A=+A)?c:o(i===0?.5:(A=(a(A)-r)*i,l?Math.max(0,Math.min(1,A)):A))}d.domain=function(A){return arguments.length?([e,t]=A,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(A){return arguments.length?(l=!!A,d):l},d.interpolator=function(A){return arguments.length?(o=A,d):o};function u(A){return function(f){var m,x;return arguments.length?([m,x]=f,o=A(m,x),d):[o(0),o(1)]}}return d.range=u(i0),d.rangeRound=u(DI),d.unknown=function(A){return arguments.length?(c=A,d):c},function(A){return a=A,r=A(e),n=A(t),i=r===n?0:1/(n-r),d}}function mA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lee(){var e=fA($5()(Ca));return e.copy=function(){return mA(e,lee())},ku.apply(e,arguments)}function cee(){var e=zI($5()).domain([1,10]);return e.copy=function(){return mA(e,cee()).base(e.base())},ku.apply(e,arguments)}function dee(){var e=VI($5());return e.copy=function(){return mA(e,dee()).constant(e.constant())},ku.apply(e,arguments)}function rT(){var e=KI($5());return e.copy=function(){return mA(e,rT()).exponent(e.exponent())},ku.apply(e,arguments)}function F$e(){return rT.apply(null,arguments).exponent(.5)}function uee(){var e=[],t=Ca;function r(n){if(n!=null&&!isNaN(n=+n))return t((Yv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Hh),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>w7e(e,a/n))},r.copy=function(){return uee(t).domain(e)},ku.apply(r,arguments)}function H5(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,d=Ca,u,A=!1,f;function m(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-a)*(n*p<n*a?l:c),d(A?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,i=u(e=+e),a=u(t=+t),o=u(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(A=!!p,m):A},m.interpolator=function(p){return arguments.length?(d=p,m):d};function x(p){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,d=G7e(p,[y,b,w]),m):[d(0),d(.5),d(1)]}}return m.range=x(i0),m.rangeRound=x(DI),m.unknown=function(p){return arguments.length?(f=p,m):f},function(p){return u=p,i=p(e),a=p(t),o=p(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function hee(){var e=fA(H5()(Ca));return e.copy=function(){return mA(e,hee())},ku.apply(e,arguments)}function Aee(){var e=zI(H5()).domain([.1,1,10]);return e.copy=function(){return mA(e,Aee()).base(e.base())},ku.apply(e,arguments)}function fee(){var e=VI(H5());return e.copy=function(){return mA(e,fee()).constant(e.constant())},ku.apply(e,arguments)}function nT(){var e=KI(H5());return e.copy=function(){return mA(e,nT()).exponent(e.exponent())},ku.apply(e,arguments)}function U$e(){return nT.apply(null,arguments).exponent(.5)}const E7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$y,scaleDiverging:hee,scaleDivergingLog:Aee,scaleDivergingPow:nT,scaleDivergingSqrt:U$e,scaleDivergingSymlog:fee,scaleIdentity:KZ,scaleImplicit:pE,scaleLinear:yj,scaleLog:GZ,scaleOrdinal:UI,scalePoint:Wx,scalePow:WI,scaleQuantile:XZ,scaleQuantize:JZ,scaleRadial:YZ,scaleSequential:lee,scaleSequentialLog:cee,scaleSequentialPow:rT,scaleSequentialQuantile:uee,scaleSequentialSqrt:F$e,scaleSequentialSymlog:dee,scaleSqrt:gQe,scaleSymlog:qZ,scaleThreshold:ZZ,scaleTime:O$e,scaleUtc:L$e,tickFormat:VZ},Symbol.toStringTag,{value:"Module"}));var R$e=Yg;function M$e(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!R$e(o):r(o,l)))var l=o,c=a}return c}var z5=M$e;function D$e(e,t){return e>t}var mee=D$e,Q$e=z5,$$e=mee,H$e=s0;function z$e(e){return e&&e.length?Q$e(e,H$e,$$e):void 0}var V$e=z$e;const Ch=Zr(V$e);function K$e(e,t){return e<t}var pee=K$e,W$e=z5,G$e=pee,q$e=s0;function Y$e(e){return e&&e.length?W$e(e,q$e,G$e):void 0}var X$e=Y$e;const V5=Zr(X$e);var J$e=gI,Z$e=vd,eHe=NZ,tHe=no;function rHe(e,t){var r=tHe(e)?J$e:eHe;return r(e,Z$e(t))}var nHe=rHe,sHe=wZ,iHe=nHe;function aHe(e,t){return sHe(iHe(e,t),1)}var oHe=aHe;const lHe=Zr(oHe);var cHe=II;function dHe(e,t){return cHe(e,t)}var uHe=dHe;const Gf=Zr(uHe);var a0=1e9,hHe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iT,ss=!0,bl="[DecimalError] ",jf=bl+"Invalid argument: ",sT=bl+"Exponent out of range: ",o0=Math.floor,VA=Math.pow,AHe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_o,vi=1e7,qn=7,gee=9007199254740991,jj=o0(gee/qn),Dt={};Dt.absoluteValue=Dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Dt.comparedTo=Dt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*qn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Dt.dividedBy=Dt.div=function(e){return lu(this,new this.constructor(e))};Dt.dividedToIntegerBy=Dt.idiv=function(e){var t=this,r=t.constructor;return Tn(lu(t,new r(e),0,1),r.precision)};Dt.equals=Dt.eq=function(e){return!this.cmp(e)};Dt.exponent=function(){return ei(this)};Dt.greaterThan=Dt.gt=function(e){return this.cmp(e)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(e){return this.cmp(e)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(e){return this.cmp(e)<0};Dt.lessThanOrEqualTo=Dt.lte=function(e){return this.cmp(e)<1};Dt.logarithm=Dt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_o))throw Error(bl+"NaN");if(r.s<1)throw Error(bl+(r.s?"NaN":"-Infinity"));return r.eq(_o)?new n(0):(ss=!1,t=lu(Wy(r,a),Wy(e,a),a),ss=!0,Tn(t,i))};Dt.minus=Dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vee(t,e):xee(t,(e.s=-e.s,e))};Dt.modulo=Dt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(bl+"NaN");return r.s?(ss=!1,t=lu(r,e,0,1).times(e),ss=!0,r.minus(t)):Tn(new n(r),i)};Dt.naturalExponential=Dt.exp=function(){return yee(this)};Dt.naturalLogarithm=Dt.ln=function(){return Wy(this)};Dt.negated=Dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Dt.plus=Dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xee(t,e):vee(t,(e.s=-e.s,e))};Dt.precision=Dt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jf+e);if(t=ei(i)+1,n=i.d.length-1,r=n*qn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Dt.squareRoot=Dt.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(bl+"NaN")}for(e=ei(l),ss=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Kc(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=o0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(lu(l,a,o+2)).times(.5),Kc(a.d).slice(0,o)===(t=Kc(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Tn(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return ss=!0,Tn(n,r)};Dt.times=Dt.mul=function(e){var t,r,n,i,a,o,l,c,d,u=this,A=u.constructor,f=u.d,m=(e=new A(e)).d;if(!u.s||!e.s)return new A(0);for(e.s*=u.s,r=u.e+e.e,c=f.length,d=m.length,c<d&&(a=f,f=m,m=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*f[i-n-1]+t,a[i--]=l%vi|0,t=l/vi|0;a[i]=(a[i]+t)%vi|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ss?Tn(e,A.precision):e};Dt.toDecimalPlaces=Dt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(hd(e,0,a0),t===void 0?t=n.rounding:hd(t,0,8),Tn(r,e+ei(r)+1,t))};Dt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=qf(n,!0):(hd(e,0,a0),t===void 0?t=i.rounding:hd(t,0,8),n=Tn(new i(n),e+1,t),r=qf(n,!0,e+1)),r};Dt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?qf(i):(hd(e,0,a0),t===void 0?t=a.rounding:hd(t,0,8),n=Tn(new a(i),e+ei(i)+1,t),r=qf(n.abs(),!1,e+ei(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Dt.toInteger=Dt.toint=function(){var e=this,t=e.constructor;return Tn(new t(e),ei(e)+1,t.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(_o);if(l=new c(l),!l.s){if(e.s<1)throw Error(bl+"Infinity");return l}if(l.eq(_o))return l;if(n=c.precision,e.eq(_o))return Tn(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=u<0?-u:u)<=gee){for(i=new c(_o),t=Math.ceil(n/qn+4),ss=!1;r%2&&(i=i.times(l),I7(i.d,t)),r=o0(r/2),r!==0;)l=l.times(l),I7(l.d,t);return ss=!0,e.s<0?new c(_o).div(i):Tn(i,n)}}else if(a<0)throw Error(bl+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ss=!1,i=e.times(Wy(l,n+d)),ss=!0,i=yee(i),i.s=a,i};Dt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=ei(i),n=qf(i,r<=a.toExpNeg||r>=a.toExpPos)):(hd(e,1,a0),t===void 0?t=a.rounding:hd(t,0,8),i=Tn(new a(i),e,t),r=ei(i),n=qf(i,e<=r||r<=a.toExpNeg,e)),n};Dt.toSignificantDigits=Dt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(hd(e,1,a0),t===void 0?t=n.rounding:hd(t,0,8)),Tn(new n(r),e,t)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ei(e),r=e.constructor;return qf(e,t<=r.toExpNeg||t>=r.toExpPos)};function xee(e,t){var r,n,i,a,o,l,c,d,u=e.constructor,A=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ss?Tn(t,A):t;if(c=e.d,d=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=d.length):(n=d,i=o,l=c.length),o=Math.ceil(A/qn),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=d.length,l-a<0&&(a=l,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/vi|0,c[a]%=vi;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,ss?Tn(t,A):t}function hd(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jf+e)}function Kc(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=qn-n.length,r&&(a+=hh(r)),a+=n;o=e[t],n=o+"",r=qn-n.length,r&&(a+=hh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var lu=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%vi|0,o=a/vi|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*vi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,d,u,A,f,m,x,p,v,y,b,w,j,N,B,I,P,T=n.constructor,U=n.s==i.s?1:-1,k=n.d,E=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(bl+"Division by zero");for(c=n.e-i.e,I=E.length,N=k.length,m=new T(U),x=m.d=[],d=0;E[d]==(k[d]||0);)++d;if(E[d]>(k[d]||0)&&--c,a==null?b=a=T.precision:o?b=a+(ei(n)-ei(i))+1:b=a,b<0)return new T(0);if(b=b/qn+2|0,d=0,I==1)for(u=0,E=E[0],b++;(d<N||u)&&b--;d++)w=u*vi+(k[d]||0),x[d]=w/E|0,u=w%E|0;else{for(u=vi/(E[0]+1)|0,u>1&&(E=e(E,u),k=e(k,u),I=E.length,N=k.length),j=I,p=k.slice(0,I),v=p.length;v<I;)p[v++]=0;P=E.slice(),P.unshift(0),B=E[0],E[1]>=vi/2&&++B;do u=0,l=t(E,p,I,v),l<0?(y=p[0],I!=v&&(y=y*vi+(p[1]||0)),u=y/B|0,u>1?(u>=vi&&(u=vi-1),A=e(E,u),f=A.length,v=p.length,l=t(A,p,f,v),l==1&&(u--,r(A,I<f?P:E,f))):(u==0&&(l=u=1),A=E.slice()),f=A.length,f<v&&A.unshift(0),r(p,A,v),l==-1&&(v=p.length,l=t(E,p,I,v),l<1&&(u++,r(p,I<v?P:E,v))),v=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[v++]=k[j]||0:(p=[k[j]],v=1);while((j++<N||p[0]!==void 0)&&b--)}return x[0]||x.shift(),m.e=c,Tn(m,o?a+ei(m)+1:a)}}();function yee(e,t){var r,n,i,a,o,l,c=0,d=0,u=e.constructor,A=u.precision;if(ei(e)>16)throw Error(sT+ei(e));if(!e.s)return new u(_o);for(ss=!1,l=A,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(VA(2,d))/Math.LN10*2+5|0,l+=n,r=i=a=new u(_o),u.precision=l;;){if(i=Tn(i.times(e),l),r=r.times(++c),o=a.plus(lu(i,r,l)),Kc(o.d).slice(0,l)===Kc(a.d).slice(0,l)){for(;d--;)a=Tn(a.times(a),l);return u.precision=A,t==null?(ss=!0,Tn(a,A)):a}a=o}}function ei(e){for(var t=e.e*qn,r=e.d[0];r>=10;r/=10)t++;return t}function YB(e,t,r){if(t>e.LN10.sd())throw ss=!0,r&&(e.precision=r),Error(bl+"LN10 precision limit exceeded");return Tn(new e(e.LN10),t)}function hh(e){for(var t="";e--;)t+="0";return t}function Wy(e,t){var r,n,i,a,o,l,c,d,u,A=1,f=10,m=e,x=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(bl+(m.s?"NaN":"-Infinity"));if(m.eq(_o))return new p(0);if(t==null?(ss=!1,d=v):d=t,m.eq(10))return t==null&&(ss=!0),YB(p,d);if(d+=f,p.precision=d,r=Kc(x),n=r.charAt(0),a=ei(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Kc(m.d),n=r.charAt(0),A++;a=ei(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=YB(p,d+2,v).times(a+""),m=Wy(new p(n+"."+r.slice(1)),d-f).plus(c),p.precision=v,t==null?(ss=!0,Tn(m,v)):m;for(l=o=m=lu(m.minus(_o),m.plus(_o),d),u=Tn(m.times(m),d),i=3;;){if(o=Tn(o.times(u),d),c=l.plus(lu(o,new p(i),d)),Kc(c.d).slice(0,d)===Kc(l.d).slice(0,d))return l=l.times(2),a!==0&&(l=l.plus(YB(p,d+2,v).times(a+""))),l=lu(l,new p(A),d),p.precision=v,t==null?(ss=!0,Tn(l,v)):l;l=c,i+=2}}function P7(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=o0(r/qn),e.d=[],n=(r+1)%qn,r<0&&(n+=qn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=qn;n<i;)e.d.push(+t.slice(n,n+=qn));t=t.slice(n),n=qn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),ss&&(e.e>jj||e.e<-jj))throw Error(sT+r)}else e.s=0,e.e=0,e.d=[0];return e}function Tn(e,t,r){var n,i,a,o,l,c,d,u,A=e.d;for(o=1,a=A[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=qn,i=t,d=A[u=0];else{if(u=Math.ceil((n+1)/qn),a=A.length,u>=a)return e;for(d=a=A[u],o=1;a>=10;a/=10)o++;n%=qn,i=n-qn+o}if(r!==void 0&&(a=VA(10,o-i-1),l=d/a%10|0,c=t<0||A[u+1]!==void 0||d%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?d/VA(10,o-i):0:A[u-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return c?(a=ei(e),A.length=1,t=t-a-1,A[0]=VA(10,(qn-t%qn)%qn),e.e=o0(-t/qn)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=u,a=1,u--):(A.length=u+1,a=VA(10,qn-n),A[u]=i>0?(d/VA(10,o-i)%VA(10,i)|0)*a:0),c)for(;;)if(u==0){(A[0]+=a)==vi&&(A[0]=1,++e.e);break}else{if(A[u]+=a,A[u]!=vi)break;A[u--]=0,a=1}for(n=A.length;A[--n]===0;)A.pop();if(ss&&(e.e>jj||e.e<-jj))throw Error(sT+ei(e));return e}function vee(e,t){var r,n,i,a,o,l,c,d,u,A,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),ss?Tn(t,m):t;if(c=e.d,A=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=A.length):(r=A,n=d,l=c.length),i=Math.max(Math.ceil(m/qn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=A.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=A[i]){u=c[i]<A[i];break}o=0}for(u&&(r=c,c=A,A=r,t.s=-t.s),l=c.length,i=A.length-l;i>0;--i)c[l++]=0;for(i=A.length;i>o;){if(c[--i]<A[i]){for(a=i;a&&c[--a]===0;)c[a]=vi-1;--c[a],c[i]+=vi}c[i]-=A[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ss?Tn(t,m):t):new f(0)}function qf(e,t,r){var n,i=ei(e),a=Kc(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+hh(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+hh(-i-1)+a,r&&(n=r-o)>0&&(a+=hh(n))):i>=o?(a+=hh(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+hh(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=hh(n))),e.s<0?"-"+a:a}function I7(e,t){if(e.length>t)return e.length=t,!0}function bee(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(jf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return P7(o,a.toString())}else if(typeof a!="string")throw Error(jf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,AHe.test(a))P7(o,a);else throw Error(jf+a)}if(i.prototype=Dt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bee,i.config=i.set=fHe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function fHe(e){if(!e||typeof e!="object")throw Error(bl+"Object expected");var t,r,n,i=["precision",1,a0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(o0(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(jf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jf+r+": "+n);return this}var iT=bee(hHe);_o=new iT(1);const jn=iT;function mHe(e){return yHe(e)||xHe(e)||gHe(e)||pHe()}function pHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gHe(e,t){if(e){if(typeof e=="string")return vE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(e,t)}}function xHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yHe(e){if(Array.isArray(e))return vE(e)}function vE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vHe=function(t){return t},wee={},jee=function(t){return t===wee},T7=function(t){return function r(){return arguments.length===0||arguments.length===1&&jee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},bHe=function e(t,r){return t===1?r:T7(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==wee}).length;return o>=t?r.apply(void 0,i):e(t-o,T7(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=i.map(function(A){return jee(A)?c.shift():A});return r.apply(void 0,mHe(u).concat(c))}))})},K5=function(t){return bHe(t.length,t)},bE=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},wHe=K5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),jHe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return vHe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},wE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Nee=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function NHe(e){var t;return e===0?t=1:t=Math.floor(new jn(e).abs().log(10).toNumber())+1,t}function _He(e,t,r){for(var n=new jn(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var CHe=K5(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),BHe=K5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),SHe=K5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const W5={rangeStep:_He,getDigitCount:NHe,interpolateNumber:CHe,uninterpolateNumber:BHe,uninterpolateTruncation:SHe};function jE(e){return PHe(e)||EHe(e)||_ee(e)||kHe()}function kHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EHe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function PHe(e){if(Array.isArray(e))return NE(e)}function Gy(e,t){return OHe(e)||THe(e,t)||_ee(e,t)||IHe()}function IHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(e,t){if(e){if(typeof e=="string")return NE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NE(e,t)}}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function THe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function OHe(e){if(Array.isArray(e))return e}function Cee(e){var t=Gy(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function Bee(e,t,r){if(e.lte(0))return new jn(0);var n=W5.getDigitCount(e.toNumber()),i=new jn(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new jn(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new jn(Math.ceil(c))}function LHe(e,t,r){var n=1,i=new jn(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new jn(10).pow(W5.getDigitCount(e)-1),i=new jn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new jn(Math.floor(e)))}else e===0?i=new jn(Math.floor((t-1)/2)):r||(i=new jn(Math.floor(e)));var o=Math.floor((t-1)/2),l=jHe(wHe(function(c){return i.add(new jn(c-o).mul(n)).toNumber()}),bE);return l(0,t)}function See(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new jn(0),tickMin:new jn(0),tickMax:new jn(0)};var a=Bee(new jn(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new jn(0):(o=new jn(e).add(t).div(2),o=o.sub(new jn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new jn(t).sub(o).div(a).toNumber()),d=l+c+1;return d>r?See(e,t,r,n,i+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:a,tickMin:o.sub(new jn(l).mul(a)),tickMax:o.add(new jn(c).mul(a))})}function FHe(e){var t=Gy(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Cee([r,n]),c=Gy(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var A=u===1/0?[d].concat(jE(bE(0,i-1).map(function(){return 1/0}))):[].concat(jE(bE(0,i-1).map(function(){return-1/0})),[u]);return r>n?wE(A):A}if(d===u)return LHe(d,i,a);var f=See(d,u,o,a),m=f.step,x=f.tickMin,p=f.tickMax,v=W5.rangeStep(x,p.add(new jn(.1).mul(m)),m);return r>n?wE(v):v}function UHe(e,t){var r=Gy(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Cee([n,i]),l=Gy(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,i];if(c===d)return[c];var u=Math.max(t,2),A=Bee(new jn(d).sub(c).div(u-1),a,0),f=[].concat(jE(W5.rangeStep(new jn(c),new jn(d).sub(new jn(.99).mul(A)),A)),[d]);return n>i?wE(f):f}var RHe=Nee(FHe),MHe=Nee(UHe),DHe="Invariant failed";function Yf(e,t){throw new Error(DHe)}var QHe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function Nj(){return Nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nj.apply(this,arguments)}function $He(e,t){return KHe(e)||VHe(e,t)||zHe(e,t)||HHe()}function HHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zHe(e,t){if(e){if(typeof e=="string")return O7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O7(e,t)}}function O7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VHe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function KHe(e){if(Array.isArray(e))return e}function WHe(e,t){if(e==null)return{};var r=GHe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GHe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YHe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pee(n.key),n)}}function XHe(e,t,r){return t&&YHe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JHe(e,t,r){return t=_j(t),ZHe(e,kee()?Reflect.construct(t,r||[],_j(e).constructor):t.apply(e,r))}function ZHe(e,t){if(t&&(fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e9e(e)}function e9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kee=function(){return!!e})()}function _j(e){return _j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_j(e)}function t9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_E(e,t)}function Eee(e,t,r){return t=Pee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=r9e(e,"string");return fg(t)=="symbol"?t:t+""}function r9e(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eb=function(e){function t(){return qHe(this,t),JHe(this,t,arguments)}return t9e(t,e),XHe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,A=n.yAxis,f=WHe(n,QHe),m=Xt(f,!1);this.props.direction==="x"&&u.type!=="number"&&Yf();var x=c.map(function(p){var v=d(p,l),y=v.x,b=v.y,w=v.value,j=v.errorVal;if(!j)return null;var N=[],B,I;if(Array.isArray(j)){var P=$He(j,2);B=P[0],I=P[1]}else B=I=j;if(a==="vertical"){var T=u.scale,U=b+i,k=U+o,E=U-o,Q=T(w-B),F=T(w+I);N.push({x1:F,y1:k,x2:F,y2:E}),N.push({x1:Q,y1:U,x2:F,y2:U}),N.push({x1:Q,y1:k,x2:Q,y2:E})}else if(a==="horizontal"){var K=A.scale,W=y+i,D=W-o,z=W+o,ee=K(w-B),te=K(w+I);N.push({x1:D,y1:te,x2:z,y2:te}),N.push({x1:W,y1:ee,x2:W,y2:te}),N.push({x1:D,y1:ee,x2:z,y2:ee})}return _e.createElement(Tr,Nj({className:"recharts-errorBar",key:"bar-".concat(N.map(function(le){return"".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))},m),N.map(function(le){return _e.createElement("line",Nj({},le,{key:"line-".concat(le.x1,"-").concat(le.x2,"-").concat(le.y1,"-").concat(le.y2)}))}))});return _e.createElement(Tr,{className:"recharts-errorBars"},x)}}])}(_e.Component);Eee(eb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Eee(eb,"displayName","ErrorBar");function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function L7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L7(Object(r),!0).forEach(function(n){n9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9e(e,t,r){return t=s9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9e(e){var t=i9e(e,"string");return qy(t)=="symbol"?t:t+""}function i9e(e,t){if(qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=wo(r,$h);if(!o)return null;var l=$h.defaultProps,c=l!==void 0?OA(OA({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:a==="children"?d=(n||[]).reduce(function(u,A){var f=A.item,m=A.props,x=m.sectors||m.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(n||[]).map(function(u){var A=u.item,f=A.type.defaultProps,m=f!==void 0?OA(OA({},f),A.props):{},x=m.dataKey,p=m.name,v=m.legendType,y=m.hide;return{inactive:y,dataKey:x,type:c.iconType||v||"square",color:aT(A),value:p||x,payload:m}}),OA(OA(OA({},c),$h.getWithHeight(o,i)),{},{payload:d,item:o})};function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function F7(e){return c9e(e)||l9e(e)||o9e(e)||a9e()}function a9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o9e(e,t){if(e){if(typeof e=="string")return CE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(e,t)}}function l9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c9e(e){if(Array.isArray(e))return CE(e)}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U7(Object(r),!0).forEach(function(n){Qp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qp(e,t,r){return t=d9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9e(e){var t=u9e(e,"string");return Yy(t)=="symbol"?t:t+""}function u9e(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hs(e,t,r){return Ar(e)||Ar(t)?r:pi(t)?Po(e,t,r):ir(t)?t(e):r}function Gx(e,t,r,n){var i=lHe(e,function(l){return Hs(l,t)});if(r==="number"){var a=i.filter(function(l){return vt(l)||parseFloat(l)});return a.length?[V5(a),Ch(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Ar(l)}):i;return o.map(function(l){return pi(l)||l instanceof Date?l:""})}var h9e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,d=0;d<l;d++){var u=d>0?i[d-1].coordinate:i[l-1].coordinate,A=i[d].coordinate,f=d>=l-1?i[0].coordinate:i[d+1].coordinate,m=void 0;if(Na(A-u)!==Na(f-A)){var x=[];if(Na(f-A)===Na(c[1]-c[0])){m=f;var p=A+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{m=u;var v=f+c[1]-c[0];x[0]=Math.min(A,(v+A)/2),x[1]=Math.max(A,(v+A)/2)}var y=[Math.min(A,(m+A)/2),Math.max(A,(m+A)/2)];if(t>y[0]&&t<=y[1]||t>=x[0]&&t<=x[1]){o=i[d].index;break}}else{var b=Math.min(u,f),w=Math.max(u,f);if(t>(b+A)/2&&t<=(w+A)/2){o=i[d].index;break}}}else for(var j=0;j<l;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===l-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},aT=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ss(Ss({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},A9e=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,d=l.length;c<d;c++)for(var u=a[l[c]].stackGroups,A=Object.keys(u),f=0,m=A.length;f<m;f++){var x=u[A[f]],p=x.items,v=x.cateAxisId,y=p.filter(function(I){return ou(I.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Ss(Ss({},b),y[0].props):y[0].props,j=w.barSize,N=w[v];o[N]||(o[N]=[]);var B=Ar(j)?r:j;o[N].push({item:y[0],stackList:y.slice(1),barSize:Ar(B)?void 0:_a(B,n,0)})}}return o},f9e=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=_a(r,i,0,!0),u,A=[];if(o[0].barSize===+o[0].barSize){var f=!1,m=i/c,x=o.reduce(function(j,N){return j+N.barSize||0},0);x+=(c-1)*d,x>=i&&(x-=(c-1)*d,d=0),x>=i&&m>0&&(f=!0,m*=.9,x=c*m);var p=(i-x)/2>>0,v={offset:p-d,size:0};u=o.reduce(function(j,N){var B={item:N.item,position:{offset:v.offset+v.size+d,size:f?m:N.barSize}},I=[].concat(F7(j),[B]);return v=I[I.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){I.push({item:P,position:v})}),I},A)}else{var y=_a(n,i,0,!0);i-2*y-(c-1)*d<=0&&(d=0);var b=(i-2*y-(c-1)*d)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;u=o.reduce(function(j,N,B){var I=[].concat(F7(j),[{item:N.item,position:{offset:y+(b+d)*B+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){I.push({item:P,position:I[I.length-1].position})}),I},A)}return u},m9e=function(t,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=Iee({children:a,legendWidth:c});if(d){var u=i||{},A=u.width,f=u.height,m=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&vt(t[m]))return Ss(Ss({},t),{},Qp({},m,t[m]+(A||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&vt(t[x]))return Ss(Ss({},t),{},Qp({},x,t[x]+(f||0)))}return t},p9e=function(t,r,n){return Ar(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Tee=function(t,r,n,i,a){var o=r.props.children,l=Io(o,eb).filter(function(d){return p9e(i,a,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var A=Hs(u,n);if(Ar(A))return d;var f=Array.isArray(A)?[V5(A),Ch(A)]:[A,A],m=c.reduce(function(x,p){var v=Hs(u,p,0),y=f[0]-Math.abs(Array.isArray(v)?v[0]:v),b=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,x[0]),Math.max(b,x[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},g9e=function(t,r,n,i,a){var o=r.map(function(l){return Tee(t,l,n,a,i)}).filter(function(l){return!Ar(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Oee=function(t,r,n,i,a){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&Tee(t,c,d,i)||Gx(t,d,n,a)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,A=d.length;u<A;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Lee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Fee=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Xd=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Na(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(A){var f=a?a.indexOf(A):A;return{coordinate:i(f)+d,value:A,offset:d}});return u.filter(function(A){return!t0(A.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(A,f){return{coordinate:i(A)+d,value:A,index:f,offset:d}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(A){return{coordinate:i(A)+d,value:A,offset:d}}):i.domain().map(function(A,f){return{coordinate:i(A)+d,value:a?a[A]:A,index:f,offset:d}})},XB=new WeakMap,Dw=function(t,r){if(typeof r!="function")return t;XB.has(t)||XB.set(t,new WeakMap);var n=XB.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Uee=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$y(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:yj(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wx(),realScaleType:"point"}:a==="category"?{scale:$y(),realScaleType:"band"}:{scale:yj(),realScaleType:"linear"};if(Vf(i)){var c="scale".concat(E5(i));return{scale:(E7[c]||Wx)(),realScaleType:E7[c]?c:"point"}}return ir(i)?{scale:i}:{scale:Wx(),realScaleType:"point"}},R7=1e-4,Ree=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-R7,o=Math.max(i[0],i[1])+R7,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},x9e=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},y9e=function(t,r){if(!r||r.length!==2||!vt(r[0])||!vt(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!vt(t[0])||t[0]<n)&&(a[0]=n),(!vt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},v9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=t0(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},b9e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=t0(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},w9e={sign:v9e,expand:QIe,none:ag,silhouette:$Ie,wiggle:HIe,positive:b9e},j9e=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=w9e[n],o=DIe().keys(i).value(function(l,c){return+Hs(l,c,0)}).order(Xk).offset(a);return o(t)},N9e=function(t,r,n,i,a,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(A,f){var m,x=(m=f.type)!==null&&m!==void 0&&m.defaultProps?Ss(Ss({},f.type.defaultProps),f.props):f.props,p=x.stackId,v=x.hide;if(v)return A;var y=x[n],b=A[y]||{hasStack:!1,stackGroups:{}};if(pi(p)){var w=b.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[cm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Ss(Ss({},A),{},Qp({},y,b))},c),u={};return Object.keys(d).reduce(function(A,f){var m=d[f];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var y=m.stackGroups[v];return Ss(Ss({},p),{},Qp({},v,{numericAxisId:n,cateAxisId:i,items:y.items,stackedData:j9e(t,y.items,a)}))},x)}return Ss(Ss({},A),{},Qp({},f,m))},u)},Mee=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=RHe(d,a,l);return t.domain([V5(u),Ch(u)]),{niceTicks:u}}if(a&&i==="number"){var A=t.domain(),f=MHe(A,a,l);return{niceTicks:f}}return null};function Cj(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ar(i[t.dataKey])){var l=J2(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Hs(i,Ar(o)?t.dataKey:o);return Ar(c)?null:t.scale(c)}var M7=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Hs(o,r.dataKey,r.domain[l]);return Ar(c)?null:r.scale(c)-a/2+i},_9e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},C9e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ss(Ss({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(pi(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},B9e=function(t){return t.reduce(function(r,n){return[V5(n.concat([r[0]]).filter(vt)),Ch(n.concat([r[1]]).filter(vt))]},[1/0,-1/0])},Dee=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(d,u){var A=B9e(u.slice(r,n+1));return[Math.min(d[0],A[0]),Math.max(d[1],A[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},D7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BE=function(t,r,n){if(ir(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(vt(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(D7.test(t[0])){var a=+D7.exec(t[0])[1];i[0]=r[0]-a}else ir(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(vt(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Q7.test(t[1])){var o=+Q7.exec(t[1])[1];i[1]=r[1]+o}else ir(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Bj=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=OI(r,function(A){return A.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var d=a[l],u=a[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},$7=function(t,r,n){return!t||!t.length||Gf(t,Po(n,"type.defaultProps.domain"))?r:t},Qee=function(t,r){var n=t.type.defaultProps?Ss(Ss({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return Ss(Ss({},Xt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:aT(t),value:Hs(r,i),type:c,payload:r,chartType:d,hide:u})};function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function H7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ud(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(r),!0).forEach(function(n){$ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t,r){return t=S9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9e(e){var t=k9e(e,"string");return Xy(t)=="symbol"?t:t+""}function k9e(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9e(e,t){return O9e(e)||T9e(e,t)||I9e(e,t)||P9e()}function P9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9e(e,t){if(e){if(typeof e=="string")return z7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z7(e,t)}}function z7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function O9e(e){if(Array.isArray(e))return e}var Sj=Math.PI/180,L9e=function(t){return t*180/Math.PI},$n=function(t,r,n,i){return{x:t+Math.cos(-Sj*i)*n,y:r+Math.sin(-Sj*i)*n}},Hee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},F9e=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=_a(t.cx,o,o/2),A=_a(t.cy,l,l/2),f=Hee(o,l,n),m=_a(t.innerRadius,f,0),x=_a(t.outerRadius,f,f*.8),p=Object.keys(r);return p.reduce(function(v,y){var b=r[y],w=b.domain,j=b.reversed,N;if(Ar(b.range))i==="angleAxis"?N=[c,d]:i==="radiusAxis"&&(N=[m,x]),j&&(N=[N[1],N[0]]);else{N=b.range;var B=N,I=E9e(B,2);c=I[0],d=I[1]}var P=Uee(b,a),T=P.realScaleType,U=P.scale;U.domain(w).range(N),Ree(U);var k=Mee(U,Ud(Ud({},b),{},{realScaleType:T})),E=Ud(Ud(Ud({},b),k),{},{range:N,radius:x,realScaleType:T,scale:U,cx:u,cy:A,innerRadius:m,outerRadius:x,startAngle:c,endAngle:d});return Ud(Ud({},v),{},$ee({},y,E))},{})},U9e=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},R9e=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,l=U9e({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:L9e(d),angleInRadian:d}},M9e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},D9e=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},V7=function(t,r){var n=t.x,i=t.y,a=R9e({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=M9e(r),A=u.startAngle,f=u.endAngle,m=l,x;if(A<=f){for(;m>f;)m-=360;for(;m<A;)m+=360;x=m>=A&&m<=f}else{for(;m>A;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=A}return x?Ud(Ud({},r),{},{radius:o,angle:D9e(m,r)}):null},zee=function(t){return!_.isValidElement(t)&&!ir(t)&&typeof t!="boolean"?t.className:""};function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}var Q9e=["offset"];function $9e(e){return K9e(e)||V9e(e)||z9e(e)||H9e()}function H9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9e(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function V9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K9e(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W9e(e,t){if(e==null)return{};var r=G9e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K7(Object(r),!0).forEach(function(n){q9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9e(e,t,r){return t=Y9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9e(e){var t=X9e(e,"string");return Jy(t)=="symbol"?t:t+""}function X9e(e,t){if(Jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(this,arguments)}var J9e=function(t){var r=t.value,n=t.formatter,i=Ar(t.children)?r:t.children;return ir(n)?n(i):i},Z9e=function(t,r){var n=Na(r-t),i=Math.min(Math.abs(r-t),360);return n*i},eze=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,d=c.cx,u=c.cy,A=c.innerRadius,f=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,v=(A+f)/2,y=Z9e(m,x),b=y>=0?1:-1,w,j;i==="insideStart"?(w=m+b*o,j=p):i==="insideEnd"?(w=x-b*o,j=!p):i==="end"&&(w=x+b*o,j=p),j=y<=0?j:!j;var N=$n(d,u,v,w),B=$n(d,u,v,w+(j?1:-1)*359),I="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(j?0:1,`,
    `).concat(B.x,",").concat(B.y),P=Ar(t.id)?cm("recharts-radial-line-"):t.id;return _e.createElement("text",Zy({},n,{dominantBaseline:"central",className:gr("recharts-radial-bar-label",l)}),_e.createElement("defs",null,_e.createElement("path",{id:P,d:I})),_e.createElement("textPath",{xlinkHref:"#".concat(P)},r))},tze=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,d=a.outerRadius,u=a.startAngle,A=a.endAngle,f=(u+A)/2;if(i==="outside"){var m=$n(o,l,d+n,f),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,y=$n(o,l,v,f),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},rze=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,A=u>=0?1:-1,f=A*i,m=A>0?"end":"start",x=A>0?"start":"end",p=d>=0?1:-1,v=p*i,y=p>0?"end":"start",b=p>0?"start":"end";if(a==="top"){var w={x:l+d/2,y:c-A*i,textAnchor:"middle",verticalAnchor:m};return ui(ui({},w),n?{height:Math.max(c-n.y,0),width:d}:{})}if(a==="bottom"){var j={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:x};return ui(ui({},j),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(a==="left"){var N={x:l-v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return ui(ui({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(a==="right"){var B={x:l+d+v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return ui(ui({},B),n?{width:Math.max(n.x+n.width-B.x,0),height:u}:{})}var I=n?{width:d,height:u}:{};return a==="insideLeft"?ui({x:l+v,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},I):a==="insideRight"?ui({x:l+d-v,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},I):a==="insideTop"?ui({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:x},I):a==="insideBottom"?ui({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:m},I):a==="insideTopLeft"?ui({x:l+v,y:c+f,textAnchor:b,verticalAnchor:x},I):a==="insideTopRight"?ui({x:l+d-v,y:c+f,textAnchor:y,verticalAnchor:x},I):a==="insideBottomLeft"?ui({x:l+v,y:c+u-f,textAnchor:b,verticalAnchor:m},I):a==="insideBottomRight"?ui({x:l+d-v,y:c+u-f,textAnchor:y,verticalAnchor:m},I):Xg(a)&&(vt(a.x)||af(a.x))&&(vt(a.y)||af(a.y))?ui({x:l+_a(a.x,d),y:c+_a(a.y,u),textAnchor:"end",verticalAnchor:"end"},I):ui({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},nze=function(t){return"cx"in t&&vt(t.cx)};function ji(e){var t=e.offset,r=t===void 0?5:t,n=W9e(e,Q9e),i=ui({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,u=i.className,A=u===void 0?"":u,f=i.textBreakAll;if(!a||Ar(l)&&Ar(c)&&!_.isValidElement(d)&&!ir(d))return null;if(_.isValidElement(d))return _.cloneElement(d,i);var m;if(ir(d)){if(m=_.createElement(d,i),_.isValidElement(m))return m}else m=J9e(i);var x=nze(a),p=Xt(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return eze(i,m,p);var v=x?tze(i):rze(i);return _e.createElement(Wf,Zy({className:gr("recharts-label",A)},p,v,{breakAll:f}),m)}ji.displayName="Label";var Vee=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,A=t.x,f=t.y,m=t.top,x=t.left,p=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(vt(p)&&vt(v)){if(vt(A)&&vt(f))return{x:A,y:f,width:p,height:v};if(vt(m)&&vt(x))return{x:m,y:x,width:p,height:v}}return vt(A)&&vt(f)?{x:A,y:f,width:0,height:0}:vt(r)&&vt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:y}:t.viewBox?t.viewBox:{}},sze=function(t,r){return t?t===!0?_e.createElement(ji,{key:"label-implicit",viewBox:r}):pi(t)?_e.createElement(ji,{key:"label-implicit",viewBox:r,value:t}):_.isValidElement(t)?t.type===ji?_.cloneElement(t,{key:"label-implicit",viewBox:r}):_e.createElement(ji,{key:"label-implicit",content:t,viewBox:r}):ir(t)?_e.createElement(ji,{key:"label-implicit",content:t,viewBox:r}):Xg(t)?_e.createElement(ji,Zy({viewBox:r},t,{key:"label-implicit"})):null:null},ize=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=Vee(t),o=Io(i,ji).map(function(c,d){return _.cloneElement(c,{viewBox:r||a,key:"label-".concat(d)})});if(!n)return o;var l=sze(t.label,r||a);return[l].concat($9e(o))};ji.parseViewBox=Vee;ji.renderCallByParent=ize;function aze(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var oze=aze;const lze=Zr(oze);function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}var cze=["valueAccessor"],dze=["data","dataKey","clockWise","id","textBreakAll"];function uze(e){return mze(e)||fze(e)||Aze(e)||hze()}function hze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aze(e,t){if(e){if(typeof e=="string")return kE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(e,t)}}function fze(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mze(e){if(Array.isArray(e))return kE(e)}function kE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kj.apply(this,arguments)}function W7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function G7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W7(Object(r),!0).forEach(function(n){pze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pze(e,t,r){return t=gze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gze(e){var t=xze(e,"string");return ev(t)=="symbol"?t:t+""}function xze(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q7(e,t){if(e==null)return{};var r=yze(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yze(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vze=function(t){return Array.isArray(t.value)?lze(t.value):t.value};function sd(e){var t=e.valueAccessor,r=t===void 0?vze:t,n=q7(e,cze),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=q7(n,dze);return!i||!i.length?null:_e.createElement(Tr,{className:"recharts-label-list"},i.map(function(u,A){var f=Ar(a)?r(u,A):Hs(u&&u.payload,a),m=Ar(l)?{}:{id:"".concat(l,"-").concat(A)};return _e.createElement(ji,kj({},Xt(u,!0),d,m,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:ji.parseViewBox(Ar(o)?u:G7(G7({},u),{},{clockWise:o})),key:"label-".concat(A),index:A}))}))}sd.displayName="LabelList";function bze(e,t){return e?e===!0?_e.createElement(sd,{key:"labelList-implicit",data:t}):_e.isValidElement(e)||ir(e)?_e.createElement(sd,{key:"labelList-implicit",data:t,content:e}):Xg(e)?_e.createElement(sd,kj({data:t},e,{key:"labelList-implicit"})):null:null}function wze(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Io(n,sd).map(function(o,l){return _.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=bze(e.label,t);return[a].concat(uze(i))}sd.renderCallByParent=wze;function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EE.apply(this,arguments)}function Y7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(r),!0).forEach(function(n){jze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jze(e,t,r){return t=Nze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nze(e){var t=_ze(e,"string");return tv(t)=="symbol"?t:t+""}function _ze(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cze=function(t,r){var n=Na(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},Qw=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+i,A=Math.asin(c/u)/Sj,f=d?a:a+o*A,m=$n(r,n,u,f),x=$n(r,n,i,f),p=d?a-o*A:a,v=$n(r,n,u*Math.cos(A*Sj),p);return{center:m,circleTangency:x,lineTangency:v,theta:A}},Kee=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Cze(o,l),d=o+c,u=$n(r,n,a,o),A=$n(r,n,a,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(A.x,",").concat(A.y,`
  `);if(i>0){var m=$n(r,n,i,o),x=$n(r,n,i,d);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},Bze=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,A=Na(u-d),f=Qw({cx:r,cy:n,radius:a,angle:d,sign:A,cornerRadius:o,cornerIsExternal:c}),m=f.circleTangency,x=f.lineTangency,p=f.theta,v=Qw({cx:r,cy:n,radius:a,angle:u,sign:-A,cornerRadius:o,cornerIsExternal:c}),y=v.circleTangency,b=v.lineTangency,w=v.theta,j=c?Math.abs(d-u):Math.abs(d-u)-p-w;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Kee({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(A<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var B=Qw({cx:r,cy:n,radius:i,angle:d,sign:A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=B.circleTangency,P=B.lineTangency,T=B.theta,U=Qw({cx:r,cy:n,radius:i,angle:u,sign:-A,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=U.circleTangency,E=U.lineTangency,Q=U.theta,F=c?Math.abs(d-u):Math.abs(d-u)-T-Q;if(F<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(A>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(A<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Sze={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Wee=function(t){var r=X7(X7({},Sze),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,A=r.endAngle,f=r.className;if(o<a||u===A)return null;var m=gr("recharts-sector",f),x=o-a,p=_a(l,x,0,!0),v;return p>0&&Math.abs(u-A)<360?v=Bze({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:A}):v=Kee({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:A}),_e.createElement("path",EE({},Xt(r,!0),{className:m,d:v,role:"img"}))};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PE.apply(this,arguments)}function J7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J7(Object(r),!0).forEach(function(n){kze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kze(e,t,r){return t=Eze(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eze(e){var t=Pze(e,"string");return rv(t)=="symbol"?t:t+""}function Pze(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ={curveBasisClosed:kIe,curveBasisOpen:EIe,curveBasis:SIe,curveBumpX:fIe,curveBumpY:mIe,curveLinearClosed:PIe,curveLinear:I5,curveMonotoneX:IIe,curveMonotoneY:TIe,curveNatural:OIe,curveStep:LIe,curveStepAfter:UIe,curveStepBefore:FIe},$w=function(t){return t.x===+t.x&&t.y===+t.y},q0=function(t){return t.x},Y0=function(t){return t.y},Ize=function(t,r){if(ir(t))return t;var n="curve".concat(E5(t));return(n==="curveMonotone"||n==="curveBump")&&r?eQ["".concat(n).concat(r==="vertical"?"Y":"X")]:eQ[n]||I5},Tze=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=Ize(n,l),A=d?a.filter(function(p){return $w(p)}):a,f;if(Array.isArray(o)){var m=d?o.filter(function(p){return $w(p)}):o,x=A.map(function(p,v){return Z7(Z7({},p),{},{base:m[v]})});return l==="vertical"?f=Iw().y(Y0).x1(q0).x0(function(p){return p.base.x}):f=Iw().x(q0).y1(Y0).y0(function(p){return p.base.y}),f.defined($w).curve(u),f(x)}return l==="vertical"&&vt(o)?f=Iw().y(Y0).x1(q0).x0(o):vt(o)?f=Iw().x(q0).y1(Y0).y0(o):f=QJ().x(q0).y(Y0),f.defined($w).curve(u),f(A)},Nf=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Tze(t):i;return _.createElement("path",PE({},Xt(t,!1),Z2(t),{className:gr("recharts-curve",r),d:o,ref:a}))},Gee={exports:{}},Oze="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Lze=Oze,Fze=Lze;function qee(){}function Yee(){}Yee.resetWarningCache=qee;var Uze=function(){function e(n,i,a,o,l,c){if(c!==Fze){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Yee,resetWarningCache:qee};return r.PropTypes=r,r};Gee.exports=Uze();var Rze=Gee.exports;const an=Zr(Rze),{getOwnPropertyNames:Mze,getOwnPropertySymbols:Dze}=Object,{hasOwnProperty:Qze}=Object.prototype;function JB(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function Hw(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:a}=i,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=e(r,n,i);return a.delete(r),a.delete(n),c}}function $ze(e){return e!=null?e[Symbol.toStringTag]:void 0}function tQ(e){return Mze(e).concat(Dze(e))}const Hze=Object.hasOwn||((e,t)=>Qze.call(e,t));function hm(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const zze="__v",Vze="__o",Kze="_owner",{getOwnPropertyDescriptor:rQ,keys:nQ}=Object;function Wze(e,t){return e.byteLength===t.byteLength&&Ej(new Uint8Array(e),new Uint8Array(t))}function Gze(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function qze(e,t){return e.byteLength===t.byteLength&&Ej(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Yze(e,t){return hm(e.getTime(),t.getTime())}function Xze(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Jze(e,t){return e===t}function sQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const d=t.entries();let u=!1,A=0;for(;(l=d.next())&&!l.done;){if(i[A]){A++;continue}const f=o.value,m=l.value;if(r.equals(f[0],m[0],c,A,e,t,r)&&r.equals(f[1],m[1],f[0],m[0],e,t,r)){u=i[A]=!0;break}A++}if(!u)return!1;c++}return!0}const Zze=hm;function eVe(e,t,r){const n=nQ(e);let i=n.length;if(nQ(t).length!==i)return!1;for(;i-- >0;)if(!Xee(e,t,r,n[i]))return!1;return!0}function X0(e,t,r){const n=tQ(e);let i=n.length;if(tQ(t).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=n[i],!Xee(e,t,r,a)||(o=rQ(e,a),l=rQ(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tVe(e,t){return hm(e.valueOf(),t.valueOf())}function rVe(e,t){return e.source===t.source&&e.flags===t.flags}function iQ(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.values();let o,l;for(;(o=a.next())&&!o.done;){const c=t.values();let d=!1,u=0;for(;(l=c.next())&&!l.done;){if(!i[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1}return!0}function Ej(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function nVe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Xee(e,t,r,n){return(n===Kze||n===Vze||n===zze)&&(e.$$typeof||t.$$typeof)?!0:Hze(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const sVe="[object ArrayBuffer]",iVe="[object Arguments]",aVe="[object Boolean]",oVe="[object DataView]",lVe="[object Date]",cVe="[object Error]",dVe="[object Map]",uVe="[object Number]",hVe="[object Object]",AVe="[object RegExp]",fVe="[object Set]",mVe="[object String]",pVe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},gVe="[object URL]",xVe=Object.prototype.toString;function yVe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:d,areRegExpsEqual:u,areSetsEqual:A,areTypedArraysEqual:f,areUrlsEqual:m,unknownTagComparators:x}){return function(v,y,b){if(v===y)return!0;if(v==null||y==null)return!1;const w=typeof v;if(w!==typeof y)return!1;if(w!=="object")return w==="number"?l(v,y,b):w==="function"?a(v,y,b):!1;const j=v.constructor;if(j!==y.constructor)return!1;if(j===Object)return c(v,y,b);if(Array.isArray(v))return t(v,y,b);if(j===Date)return n(v,y,b);if(j===RegExp)return u(v,y,b);if(j===Map)return o(v,y,b);if(j===Set)return A(v,y,b);const N=xVe.call(v);if(N===lVe)return n(v,y,b);if(N===AVe)return u(v,y,b);if(N===dVe)return o(v,y,b);if(N===fVe)return A(v,y,b);if(N===hVe)return typeof v.then!="function"&&typeof y.then!="function"&&c(v,y,b);if(N===gVe)return m(v,y,b);if(N===cVe)return i(v,y,b);if(N===iVe)return c(v,y,b);if(pVe[N])return f(v,y,b);if(N===sVe)return e(v,y,b);if(N===oVe)return r(v,y,b);if(N===aVe||N===uVe||N===mVe)return d(v,y,b);if(x){let B=x[N];if(!B){const I=$ze(v);I&&(B=x[I])}if(B)return B(v,y,b)}return!1}}function vVe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:Wze,areArraysEqual:r?X0:Gze,areDataViewsEqual:qze,areDatesEqual:Yze,areErrorsEqual:Xze,areFunctionsEqual:Jze,areMapsEqual:r?JB(sQ,X0):sQ,areNumbersEqual:Zze,areObjectsEqual:r?X0:eVe,arePrimitiveWrappersEqual:tVe,areRegExpsEqual:rVe,areSetsEqual:r?JB(iQ,X0):iQ,areTypedArraysEqual:r?JB(Ej,X0):Ej,areUrlsEqual:nVe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=Hw(n.areArraysEqual),a=Hw(n.areMapsEqual),o=Hw(n.areObjectsEqual),l=Hw(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function bVe(e){return function(t,r,n,i,a,o,l){return e(t,r,l)}}function wVe({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(l,c){const{cache:d=e?new WeakMap:void 0,meta:u}=r();return t(l,c,{cache:d,equals:n,meta:u,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(l,c){return t(l,c,a)}}const jVe=pA();pA({strict:!0});pA({circular:!0});pA({circular:!0,strict:!0});pA({createInternalComparator:()=>hm});pA({strict:!0,createInternalComparator:()=>hm});pA({circular:!0,createInternalComparator:()=>hm});pA({circular:!0,createInternalComparator:()=>hm,strict:!0});function pA(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,a=vVe(e),o=yVe(a),l=r?r(o):bVe(o);return wVe({circular:t,comparator:o,createState:n,equals:l,strict:i})}function NVe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function aQ(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):NVe(i)};requestAnimationFrame(n)}function IE(e){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IE(e)}function _Ve(e){return kVe(e)||SVe(e)||BVe(e)||CVe()}function CVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BVe(e,t){if(e){if(typeof e=="string")return oQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oQ(e,t)}}function oQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kVe(e){if(Array.isArray(e))return e}function EVe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=_Ve(o),c=l[0],d=l.slice(1);if(typeof c=="number"){aQ(i.bind(null,d),c);return}i(c),aQ(i.bind(null,d));return}IE(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function lQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lQ(Object(r),!0).forEach(function(n){Jee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jee(e,t,r){return t=PVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PVe(e){var t=IVe(e,"string");return nv(t)==="symbol"?t:String(t)}function IVe(e,t){if(nv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TVe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},OVe=function(t){return t},LVe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},qx=function(t,r){return Object.keys(r).reduce(function(n,i){return cQ(cQ({},n),{},Jee({},i,t(i,r[i])))},{})},dQ=function(t,r,n){return t.map(function(i){return"".concat(LVe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function FVe(e,t){return MVe(e)||RVe(e,t)||Zee(e,t)||UVe()}function UVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RVe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function MVe(e){if(Array.isArray(e))return e}function DVe(e){return HVe(e)||$Ve(e)||Zee(e)||QVe()}function QVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function $Ve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HVe(e){if(Array.isArray(e))return TE(e)}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pj=1e-4,ete=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},tte=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},uQ=function(t,r){return function(n){var i=ete(t,r);return tte(i,n)}},zVe=function(t,r){return function(n){var i=ete(t,r),a=[].concat(DVe(i.map(function(o,l){return o*l}).slice(1)),[0]);return tte(a,n)}},hQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=FVe(d,4);i=u[0],a=u[1],o=u[2],l=u[3]}}}var A=uQ(i,o),f=uQ(a,l),m=zVe(i,o),x=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,w=b,j=0;j<8;++j){var N=A(w)-b,B=m(w);if(Math.abs(N-b)<Pj||B<Pj)return f(w);w=x(w-N/B)}return f(w)};return p.isStepper=!1,p},VVe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(u,A,f){var m=-(u-A)*n,x=f*a,p=f+(m-x)*l/1e3,v=f*l/1e3+u;return Math.abs(v-A)<Pj&&Math.abs(p)<Pj?[A,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},KVe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return hQ(i);case"spring":return VVe();default:if(i.split("(")[0]==="cubic-bezier")return hQ(i)}return typeof i=="function"?i:null};function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function AQ(e){return qVe(e)||GVe(e)||rte(e)||WVe()}function WVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qVe(e){if(Array.isArray(e))return LE(e)}function fQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fQ(Object(r),!0).forEach(function(n){OE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OE(e,t,r){return t=YVe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YVe(e){var t=XVe(e,"string");return sv(t)==="symbol"?t:String(t)}function XVe(e,t){if(sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JVe(e,t){return tKe(e)||eKe(e,t)||rte(e,t)||ZVe()}function ZVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(e,t){if(e){if(typeof e=="string")return LE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LE(e,t)}}function LE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function tKe(e){if(Array.isArray(e))return e}var Ij=function(t,r,n){return t+(r-t)*n},FE=function(t){var r=t.from,n=t.to;return r!==n},rKe=function e(t,r,n){var i=qx(function(a,o){if(FE(o)){var l=t(o.from,o.to,o.velocity),c=JVe(l,2),d=c[0],u=c[1];return Ii(Ii({},o),{},{from:d,velocity:u})}return o},r);return n<1?qx(function(a,o){return FE(o)?Ii(Ii({},o),{},{velocity:Ij(o.velocity,i[a].velocity,n),from:Ij(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const nKe=function(e,t,r,n,i){var a=TVe(e,t),o=a.reduce(function(v,y){return Ii(Ii({},v),{},OE({},y,[e[y],t[y]]))},{}),l=a.reduce(function(v,y){return Ii(Ii({},v),{},OE({},y,{from:e[y],velocity:0,to:t[y]}))},{}),c=-1,d,u,A=function(){return null},f=function(){return qx(function(y,b){return b.from},l)},m=function(){return!Object.values(l).filter(FE).length},x=function(y){d||(d=y);var b=y-d,w=b/r.dt;l=rKe(r,l,w),i(Ii(Ii(Ii({},e),t),f())),d=y,m()||(c=requestAnimationFrame(A))},p=function(y){u||(u=y);var b=(y-u)/n,w=qx(function(N,B){return Ij.apply(void 0,AQ(B).concat([r(b)]))},o);if(i(Ii(Ii(Ii({},e),t),w)),b<1)c=requestAnimationFrame(A);else{var j=qx(function(N,B){return Ij.apply(void 0,AQ(B).concat([r(1)]))},o);i(Ii(Ii(Ii({},e),t),j))}};return A=r.isStepper?x:p,function(){return requestAnimationFrame(A),function(){cancelAnimationFrame(c)}}};function mg(e){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mg(e)}var sKe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iKe(e,t){if(e==null)return{};var r=aKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aKe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ZB(e){return dKe(e)||cKe(e)||lKe(e)||oKe()}function oKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lKe(e,t){if(e){if(typeof e=="string")return UE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(e,t)}}function cKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dKe(e){if(Array.isArray(e))return UE(e)}function UE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mQ(Object(r),!0).forEach(function(n){yx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yx(e,t,r){return t=nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hKe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nte(n.key),n)}}function AKe(e,t,r){return t&&hKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nte(e){var t=fKe(e,"string");return mg(t)==="symbol"?t:String(t)}function fKe(e,t){if(mg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RE(e,t)}function pKe(e){var t=gKe();return function(){var n=Tj(e),i;if(t){var a=Tj(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ME(this,i)}}function ME(e,t){if(t&&(mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DE(e)}function DE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tj(e){return Tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tj(e)}var gc=function(e){mKe(r,e);var t=pKe(r);function r(n,i){var a;uKe(this,r),a=t.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,A=o.steps,f=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(DE(a)),a.changeStyle=a.changeStyle.bind(DE(a)),!l||m<=0)return a.state={style:{}},typeof f=="function"&&(a.state={style:u}),ME(a);if(A&&A.length)a.state={style:A[0].style};else if(d){if(typeof f=="function")return a.state={style:d},ME(a);a.state={style:c?yx({},c,d):d}}else a.state={style:{}};return a}return AKe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,d=a.shouldReAnimate,u=a.to,A=a.from,f=this.state.style;if(l){if(!o){var m={style:c?yx({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(m);return}if(!(jVe(i.to,u)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?A:i.to;if(this.state&&f){var v={style:c?yx({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(v)}this.runAnimation(Kl(Kl({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,d=i.easing,u=i.begin,A=i.onAnimationEnd,f=i.onAnimationStart,m=nKe(o,l,KVe(d),c,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([f,u,x,c,A])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],u=d.style,A=d.duration,f=A===void 0?0:A,m=function(p,v,y){if(y===0)return p;var b=v.duration,w=v.easing,j=w===void 0?"ease":w,N=v.style,B=v.properties,I=v.onAnimationEnd,P=y>0?o[y-1]:v,T=B||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(ZB(p),[a.runJSAnimation.bind(a,{from:P.style,to:N,duration:b,easing:j}),b]);var U=dQ(T,b,j),k=Kl(Kl(Kl({},P.style),N),{},{transition:U});return[].concat(ZB(p),[k,b,I]).filter(OVe)};return this.manager.start([c].concat(ZB(o.reduce(m,[u,Math.max(f,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=EVe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,u=i.onAnimationStart,A=i.onAnimationEnd,f=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var p=l?yx({},l,c):c,v=dQ(Object.keys(p),o,d);x.start([u,a,Kl(Kl({},p),{},{transition:v}),o,A])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=iKe(i,sKe),d=_.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!l||d===0||o<=0)return a;var A=function(m){var x=m.props,p=x.style,v=p===void 0?{}:p,y=x.className,b=_.cloneElement(m,Kl(Kl({},c),{},{style:Kl(Kl({},v),u),className:y}));return b};return d===1?A(_.Children.only(a)):_e.createElement("div",null,_.Children.map(a,function(f){return A(f)}))}}]),r}(_.PureComponent);gc.displayName="Animate";gc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};gc.propTypes={from:an.oneOfType([an.object,an.string]),to:an.oneOfType([an.object,an.string]),attributeName:an.string,duration:an.number,begin:an.number,easing:an.oneOfType([an.string,an.func]),steps:an.arrayOf(an.shape({duration:an.number.isRequired,style:an.object.isRequired,easing:an.oneOfType([an.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),an.func]),properties:an.arrayOf("string"),onAnimationEnd:an.func})),children:an.oneOfType([an.node,an.func]),isActive:an.bool,canBegin:an.bool,onAnimationEnd:an.func,shouldReAnimate:an.bool,onAnimationStart:an.func,onAnimationReStart:an.func};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oj.apply(this,arguments)}function xKe(e,t){return wKe(e)||bKe(e,t)||vKe(e,t)||yKe()}function yKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vKe(e,t){if(e){if(typeof e=="string")return pQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pQ(e,t)}}function pQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bKe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function wKe(e){if(Array.isArray(e))return e}function gQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gQ(Object(r),!0).forEach(function(n){jKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jKe(e,t,r){return t=NKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NKe(e){var t=_Ke(e,"string");return iv(t)=="symbol"?t:t+""}function _Ke(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yQ=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,d=i>=0&&n>=0||i<0&&n<0?1:0,u;if(o>0&&a instanceof Array){for(var A=[0,0,0,0],f=0,m=4;f<m;f++)A[f]=a[f]>o?o:a[f];u="M".concat(t,",").concat(r+l*A[0]),A[0]>0&&(u+="A ".concat(A[0],",").concat(A[0],",0,0,").concat(d,",").concat(t+c*A[0],",").concat(r)),u+="L ".concat(t+n-c*A[1],",").concat(r),A[1]>0&&(u+="A ".concat(A[1],",").concat(A[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*A[1])),u+="L ".concat(t+n,",").concat(r+i-l*A[2]),A[2]>0&&(u+="A ".concat(A[2],",").concat(A[2],",0,0,").concat(d,`,
        `).concat(t+n-c*A[2],",").concat(r+i)),u+="L ".concat(t+c*A[3],",").concat(r+i),A[3]>0&&(u+="A ".concat(A[3],",").concat(A[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+i-l*A[3])),u+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(r+i,`
            L `).concat(t+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+i-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},CKe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(a,a+l),u=Math.max(a,a+l),A=Math.min(o,o+c),f=Math.max(o,o+c);return n>=d&&n<=u&&i>=A&&i<=f}return!1},BKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oT=function(t){var r=xQ(xQ({},BKe),t),n=_.useRef(),i=_.useState(-1),a=xKe(i,2),o=a[0],l=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.width,A=r.height,f=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||u===0||A===0)return null;var w=gr("recharts-rectangle",m);return b?_e.createElement(gc,{canBegin:o>0,from:{width:u,height:A,x:c,y:d},to:{width:u,height:A,x:c,y:d},duration:p,animationEasing:x,isActive:b},function(j){var N=j.width,B=j.height,I=j.x,P=j.y;return _e.createElement(gc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:x},_e.createElement("path",Oj({},Xt(r,!0),{className:w,d:yQ(I,P,N,B,f),ref:n})))}):_e.createElement("path",Oj({},Xt(r,!0),{className:w,d:yQ(c,d,u,A,f)}))},SKe=["points","className","baseLinePoints","connectNulls"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(this,arguments)}function kKe(e,t){if(e==null)return{};var r=EKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vQ(e){return OKe(e)||TKe(e)||IKe(e)||PKe()}function PKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IKe(e,t){if(e){if(typeof e=="string")return QE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(e,t)}}function TKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function OKe(e){if(Array.isArray(e))return QE(e)}function QE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bQ=function(t){return t&&t.x===+t.x&&t.y===+t.y},LKe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){bQ(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),bQ(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Yx=function(t,r){var n=LKe(t);r&&(n=[n.reduce(function(a,o){return[].concat(vQ(a),vQ(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},FKe=function(t,r,n){var i=Yx(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Yx(r.reverse(),n).slice(1))},UKe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=kKe(t,SKe);if(!r||!r.length)return null;var l=gr("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",d=FKe(r,i,a);return _e.createElement("g",{className:l},_e.createElement("path",mp({},Xt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?_e.createElement("path",mp({},Xt(o,!0),{fill:"none",d:Yx(r,a)})):null,c?_e.createElement("path",mp({},Xt(o,!0),{fill:"none",d:Yx(i,a)})):null)}var u=Yx(r,a);return _e.createElement("path",mp({},Xt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}var tb=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=gr("recharts-dot",a);return r===+r&&n===+n&&i===+i?_.createElement("circle",$E({},Xt(t,!1),Z2(t),{className:o,cx:r,cy:n,r:i})):null};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}var RKe=["x","y","top","left","width","height","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(this,arguments)}function wQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MKe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wQ(Object(r),!0).forEach(function(n){DKe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DKe(e,t,r){return t=QKe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QKe(e){var t=$Ke(e,"string");return av(t)=="symbol"?t:t+""}function $Ke(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HKe(e,t){if(e==null)return{};var r=zKe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zKe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VKe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},KKe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,A=u===void 0?0:u,f=t.height,m=f===void 0?0:f,x=t.className,p=HKe(t,RKe),v=MKe({x:n,y:a,top:l,left:d,width:A,height:m},p);return!vt(n)||!vt(a)||!vt(A)||!vt(m)||!vt(l)||!vt(d)?null:_e.createElement("path",HE({},Xt(v,!0),{className:gr("recharts-cross",x),d:VKe(n,a,A,m,l,d)}))},WKe=z5,GKe=mee,qKe=vd;function YKe(e,t){return e&&e.length?WKe(e,qKe(t),GKe):void 0}var XKe=YKe;const JKe=Zr(XKe);var ZKe=z5,eWe=vd,tWe=pee;function rWe(e,t){return e&&e.length?ZKe(e,eWe(t),tWe):void 0}var nWe=rWe;const sWe=Zr(nWe);var iWe=["cx","cy","angle","ticks","axisLine"],aWe=["ticks","tick","angle","tickFormatter","stroke"];function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xx.apply(this,arguments)}function jQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jQ(Object(r),!0).forEach(function(n){G5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t){if(e==null)return{};var r=oWe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oWe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ite(n.key),n)}}function cWe(e,t,r){return t&&_Q(e.prototype,t),r&&_Q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dWe(e,t,r){return t=Lj(t),uWe(e,ste()?Reflect.construct(t,r||[],Lj(e).constructor):t.apply(e,r))}function uWe(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hWe(e)}function hWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ste(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ste=function(){return!!e})()}function Lj(e){return Lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lj(e)}function AWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zE(e,t)}function G5(e,t,r){return t=ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=fWe(e,"string");return pg(t)=="symbol"?t:t+""}function fWe(e,t){if(pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q5=function(e){function t(){return lWe(this,t),dWe(this,t,arguments)}return AWe(t,e),cWe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return $n(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=JKe(l,function(u){return u.coordinate||0}),d=sWe(l,function(u){return u.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=NQ(n,iWe),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),A=$n(i,a,u[0],o),f=$n(i,a,u[1],o),m=LA(LA(LA({},Xt(d,!1)),{},{fill:"none"},Xt(c,!1)),{},{x1:A.x,y1:A.y,x2:f.x,y2:f.y});return _e.createElement("line",Xx({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,d=i.stroke,u=NQ(i,aWe),A=this.getTickTextAnchor(),f=Xt(u,!1),m=Xt(o,!1),x=a.map(function(p,v){var y=n.getTickValueCoord(p),b=LA(LA(LA(LA({textAnchor:A,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:d},m),{},{index:v},y),{},{payload:p});return _e.createElement(Tr,Xx({className:gr("recharts-polar-radius-axis-tick",zee(o)),key:"tick-".concat(p.coordinate)},Kf(n.props,p,v)),t.renderTickItem(o,b,c?c(p.value,v):p.value))});return _e.createElement(Tr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:_e.createElement(Tr,{className:gr("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ji.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return _e.isValidElement(n)?o=_e.cloneElement(n,i):ir(n)?o=n(i):o=_e.createElement(Wf,Xx({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(_.PureComponent);G5(q5,"displayName","PolarRadiusAxis");G5(q5,"axisType","radiusAxis");G5(q5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GA.apply(this,arguments)}function CQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CQ(Object(r),!0).forEach(function(n){Y5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ote(n.key),n)}}function pWe(e,t,r){return t&&BQ(e.prototype,t),r&&BQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gWe(e,t,r){return t=Fj(t),xWe(e,ate()?Reflect.construct(t,r||[],Fj(e).constructor):t.apply(e,r))}function xWe(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yWe(e)}function yWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ate(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ate=function(){return!!e})()}function Fj(e){return Fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fj(e)}function vWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VE(e,t)}function VE(e,t){return VE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VE(e,t)}function Y5(e,t,r){return t=ote(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ote(e){var t=bWe(e,"string");return gg(t)=="symbol"?t:t+""}function bWe(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wWe=Math.PI/180,SQ=1e-5,X5=function(e){function t(){return mWe(this,t),gWe(this,t,arguments)}return vWe(t,e),pWe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,d=i.tickSize,u=d||8,A=$n(a,o,l,n.coordinate),f=$n(a,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:A.x,y1:A.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*wWe),o;return a>SQ?o=i==="outer"?"start":"end":a<-SQ?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=FA(FA({},Xt(this.props,!1)),{},{fill:"none"},Xt(l,!1));if(c==="circle")return _e.createElement(tb,GA({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:a,r:o}));var u=this.props.ticks,A=u.map(function(f){return $n(i,a,o,f.coordinate)});return _e.createElement(UKe,GA({className:"recharts-polar-angle-axis-line"},d,{points:A}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,d=i.stroke,u=Xt(this.props,!1),A=Xt(o,!1),f=FA(FA({},u),{},{fill:"none"},Xt(l,!1)),m=a.map(function(x,p){var v=n.getTickLineCoord(x),y=n.getTickTextAnchor(x),b=FA(FA(FA({textAnchor:y},u),{},{stroke:"none",fill:d},A),{},{index:p,payload:x,x:v.x2,y:v.y2});return _e.createElement(Tr,GA({className:gr("recharts-polar-angle-axis-tick",zee(o)),key:"tick-".concat(x.coordinate)},Kf(n.props,x,p)),l&&_e.createElement("line",GA({className:"recharts-polar-angle-axis-tick-line"},f,v)),o&&t.renderTickItem(o,b,c?c(x.value,p):x.value))});return _e.createElement(Tr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:_e.createElement(Tr,{className:gr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return _e.isValidElement(n)?o=_e.cloneElement(n,i):ir(n)?o=n(i):o=_e.createElement(Wf,GA({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(_.PureComponent);Y5(X5,"displayName","PolarAngleAxis");Y5(X5,"axisType","angleAxis");Y5(X5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jWe=uZ,NWe=jWe(Object.getPrototypeOf,Object),_We=NWe,CWe=Bu,BWe=_We,SWe=Su,kWe="[object Object]",EWe=Function.prototype,PWe=Object.prototype,lte=EWe.toString,IWe=PWe.hasOwnProperty,TWe=lte.call(Object);function OWe(e){if(!SWe(e)||CWe(e)!=kWe)return!1;var t=BWe(e);if(t===null)return!0;var r=IWe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&lte.call(r)==TWe}var LWe=OWe;const FWe=Zr(LWe);var UWe=Bu,RWe=Su,MWe="[object Boolean]";function DWe(e){return e===!0||e===!1||RWe(e)&&UWe(e)==MWe}var QWe=DWe;const $We=Zr(QWe);function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(this,arguments)}function HWe(e,t){return WWe(e)||KWe(e,t)||VWe(e,t)||zWe()}function zWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VWe(e,t){if(e){if(typeof e=="string")return kQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kQ(e,t)}}function kQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KWe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function WWe(e){if(Array.isArray(e))return e}function EQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EQ(Object(r),!0).forEach(function(n){GWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GWe(e,t,r){return t=qWe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qWe(e){var t=YWe(e,"string");return ov(t)=="symbol"?t:t+""}function YWe(e,t){if(ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IQ=function(t,r,n,i,a){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},XWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JWe=function(t){var r=PQ(PQ({},XWe),t),n=_.useRef(),i=_.useState(-1),a=HWe(i,2),o=a[0],l=a[1];_.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,A=r.lowerWidth,f=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||A!==+A||f!==+f||u===0&&A===0||f===0)return null;var b=gr("recharts-trapezoid",m);return y?_e.createElement(gc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:A,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(w){var j=w.upperWidth,N=w.lowerWidth,B=w.height,I=w.x,P=w.y;return _e.createElement(gc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:x},_e.createElement("path",Uj({},Xt(r,!0),{className:b,d:IQ(I,P,j,N,B),ref:n})))}):_e.createElement("g",null,_e.createElement("path",Uj({},Xt(r,!0),{className:b,d:IQ(c,d,u,A,f)})))},ZWe=["option","shapeType","propTransformer","activeClassName","isActive"];function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function eGe(e,t){if(e==null)return{};var r=tGe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tGe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TQ(Object(r),!0).forEach(function(n){rGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rGe(e,t,r){return t=nGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nGe(e){var t=sGe(e,"string");return lv(t)=="symbol"?t:t+""}function sGe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iGe(e,t){return Rj(Rj({},t),e)}function aGe(e,t){return e==="symbols"}function OQ(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return _e.createElement(oT,r);case"trapezoid":return _e.createElement(JWe,r);case"sector":return _e.createElement(Wee,r);case"symbols":if(aGe(t))return _e.createElement(CI,r);break;default:return null}}function oGe(e){return _.isValidElement(e)?e.props:e}function cte(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?iGe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=eGe(e,ZWe),d;if(_.isValidElement(t))d=_.cloneElement(t,Rj(Rj({},c),oGe(t)));else if(ir(t))d=t(c);else if(FWe(t)&&!$We(t)){var u=i(t,c);d=_e.createElement(OQ,{shapeType:r,elementProps:u})}else{var A=c;d=_e.createElement(OQ,{shapeType:r,elementProps:A})}return l?_e.createElement(Tr,{className:o},d):d}function J5(e,t){return t!=null&&"trapezoids"in e.props}function Z5(e,t){return t!=null&&"sectors"in e.props}function cv(e,t){return t!=null&&"points"in e.props}function lGe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function cGe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function dGe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function uGe(e,t){var r;return J5(e,t)?r=lGe:Z5(e,t)?r=cGe:cv(e,t)&&(r=dGe),r}function hGe(e,t){var r;return J5(e,t)?r="trapezoids":Z5(e,t)?r="sectors":cv(e,t)&&(r="points"),r}function AGe(e,t){if(J5(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Z5(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return cv(e,t)?t.payload:{}}function fGe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=hGe(r,t),a=AGe(r,t),o=n.filter(function(c,d){var u=Gf(a,c),A=r.props[i].filter(function(x){var p=uGe(r,t);return p(x,t)}),f=r.props[i].indexOf(A[A.length-1]),m=d===f;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var L1;function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(this,arguments)}function LQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LQ(Object(r),!0).forEach(function(n){ll(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ute(n.key),n)}}function pGe(e,t,r){return t&&FQ(e.prototype,t),r&&FQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gGe(e,t,r){return t=Mj(t),xGe(e,dte()?Reflect.construct(t,r||[],Mj(e).constructor):t.apply(e,r))}function xGe(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yGe(e)}function yGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dte=function(){return!!e})()}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mj(e)}function vGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KE(e,t)}function ll(e,t,r){return t=ute(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ute(e){var t=bGe(e,"string");return xg(t)=="symbol"?t:t+""}function bGe(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eu=function(e){function t(r){var n;return mGe(this,t),n=gGe(this,t,[r]),ll(n,"pieRef",null),ll(n,"sectorRefs",[]),ll(n,"id",cm("recharts-pie-")),ll(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ir(i)&&i()}),ll(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ir(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return vGe(t,e),pGe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,d=a.valueKey,u=Xt(this.props,!1),A=Xt(o,!1),f=Xt(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(p,v){var y=(p.startAngle+p.endAngle)/2,b=$n(p.cx,p.cy,p.outerRadius+m,y),w=Rn(Rn(Rn(Rn({},u),p),{},{stroke:"none"},A),{},{index:v,textAnchor:t.getTextAnchor(b.x,p.cx)},b),j=Rn(Rn(Rn(Rn({},u),p),{},{fill:"none",stroke:p.fill},f),{},{index:v,points:[$n(p.cx,p.cy,p.outerRadius,y),b]}),N=c;return Ar(c)&&Ar(d)?N="value":Ar(c)&&(N=d),_e.createElement(Tr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,j,"line"),t.renderLabelItem(o,w,Hs(p,N)))});return _e.createElement(Tr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var A=i.isActiveIndex(u),f=c&&i.hasActiveIndex()?c:null,m=A?o:f,x=Rn(Rn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return _e.createElement(Tr,pp({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Kf(i.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),_e.createElement(cte,pp({option:m,isActive:A,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,A=this.state,f=A.prevSectors,m=A.prevIsAnimationActive;return _e.createElement(gc,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,v=[],y=a&&a[0],b=y.startAngle;return a.forEach(function(w,j){var N=f&&f[j],B=j>0?Po(w,"paddingAngle",0):0;if(N){var I=fi(N.endAngle-N.startAngle,w.endAngle-w.startAngle),P=Rn(Rn({},w),{},{startAngle:b+B,endAngle:b+I(p)+B});v.push(P),b=P.endAngle}else{var T=w.endAngle,U=w.startAngle,k=fi(0,T-U),E=k(p),Q=Rn(Rn({},w),{},{startAngle:b+B,endAngle:b+E+B});v.push(Q),b=Q.endAngle}}),_e.createElement(Tr,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Gf(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,d=i.cx,u=i.cy,A=i.innerRadius,f=i.outerRadius,m=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!vt(d)||!vt(u)||!vt(A)||!vt(f))return null;var p=gr("recharts-pie",l);return _e.createElement(Tr,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(o),ji.renderCallByParent(this.props,null,!1),(!m||x)&&sd.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(_e.isValidElement(n))return _e.cloneElement(n,i);if(ir(n))return n(i);var o=gr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return _e.createElement(Nf,pp({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(_e.isValidElement(n))return _e.cloneElement(n,i);var o=a;if(ir(n)&&(o=n(i),_e.isValidElement(o)))return o;var l=gr("recharts-pie-label-text",typeof n!="boolean"&&!ir(n)?n.className:"");return _e.createElement(Wf,pp({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(_.PureComponent);L1=Eu;ll(Eu,"displayName","Pie");ll(Eu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!AA.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ll(Eu,"parseDeltaAngle",function(e,t){var r=Na(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ll(Eu,"getRealPieData",function(e){var t=e.data,r=e.children,n=Xt(e,!1),i=Io(r,U5);return t&&t.length?t.map(function(a,o){return Rn(Rn(Rn({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Rn(Rn({},n),a.props)}):[]});ll(Eu,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=Hee(i,a),l=n+_a(e.cx,i,i/2),c=r+_a(e.cy,a,a/2),d=_a(e.innerRadius,o,0),u=_a(e.outerRadius,o,o*.8),A=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:A}});ll(Eu,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Rn(Rn({},t.type.defaultProps),t.props):t.props,i=L1.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,A=n.valueKey,f=n.tooltipType,m=Math.abs(n.minAngle),x=L1.parseCoordinateOfPie(n,r),p=L1.parseDeltaAngle(o,l),v=Math.abs(p),y=d;Ar(d)&&Ar(A)?(lc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ar(d)&&(lc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=A);var b=i.filter(function(P){return Hs(P,y,0)!==0}).length,w=(v>=360?b:b-1)*c,j=v-b*m-w,N=i.reduce(function(P,T){var U=Hs(T,y,0);return P+(vt(U)?U:0)},0),B;if(N>0){var I;B=i.map(function(P,T){var U=Hs(P,y,0),k=Hs(P,u,T),E=(vt(U)?U:0)/N,Q;T?Q=I.endAngle+Na(p)*c*(U!==0?1:0):Q=o;var F=Q+Na(p)*((U!==0?m:0)+E*j),K=(Q+F)/2,W=(x.innerRadius+x.outerRadius)/2,D=[{name:k,value:U,payload:P,dataKey:y,type:f}],z=$n(x.cx,x.cy,W,K);return I=Rn(Rn(Rn({percent:E,cornerRadius:a,name:k,tooltipPayload:D,midAngle:K,middleRadius:W,tooltipPosition:z},P),x),{},{value:Hs(P,y),startAngle:Q,endAngle:F,payload:P,paddingAngle:Na(p)*c}),I})}return Rn(Rn({},x),{},{sectors:B,data:i})});var wGe=Math.ceil,jGe=Math.max;function NGe(e,t,r,n){for(var i=-1,a=jGe(wGe((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var _Ge=NGe,CGe=EZ,UQ=1/0,BGe=17976931348623157e292;function SGe(e){if(!e)return e===0?e:0;if(e=CGe(e),e===UQ||e===-UQ){var t=e<0?-1:1;return t*BGe}return e===e?e:0}var hte=SGe,kGe=_Ge,EGe=F5,eS=hte;function PGe(e){return function(t,r,n){return n&&typeof n!="number"&&EGe(t,r,n)&&(r=n=void 0),t=eS(t),r===void 0?(r=t,t=0):r=eS(r),n=n===void 0?t<r?1:-1:eS(n),kGe(t,r,n,e)}}var IGe=PGe,TGe=IGe,OGe=TGe(),LGe=OGe;const Dj=Zr(LGe);function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function RQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RQ(Object(r),!0).forEach(function(n){Ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ate(e,t,r){return t=FGe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FGe(e){var t=UGe(e,"string");return dv(t)=="symbol"?t:t+""}function UGe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RGe=["Webkit","Moz","O","ms"],MGe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=RGe.reduce(function(a,o){return MQ(MQ({},a),{},Ate({},o+n,r))},{});return i[t]=r,i};function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(this,arguments)}function DQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DQ(Object(r),!0).forEach(function(n){vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mte(n.key),n)}}function QGe(e,t,r){return t&&QQ(e.prototype,t),r&&QQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ge(e,t,r){return t=$j(t),HGe(e,fte()?Reflect.construct(t,r||[],$j(e).constructor):t.apply(e,r))}function HGe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zGe(e)}function zGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fte=function(){return!!e})()}function $j(e){return $j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$j(e)}function VGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WE(e,t)}function vo(e,t,r){return t=mte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mte(e){var t=KGe(e,"string");return yg(t)=="symbol"?t:t+""}function KGe(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WGe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Wx().domain(Dj(0,c)).range([a,a+o-l]),u=d.domain().map(function(A){return d(A)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(i),scale:d,scaleValues:u}},$Q=function(t){return t.changedTouches&&!!t.changedTouches.length},vg=function(e){function t(r){var n;return DGe(this,t),n=$Ge(this,t,[r]),vo(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),vo(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),vo(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),vo(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),vo(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),vo(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),vo(n,"handleSlideDragStart",function(i){var a=$Q(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return VGe(t,e),QGe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,A=Math.min(i,a),f=Math.max(i,a),m=t.getIndexInRange(o,A),x=t.getIndexInRange(o,f);return{startIndex:m-m%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Hs(a[n],l,n);return ir(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,u=c.width,A=c.travellerWidth,f=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,d+u-A-l,d+u-A-o):p<0&&(p=Math.max(p,d-o,d-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==f||v.endIndex!==m)&&x&&x(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=$Q(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],u=this.props,A=u.x,f=u.width,m=u.travellerWidth,x=u.onChange,p=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-a;b>0?b=Math.min(b,A+f-m-d):b<0&&(b=Math.max(b,A-d)),y[o]=d+b;var w=this.getIndex(y),j=w.startIndex,N=w.endIndex,B=function(){var P=v.length-1;return o==="startX"&&(l>c?j%p===0:N%p===0)||l<c&&N===P||o==="endX"&&(l>c?N%p===0:j%p===0)||l>c&&N===P};this.setState(vo(vo({},o,d+b),"brushMoveStartX",n.pageX),function(){x&&B()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[i],A=l.indexOf(u);if(A!==-1){var f=A+n;if(!(f===-1||f>=l.length)){var m=l[f];i==="startX"&&m>=d||i==="endX"&&m<=c||this.setState(vo({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return _e.createElement("rect",{stroke:d,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,A=_.Children.only(d);return A?_e.cloneElement(A,{x:i,y:a,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,A=c.height,f=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,v=c.endIndex,y=Math.max(n,this.props.x),b=tS(tS({},Xt(this.props,!1)),{},{x:y,y:d,width:u,height:A}),w=m||"Min value: ".concat((a=x[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[v])===null||o===void 0?void 0:o.name);return _e.createElement(Tr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,b))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,d=a.travellerWidth,u=Math.min(n,i)+d,A=Math.max(Math.abs(i-n)-d,0);return _e.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:A,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,A=u.startX,f=u.endX,m=5,x={pointerEvents:"none",fill:d};return _e.createElement(Tr,{className:"recharts-brush-texts"},_e.createElement(Wf,Qj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(A,f)-m,y:o+l/2},x),this.getTextOfTick(i)),_e.createElement(Wf,Qj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(A,f)+c+m,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,A=n.alwaysShowText,f=this.state,m=f.startX,x=f.endX,p=f.isTextActive,v=f.isSlideMoving,y=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!vt(l)||!vt(c)||!vt(d)||!vt(u)||d<=0||u<=0)return null;var w=gr("recharts-brush",a),j=_e.Children.count(o)===1,N=MGe("userSelect","none");return _e.createElement(Tr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||v||y||b||A)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(a+l/2)-1;return _e.createElement(_e.Fragment,null,_e.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),_e.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),_e.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return _e.isValidElement(n)?a=_e.cloneElement(n,i):ir(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,A=n.endIndex;if(a!==i.prevData||d!==i.prevUpdateId)return tS({prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},a&&a.length?WGe({data:a,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:A}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var f=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(_.PureComponent);vo(vg,"displayName","Brush");vo(vg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GGe=TI;function qGe(e,t){var r;return GGe(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var YGe=qGe,XGe=nZ,JGe=vd,ZGe=YGe,eqe=no,tqe=F5;function rqe(e,t,r){var n=eqe(e)?XGe:ZGe;return r&&tqe(e,t,r)&&(t=void 0),n(e,JGe(t))}var nqe=rqe;const sqe=Zr(nqe);var id=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},HQ=_Z;function iqe(e,t,r){t=="__proto__"&&HQ?HQ(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aqe=iqe,oqe=aqe,lqe=jZ,cqe=vd;function dqe(e,t){var r={};return t=cqe(t),lqe(e,function(n,i,a){oqe(r,i,t(n,i,a))}),r}var uqe=dqe;const hqe=Zr(uqe);function Aqe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var fqe=Aqe,mqe=TI;function pqe(e,t){var r=!0;return mqe(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var gqe=pqe,xqe=fqe,yqe=gqe,vqe=vd,bqe=no,wqe=F5;function jqe(e,t,r){var n=bqe(e)?xqe:yqe;return r&&wqe(e,t,r)&&(t=void 0),n(e,vqe(t))}var Nqe=jqe;const pte=Zr(Nqe);var _qe=["x","y"];function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}function zQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zQ(Object(r),!0).forEach(function(n){Cqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cqe(e,t,r){return t=Bqe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bqe(e){var t=Sqe(e,"string");return uv(t)=="symbol"?t:t+""}function Sqe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kqe(e,t){if(e==null)return{};var r=Eqe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pqe(e,t){var r=e.x,n=e.y,i=kqe(e,_qe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||i.height),u=parseInt(d,10),A="".concat(t.width||i.width),f=parseInt(A,10);return J0(J0(J0(J0(J0({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function VQ(e){return _e.createElement(cte,GE({shapeType:"rectangle",propTransformer:Pqe,activeClassName:"recharts-active-bar"},e))}var Iqe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=vt(n)||e6e(n);return a?t(n,i):(a||Yf(),r)}},Tqe=["value","background"],gte;function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Oqe(e,t){if(e==null)return{};var r=Lqe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lqe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(this,arguments)}function KQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KQ(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yte(n.key),n)}}function Uqe(e,t,r){return t&&WQ(e.prototype,t),r&&WQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rqe(e,t,r){return t=zj(t),Mqe(e,xte()?Reflect.construct(t,r||[],zj(e).constructor):t.apply(e,r))}function Mqe(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dqe(e)}function Dqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xte=function(){return!!e})()}function zj(e){return zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zj(e)}function Qqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qE(e,t)}function Bh(e,t,r){return t=yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yte(e){var t=$qe(e,"string");return bg(t)=="symbol"?t:t+""}function $qe(e,t){if(bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ju=function(e){function t(){var r;Fqe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Rqe(this,t,[].concat(i)),Bh(r,"state",{isAnimationFinished:!1}),Bh(r,"id",cm("recharts-bar-")),Bh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Bh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Qqe(t,e),Uqe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,d=a.activeBar,u=Xt(this.props,!1);return n&&n.map(function(A,f){var m=f===c,x=m?d:o,p=Ws(Ws(Ws({},u),A),{},{isActive:m,option:x,index:f,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return _e.createElement(Tr,Hj({className:"recharts-bar-rectangle"},Kf(i.props,A,f),{key:"rectangle-".concat(A==null?void 0:A.x,"-").concat(A==null?void 0:A.y,"-").concat(A==null?void 0:A.value,"-").concat(f)}),_e.createElement(VQ,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,A=i.animationId,f=this.state.prevData;return _e.createElement(gc,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(A),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=a.map(function(v,y){var b=f&&f[y];if(b){var w=fi(b.x,v.x),j=fi(b.y,v.y),N=fi(b.width,v.width),B=fi(b.height,v.height);return Ws(Ws({},v),{},{x:w(x),y:j(x),width:N(x),height:B(x)})}if(o==="horizontal"){var I=fi(0,v.height),P=I(x);return Ws(Ws({},v),{},{y:v.y+v.height-P,height:P})}var T=fi(0,v.width),U=T(x);return Ws(Ws({},v),{},{width:U})});return _e.createElement(Tr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Gf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Xt(this.props.background,!1);return a.map(function(d,u){d.value;var A=d.background,f=Oqe(d,Tqe);if(!A)return null;var m=Ws(Ws(Ws(Ws(Ws({},f),{},{fill:"#eee"},A),c),Kf(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return _e.createElement(VQ,Hj({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,A=Io(u,eb);if(!A)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,m=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Hs(v,y)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return _e.createElement(Tr,x,A.map(function(p){return _e.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,A=n.width,f=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,y=gr("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,j=b||w,N=Ar(p)?this.id:p;return _e.createElement(Tr,{className:y},b||w?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(N)},_e.createElement("rect",{x:b?d:d-A/2,y:w?u:u-f/2,width:b?A:A*2,height:w?f:f*2}))):null,_e.createElement(Tr,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!m||v)&&sd.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(_.PureComponent);gte=ju;Bh(ju,"displayName","Bar");Bh(ju,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!AA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bh(ju,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,A=e.displayedData,f=e.offset,m=x9e(n,r);if(!m)return null;var x=t.layout,p=r.type.defaultProps,v=p!==void 0?Ws(Ws({},p),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,j=x==="horizontal"?o:a,N=d?j.scale.domain():null,B=_9e({numericAxis:j}),I=Io(b,U5),P=A.map(function(T,U){var k,E,Q,F,K,W;d?k=y9e(d[u+U],N):(k=Hs(T,y),Array.isArray(k)||(k=[B,k]));var D=Iqe(w,gte.defaultProps.minPointSize)(k[1],U);if(x==="horizontal"){var z,ee=[o.scale(k[0]),o.scale(k[1])],te=ee[0],le=ee[1];E=M7({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:T,index:U}),Q=(z=le??te)!==null&&z!==void 0?z:void 0,F=m.size;var $=te-le;if(K=Number.isNaN($)?0:$,W={x:E,y:o.y,width:F,height:o.height},Math.abs(D)>0&&Math.abs(K)<Math.abs(D)){var X=Na(K||D)*(Math.abs(D)-Math.abs(K));Q-=X,K+=X}}else{var V=[a.scale(k[0]),a.scale(k[1])],ne=V[0],ae=V[1];if(E=ne,Q=M7({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:T,index:U}),F=ae-ne,K=m.size,W={x:a.x,y:Q,width:a.width,height:K},Math.abs(D)>0&&Math.abs(F)<Math.abs(D)){var he=Na(F||D)*(Math.abs(D)-Math.abs(F));F+=he}}return Ws(Ws(Ws({},T),{},{x:E,y:Q,width:F,height:K,value:d?k:k[1],payload:T,background:W},I&&I[U]&&I[U].props),{},{tooltipPayload:[Qee(r,T)],tooltipPosition:{x:E+F/2,y:Q+K/2}})});return Ws({data:P,layout:x},f)});function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function Hqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vte(n.key),n)}}function zqe(e,t,r){return t&&GQ(e.prototype,t),r&&GQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qQ(Object(r),!0).forEach(function(n){e_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e_(e,t,r){return t=vte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vte(e){var t=Vqe(e,"string");return hv(t)=="symbol"?t:t+""}function Vqe(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lT=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),A={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!wo(d,ju);return u.reduce(function(m,x){var p=r[x],v=p.orientation,y=p.domain,b=p.padding,w=b===void 0?{}:b,j=p.mirror,N=p.reversed,B="".concat(v).concat(j?"Mirror":""),I,P,T,U,k;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var E=y[1]-y[0],Q=1/0,F=p.categoricalDomain.sort(n6e);if(F.forEach(function(V,ne){ne>0&&(Q=Math.min((V||0)-(F[ne-1]||0),Q))}),Number.isFinite(Q)){var K=Q/E,W=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(I=K*W/2),p.padding==="no-gap"){var D=_a(t.barCategoryGap,K*W),z=K*W/2;I=z-D-(z-D)/W*D}}}i==="xAxis"?P=[n.left+(w.left||0)+(I||0),n.left+n.width-(w.right||0)-(I||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(I||0),n.top+n.height-(w.bottom||0)-(I||0)]:P=p.range,N&&(P=[P[1],P[0]]);var ee=Uee(p,a,f),te=ee.scale,le=ee.realScaleType;te.domain(y).range(P),Ree(te);var $=Mee(te,Zl(Zl({},p),{},{realScaleType:le}));i==="xAxis"?(k=v==="top"&&!j||v==="bottom"&&j,T=n.left,U=A[B]-k*p.height):i==="yAxis"&&(k=v==="left"&&!j||v==="right"&&j,T=A[B]-k*p.width,U=n.top);var X=Zl(Zl(Zl({},p),$),{},{realScaleType:le,x:T,y:U,scale:te,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return X.bandSize=Bj(X,$),!p.hide&&i==="xAxis"?A[B]+=(k?-1:1)*X.height:p.hide||(A[B]+=(k?-1:1)*X.width),Zl(Zl({},m),{},e_({},x,X))},{})},bte=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Kqe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return bte({x:r,y:n},{x:i,y:a})},wte=function(){function e(t){Hqe(this,e),this.scale=t}return zqe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();e_(wte,"EPS",1e-4);var cT=function(t){var r=Object.keys(t).reduce(function(n,i){return Zl(Zl({},n),{},e_({},i,wte.create(t[i])))},{});return Zl(Zl({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return hqe(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return pte(i,function(a,o){return r[o].isInRange(a)})}})};function Wqe(e){return(e%180+180)%180}var Gqe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Wqe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},qqe=vd,Yqe=qv,Xqe=O5;function Jqe(e){return function(t,r,n){var i=Object(t);if(!Yqe(t)){var a=qqe(r);t=Xqe(t),r=function(l){return a(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var Zqe=Jqe,eYe=hte;function tYe(e){var t=eYe(e),r=t%1;return t===t?r?t-r:t:0}var rYe=tYe,nYe=gZ,sYe=vd,iYe=rYe,aYe=Math.max;function oYe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:iYe(r);return i<0&&(i=aYe(n+i,0)),nYe(e,sYe(t),i)}var lYe=oYe,cYe=Zqe,dYe=lYe,uYe=cYe(dYe),hYe=uYe;const AYe=Zr(hYe);var fYe=aPe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),dT=_.createContext(void 0),uT=_.createContext(void 0),jte=_.createContext(void 0),Nte=_.createContext({}),_te=_.createContext(void 0),Cte=_.createContext(0),Bte=_.createContext(0),YQ=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=fYe(a);return _e.createElement(dT.Provider,{value:n},_e.createElement(uT.Provider,{value:i},_e.createElement(Nte.Provider,{value:a},_e.createElement(jte.Provider,{value:u},_e.createElement(_te.Provider,{value:o},_e.createElement(Cte.Provider,{value:d},_e.createElement(Bte.Provider,{value:c},l)))))))},mYe=function(){return _.useContext(_te)},Ste=function(t){var r=_.useContext(dT);r==null&&Yf();var n=r[t];return n==null&&Yf(),n},pYe=function(){var t=_.useContext(dT);return xh(t)},gYe=function(){var t=_.useContext(uT),r=AYe(t,function(n){return pte(n.domain,Number.isFinite)});return r||xh(t)},kte=function(t){var r=_.useContext(uT);r==null&&Yf();var n=r[t];return n==null&&Yf(),n},xYe=function(){var t=_.useContext(jte);return t},yYe=function(){return _.useContext(Nte)},hT=function(){return _.useContext(Bte)},AT=function(){return _.useContext(Cte)};function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function vYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pte(n.key),n)}}function wYe(e,t,r){return t&&bYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jYe(e,t,r){return t=Vj(t),NYe(e,Ete()?Reflect.construct(t,r||[],Vj(e).constructor):t.apply(e,r))}function NYe(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ye(e)}function _Ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ete(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ete=function(){return!!e})()}function Vj(e){return Vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vj(e)}function CYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YE(e,t)}function XQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XQ(Object(r),!0).forEach(function(n){fT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fT(e,t,r){return t=Pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pte(e){var t=BYe(e,"string");return wg(t)=="symbol"?t:t+""}function BYe(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SYe(e,t){return IYe(e)||PYe(e,t)||EYe(e,t)||kYe()}function kYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EYe(e,t){if(e){if(typeof e=="string")return ZQ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZQ(e,t)}}function ZQ(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PYe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function IYe(e){if(Array.isArray(e))return e}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XE.apply(this,arguments)}var TYe=function(t,r){var n;return _e.isValidElement(t)?n=_e.cloneElement(t,r):ir(t)?n=t(r):n=_e.createElement("line",XE({},r,{className:"recharts-reference-line-line"})),n},OYe=function(t,r,n,i,a,o,l,c,d){var u=a.x,A=a.y,f=a.width,m=a.height;if(n){var x=d.y,p=t.y.apply(x,{position:o});if(id(d,"discard")&&!t.y.isInRange(p))return null;var v=[{x:u+f,y:p},{x:u,y:p}];return c==="left"?v.reverse():v}if(r){var y=d.x,b=t.x.apply(y,{position:o});if(id(d,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:A+m},{x:b,y:A}];return l==="top"?w.reverse():w}if(i){var j=d.segment,N=j.map(function(B){return t.apply(B,{position:o})});return id(d,"discard")&&sqe(N,function(B){return!t.isInRange(B)})?null:N}return null};function LYe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=mYe(),u=Ste(i),A=kte(a),f=xYe();if(!d||!f)return null;lc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=cT({x:u.scale,y:A.scale}),x=pi(t),p=pi(r),v=n&&n.length===2,y=OYe(m,x,p,v,f,e.position,u.orientation,A.orientation,e);if(!y)return null;var b=SYe(y,2),w=b[0],j=w.x,N=w.y,B=b[1],I=B.x,P=B.y,T=id(e,"hidden")?"url(#".concat(d,")"):void 0,U=JQ(JQ({clipPath:T},Xt(e,!0)),{},{x1:j,y1:N,x2:I,y2:P});return _e.createElement(Tr,{className:gr("recharts-reference-line",l)},TYe(o,U),ji.renderCallByParent(e,Kqe({x1:j,y1:N,x2:I,y2:P})))}var mT=function(e){function t(){return vYe(this,t),jYe(this,t,arguments)}return CYe(t,e),wYe(t,[{key:"render",value:function(){return _e.createElement(LYe,this.props)}}])}(_e.Component);fT(mT,"displayName","ReferenceLine");fT(mT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(this,arguments)}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function t$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(n){t_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tte(n.key),n)}}function RYe(e,t,r){return t&&UYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MYe(e,t,r){return t=Kj(t),DYe(e,Ite()?Reflect.construct(t,r||[],Kj(e).constructor):t.apply(e,r))}function DYe(e,t){if(t&&(jg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QYe(e)}function QYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ite(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ite=function(){return!!e})()}function Kj(e){return Kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kj(e)}function $Ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZE(e,t)}function t_(e,t,r){return t=Tte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tte(e){var t=HYe(e,"string");return jg(t)=="symbol"?t:t+""}function HYe(e,t){if(jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zYe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=cT({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return id(t,"discard")&&!o.isInRange(l)?null:l},r_=function(e){function t(){return FYe(this,t),MYe(this,t,arguments)}return $Ye(t,e),RYe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=pi(i),u=pi(a);if(lc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var A=zYe(this.props);if(!A)return null;var f=A.x,m=A.y,x=this.props,p=x.shape,v=x.className,y=id(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=t$(t$({clipPath:y},Xt(this.props,!0)),{},{cx:f,cy:m});return _e.createElement(Tr,{className:gr("recharts-reference-dot",v)},t.renderDot(p,b),ji.renderCallByParent(this.props,{x:f-o,y:m-o,width:2*o,height:2*o}))}}])}(_e.Component);t_(r_,"displayName","ReferenceDot");t_(r_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});t_(r_,"renderDot",function(e,t){var r;return _e.isValidElement(e)?r=_e.cloneElement(e,t):ir(e)?r=e(t):r=_e.createElement(tb,JE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e3.apply(this,arguments)}function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function n$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(n){n_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KYe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lte(n.key),n)}}function WYe(e,t,r){return t&&KYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GYe(e,t,r){return t=Wj(t),qYe(e,Ote()?Reflect.construct(t,r||[],Wj(e).constructor):t.apply(e,r))}function qYe(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YYe(e)}function YYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ote(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ote=function(){return!!e})()}function Wj(e){return Wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wj(e)}function XYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t3(e,t)}function n_(e,t,r){return t=Lte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lte(e){var t=JYe(e,"string");return Ng(t)=="symbol"?t:t+""}function JYe(e,t){if(Ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZYe=function(t,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,d=a.y2,u=a.xAxis,A=a.yAxis;if(!u||!A)return null;var f=cT({x:u.scale,y:A.scale}),m={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(d,{position:"end"}):f.y.rangeMax};return id(a,"discard")&&(!f.isInRange(m)||!f.isInRange(x))?null:bte(m,x)},s_=function(e){function t(){return VYe(this,t),GYe(this,t,arguments)}return XYe(t,e),WYe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;lc(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var A=pi(i),f=pi(a),m=pi(o),x=pi(l),p=this.props.shape;if(!A&&!f&&!m&&!x&&!p)return null;var v=ZYe(A,f,m,x,this.props);if(!v&&!p)return null;var y=id(this.props,"hidden")?"url(#".concat(u,")"):void 0;return _e.createElement(Tr,{className:gr("recharts-reference-area",c)},t.renderRect(p,n$(n$({clipPath:y},Xt(this.props,!0)),v)),ji.renderCallByParent(this.props,v))}}])}(_e.Component);n_(s_,"displayName","ReferenceArea");n_(s_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n_(s_,"renderRect",function(e,t){var r;return _e.isValidElement(e)?r=_e.cloneElement(e,t):ir(e)?r=e(t):r=_e.createElement(oT,e3({},t,{className:"recharts-reference-area-rect"})),r});function Fte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function eXe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Gqe(n,r)}function tXe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Gj(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function rXe(e,t){return Fte(e,t+1)}function nXe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,A=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:Fte(n,d)};var p=c,v,y=function(){return v===void 0&&(v=r(x,p)),v},b=x.coordinate,w=c===0||Gj(e,b,y,u,l);w||(c=0,u=o,d+=1),w&&(u=b+e*(y()/2+i),c+=d)},f;d<=a.length;)if(f=A(),f)return f.v;return[]}function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function s$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(r),!0).forEach(function(n){sXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sXe(e,t,r){return t=iXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iXe(e){var t=aXe(e,"string");return Av(t)=="symbol"?t:t+""}function aXe(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oXe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,d=function(f){var m=a[f],x,p=function(){return x===void 0&&(x=r(m,f)),x};if(f===o-1){var v=e*(m.coordinate+e*p()/2-c);a[f]=m=ea(ea({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[f]=m=ea(ea({},m),{},{tickCoord:m.coordinate});var y=Gj(e,m.tickCoord,p,l,c);y&&(c=m.tickCoord-e*(p()/2+i),a[f]=ea(ea({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return a}function lXe(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(a){var u=n[l-1],A=r(u,l-1),f=e*(u.coordinate+e*A/2-d);o[l-1]=u=ea(ea({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var m=Gj(e,u.tickCoord,function(){return A},c,d);m&&(d=u.tickCoord-e*(A/2+i),o[l-1]=ea(ea({},u),{},{isShow:!0}))}for(var x=a?l-1:l,p=function(b){var w=o[b],j,N=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var B=e*(w.coordinate-e*N()/2-c);o[b]=w=ea(ea({},w),{},{tickCoord:B<0?w.coordinate-B*e:w.coordinate})}else o[b]=w=ea(ea({},w),{},{tickCoord:w.coordinate});var I=Gj(e,w.tickCoord,N,c,d);I&&(c=w.tickCoord+e*(N()/2+i),o[b]=ea(ea({},w),{},{isShow:!0}))},v=0;v<x;v++)p(v);return o}function pT(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,A=e.angle;if(!i||!i.length||!n)return[];if(vt(c)||AA.isSsr)return rXe(i,typeof c=="number"&&vt(c)?c:0);var f=[],m=l==="top"||l==="bottom"?"width":"height",x=u&&m==="width"?Kx(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,j){var N=ir(d)?d(w.value,j):w.value;return m==="width"?eXe(Kx(N,{fontSize:t,letterSpacing:r}),x,A):Kx(N,{fontSize:t,letterSpacing:r})[m]},v=i.length>=2?Na(i[1].coordinate-i[0].coordinate):1,y=tXe(a,v,m);return c==="equidistantPreserveStart"?nXe(v,y,p,i,o):(c==="preserveStart"||c==="preserveStartEnd"?f=lXe(v,y,p,i,o,c==="preserveStartEnd"):f=oXe(v,y,p,i,o),f.filter(function(b){return b.isShow}))}var cXe=["viewBox"],dXe=["viewBox"],uXe=["ticks"];function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function i$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(r),!0).forEach(function(n){gT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rS(e,t){if(e==null)return{};var r=hXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rte(n.key),n)}}function fXe(e,t,r){return t&&a$(e.prototype,t),r&&a$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mXe(e,t,r){return t=qj(t),pXe(e,Ute()?Reflect.construct(t,r||[],qj(e).constructor):t.apply(e,r))}function pXe(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gXe(e)}function gXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ute(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ute=function(){return!!e})()}function qj(e){return qj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qj(e)}function xXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r3(e,t)}function gT(e,t,r){return t=Rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=yXe(e,"string");return _g(t)=="symbol"?t:t+""}function yXe(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var l0=function(e){function t(r){var n;return AXe(this,t),n=mXe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return xXe(t,e),fXe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=rS(n,cXe),l=this.props,c=l.viewBox,d=rS(l,dXe);return!Mp(a,c)||!Mp(o,d)||!Mp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,u=i.tickSize,A=i.mirror,f=i.tickMargin,m,x,p,v,y,b,w=A?-1:1,j=n.tickSize||u,N=vt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":m=x=n.coordinate,v=o+ +!A*c,p=v-w*j,b=p-w*f,y=N;break;case"left":p=v=n.coordinate,x=a+ +!A*l,m=x-w*j,y=m-w*f,b=N;break;case"right":p=v=n.coordinate,x=a+ +A*l,m=x+w*j,y=m+w*f,b=N;break;default:m=x=n.coordinate,v=o+ +A*c,p=v+w*j,b=p+w*f,y=N;break}return{line:{x1:m,y1:p,x2:x,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,A=di(di(di({},Xt(this.props,!1)),Xt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);A=di(di({},A),{},{x1:i,y1:a+f*l,x2:i+o,y2:a+f*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);A=di(di({},A),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+l})}return _e.createElement("line",gp({},A,{className:gr("recharts-cartesian-axis-line",Po(u,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,A=l.tickFormatter,f=l.unit,m=pT(di(di({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Xt(this.props,!1),y=Xt(u,!1),b=di(di({},v),{},{fill:"none"},Xt(c,!1)),w=m.map(function(j,N){var B=o.getTickLineCoord(j),I=B.line,P=B.tick,T=di(di(di(di({textAnchor:x,verticalAnchor:p},v),{},{stroke:"none",fill:d},y),P),{},{index:N,payload:j,visibleTicksCount:m.length,tickFormatter:A});return _e.createElement(Tr,gp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Kf(o.props,j,N)),c&&_e.createElement("line",gp({},b,I,{className:gr("recharts-cartesian-axis-tick-line",Po(c,"className"))})),u&&t.renderTickItem(u,T,"".concat(ir(A)?A(j.value,N):j.value).concat(f||"")))});return _e.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,u=i.hide;if(u)return null;var A=this.props,f=A.ticks,m=rS(A,uXe),x=f;return ir(c)&&(x=f&&f.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:_e.createElement(Tr,{className:gr("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),ji.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=gr(i.className,"recharts-cartesian-axis-tick-value");return _e.isValidElement(n)?o=_e.cloneElement(n,di(di({},i),{},{className:l})):ir(n)?o=n(di(di({},i),{},{className:l})):o=_e.createElement(Wf,gp({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(_.Component);gT(l0,"displayName","CartesianAxis");gT(l0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vXe=["x1","y1","x2","y2","key"],bXe=["offset"];function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(n){wXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wXe(e,t,r){return t=jXe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jXe(e){var t=NXe(e,"string");return Xf(t)=="symbol"?t:t+""}function NXe(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(this,arguments)}function l$(e,t){if(e==null)return{};var r=_Xe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Xe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var CXe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return _e.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Mte(e,t){var r;if(_e.isValidElement(e))r=_e.cloneElement(e,t);else if(ir(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=l$(t,vXe),d=Xt(c,!1);d.offset;var u=l$(d,bXe);r=_e.createElement("line",df({},u,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function BXe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=sa(sa({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Mte(i,d)});return _e.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function SXe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var d=sa(sa({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Mte(i,d)});return _e.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function kXe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+i-i)}).sort(function(f,m){return f-m});i!==u[0]&&u.unshift(0);var A=u.map(function(f,m){var x=!u[m+1],p=x?i+o-f:u[m+1]-f;if(p<=0)return null;var v=m%t.length;return _e.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},A)}function EXe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(f){return Math.round(f+a-a)}).sort(function(f,m){return f-m});a!==u[0]&&u.unshift(0);var A=u.map(function(f,m){var x=!u[m+1],p=x?a+l-f:u[m+1]-f;if(p<=0)return null;var v=m%n.length;return _e.createElement("rect",{key:"react-".concat(m),x:f,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return _e.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},A)}var PXe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return Fee(pT(sa(sa(sa({},l0.defaultProps),n),{},{ticks:Xd(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},IXe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return Fee(pT(sa(sa(sa({},l0.defaultProps),n),{},{ticks:Xd(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},$m={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _f(e){var t,r,n,i,a,o,l=hT(),c=AT(),d=yYe(),u=sa(sa({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:$m.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:$m.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:$m.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:$m.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:$m.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:$m.verticalFill,x:vt(e.x)?e.x:d.left,y:vt(e.y)?e.y:d.top,width:vt(e.width)?e.width:d.width,height:vt(e.height)?e.height:d.height}),A=u.x,f=u.y,m=u.width,x=u.height,p=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=pYe(),w=gYe();if(!vt(m)||m<=0||!vt(x)||x<=0||!vt(A)||A!==+A||!vt(f)||f!==+f)return null;var j=u.verticalCoordinatesGenerator||PXe,N=u.horizontalCoordinatesGenerator||IXe,B=u.horizontalPoints,I=u.verticalPoints;if((!B||!B.length)&&ir(N)){var P=v&&v.length,T=N({yAxis:w?sa(sa({},w),{},{ticks:P?v:w.ticks}):void 0,width:l,height:c,offset:d},P?!0:p);lc(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xf(T),"]")),Array.isArray(T)&&(B=T)}if((!I||!I.length)&&ir(j)){var U=y&&y.length,k=j({xAxis:b?sa(sa({},b),{},{ticks:U?y:b.ticks}):void 0,width:l,height:c,offset:d},U?!0:p);lc(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xf(k),"]")),Array.isArray(k)&&(I=k)}return _e.createElement("g",{className:"recharts-cartesian-grid"},_e.createElement(CXe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),_e.createElement(BXe,df({},u,{offset:d,horizontalPoints:B,xAxis:b,yAxis:w})),_e.createElement(SXe,df({},u,{offset:d,verticalPoints:I,xAxis:b,yAxis:w})),_e.createElement(kXe,df({},u,{horizontalPoints:B})),_e.createElement(EXe,df({},u,{verticalPoints:I})))}_f.displayName="CartesianGrid";var TXe=["type","layout","connectNulls","ref"],OXe=["key"];function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function c$(e,t){if(e==null)return{};var r=LXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(this,arguments)}function d$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(r),!0).forEach(function(n){ec(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hm(e){return MXe(e)||RXe(e)||UXe(e)||FXe()}function FXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UXe(e,t){if(e){if(typeof e=="string")return n3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(e,t)}}function RXe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MXe(e){if(Array.isArray(e))return n3(e)}function n3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qte(n.key),n)}}function QXe(e,t,r){return t&&u$(e.prototype,t),r&&u$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Xe(e,t,r){return t=Yj(t),HXe(e,Dte()?Reflect.construct(t,r||[],Yj(e).constructor):t.apply(e,r))}function HXe(e,t){if(t&&(Cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zXe(e)}function zXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dte=function(){return!!e})()}function Yj(e){return Yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yj(e)}function VXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},s3(e,t)}function ec(e,t,r){return t=Qte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=KXe(e,"string");return Cg(t)=="symbol"?t:t+""}function KXe(e,t){if(Cg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jf=function(e){function t(){var r;DXe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=$Xe(this,t,[].concat(i)),ec(r,"state",{isAnimationFinished:!0,totalLength:0}),ec(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ec(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(y,b){return y+b});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),A=o%d,f=l-o,m=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>A){m=[].concat(Hm(c.slice(0,x)),[A-p]);break}var v=m.length%2===0?[0,f]:[f];return[].concat(Hm(t.repeat(c,u)),Hm(m),v).map(function(y){return"".concat(y,"px")}).join(", ")}),ec(r,"id",cm("recharts-line-")),ec(r,"pathRef",function(o){r.mainCurve=o}),ec(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ec(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return VXe(t,e),QXe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,d=a.layout,u=a.children,A=Io(u,eb);if(!A)return null;var f=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Hs(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return _e.createElement(Tr,m,A.map(function(x){return _e.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,A=Xt(this.props,!1),f=Xt(c,!0),m=d.map(function(p,v){var y=yo(yo(yo({key:"dot-".concat(v),r:3},A),f),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:d});return t.renderDotItem(c,y)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return _e.createElement(Tr,Jx({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var A=c$(l,TXe),f=yo(yo(yo({},Xt(A,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return _e.createElement(Nf,Jx({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,A=o.animationDuration,f=o.animationEasing,m=o.animationId,x=o.animateNewValues,p=o.width,v=o.height,y=this.state,b=y.prevPoints,w=y.totalLength;return _e.createElement(gc,{begin:u,duration:A,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(b){var B=b.length/l.length,I=l.map(function(E,Q){var F=Math.floor(Q*B);if(b[F]){var K=b[F],W=fi(K.x,E.x),D=fi(K.y,E.y);return yo(yo({},E),{},{x:W(N),y:D(N)})}if(x){var z=fi(p*2,E.x),ee=fi(v/2,E.y);return yo(yo({},E),{},{x:z(N),y:ee(N)})}return yo(yo({},E),{},{x:E.x,y:E.y})});return a.renderCurveStatically(I,n,i)}var P=fi(0,w),T=P(N),U;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});U=a.getStrokeDasharray(T,w,k)}else U=a.generateSimpleStrokeDasharray(w,T);return a.renderCurveStatically(l,n,i,{strokeDasharray:U})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Gf(d,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,u=i.yAxis,A=i.top,f=i.left,m=i.width,x=i.height,p=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=gr("recharts-line",c),j=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,B=j||N,I=Ar(v)?this.id:v,P=(n=Xt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=P.r,U=T===void 0?3:T,k=P.strokeWidth,E=k===void 0?2:k,Q=SJ(o)?o:{},F=Q.clipDot,K=F===void 0?!0:F,W=U*2+E;return _e.createElement(Tr,{className:w},j||N?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(I)},_e.createElement("rect",{x:j?f:f-m/2,y:N?A:A-x/2,width:j?m:m*2,height:N?x:x*2})),!K&&_e.createElement("clipPath",{id:"clipPath-dots-".concat(I)},_e.createElement("rect",{x:f-W/2,y:A-W/2,width:m+W,height:x+W}))):null,!b&&this.renderCurve(B,I),this.renderErrorBar(B,I),(b||o)&&this.renderDots(B,K,I),(!p||y)&&sd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Hm(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(Hm(o),Hm(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(_e.isValidElement(n))a=_e.cloneElement(n,i);else if(ir(n))a=n(i);else{var o=i.key,l=c$(i,OXe),c=gr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=_e.createElement(tb,Jx({key:o},l,{className:c}))}return a}}])}(_.PureComponent);ec(Jf,"displayName","Line");ec(Jf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!AA.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ec(Jf,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,A=c.map(function(f,m){var x=Hs(f,o);return u==="horizontal"?{x:Cj({axis:r,ticks:i,bandSize:l,entry:f,index:m}),y:Ar(x)?null:n.scale(x),value:x,payload:f}:{x:Ar(x)?null:r.scale(x),y:Cj({axis:n,ticks:a,bandSize:l,entry:f,index:m}),value:x,payload:f}});return yo({points:A,layout:u},d)});var WXe=["layout","type","stroke","connectNulls","isRange","ref"],GXe=["key"],$te;function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function Hte(e,t){if(e==null)return{};var r=qXe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qXe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(this,arguments)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){Wc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vte(n.key),n)}}function XXe(e,t,r){return t&&A$(e.prototype,t),r&&A$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JXe(e,t,r){return t=Xj(t),ZXe(e,zte()?Reflect.construct(t,r||[],Xj(e).constructor):t.apply(e,r))}function ZXe(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eJe(e)}function eJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zte=function(){return!!e})()}function Xj(e){return Xj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xj(e)}function tJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i3(e,t)}function Wc(e,t,r){return t=Vte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vte(e){var t=rJe(e,"string");return Bg(t)=="symbol"?t:t+""}function rJe(e,t){if(Bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pu=function(e){function t(){var r;YXe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=JXe(this,t,[].concat(i)),Wc(r,"state",{isAnimationFinished:!0}),Wc(r,"id",cm("recharts-area-")),Wc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ir(o)&&o()}),Wc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ir(o)&&o()}),r}return tJe(t,e),XXe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,A=c.dataKey,f=Xt(this.props,!1),m=Xt(d,!0),x=u.map(function(v,y){var b=lh(lh(lh({key:"dot-".concat(y),r:3},f),m),{},{index:y,cx:v.x,cy:v.y,dataKey:A,value:v.value,payload:v.payload,points:u});return t.renderDotItem(d,b)}),p={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return _e.createElement(Tr,uf({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),A=Ch(o.map(function(f){return f.y||0}));return vt(a)&&typeof a=="number"?A=Math.max(a,A):a&&Array.isArray(a)&&a.length&&(A=Math.max(Ch(a.map(function(f){return f.y||0})),A)),vt(A)?_e.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(A+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),A=Ch(o.map(function(f){return f.x||0}));return vt(a)&&typeof a=="number"?A=Math.max(a,A):a&&Array.isArray(a)&&a.length&&(A=Math.max(Ch(a.map(function(f){return f.x||0})),A)),vt(A)?_e.createElement("rect",{x:0,y:c<d?c:c-u,width:A+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,A=l.connectNulls,f=l.isRange;l.ref;var m=Hte(l,WXe);return _e.createElement(Tr,{clipPath:a?"url(#clipPath-".concat(o,")"):null},_e.createElement(Nf,uf({},Xt(m,!0),{points:n,connectNulls:A,type:d,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&_e.createElement(Nf,uf({},Xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:A,fill:"none",points:n})),u!=="none"&&f&&_e.createElement(Nf,uf({},Xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:A,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,A=o.animationDuration,f=o.animationEasing,m=o.animationId,x=this.state,p=x.prevPoints,v=x.prevBaseLine;return _e.createElement(gc,{begin:u,duration:A,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(p){var w=p.length/l.length,j=l.map(function(P,T){var U=Math.floor(T*w);if(p[U]){var k=p[U],E=fi(k.x,P.x),Q=fi(k.y,P.y);return lh(lh({},P),{},{x:E(b),y:Q(b)})}return P}),N;if(vt(c)&&typeof c=="number"){var B=fi(v,c);N=B(b)}else if(Ar(c)||t0(c)){var I=fi(v,0);N=I(b)}else N=c.map(function(P,T){var U=Math.floor(T*w);if(v[U]){var k=v[U],E=fi(k.x,P.x),Q=fi(k.y,P.y);return lh(lh({},P),{},{x:E(b),y:Q(b)})}return P});return a.renderAreaStatically(j,N,n,i)}return _e.createElement(Tr,null,_e.createElement("defs",null,_e.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(b))),_e.createElement(Tr,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,d=this.state,u=d.prevPoints,A=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!Gf(u,o)||!Gf(A,l))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,l,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,d=i.top,u=i.left,A=i.xAxis,f=i.yAxis,m=i.width,x=i.height,p=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,w=gr("recharts-area",c),j=A&&A.allowDataOverflow,N=f&&f.allowDataOverflow,B=j||N,I=Ar(v)?this.id:v,P=(n=Xt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=P.r,U=T===void 0?3:T,k=P.strokeWidth,E=k===void 0?2:k,Q=SJ(o)?o:{},F=Q.clipDot,K=F===void 0?!0:F,W=U*2+E;return _e.createElement(Tr,{className:w},j||N?_e.createElement("defs",null,_e.createElement("clipPath",{id:"clipPath-".concat(I)},_e.createElement("rect",{x:j?u:u-m/2,y:N?d:d-x/2,width:j?m:m*2,height:N?x:x*2})),!K&&_e.createElement("clipPath",{id:"clipPath-dots-".concat(I)},_e.createElement("rect",{x:u-W/2,y:d-W/2,width:m+W,height:x+W}))):null,b?null:this.renderArea(B,I),(o||b)&&this.renderDots(B,K,I),(!p||y)&&sd.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(_.PureComponent);$te=Pu;Wc(Pu,"displayName","Area");Wc(Pu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!AA.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wc(Pu,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(vt(l)&&typeof l=="number")return l;var c=i==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),A=Math.min(d[0],d[1]);return l==="dataMin"?A:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Wc(Pu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,A=e.displayedData,f=e.offset,m=t.layout,x=d&&d.length,p=$te.getBaseValue(t,r,n,i),v=m==="horizontal",y=!1,b=A.map(function(j,N){var B;x?B=d[u+N]:(B=Hs(j,c),Array.isArray(B)?y=!0:B=[p,B]);var I=B[1]==null||x&&Hs(j,c)==null;return v?{x:Cj({axis:n,ticks:a,bandSize:l,entry:j,index:N}),y:I?null:i.scale(B[1]),value:B,payload:j}:{x:I?null:n.scale(B[1]),y:Cj({axis:i,ticks:o,bandSize:l,entry:j,index:N}),value:B,payload:j}}),w;return x||y?w=b.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return v?{x:j.x,y:N!=null&&j.y!=null?i.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):w=v?i.scale(p):n.scale(p),lh({points:b,baseLine:w,layout:m,isRange:y},f)});Wc(Pu,"renderDotItem",function(e,t){var r;if(_e.isValidElement(e))r=_e.cloneElement(e,t);else if(ir(e))r=e(t);else{var n=gr("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Hte(t,GXe);r=_e.createElement(tb,uf({},a,{key:i,className:n}))}return r});function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function nJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gte(n.key),n)}}function iJe(e,t,r){return t&&sJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aJe(e,t,r){return t=Jj(t),oJe(e,Kte()?Reflect.construct(t,r||[],Jj(e).constructor):t.apply(e,r))}function oJe(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lJe(e)}function lJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kte=function(){return!!e})()}function Jj(e){return Jj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jj(e)}function cJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a3(e,t)}function Wte(e,t,r){return t=Gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gte(e){var t=dJe(e,"string");return Sg(t)=="symbol"?t:t+""}function dJe(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o3.apply(this,arguments)}function uJe(e){var t=e.xAxisId,r=hT(),n=AT(),i=Ste(t);return i==null?null:_.createElement(l0,o3({},i,{className:gr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Xd(o,!0)}}))}var cc=function(e){function t(){return nJe(this,t),aJe(this,t,arguments)}return cJe(t,e),iJe(t,[{key:"render",value:function(){return _.createElement(uJe,this.props)}}])}(_.Component);Wte(cc,"displayName","XAxis");Wte(cc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function hJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xte(n.key),n)}}function fJe(e,t,r){return t&&AJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mJe(e,t,r){return t=Zj(t),pJe(e,qte()?Reflect.construct(t,r||[],Zj(e).constructor):t.apply(e,r))}function pJe(e,t){if(t&&(kg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gJe(e)}function gJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qte=function(){return!!e})()}function Zj(e){return Zj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zj(e)}function xJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l3(e,t)}function l3(e,t){return l3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l3(e,t)}function Yte(e,t,r){return t=Xte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xte(e){var t=yJe(e,"string");return kg(t)=="symbol"?t:t+""}function yJe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c3(){return c3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c3.apply(this,arguments)}var vJe=function(t){var r=t.yAxisId,n=hT(),i=AT(),a=kte(r);return a==null?null:_.createElement(l0,c3({},a,{className:gr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Xd(l,!0)}}))},Al=function(e){function t(){return hJe(this,t),mJe(this,t,arguments)}return xJe(t,e),fJe(t,[{key:"render",value:function(){return _.createElement(vJe,this.props)}}])}(_.Component);Yte(Al,"displayName","YAxis");Yte(Al,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function f$(e){return NJe(e)||jJe(e)||wJe(e)||bJe()}function bJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wJe(e,t){if(e){if(typeof e=="string")return d3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d3(e,t)}}function jJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NJe(e){if(Array.isArray(e))return d3(e)}function d3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u3=function(t,r,n,i,a){var o=Io(t,mT),l=Io(t,r_),c=[].concat(f$(o),f$(l)),d=Io(t,s_),u="".concat(i,"Id"),A=i[0],f=r;if(c.length&&(f=c.reduce(function(p,v){if(v.props[u]===n&&id(v.props,"extendDomain")&&vt(v.props[A])){var y=v.props[A];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},f)),d.length){var m="".concat(A,"1"),x="".concat(A,"2");f=d.reduce(function(p,v){if(v.props[u]===n&&id(v.props,"extendDomain")&&vt(v.props[m])&&vt(v.props[x])){var y=v.props[m],b=v.props[x];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},f)}return a&&a.length&&(f=a.reduce(function(p,v){return vt(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},f)),f},Jte={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function a(c,d,u,A,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new i(u,A||c,f),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,A;if(this._eventsCount===0)return d;for(A in u=this._events)t.call(u,A)&&d.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,A=this._events[u];if(!A)return[];if(A.fn)return[A.fn];for(var f=0,m=A.length,x=new Array(m);f<m;f++)x[f]=A[f].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,A=this._events[u];return A?A.fn?1:A.length:0},l.prototype.emit=function(d,u,A,f,m,x){var p=r?r+d:d;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,A),!0;case 4:return v.fn.call(v.context,u,A,f),!0;case 5:return v.fn.call(v.context,u,A,f,m),!0;case 6:return v.fn.call(v.context,u,A,f,m,x),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var j=v.length,N;for(w=0;w<j;w++)switch(v[w].once&&this.removeListener(d,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,A);break;case 4:v[w].fn.call(v[w].context,u,A,f);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];v[w].fn.apply(v[w].context,b)}}return!0},l.prototype.on=function(d,u,A){return a(this,d,u,A,!1)},l.prototype.once=function(d,u,A){return a(this,d,u,A,!0)},l.prototype.removeListener=function(d,u,A,f){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!f||x.once)&&(!A||x.context===A)&&o(this,m);else{for(var p=0,v=[],y=x.length;p<y;p++)(x[p].fn!==u||f&&!x[p].once||A&&x[p].context!==A)&&v.push(x[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Jte);var _Je=Jte.exports;const CJe=Zr(_Je);var nS=new CJe,sS="recharts.syncMouseEvents";function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function BJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zte(n.key),n)}}function kJe(e,t,r){return t&&SJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iS(e,t,r){return t=Zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=EJe(e,"string");return fv(t)=="symbol"?t:t+""}function EJe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PJe=function(){function e(){BJe(this,e),iS(this,"activeIndex",0),iS(this,"coordinateList",[]),iS(this,"layout","horizontal")}return kJe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,A=u===void 0?null:u,f=r.mouseHandlerCallback,m=f===void 0?null:f;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=A??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,A=a+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:A,pageY:f})}}}])}();function IJe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&vt(n)&&vt(i))return!0}return!1}function TJe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ere(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=$n(t,r,n,i),l=$n(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function OJe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,A=t.angle,f=$n(l,c,d,A),m=$n(l,c,u,A);n=f.x,i=f.y,a=m.x,o=m.y}else return ere(t);return[{x:n,y:i},{x:a,y:o}]}function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function m$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(r),!0).forEach(function(n){LJe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LJe(e,t,r){return t=FJe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FJe(e){var t=UJe(e,"string");return mv(t)=="symbol"?t:t+""}function UJe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RJe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,A=e.layout,f=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||f!=="ScatterChart"&&i!=="axis")return null;var x,p=Nf;if(f==="ScatterChart")x=o,p=KKe;else if(f==="BarChart")x=TJe(A,o,c,u),p=oT;else if(A==="radial"){var v=ere(o),y=v.cx,b=v.cy,w=v.radius,j=v.startAngle,N=v.endAngle;x={cx:y,cy:b,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},p=Wee}else x={points:OJe(A,o,c)},p=Nf;var B=zw(zw(zw(zw({stroke:"#ccc",pointerEvents:"none"},c),x),Xt(m,!1)),{},{payload:l,payloadIndex:d,className:gr("recharts-tooltip-cursor",m.className)});return _.isValidElement(m)?_.cloneElement(m,B):_.createElement(p,B)}var MJe=["item"],DJe=["children","className","width","height","style","compact","title","desc"];function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function p$(e,t){return HJe(e)||$Je(e,t)||rre(e,t)||QJe()}function QJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Je(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function HJe(e){if(Array.isArray(e))return e}function g$(e,t){if(e==null)return{};var r=zJe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zJe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KJe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nre(n.key),n)}}function WJe(e,t,r){return t&&KJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GJe(e,t,r){return t=eN(t),qJe(e,tre()?Reflect.construct(t,r||[],eN(e).constructor):t.apply(e,r))}function qJe(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YJe(e)}function YJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tre=function(){return!!e})()}function eN(e){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eN(e)}function XJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h3(e,t)}function h3(e,t){return h3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h3(e,t)}function Pg(e){return eZe(e)||ZJe(e)||rre(e)||JJe()}function JJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rre(e,t){if(e){if(typeof e=="string")return A3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A3(e,t)}}function ZJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eZe(e){if(Array.isArray(e))return A3(e)}function A3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x$(Object(r),!0).forEach(function(n){rr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rr(e,t,r){return t=nre(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nre(e){var t=tZe(e,"string");return Eg(t)=="symbol"?t:t+""}function tZe(e,t){if(Eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rZe={xAxis:["bottom","top"],yAxis:["left","right"]},nZe={width:"100%",height:"100%"},sre={x:0,y:0};function Vw(e){return e}var sZe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},iZe=function(t,r,n,i){var a=r.find(function(u){return u&&u.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Je(Je(Je({},i),$n(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,d=i.angle;return Je(Je(Je({},i),$n(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return sre},i_=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Pg(l),Pg(d)):l},[]);return o.length>0?o:t&&t.length&&vt(i)&&vt(a)?t.slice(i,a+1):[]};function ire(e){return e==="number"?[0,"auto"]:void 0}var f3=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,l=i_(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,d){var u,A=(u=d.props.data)!==null&&u!==void 0?u:r;A&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(A=A.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var m=A===void 0?l:A;f=J2(m,o.dataKey,i)}else f=A&&A[n]||l[n];return f?[].concat(Pg(c),[Qee(d,f)]):c},[])},y$=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=sZe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=h9e(o,l,d,c);if(u>=0&&d){var A=d[u]&&d[u].value,f=f3(t,r,u,A),m=iZe(n,l,u,a);return{activeTooltipIndex:u,activeLabel:A,activePayload:f,activeCoordinate:m}}return null},aZe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,A=t.children,f=t.stackOffset,m=Lee(u,a);return n.reduce(function(x,p){var v,y=p.type.defaultProps!==void 0?Je(Je({},p.type.defaultProps),p.props):p.props,b=y.type,w=y.dataKey,j=y.allowDataOverflow,N=y.allowDuplicatedCategory,B=y.scale,I=y.ticks,P=y.includeHidden,T=y[o];if(x[T])return x;var U=i_(t.data,{graphicalItems:i.filter(function($){var X,V=o in $.props?$.props[o]:(X=$.type.defaultProps)===null||X===void 0?void 0:X[o];return V===T}),dataStartIndex:c,dataEndIndex:d}),k=U.length,E,Q,F;IJe(y.domain,j,b)&&(E=BE(y.domain,null,j),m&&(b==="number"||B!=="auto")&&(F=Gx(U,w,"category")));var K=ire(b);if(!E||E.length===0){var W,D=(W=y.domain)!==null&&W!==void 0?W:K;if(w){if(E=Gx(U,w,b),b==="category"&&m){var z=r6e(E);N&&z?(Q=E,E=Dj(0,k)):N||(E=$7(D,E,p).reduce(function($,X){return $.indexOf(X)>=0?$:[].concat(Pg($),[X])},[]))}else if(b==="category")N?E=E.filter(function($){return $!==""&&!Ar($)}):E=$7(D,E,p).reduce(function($,X){return $.indexOf(X)>=0||X===""||Ar(X)?$:[].concat(Pg($),[X])},[]);else if(b==="number"){var ee=g9e(U,i.filter(function($){var X,V,ne=o in $.props?$.props[o]:(X=$.type.defaultProps)===null||X===void 0?void 0:X[o],ae="hide"in $.props?$.props.hide:(V=$.type.defaultProps)===null||V===void 0?void 0:V.hide;return ne===T&&(P||!ae)}),w,a,u);ee&&(E=ee)}m&&(b==="number"||B!=="auto")&&(F=Gx(U,w,"category"))}else m?E=Dj(0,k):l&&l[T]&&l[T].hasStack&&b==="number"?E=f==="expand"?[0,1]:Dee(l[T].stackGroups,c,d):E=Oee(U,i.filter(function($){var X=o in $.props?$.props[o]:$.type.defaultProps[o],V="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return X===T&&(P||!V)}),b,u,!0);if(b==="number")E=u3(A,E,T,a,I),D&&(E=BE(D,E,j));else if(b==="category"&&D){var te=D,le=E.every(function($){return te.indexOf($)>=0});le&&(E=te)}}return Je(Je({},x),{},rr({},T,Je(Je({},y),{},{axisType:a,domain:E,categoricalDomain:F,duplicateDomain:Q,originalDomain:(v=y.domain)!==null&&v!==void 0?v:K,isCategorical:m,layout:u})))},{})},oZe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,A=t.children,f=i_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),m=f.length,x=Lee(u,a),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?Je(Je({},y.type.defaultProps),y.props):y.props,w=b[o],j=ire("number");if(!v[w]){p++;var N;return x?N=Dj(0,m):l&&l[w]&&l[w].hasStack?(N=Dee(l[w].stackGroups,c,d),N=u3(A,N,w,a)):(N=BE(j,Oee(f,n.filter(function(B){var I,P,T=o in B.props?B.props[o]:(I=B.type.defaultProps)===null||I===void 0?void 0:I[o],U="hide"in B.props?B.props.hide:(P=B.type.defaultProps)===null||P===void 0?void 0:P.hide;return T===w&&!U}),"number",u),i.defaultProps.allowDataOverflow),N=u3(A,N,w,a)),Je(Je({},v),{},rr({},w,Je(Je({axisType:a},i.defaultProps),{},{hide:!0,orientation:Po(rZe,"".concat(a,".").concat(p%2),null),domain:N,originalDomain:j,isCategorical:x,layout:u})))}return v},{})},lZe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,A="".concat(i,"Id"),f=Io(u,a),m={};return f&&f.length?m=aZe(t,{axes:f,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=oZe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:A,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},cZe=function(t){var r=xh(t),n=Xd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:OI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Bj(r,n)}},v$=function(t){var r=t.children,n=t.defaultShowTooltip,i=wo(r,vg),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},dZe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ou(r&&r.type);return n&&n.indexOf("Bar")>=0})},b$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uZe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,A=n.children,f=n.margin||{},m=wo(A,vg),x=wo(A,$h),p=Object.keys(c).reduce(function(N,B){var I=c[B],P=I.orientation;return!I.mirror&&!I.hide?Je(Je({},N),{},rr({},P,N[P]+I.width)):N},{left:f.left||0,right:f.right||0}),v=Object.keys(o).reduce(function(N,B){var I=o[B],P=I.orientation;return!I.mirror&&!I.hide?Je(Je({},N),{},rr({},P,Po(N,"".concat(P))+I.height)):N},{top:f.top||0,bottom:f.bottom||0}),y=Je(Je({},v),p),b=y.bottom;m&&(y.bottom+=m.props.height||vg.defaultProps.height),x&&r&&(y=m9e(y,i,n,r));var w=d-y.left-y.right,j=u-y.top-y.bottom;return Je(Je({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(j,0)})},hZe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},a_=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,A=t.defaultProps,f=function(y,b){var w=b.graphicalItems,j=b.stackGroups,N=b.offset,B=b.updateId,I=b.dataStartIndex,P=b.dataEndIndex,T=y.barSize,U=y.layout,k=y.barGap,E=y.barCategoryGap,Q=y.maxBarSize,F=b$(U),K=F.numericAxisName,W=F.cateAxisName,D=dZe(w),z=[];return w.forEach(function(ee,te){var le=i_(y.data,{graphicalItems:[ee],dataStartIndex:I,dataEndIndex:P}),$=ee.type.defaultProps!==void 0?Je(Je({},ee.type.defaultProps),ee.props):ee.props,X=$.dataKey,V=$.maxBarSize,ne=$["".concat(K,"Id")],ae=$["".concat(W,"Id")],he={},ge=c.reduce(function(et,me){var Be=b["".concat(me.axisType,"Map")],Ne=$["".concat(me.axisType,"Id")];Be&&Be[Ne]||me.axisType==="zAxis"||Yf();var Ee=Be[Ne];return Je(Je({},et),{},rr(rr({},me.axisType,Ee),"".concat(me.axisType,"Ticks"),Xd(Ee)))},he),J=ge[W],ue=ge["".concat(W,"Ticks")],fe=j&&j[ne]&&j[ne].hasStack&&C9e(ee,j[ne].stackGroups),Y=ou(ee.type).indexOf("Bar")>=0,je=Bj(J,ue),xe=[],re=D&&A9e({barSize:T,stackGroups:j,totalSize:hZe(ge,W)});if(Y){var Ce,Ie,Ue=Ar(V)?Q:V,Oe=(Ce=(Ie=Bj(J,ue,!0))!==null&&Ie!==void 0?Ie:Ue)!==null&&Ce!==void 0?Ce:0;xe=f9e({barGap:k,barCategoryGap:E,bandSize:Oe!==je?Oe:je,sizeList:re[ae],maxBarSize:Ue}),Oe!==je&&(xe=xe.map(function(et){return Je(Je({},et),{},{position:Je(Je({},et.position),{},{offset:et.position.offset-Oe/2})})}))}var Xe=ee&&ee.type&&ee.type.getComposedData;Xe&&z.push({props:Je(Je({},Xe(Je(Je({},ge),{},{displayedData:le,props:y,dataKey:X,item:ee,bandSize:je,barPosition:xe,offset:N,stackedData:fe,layout:U,dataStartIndex:I,dataEndIndex:P}))),{},rr(rr(rr({key:ee.key||"item-".concat(te)},K,ge[K]),W,ge[W]),"animationId",B)),childIndex:f6e(ee,y.children),item:ee})}),z},m=function(y,b){var w=y.props,j=y.dataStartIndex,N=y.dataEndIndex,B=y.updateId;if(!FD({props:w}))return null;var I=w.children,P=w.layout,T=w.stackOffset,U=w.data,k=w.reverseStackOrder,E=b$(P),Q=E.numericAxisName,F=E.cateAxisName,K=Io(I,n),W=N9e(U,K,"".concat(Q,"Id"),"".concat(F,"Id"),T,k),D=c.reduce(function($,X){var V="".concat(X.axisType,"Map");return Je(Je({},$),{},rr({},V,lZe(w,Je(Je({},X),{},{graphicalItems:K,stackGroups:X.axisType===Q&&W,dataStartIndex:j,dataEndIndex:N}))))},{}),z=uZe(Je(Je({},D),{},{props:w,graphicalItems:K}),b==null?void 0:b.legendBBox);Object.keys(D).forEach(function($){D[$]=u(w,D[$],z,$.replace("Map",""),r)});var ee=D["".concat(F,"Map")],te=cZe(ee),le=f(w,Je(Je({},D),{},{dataStartIndex:j,dataEndIndex:N,updateId:B,graphicalItems:K,stackGroups:W,offset:z}));return Je(Je({formattedGraphicalItems:le,graphicalItems:K,offset:z,stackGroups:W},te),D)},x=function(v){function y(b){var w,j,N;return VJe(this,y),N=GJe(this,y,[b]),rr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),rr(N,"accessibilityManager",new PJe),rr(N,"handleLegendBBoxUpdate",function(B){if(B){var I=N.state,P=I.dataStartIndex,T=I.dataEndIndex,U=I.updateId;N.setState(Je({legendBBox:B},m({props:N.props,dataStartIndex:P,dataEndIndex:T,updateId:U},Je(Je({},N.state),{},{legendBBox:B}))))}}),rr(N,"handleReceiveSyncEvent",function(B,I,P){if(N.props.syncId===B){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(I)}}),rr(N,"handleBrushChange",function(B){var I=B.startIndex,P=B.endIndex;if(I!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return Je({dataStartIndex:I,dataEndIndex:P},m({props:N.props,dataStartIndex:I,dataEndIndex:P,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:I,dataEndIndex:P})}}),rr(N,"handleMouseEnter",function(B){var I=N.getMouseInfo(B);if(I){var P=Je(Je({},I),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var T=N.props.onMouseEnter;ir(T)&&T(P,B)}}),rr(N,"triggeredAfterMouseMove",function(B){var I=N.getMouseInfo(B),P=I?Je(Je({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var T=N.props.onMouseMove;ir(T)&&T(P,B)}),rr(N,"handleItemMouseEnter",function(B){N.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),rr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),rr(N,"handleMouseMove",function(B){B.persist(),N.throttleTriggeredAfterMouseMove(B)}),rr(N,"handleMouseLeave",function(B){N.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};N.setState(I),N.triggerSyncEvent(I);var P=N.props.onMouseLeave;ir(P)&&P(I,B)}),rr(N,"handleOuterEvent",function(B){var I=A6e(B),P=Po(N.props,"".concat(I));if(I&&ir(P)){var T,U;/.*touch.*/i.test(I)?U=N.getMouseInfo(B.changedTouches[0]):U=N.getMouseInfo(B),P((T=U)!==null&&T!==void 0?T:{},B)}}),rr(N,"handleClick",function(B){var I=N.getMouseInfo(B);if(I){var P=Je(Je({},I),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var T=N.props.onClick;ir(T)&&T(P,B)}}),rr(N,"handleMouseDown",function(B){var I=N.props.onMouseDown;if(ir(I)){var P=N.getMouseInfo(B);I(P,B)}}),rr(N,"handleMouseUp",function(B){var I=N.props.onMouseUp;if(ir(I)){var P=N.getMouseInfo(B);I(P,B)}}),rr(N,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),rr(N,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseDown(B.changedTouches[0])}),rr(N,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&N.handleMouseUp(B.changedTouches[0])}),rr(N,"handleDoubleClick",function(B){var I=N.props.onDoubleClick;if(ir(I)){var P=N.getMouseInfo(B);I(P,B)}}),rr(N,"handleContextMenu",function(B){var I=N.props.onContextMenu;if(ir(I)){var P=N.getMouseInfo(B);I(P,B)}}),rr(N,"triggerSyncEvent",function(B){N.props.syncId!==void 0&&nS.emit(sS,N.props.syncId,B,N.eventEmitterSymbol)}),rr(N,"applySyncEvent",function(B){var I=N.props,P=I.layout,T=I.syncMethod,U=N.state.updateId,k=B.dataStartIndex,E=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)N.setState(Je({dataStartIndex:k,dataEndIndex:E},m({props:N.props,dataStartIndex:k,dataEndIndex:E,updateId:U},N.state)));else if(B.activeTooltipIndex!==void 0){var Q=B.chartX,F=B.chartY,K=B.activeTooltipIndex,W=N.state,D=W.offset,z=W.tooltipTicks;if(!D)return;if(typeof T=="function")K=T(z,B);else if(T==="value"){K=-1;for(var ee=0;ee<z.length;ee++)if(z[ee].value===B.activeLabel){K=ee;break}}var te=Je(Je({},D),{},{x:D.left,y:D.top}),le=Math.min(Q,te.x+te.width),$=Math.min(F,te.y+te.height),X=z[K]&&z[K].value,V=f3(N.state,N.props.data,K),ne=z[K]?{x:P==="horizontal"?z[K].coordinate:le,y:P==="horizontal"?$:z[K].coordinate}:sre;N.setState(Je(Je({},B),{},{activeLabel:X,activeCoordinate:ne,activePayload:V,activeTooltipIndex:K}))}else N.setState(B)}),rr(N,"renderCursor",function(B){var I,P=N.state,T=P.isTooltipActive,U=P.activeCoordinate,k=P.activePayload,E=P.offset,Q=P.activeTooltipIndex,F=P.tooltipAxisBandSize,K=N.getTooltipEventType(),W=(I=B.props.active)!==null&&I!==void 0?I:T,D=N.props.layout,z=B.key||"_recharts-cursor";return _e.createElement(RJe,{key:z,activeCoordinate:U,activePayload:k,activeTooltipIndex:Q,chartName:r,element:B,isActive:W,layout:D,offset:E,tooltipAxisBandSize:F,tooltipEventType:K})}),rr(N,"renderPolarAxis",function(B,I,P){var T=Po(B,"type.axisType"),U=Po(N.state,"".concat(T,"Map")),k=B.type.defaultProps,E=k!==void 0?Je(Je({},k),B.props):B.props,Q=U&&U[E["".concat(T,"Id")]];return _.cloneElement(B,Je(Je({},Q),{},{className:gr(T,Q.className),key:B.key||"".concat(I,"-").concat(P),ticks:Xd(Q,!0)}))}),rr(N,"renderPolarGrid",function(B){var I=B.props,P=I.radialLines,T=I.polarAngles,U=I.polarRadius,k=N.state,E=k.radiusAxisMap,Q=k.angleAxisMap,F=xh(E),K=xh(Q),W=K.cx,D=K.cy,z=K.innerRadius,ee=K.outerRadius;return _.cloneElement(B,{polarAngles:Array.isArray(T)?T:Xd(K,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(U)?U:Xd(F,!0).map(function(te){return te.coordinate}),cx:W,cy:D,innerRadius:z,outerRadius:ee,key:B.key||"polar-grid",radialLines:P})}),rr(N,"renderLegend",function(){var B=N.state.formattedGraphicalItems,I=N.props,P=I.children,T=I.width,U=I.height,k=N.props.margin||{},E=T-(k.left||0)-(k.right||0),Q=Iee({children:P,formattedGraphicalItems:B,legendWidth:E,legendContent:d});if(!Q)return null;var F=Q.item,K=g$(Q,MJe);return _.cloneElement(F,Je(Je({},K),{},{chartWidth:T,chartHeight:U,margin:k,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),rr(N,"renderTooltip",function(){var B,I=N.props,P=I.children,T=I.accessibilityLayer,U=wo(P,ra);if(!U)return null;var k=N.state,E=k.isTooltipActive,Q=k.activeCoordinate,F=k.activePayload,K=k.activeLabel,W=k.offset,D=(B=U.props.active)!==null&&B!==void 0?B:E;return _.cloneElement(U,{viewBox:Je(Je({},W),{},{x:W.left,y:W.top}),active:D,label:K,payload:D?F:[],coordinate:Q,accessibilityLayer:T})}),rr(N,"renderBrush",function(B){var I=N.props,P=I.margin,T=I.data,U=N.state,k=U.offset,E=U.dataStartIndex,Q=U.dataEndIndex,F=U.updateId;return _.cloneElement(B,{key:B.key||"_recharts-brush",onChange:Dw(N.handleBrushChange,B.props.onChange),data:T,x:vt(B.props.x)?B.props.x:k.left,y:vt(B.props.y)?B.props.y:k.top+k.height+k.brushBottom-(P.bottom||0),width:vt(B.props.width)?B.props.width:k.width,startIndex:E,endIndex:Q,updateId:"brush-".concat(F)})}),rr(N,"renderReferenceElement",function(B,I,P){if(!B)return null;var T=N,U=T.clipPathId,k=N.state,E=k.xAxisMap,Q=k.yAxisMap,F=k.offset,K=B.type.defaultProps||{},W=B.props,D=W.xAxisId,z=D===void 0?K.xAxisId:D,ee=W.yAxisId,te=ee===void 0?K.yAxisId:ee;return _.cloneElement(B,{key:B.key||"".concat(I,"-").concat(P),xAxis:E[z],yAxis:Q[te],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:U})}),rr(N,"renderActivePoints",function(B){var I=B.item,P=B.activePoint,T=B.basePoint,U=B.childIndex,k=B.isRange,E=[],Q=I.props.key,F=I.item.type.defaultProps!==void 0?Je(Je({},I.item.type.defaultProps),I.item.props):I.item.props,K=F.activeDot,W=F.dataKey,D=Je(Je({index:U,dataKey:W,cx:P.x,cy:P.y,r:4,fill:aT(I.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Xt(K,!1)),Z2(K));return E.push(y.renderActiveDot(K,D,"".concat(Q,"-activePoint-").concat(U))),T?E.push(y.renderActiveDot(K,Je(Je({},D),{},{cx:T.x,cy:T.y}),"".concat(Q,"-basePoint-").concat(U))):k&&E.push(null),E}),rr(N,"renderGraphicChild",function(B,I,P){var T=N.filterFormatItem(B,I,P);if(!T)return null;var U=N.getTooltipEventType(),k=N.state,E=k.isTooltipActive,Q=k.tooltipAxis,F=k.activeTooltipIndex,K=k.activeLabel,W=N.props.children,D=wo(W,ra),z=T.props,ee=z.points,te=z.isRange,le=z.baseLine,$=T.item.type.defaultProps!==void 0?Je(Je({},T.item.type.defaultProps),T.item.props):T.item.props,X=$.activeDot,V=$.hide,ne=$.activeBar,ae=$.activeShape,he=!!(!V&&E&&D&&(X||ne||ae)),ge={};U!=="axis"&&D&&D.props.trigger==="click"?ge={onClick:Dw(N.handleItemMouseEnter,B.props.onClick)}:U!=="axis"&&(ge={onMouseLeave:Dw(N.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:Dw(N.handleItemMouseEnter,B.props.onMouseEnter)});var J=_.cloneElement(B,Je(Je({},T.props),ge));function ue(me){return typeof Q.dataKey=="function"?Q.dataKey(me.payload):null}if(he)if(F>=0){var fe,Y;if(Q.dataKey&&!Q.allowDuplicatedCategory){var je=typeof Q.dataKey=="function"?ue:"payload.".concat(Q.dataKey.toString());fe=J2(ee,je,K),Y=te&&le&&J2(le,je,K)}else fe=ee==null?void 0:ee[F],Y=te&&le&&le[F];if(ae||ne){var xe=B.props.activeIndex!==void 0?B.props.activeIndex:F;return[_.cloneElement(B,Je(Je(Je({},T.props),ge),{},{activeIndex:xe})),null,null]}if(!Ar(fe))return[J].concat(Pg(N.renderActivePoints({item:T,activePoint:fe,basePoint:Y,childIndex:F,isRange:te})))}else{var re,Ce=(re=N.getItemByXY(N.state.activeCoordinate))!==null&&re!==void 0?re:{graphicalItem:J},Ie=Ce.graphicalItem,Ue=Ie.item,Oe=Ue===void 0?B:Ue,Xe=Ie.childIndex,et=Je(Je(Je({},T.props),ge),{},{activeIndex:Xe});return[_.cloneElement(Oe,et),null,null]}return te?[J,null,null]:[J,null]}),rr(N,"renderCustomized",function(B,I,P){return _.cloneElement(B,Je(Je({key:"recharts-customized-".concat(P)},N.props),N.state))}),rr(N,"renderMap",{CartesianGrid:{handler:Vw,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Vw},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Vw},YAxis:{handler:Vw},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:cm("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=PZ(N.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),N.state={},N}return XJe(y,v),WJe(y,[{key:"componentDidMount",value:function(){var w,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,j=w.children,N=w.data,B=w.height,I=w.layout,P=wo(j,ra);if(P){var T=P.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,k=f3(this.state,N,T,U),E=this.state.tooltipTicks[T].coordinate,Q=(this.state.offset.top+B)/2,F=I==="horizontal",K=F?{x:E,y:Q}:{y:E,x:Q},W=this.state.formattedGraphicalItems.find(function(z){var ee=z.item;return ee.type.name==="Scatter"});W&&(K=Je(Je({},K),W.props.points[T].tooltipPosition),k=W.props.points[T].tooltipPayload);var D={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:U,activePayload:k,activeCoordinate:K};this.setState(D),this.renderCursor(P),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var N,B;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(w){$k([wo(w.children,ra)],[wo(this.props.children,ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=wo(this.props.children,ra);if(w&&typeof w.props.shared=="boolean"){var j=w.props.shared?"axis":"item";return l.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var j=this.container,N=j.getBoundingClientRect(),B=D8e(N),I={chartX:Math.round(w.pageX-B.left),chartY:Math.round(w.pageY-B.top)},P=N.width/j.offsetWidth||1,T=this.inRange(I.chartX,I.chartY,P);if(!T)return null;var U=this.state,k=U.xAxisMap,E=U.yAxisMap,Q=this.getTooltipEventType(),F=y$(this.state,this.props.data,this.props.layout,T);if(Q!=="axis"&&k&&E){var K=xh(k).scale,W=xh(E).scale,D=K&&K.invert?K.invert(I.chartX):null,z=W&&W.invert?W.invert(I.chartY):null;return Je(Je({},I),{},{xValue:D,yValue:z},F)}return F?Je(Je({},I),F):null}},{key:"inRange",value:function(w,j){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,I=w/N,P=j/N;if(B==="horizontal"||B==="vertical"){var T=this.state.offset,U=I>=T.left&&I<=T.left+T.width&&P>=T.top&&P<=T.top+T.height;return U?{x:I,y:P}:null}var k=this.state,E=k.angleAxisMap,Q=k.radiusAxisMap;if(E&&Q){var F=xh(E);return V7({x:I,y:P},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,j=this.getTooltipEventType(),N=wo(w,ra),B={};N&&j==="axis"&&(N.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Z2(this.props,this.handleOuterEvent);return Je(Je({},I),B)}},{key:"addListener",value:function(){nS.on(sS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nS.removeListener(sS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,j,N){for(var B=this.state.formattedGraphicalItems,I=0,P=B.length;I<P;I++){var T=B[I];if(T.item===w||T.props.key===w.key||j===ou(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,j=this.state.offset,N=j.left,B=j.top,I=j.height,P=j.width;return _e.createElement("defs",null,_e.createElement("clipPath",{id:w},_e.createElement("rect",{x:N,y:B,height:I,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(j,N){var B=p$(N,2),I=B[0],P=B[1];return Je(Je({},j),{},rr({},I,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(j,N){var B=p$(N,2),I=B[0],P=B[1];return Je(Je({},j),{},rr({},I,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(w){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[w])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(w){var j=this.state,N=j.formattedGraphicalItems,B=j.activeItem;if(N&&N.length)for(var I=0,P=N.length;I<P;I++){var T=N[I],U=T.props,k=T.item,E=k.type.defaultProps!==void 0?Je(Je({},k.type.defaultProps),k.props):k.props,Q=ou(k.type);if(Q==="Bar"){var F=(U.data||[]).find(function(z){return CKe(w,z)});if(F)return{graphicalItem:T,payload:F}}else if(Q==="RadialBar"){var K=(U.data||[]).find(function(z){return V7(w,z)});if(K)return{graphicalItem:T,payload:K}}else if(J5(T,B)||Z5(T,B)||cv(T,B)){var W=fGe({graphicalItem:T,activeTooltipItem:B,itemData:E.data}),D=E.activeIndex===void 0?W:E.activeIndex;return{graphicalItem:Je(Je({},T),{},{childIndex:D}),payload:cv(T,B)?E.data[W]:T.props.data[W]}}}return null}},{key:"render",value:function(){var w=this;if(!FD(this))return null;var j=this.props,N=j.children,B=j.className,I=j.width,P=j.height,T=j.style,U=j.compact,k=j.title,E=j.desc,Q=g$(j,DJe),F=Xt(Q,!1);if(U)return _e.createElement(YQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement(zk,xp({},F,{width:I,height:P,title:k,desc:E}),this.renderClipPath(),RD(N,this.renderMap)));if(this.props.accessibilityLayer){var K,W;F.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,F.role=(W=this.props.role)!==null&&W!==void 0?W:"application",F.onKeyDown=function(z){w.accessibilityManager.keyboardEvent(z)},F.onFocus=function(){w.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return _e.createElement(YQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},_e.createElement("div",xp({className:gr("recharts-wrapper",B),style:Je({position:"relative",cursor:"default",width:I,height:P},T)},D,{ref:function(ee){w.container=ee}}),_e.createElement(zk,xp({},F,{width:I,height:P,title:k,desc:E,style:nZe}),this.renderClipPath(),RD(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);rr(x,"displayName",r),rr(x,"defaultProps",Je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},A)),rr(x,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,j=v.children,N=v.width,B=v.height,I=v.layout,P=v.stackOffset,T=v.margin,U=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var E=v$(v);return Je(Je(Je({},E),{},{updateId:0},m(Je(Je({props:v},E),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:B,prevLayout:I,prevStackOffset:P,prevMargin:T,prevChildren:j})}if(b!==y.prevDataKey||w!==y.prevData||N!==y.prevWidth||B!==y.prevHeight||I!==y.prevLayout||P!==y.prevStackOffset||!Mp(T,y.prevMargin)){var Q=v$(v),F={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},K=Je(Je({},y$(y,w,I)),{},{updateId:y.updateId+1}),W=Je(Je(Je({},Q),F),K);return Je(Je(Je({},W),m(Je({props:v},W),y)),{},{prevDataKey:b,prevData:w,prevWidth:N,prevHeight:B,prevLayout:I,prevStackOffset:P,prevMargin:T,prevChildren:j})}if(!$k(j,y.prevChildren)){var D,z,ee,te,le=wo(j,vg),$=le&&(D=(z=le.props)===null||z===void 0?void 0:z.startIndex)!==null&&D!==void 0?D:U,X=le&&(ee=(te=le.props)===null||te===void 0?void 0:te.endIndex)!==null&&ee!==void 0?ee:k,V=$!==U||X!==k,ne=!Ar(w),ae=ne&&!V?y.updateId:y.updateId+1;return Je(Je({updateId:ae},m(Je(Je({props:v},y),{},{updateId:ae,dataStartIndex:$,dataEndIndex:X}),y)),{},{prevChildren:j,dataStartIndex:$,dataEndIndex:X})}return null}),rr(x,"renderActiveDot",function(v,y,b){var w;return _.isValidElement(v)?w=_.cloneElement(v,y):ir(v)?w=v(y):w=_e.createElement(tb,y),_e.createElement(Tr,{className:"recharts-active-dot",key:b},w)});var p=_.forwardRef(function(y,b){return _e.createElement(x,xp({},y,{ref:b}))});return p.displayName=x.displayName,p},are=a_({chartName:"LineChart",GraphicalChild:Jf,axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:lT}),ore=a_({chartName:"BarChart",GraphicalChild:ju,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:lT}),AZe=a_({chartName:"PieChart",GraphicalChild:Eu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:X5},{axisType:"radiusAxis",AxisComp:q5}],formatAxisMap:F9e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),lre=a_({chartName:"AreaChart",GraphicalChild:Pu,axisComponents:[{axisType:"xAxis",AxisComp:cc},{axisType:"yAxis",AxisComp:Al}],formatAxisMap:lT});const fZe=({onClose:e})=>{const t=to(),r=cr(),i=(()=>{try{const A=localStorage.getItem("user");return A?JSON.parse(A):null}catch(A){return console.error("Error parsing user data:",A),null}})(),a=[{name:"Dashboard",href:"/admin-dashboard",icon:Ir},{name:"All Users",href:"/admin-users",icon:Vr},{name:"Add Admin",href:"/admin-add-admin",icon:tr},{name:"Room Owners",href:"/admin-owners",icon:ar},{name:"Seekers",href:"/admin-seekers",icon:ar},{name:"Properties",href:"/admin-properties",icon:Jr},{name:"Settings",href:"/admin-settings",icon:nc}],o=()=>{e&&e()},l=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),r("/login"),e&&e()},c=A=>t.pathname===A,d={hover:{x:4,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},u={hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}};return s.jsxs(Z.div,{className:"fixed inset-y-0 left-0 z-50 w-64 max-w-[80vw] bg-white border-r border-gray-200 flex flex-col shadow-xl",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsxs(Z.div,{className:"flex items-center space-x-3",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.3},children:[s.jsx(Z.div,{className:"w-8 h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsxs("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:[s.jsx("span",{className:"text-red-600",children:"Lyvo"})," Admin"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]}),s.jsx(Z.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Close sidebar",variants:u,whileHover:"hover",whileTap:"tap",children:s.jsx(or,{className:"w-5 h-5"})})]}),s.jsx(Z.div,{className:"flex-shrink-0 p-4 border-b border-gray-200",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.15,duration:.3},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Z.div,{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(tr,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(i==null?void 0:i.name)||"Admin User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:(i==null?void 0:i.email)||"admin@lyvo.com"})]})]})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:s.jsx("div",{className:"px-4 space-y-2",children:a.map((A,f)=>{const m=A.icon;return s.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.25+f*.05,duration:.3,ease:"easeOut"},children:s.jsx(Z.div,{variants:d,whileHover:"hover",whileTap:"tap",children:s.jsxs(Tt,{to:A.href,onClick:o,className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors duration-200 ${c(A.href)?"text-red-700 bg-red-50 border-r-2 border-red-700":"text-gray-700 hover:text-red-700 hover:bg-red-50"}`,children:[s.jsx(m,{className:`mr-3 h-5 w-5 ${c(A.href)?"text-red-700":"text-gray-400 group-hover:text-red-700"}`}),A.name]})})},A.name)})})}),s.jsx(Z.div,{className:"flex-shrink-0 p-4 border-t border-gray-200",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},children:s.jsxs(Z.button,{onClick:l,className:"group flex items-center w-full px-3 py-3 text-sm font-medium text-gray-700 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200",variants:u,whileHover:"hover",whileTap:"tap",children:[s.jsx(hc,{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-red-700"}),"Logout"]})})]})},mZe=({onMenuClick:e})=>{const[t,r]=_.useState(!1),[n,i]=_.useState(!1),[a,o]=_.useState([]),[l,c]=_.useState(!1),[d,u]=_.useState(0),A=cr(),f="http://localhost:5000/api",m="http://localhost:5000/api",p=(()=>{try{const E=localStorage.getItem("user");return E?JSON.parse(E):null}catch(E){return console.error("Error parsing user data:",E),null}})();_.useEffect(()=>{const E=Q=>{Q.target.closest(".dropdown-container")||(r(!1),i(!1))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const v=()=>{r(!t),i(!1)},y=()=>{i(!n),r(!1)},b=async()=>{c(!0);try{const E=localStorage.getItem("authToken"),Q=JSON.parse(localStorage.getItem("user")||"{}");if(!E||!Q._id)return;const F={"Content-Type":"application/json",Authorization:`Bearer ${E}`,"x-user-id":Q._id},[K,W,D]=await Promise.all([fetch(`${m}/notifications`,{headers:F}),fetch(`${f}/user/all`,{headers:F}),fetch(`${m}/property/admin/properties?limit=100`,{headers:F})]),z=await K.json(),ee=await W.json(),te=await D.json(),le=ee.data||[],$=te.data||te.properties||[],X=[];z.success&&z.data&&z.data.filter(ge=>!ge.is_read).forEach(ge=>{var J,ue;X.push({_id:ge._id,id:ge._id,type:ge.type||"general",icon:(J=ge.type)!=null&&J.includes("property")?f2:(ue=ge.type)!=null&&ue.includes("user")?wy:Zt,title:ge.title,message:ge.message,time:I(ge.createdAt),actionUrl:ge.action_url,isRead:ge.is_read,createdAt:ge.createdAt})});const V=w();$.filter(ge=>ge.approval_status==="pending").slice(0,3).forEach(ge=>{const J=`pending-prop-${ge._id}`;if(V.includes(J))return;X.find(fe=>fe.message&&fe.message.includes(ge.property_name)&&fe.type.includes("property"))||X.push({id:J,type:"property_approval",icon:f2,title:"Property Approval Required",message:`${ge.property_name} is waiting for approval`,time:I(ge.createdAt),actionUrl:`/admin-property-details/${ge._id}`,isRead:!1,createdAt:ge.createdAt,isSystemGenerated:!0})});const ae=new Date(Date.now()-24*60*60*1e3);le.filter(ge=>ge.role!==2&&new Date(ge.createdAt)>ae).sort((ge,J)=>new Date(J.createdAt)-new Date(ge.createdAt)).slice(0,3).forEach(ge=>{const J=`new-user-${ge._id}`;if(V.includes(J))return;const ue=ge.role===1?"Seeker":ge.role===3?"Owner":"User";X.find(Y=>Y.message&&Y.message.includes(ge.name)&&Y.type.includes("user"))||X.push({id:J,type:"user_registration",icon:wy,title:`New ${ue} Registered`,message:`${ge.name} just joined the platform`,time:I(ge.createdAt),actionUrl:ge.role===3?"/admin-owners":"/admin-seekers",isRead:!1,createdAt:ge.createdAt,isSystemGenerated:!0})}),X.sort((ge,J)=>{const ue=ge.type==="property_approval"?0:1,fe=J.type==="property_approval"?0:1;return ue!==fe?ue-fe:new Date(J.createdAt)-new Date(ge.createdAt)}),o(X),u(X.length),N()}catch(E){console.error("Error fetching admin notifications:",E)}finally{c(!1)}},w=()=>{try{const E=localStorage.getItem("admin_dismissed_notifications");return E?JSON.parse(E):[]}catch{return[]}},j=E=>{try{const Q=w();Q.includes(E)||(Q.push(E),localStorage.setItem("admin_dismissed_notifications",JSON.stringify(Q)))}catch(Q){console.error("Error saving dismissed notification:",Q)}},N=E=>{try{const F=w().filter(D=>D.startsWith("pending-prop-")||D.startsWith("new-user-")),K=Date.now()-7*24*60*60*1e3,W=F.slice(-50);localStorage.setItem("admin_dismissed_notifications",JSON.stringify(W))}catch(Q){console.error("Error cleaning up dismissed notifications:",Q)}},B=async(E,Q)=>{try{if(Q){j(E),o(D=>D.filter(z=>z.id!==E)),u(D=>Math.max(0,D-1));return}const F=localStorage.getItem("authToken"),K=JSON.parse(localStorage.getItem("user")||"{}");if(!F||!K._id)return;(await fetch(`${m}/notifications/${E}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`,"x-user-id":K._id}})).ok&&(o(D=>D.filter(z=>z._id!==E)),u(D=>Math.max(0,D-1)),b())}catch(F){console.error("Error deleting notification:",F)}},I=E=>{const Q=new Date(E),K=Math.floor((new Date-Q)/1e3);return K<60?`${K}s ago`:K<3600?`${Math.floor(K/60)}m ago`:K<86400?`${Math.floor(K/3600)}h ago`:K<2592e3?`${Math.floor(K/86400)}d ago`:`${Math.floor(K/2592e3)}mo ago`};_.useEffect(()=>{b();const E=setInterval(b,3e4);return()=>clearInterval(E)},[]);const P=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.dispatchEvent(new Event("lyvo-logout")),A("/login")},T=E=>{E.actionUrl&&(A(E.actionUrl),i(!1))};_.useEffect(()=>{const E=Q=>{console.log(" AdminNavbar received new-notification event:",Q.detail),b()};return window.addEventListener("new-notification",E),()=>window.removeEventListener("new-notification",E)},[]);const U={hidden:{opacity:0,y:-10,scale:.95,transformOrigin:"top right"},visible:{opacity:1,y:0,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15,ease:"easeIn"}}},k={hover:{scale:1.05,transition:{duration:.1}},tap:{scale:.95,transition:{duration:.1}}};return s.jsx("nav",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 py-3 lg:px-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx(Z.button,{onClick:e,className:"lg:hidden p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"Toggle menu",variants:k,whileHover:"hover",whileTap:"tap",children:s.jsx(_N,{className:"w-5 h-5"})}),s.jsxs(Tt,{to:"/admin-dashboard",className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(Z.div,{className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo Admin",className:"w-full h-full object-contain"})}),s.jsxs("div",{className:"hidden sm:block",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Lyvo Admin"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Co-Living Platform"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Z.button,{onClick:y,className:"p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200 relative","aria-label":"Notifications",variants:k,whileHover:"hover",whileTap:"tap",children:[s.jsx(Wh,{className:"w-5 h-5"}),d>0&&s.jsx(Z.span,{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white px-1",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:d>9?"9+":d})]}),s.jsx(gn,{children:n&&s.jsxs(Z.div,{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:U,initial:"hidden",animate:"visible",exit:"exit",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),d>0&&s.jsxs("span",{className:"px-2 py-1 text-xs font-semibold bg-red-100 text-red-700 rounded-full",children:[d," new"]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:l?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Loading notifications..."})]}):a.length===0?s.jsxs("div",{className:"p-8 text-center text-gray-500",children:[s.jsx(Wh,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm font-medium",children:"No notifications"}),s.jsx("p",{className:"text-xs mt-1",children:"You're all caught up!"})]}):a.map((E,Q)=>{const F=E.icon;return s.jsxs(Z.div,{className:`relative p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors group ${E.type==="property_approval"?"bg-orange-50 hover:bg-orange-100":""}`,whileHover:{backgroundColor:E.type==="property_approval"?"#fed7aa":"#f9fafb"},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Q*.05,duration:.2},children:[s.jsxs("div",{className:"flex items-start space-x-3 pr-8",onClick:()=>T(E),children:[s.jsx("div",{className:`p-2 rounded-lg ${E.type==="property_approval"?"bg-orange-200 text-orange-700":"bg-blue-100 text-blue-600"}`,children:s.jsx(F,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:E.title}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:E.message}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-1.5"}),E.time]})]}),E.type==="property_approval"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Zt,{className:"w-4 h-4 text-orange-600"})})]}),s.jsx("button",{onClick:K=>{K.stopPropagation(),B(E._id||E.id,E.isSystemGenerated)},className:"absolute top-3 right-3 p-1 rounded-full hover:bg-red-100 transition-colors opacity-0 group-hover:opacity-100",title:"Dismiss notification",children:s.jsx(sr,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]},E.id)})}),a.length>0&&s.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:s.jsx("button",{onClick:()=>{i(!1),A("/admin-properties")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 hover:bg-red-50 rounded-md transition-colors",children:"View all pending approvals "})})]})})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs(Z.button,{onClick:v,className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200","aria-label":"User menu",variants:k,whileHover:"hover",whileTap:"tap",children:[s.jsx(Z.div,{className:"w-7 h-7 sm:w-8 sm:h-8 bg-red-100 rounded-full flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.2},children:s.jsx(ar,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600"})}),s.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700",children:(p==null?void 0:p.name)||"Admin"})]}),s.jsx(gn,{children:t&&s.jsx(Z.div,{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",variants:U,initial:"hidden",animate:"visible",exit:"exit",children:s.jsxs("div",{className:"py-2",children:[s.jsx(Z.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs(Tt,{to:"/admin-settings",className:"block px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(nc,{className:"w-4 h-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(Z.div,{whileHover:{backgroundColor:"#f3f4f6"},transition:{duration:.2},children:s.jsxs("button",{onClick:P,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 flex items-center space-x-2",children:[s.jsx(hc,{className:"w-4 h-4"}),s.jsx("span",{children:"Logout"})]})})]})})})]})]})]})})},pZe=()=>s.jsx("footer",{className:"bg-white border-t border-gray-200 px-6 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:s.jsx("img",{src:"/Lyvo_no_bg.png",alt:"Lyvo",className:"w-full h-full object-contain"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lyvo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Co-Living Platform"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Quick Links"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Support"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Privacy"})}),s.jsx("div",{children:s.jsx("a",{href:"#",className:"hover:text-red-600 transition-colors",children:"Terms"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Contact"}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("div",{children:"admin@lyvo.com"}),s.jsx("div",{children:"+44 20 7998 7571"})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," Lyvo. All rights reserved."]})})]})}),pl=({children:e,showSidebar:t=!0})=>{const[r,n]=_.useState(!1),i=()=>{n(!r)},a=()=>{n(!1)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:a}),t&&s.jsx("div",{className:`
          fixed lg:fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out
          ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:s.jsx(fZe,{onClose:a})}),s.jsxs("div",{className:`flex-1 flex flex-col ${t?"lg:ml-64":""}`,children:[s.jsx("div",{className:"sticky top-0 z-30 bg-white",children:s.jsx(mZe,{onMenuClick:i})}),s.jsx("main",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:e}),s.jsx(pZe,{})]})]})},gZe=()=>{const[e,t]=_.useState("overview"),[r,n]=_.useState(!0),[i,a]=_.useState([]),[o,l]=_.useState([]),[c,d]=_.useState([]),[u,A]=_.useState({totalUsers:0,activeProperties:0,monthlyRevenue:0,pendingApprovals:0}),f="http://localhost:5000/api",m="http://localhost:5000/api",x=B=>{const I=new Date(B),T=Math.floor((new Date-I)/1e3);return T<60?`${T} seconds ago`:T<3600?`${Math.floor(T/60)} minutes ago`:T<86400?`${Math.floor(T/3600)} hours ago`:T<2592e3?`${Math.floor(T/86400)} days ago`:`${Math.floor(T/2592e3)} months ago`},p=B=>B>=1e7?`${(B/1e7).toFixed(1)}Cr`:B>=1e5?`${(B/1e5).toFixed(1)}L`:B>=1e3?`${(B/1e3).toFixed(1)}K`:`${B}`;_.useEffect(()=>{(async()=>{n(!0);try{const I=localStorage.getItem("authToken"),P={"Content-Type":"application/json",Authorization:I?`Bearer ${I}`:""},[T,U,k]=await Promise.all([fetch(`${f}/user/all`,{headers:P}),fetch(`${m}/property/admin/properties?limit=1000`,{headers:P}),fetch(`${m}/property/debug/bookings`,{headers:P})]),E=await T.json(),Q=await U.json(),F=await k.json();a(E.data||[]),l(Q.data||Q.properties||[]),d(F.bookings||[])}catch(I){console.error("Error fetching dashboard data:",I)}finally{n(!1)}})()},[]);const v=_.useMemo(()=>{const B=i.filter(F=>F.role!==2).length,I=o.length,P=o.filter(F=>(F.approval_status==="approved"||F.status==="active")&&F.status!=="inactive").length,T=o.filter(F=>F.approval_status==="pending").length;console.log("Dashboard Stats:",{totalProperties:o.length,activeProperties:P,pendingApprovals:T,propertiesBreakdown:o.map(F=>({name:F.property_name,approval_status:F.approval_status,status:F.status,isActive:(F.approval_status==="approved"||F.status==="active")&&F.status!=="inactive"}))});const U=new Date().getMonth(),k=new Date().getFullYear(),Q=c.filter(F=>{var W;const K=new Date(F.createdAt);return K.getMonth()===U&&K.getFullYear()===k&&F.status==="confirmed"&&((W=F.payment)==null?void 0:W.paymentStatus)==="completed"}).reduce((F,K)=>{var W;return F+(((W=K.payment)==null?void 0:W.amount)||0)},0);return{totalUsers:B,totalProperties:I,activeProperties:P,monthlyRevenue:Q,pendingApprovals:T}},[i,o,c]),y=_.useMemo(()=>{const B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I=[],P=new Date;for(let U=5;U>=0;U--){const k=new Date(P.getFullYear(),P.getMonth()-U,1),E=k.getMonth(),Q=k.getFullYear(),F=i.filter(K=>{if(K.role===2)return!1;const W=new Date(K.createdAt);return W.getMonth()===E&&W.getFullYear()===Q}).length;I.push({month:B[E],users:F,growth:F})}let T=0;return I.map(U=>(T+=U.users,{...U,users:T}))},[i]),b=_.useMemo(()=>{const B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I=[],P=new Date;for(let T=5;T>=0;T--){const U=new Date(P.getFullYear(),P.getMonth()-T,1),k=U.getMonth(),E=U.getFullYear(),Q=c.filter(K=>{var D;const W=new Date(K.createdAt);return W.getMonth()===k&&W.getFullYear()===E&&K.status==="confirmed"&&((D=K.payment)==null?void 0:D.paymentStatus)==="completed"}),F=Q.reduce((K,W)=>{var D;return K+(((D=W.payment)==null?void 0:D.amount)||0)},0);I.push({month:B[k],revenue:F,bookings:Q.length})}return I},[c]),w=[{title:"Total Users",value:v.totalUsers.toLocaleString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})},{title:"Total Properties",value:v.totalProperties.toString(),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{title:"Monthly Revenue",value:p(v.monthlyRevenue),change:"+0%",changeType:"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})},{title:"Pending Approvals",value:v.pendingApprovals.toString(),change:"0%",changeType:v.pendingApprovals>0?"negative":"positive",icon:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}],j=_.useMemo(()=>{const B=[];return i.filter(U=>U.role!==2).sort((U,k)=>new Date(k.createdAt)-new Date(U.createdAt)).slice(0,3).forEach(U=>{B.push({id:`user-${U._id}`,type:"user_registration",message:`New user registered: ${U.name}`,time:x(U.createdAt),status:"success"})}),o.sort((U,k)=>new Date(k.createdAt)-new Date(U.createdAt)).slice(0,2).forEach(U=>{U.approval_status==="approved"&&B.push({id:`prop-${U._id}`,type:"property_approval",message:`Property approved: ${U.property_name}`,time:x(U.updatedAt||U.createdAt),status:"success"})}),c.filter(U=>{var k;return U.status==="confirmed"&&((k=U.payment)==null?void 0:k.paymentStatus)==="completed"}).sort((U,k)=>new Date(k.createdAt)-new Date(U.createdAt)).slice(0,2).forEach(U=>{var k;B.push({id:`booking-${U._id}`,type:"payment_received",message:`Payment received: ${p(((k=U.payment)==null?void 0:k.amount)||0)}`,time:x(U.createdAt),status:"success"})}),B.sort((U,k)=>0).slice(0,5)},[i,o,c]),N=[{id:"overview",label:"Overview",icon:""},{id:"analytics",label:"Analytics",icon:""},{id:"reports",label:"Reports",icon:""}];return r?s.jsx(pl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-12 h-12 text-red-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading dashboard data..."})]})})}):s.jsx(pl,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"mt-1 lg:mt-2 text-sm lg:text-base text-gray-600",children:"Welcome back! Here's what's happening with your platform today."})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex space-x-2 lg:space-x-3",children:[s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("button",{className:"px-3 lg:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 text-sm",children:s.jsx("svg",{className:"w-4 h-4 lg:w-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:w.map((B,I)=>s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:I*.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-6 hover:shadow-md transition-shadow duration-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600",children:B.title}),s.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900 mt-1",children:B.value}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("span",{className:`text-xs lg:text-sm font-medium ${B.changeType==="positive"?"text-green-600":"text-red-600"}`,children:B.change}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-1 hidden sm:inline",children:"from last month"})]})]}),s.jsx("div",{className:"p-2 lg:p-3 bg-red-50 rounded-lg text-red-600",children:B.icon})]})},B.title))}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-4 lg:space-x-8 px-4 lg:px-6 overflow-x-auto",children:N.map(B=>s.jsxs("button",{onClick:()=>t(B.id),className:`py-3 lg:py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors duration-200 ${e===B.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:B.icon}),B.label]},B.id))})}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="overview"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"User Growth"}),s.jsx(of,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(lre,{data:y,children:[s.jsx(_f,{strokeDasharray:"3 3"}),s.jsx(cc,{dataKey:"month"}),s.jsx(Al,{}),s.jsx(ra,{}),s.jsx(Pu,{type:"monotone",dataKey:"users",stroke:"#ef4444",fill:"#fef2f2",strokeWidth:2})]})})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Revenue & Bookings"}),s.jsx(of,{width:"100%",height:250,className:"lg:h-[300px]",children:s.jsxs(ore,{data:b,children:[s.jsx(_f,{strokeDasharray:"3 3"}),s.jsx(cc,{dataKey:"month"}),s.jsx(Al,{yAxisId:"left"}),s.jsx(Al,{yAxisId:"right",orientation:"right"}),s.jsx(ra,{}),s.jsx($h,{}),s.jsx(ju,{yAxisId:"left",dataKey:"revenue",fill:"#ef4444"}),s.jsx(ju,{yAxisId:"right",dataKey:"bookings",fill:"#3b82f6"})]})})]})]})}),e==="analytics"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Detailed Analytics"}),s.jsx(of,{width:"100%",height:300,className:"lg:h-[400px]",children:s.jsxs(are,{data:y,children:[s.jsx(_f,{strokeDasharray:"3 3"}),s.jsx(cc,{dataKey:"month"}),s.jsx(Al,{}),s.jsx(ra,{}),s.jsx($h,{}),s.jsx(Jf,{type:"monotone",dataKey:"users",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:6}}),s.jsx(Jf,{type:"monotone",dataKey:"growth",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:6}})]})})]})}),e==="reports"&&s.jsx("div",{className:"space-y-4 lg:space-y-6",children:s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 lg:p-6",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Recent Activities"}),s.jsx("div",{className:"space-y-3 lg:space-y-4",children:j.map(B=>s.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[s.jsx("div",{className:`w-2 h-2 lg:w-3 lg:h-3 rounded-full mr-3 flex-shrink-0 ${B.status==="success"?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-gray-700 text-sm lg:text-base truncate",children:B.message})]}),s.jsx("span",{className:"text-xs lg:text-sm text-gray-500 ml-2 flex-shrink-0",children:B.time})]},B.id))})]})})]})]})]})})},xZe=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(null),[f,m]=_.useState(!1),[x,p]=_.useState(!1);_.useEffect(()=>{(async()=>{try{n(!0),a("");const j=localStorage.getItem("authToken"),B=await fetch("http://localhost:5000/api/user/users",{headers:{Authorization:`Bearer ${j}`}}),I=await B.json();if(!B.ok)throw new Error((I==null?void 0:I.message)||"Failed to fetch users");const P=((I==null?void 0:I.data)||[]).filter(T=>T.role===3).map(T=>({_id:T._id,name:T.name,email:T.email,kycStatus:T.kycStatus||"not_submitted",govtIdFrontUrl:T.govtIdFrontUrl||null,govtIdBackUrl:T.govtIdBackUrl||null,isVerified:!!T.isVerified,isActive:T.isActive!==!1,createdAt:T.createdAt,updatedAt:T.updatedAt}));l(P)}catch(j){a(j.message),l([])}finally{n(!1)}})()},[]);const v=_.useMemo(()=>o.filter(w=>w.name.toLowerCase().includes(e.toLowerCase())||w.email.toLowerCase().includes(e.toLowerCase())),[o,e]),y=async(w,j)=>{try{m(!0);const N=localStorage.getItem("authToken"),I=await fetch("http://localhost:5000/api/admin/kyc/review",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({userId:w,action:j})}),P=await I.json();if(!I.ok)throw new Error((P==null?void 0:P.message)||"Failed to update KYC status");l(T=>T.map(U=>U._id===w?{...U,kycStatus:j==="approve"?"approved":"rejected"}:U)),u&&u._id===w&&A(T=>({...T,kycStatus:j==="approve"?"approved":"rejected"})),alert(`KYC ${j==="approve"?"approved":"rejected"} successfully!`)}catch(N){console.error("KYC review error:",N),alert(`Error: ${N.message}`)}finally{m(!1)}},b=async w=>{try{p(!0);const j=localStorage.getItem("authToken"),B=await fetch(`http://localhost:5000/api/admin/user/${w}/toggle-status`,{method:"PATCH",headers:{Authorization:`Bearer ${j}`}}),I=await B.json();if(!B.ok)throw new Error((I==null?void 0:I.message)||"Failed to toggle user status");l(P=>P.map(T=>T._id===w?{...T,isActive:!T.isActive}:T)),u&&u._id===w&&A(P=>({...P,isActive:!P.isActive})),alert(`User ${I.user.isActive?"activated":"deactivated"} successfully!`)}catch(j){console.error("Toggle status error:",j),alert(`Error: ${j.message}`)}finally{p(!1)}};return s.jsx(pl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Room Owners"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all property owners"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(Vr,{className:"w-4 h-4"}),s.jsxs("span",{children:[v.length," owners"]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:w=>t(w.target.value),placeholder:"Search owners...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading owners"}),i&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:i})]}),s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Owner"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"KYC"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(w=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:w.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4 text-gray-400"}),w.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.kycStatus==="approved"?"bg-green-100 text-green-800":w.kycStatus==="rejected"?"bg-red-100 text-red-800":w.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(w.kycStatus).toUpperCase()})}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:w.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{A(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(Er,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>b(w._id),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:w.isActive?"Deactivate User":"Activate User",children:w.isActive?"Deactivate":"Activate"}),w.kycStatus==="pending"&&(w.govtIdFrontUrl||w.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>y(w._id,"approve"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",title:"Approve KYC",children:s.jsx(jt,{className:"w-3 h-3"})}),s.jsx("button",{onClick:()=>y(w._id,"reject"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",title:"Reject KYC",children:s.jsx(sr,{className:"w-3 h-3"})})]})]})})]},w._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:v.map(w=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:w.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4"}),w.email]}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.kycStatus==="approved"?"bg-green-100 text-green-800":w.kycStatus==="rejected"?"bg-red-100 text-red-800":w.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(w.kycStatus).toUpperCase()}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w.isActive?"ACTIVE":"INACTIVE"})]}),s.jsxs("div",{className:"mt-2 flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>{A(w),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>b(w._id),disabled:x,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${w.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:w.isActive?"Deactivate":"Activate"}),w.kycStatus==="pending"&&(w.govtIdFrontUrl||w.govtIdBackUrl)&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>y(w._id,"approve"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[s.jsx(jt,{className:"w-3 h-3 mr-1"}),"Approve"]}),s.jsxs("button",{onClick:()=>y(w._id,"reject"),disabled:f,className:"inline-flex items-center px-2 py-1 text-xs bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:[s.jsx(sr,{className:"w-3 h-3 mr-1"}),"Reject"]})]})]})]},w._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Owner Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-4 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"KYC Status:"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${u.kycStatus==="approved"?"bg-green-100 text-green-800":u.kycStatus==="rejected"?"bg-red-100 text-red-800":u.kycStatus==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:String(u.kycStatus).toUpperCase()})]}),(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"font-medium text-gray-900",children:"Government ID Documents:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Front Image"}),s.jsx("img",{src:u.govtIdFrontUrl,alt:"Front",className:"w-full h-40 object-cover rounded border"})]}),u.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Back Image"}),s.jsx("img",{src:u.govtIdBackUrl,alt:"Back",className:"w-full h-40 object-cover rounded border"})]})]})]}),u.kycStatus==="pending"&&(u.govtIdFrontUrl||u.govtIdBackUrl)&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("div",{className:"font-medium text-gray-900 mb-3",children:"Review KYC Documents:"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>y(u._id,"approve"),disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(jt,{className:"w-4 h-4"}),f?"Processing...":"Approve KYC"]}),s.jsxs("button",{onClick:()=>y(u._id,"reject"),disabled:f,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(sr,{className:"w-4 h-4"}),f?"Processing...":"Reject KYC"]})]})]}),u.kycStatus==="pending"&&!u.govtIdFrontUrl&&!u.govtIdBackUrl&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-yellow-600",children:[s.jsx(ns,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"No KYC documents uploaded yet"})]})})]})]})})]})})},yZe=()=>{const[e,t]=_.useState(""),[r,n]=_.useState(!1),[i,a]=_.useState(""),[o,l]=_.useState([]),[c,d]=_.useState(!1),[u,A]=_.useState(null),[f,m]=_.useState(!1);_.useEffect(()=>{(async()=>{try{n(!0),a("");const y=localStorage.getItem("authToken"),w=await fetch("http://localhost:5000/api/user/users",{headers:{Authorization:`Bearer ${y}`}}),j=await w.json();if(!w.ok)throw new Error((j==null?void 0:j.message)||"Failed to fetch users");const N=((j==null?void 0:j.data)||[]).filter(B=>B.role===1).map(B=>({_id:B._id,name:B.name,email:B.email,isVerified:!!B.isVerified,isActive:B.isActive!==!1,createdAt:B.createdAt,updatedAt:B.updatedAt}));l(N)}catch(y){a(y.message),l([])}finally{n(!1)}})()},[]);const x=_.useMemo(()=>o.filter(v=>v.name.toLowerCase().includes(e.toLowerCase())||v.email.toLowerCase().includes(e.toLowerCase())),[o,e]),p=async v=>{try{m(!0);const y=localStorage.getItem("authToken"),w=await fetch(`http://localhost:5000/api/admin/user/${v}/toggle-status`,{method:"PATCH",headers:{Authorization:`Bearer ${y}`}}),j=await w.json();if(!w.ok)throw new Error((j==null?void 0:j.message)||"Failed to toggle user status");l(N=>N.map(B=>B._id===v?{...B,isActive:!B.isActive}:B)),u&&u._id===v&&A(N=>({...N,isActive:!N.isActive})),alert(`User ${j.user.isActive?"activated":"deactivated"} successfully!`)}catch(y){console.error("Toggle status error:",y),alert(`Error: ${y.message}`)}finally{m(!1)}};return s.jsx(pl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Seekers"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all room seekers"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-600",children:[s.jsx(Vr,{className:"w-4 h-4"}),s.jsxs("span",{children:[x.length," seekers"]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[s.jsx("div",{className:"flex gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{value:e,onChange:v=>t(v.target.value),placeholder:"Search seekers...",className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})}),r&&s.jsx("div",{className:"mt-3 text-sm text-gray-600",children:"Loading seekers"}),i&&!r&&s.jsx("div",{className:"mt-3 text-sm text-red-600",children:i})]}),s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto overflow-y-auto max-h-[60vh]",children:s.jsxs("table",{className:"w-full table-fixed",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Seeker"}),s.jsx("th",{className:"px-6 py-3 text-left w-1/5",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left w-20",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left w-24",children:"Email Verified"}),s.jsx("th",{className:"px-6 py-3 text-left w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(v=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-3 truncate",children:v.name}),s.jsxs("td",{className:"px-6 py-3 truncate flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4 text-gray-400"}),v.email]}),s.jsx("td",{className:"px-6 py-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.isActive?"ACTIVE":"INACTIVE"})}),s.jsx("td",{className:"px-6 py-3",children:v.isVerified?"Yes":"No"}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>{A(v),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md hover:bg-gray-50",children:[s.jsx(Er,{className:"w-4 h-4 mr-1"}),"Details"]}),s.jsx("button",{onClick:()=>p(v._id),disabled:f,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${v.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,title:v.isActive?"Deactivate User":"Activate User",children:v.isActive?"Deactivate":"Activate"})]})})]},v._id))})]})}),s.jsx("div",{className:"lg:hidden p-4 space-y-3",children:x.map(v=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"font-semibold",children:v.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4"}),v.email]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.isActive?"ACTIVE":"INACTIVE"})}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>{A(v),d(!0)},className:"inline-flex items-center px-2 py-1 text-xs border rounded-md",children:"View"}),s.jsx("button",{onClick:()=>p(v._id),disabled:f,className:`inline-flex items-center px-2 py-1 text-xs rounded-md text-white disabled:opacity-50 ${v.isActive?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:v.isActive?"Deactivate":"Activate"})]})]},v._id))})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:"Seeker Details"}),s.jsx("button",{onClick:()=>d(!1),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})]}),s.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:u.name}),s.jsxs("div",{className:"text-gray-700 flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4"})," ",u.email]}),s.jsxs("div",{children:["Email Verified: ",s.jsx("span",{className:"font-medium",children:u.isVerified?"Yes":"No"})]})]})]})})]})})},vZe=()=>{const[e,t]=_.useState([]),[r,n]=_.useState(!0),[i,a]=_.useState(""),[o,l]=_.useState(""),[c,d]=_.useState("all"),[u,A]=_.useState("all"),[f,m]=_.useState(null),[x,p]=_.useState(""),v="http://localhost:5000/api",y=P=>({1:"Seeker",2:"Admin",3:"Owner"})[P]||"Unknown",b=P=>({1:{color:"bg-blue-100 text-blue-800",icon:ar},2:{color:"bg-purple-100 text-purple-800",icon:tr},3:{color:"bg-green-100 text-green-800",icon:Ir}})[P]||{color:"bg-gray-100 text-gray-800",icon:ar},w=async()=>{try{n(!0),a("");const P=localStorage.getItem("authToken"),T=await fetch(`${v}/user/all`,{method:"GET",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(!T.ok)throw new Error("Failed to fetch users");const U=await T.json();console.log("Fetched users:",U);const k=U.users||U.data||U||[];t(Array.isArray(k)?k:[])}catch(P){console.error("Error fetching users:",P),a(P.message||"Failed to load users")}finally{n(!1)}};_.useEffect(()=>{w()},[]);const j=async(P,T)=>{try{m(P);const U=localStorage.getItem("authToken"),k=await fetch(`${v}/user/${P}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({isActive:!T})});if(!k.ok)throw new Error("Failed to update user status");const E=await k.json();t(Q=>Q.map(F=>F._id===P?{...F,isActive:!T}:F)),p(`User ${T?"deactivated":"activated"} successfully!`),setTimeout(()=>p(""),3e3)}catch(U){console.error("Error updating user status:",U),a(U.message||"Failed to update user status"),setTimeout(()=>a(""),3e3)}finally{m(null)}},N=e.filter(P=>{var E,Q,F;if(P.role===2)return!1;const T=o===""||((E=P.name)==null?void 0:E.toLowerCase().includes(o.toLowerCase()))||((Q=P.email)==null?void 0:Q.toLowerCase().includes(o.toLowerCase()))||((F=P.phone)==null?void 0:F.includes(o)),U=c==="all"||P.role===parseInt(c),k=u==="all"||u==="active"&&P.isActive!==!1||u==="inactive"&&P.isActive===!1;return T&&U&&k}),B=e.filter(P=>P.role!==2),I={total:B.length,active:B.filter(P=>P.isActive!==!1).length,inactive:B.filter(P=>P.isActive===!1).length,seekers:B.filter(P=>P.role===1).length,owners:B.filter(P=>P.role===3).length};return s.jsx(pl,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Vr,{className:"w-8 h-8 text-red-600"}),"All Users"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all users across the platform"})]})}),x&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:x})]}),i&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-600"}),s.jsx("span",{className:"text-red-800 font-medium",children:i})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Users"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),s.jsx(Vr,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.active})]}),s.jsx(jt,{className:"w-8 h-8 text-green-500"})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:I.inactive})]}),s.jsx(sr,{className:"w-8 h-8 text-red-500"})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Seekers"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.seekers})]}),s.jsx(ar,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Owners"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.owners})]}),s.jsx(Ir,{className:"w-8 h-8 text-green-500"})]})})]}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, or phone...",value:o,onChange:P=>l(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(m2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"1",children:"Seekers"}),s.jsx("option",{value:"3",children:"Owners"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(m2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:u,onChange:P=>A(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent appearance-none bg-white",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}):N.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Vr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No users found"}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Try adjusting your filters"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map((P,T)=>{var Q;const U=b(P.role),k=U.icon,E=P.isActive!==!1;return s.jsxs(Z.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-red-400 to-red-600 rounded-full flex items-center justify-center text-white font-semibold",children:((Q=P.name)==null?void 0:Q.charAt(0).toUpperCase())||"U"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.name||"Unknown User"}),s.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U.color}`,children:[s.jsx(k,{className:"w-3 h-3 mr-1"}),y(P.role)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(ms,{className:"w-3 h-3 text-gray-400"}),P.phone||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(wr,{className:"w-3 h-3 text-gray-400"}),P.location||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[s.jsx(Or,{className:"w-3 h-3 text-gray-400"}),P.createdAt?new Date(P.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E?s.jsxs(s.Fragment,{children:[s.jsx(jt,{className:"w-3 h-3 mr-1"}),"Active"]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-3 h-3 mr-1"}),"Inactive"]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{onClick:()=>j(P._id,E),disabled:f===P._id,className:`inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${E?"bg-red-50 text-red-700 hover:bg-red-100 border border-red-200":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[f===P._id?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-current mr-1"}):E?s.jsx(sr,{className:"w-3 h-3 mr-1"}):s.jsx(jt,{className:"w-3 h-3 mr-1"}),f===P._id?"Updating...":E?"Deactivate":"Activate"]})})]},P._id)})})]})})}),!r&&N.length>0&&s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-4 text-center text-sm text-gray-600",children:["Showing ",N.length," of ",e.length," users"]})]})})},bZe=()=>{const e=cr(),[t,r]=_.useState({name:"",email:"",password:"",confirmPassword:""}),[n,i]=_.useState(!1),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[d,u]=_.useState(""),[A,f]=_.useState(""),[m,x]=_.useState({}),[p,v]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[y,b]=_.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[w,j]=_.useState(!1),[N,B]=_.useState(null),I="http://localhost:5000/api",P=async K=>{if(!K||!K.includes("@")){B(null);return}j(!0);try{const W=localStorage.getItem("authToken"),D=await fetch(`${I}/user/check-email?email=${encodeURIComponent(K.toLowerCase().trim())}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:W?`Bearer ${W}`:""}}),z=await D.json();D.ok?B(z.exists?z:null):B(null)}catch(W){console.error("Error checking email:",W),B(null)}finally{j(!1)}};_.useEffect(()=>{if(t.email&&y.email){const K=setTimeout(()=>{P(t.email)},500);return()=>clearTimeout(K)}else B(null)},[t.email,y.email]);const T=()=>{const K={};t.name.trim()?t.name.trim().length<2?K.name="Name must be at least 2 characters":t.name.trim().length>50&&(K.name="Name must not exceed 50 characters"):K.name="Name is required";const W=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!t.email.trim())K.email="Email is required";else if(!W.test(t.email))K.email="Please enter a valid email address";else if(N&&N.exists){const D=N.role===1?"Seeker":N.role===3?"Owner":"Admin";K.email=`This email is already registered as a ${D}`}else t.email.trim().length>100&&(K.email="Email must not exceed 100 characters");if(!t.password)K.password="Password is required";else{const D=[];t.password.length<8&&D.push("at least 8 characters"),/[A-Z]/.test(t.password)||D.push("one uppercase letter"),/[a-z]/.test(t.password)||D.push("one lowercase letter"),/[0-9]/.test(t.password)||D.push("one number"),/[!@#$%^&*(),.?":{}|<>]/.test(t.password)||D.push("one special character (!@#$%^&*...)"),D.length>0&&(K.password=`Password must contain ${D.join(", ")}`)}return t.confirmPassword?t.password!==t.confirmPassword&&(K.confirmPassword="Passwords do not match"):K.confirmPassword="Please confirm password",x(K),Object.keys(K).length===0},U=K=>{v({length:K.length>=8,uppercase:/[A-Z]/.test(K),lowercase:/[a-z]/.test(K),number:/[0-9]/.test(K),special:/[!@#$%^&*(),.?":{}|<>]/.test(K)})},k=K=>{const{name:W,value:D}=K.target;r(z=>({...z,[W]:D})),W==="password"&&U(D),y[W]&&Q(W,D)},E=K=>{const{name:W}=K.target;b(D=>({...D,[W]:!0})),Q(W,t[W])},Q=(K,W)=>{const D={...m};switch(K){case"name":W.trim()?W.trim().length<2?D.name="Name must be at least 2 characters":W.trim().length>50?D.name="Name must not exceed 50 characters":delete D.name:D.name="Name is required";break;case"email":const z=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;W.trim()?z.test(W)?W.trim().length>100?D.email="Email must not exceed 100 characters":delete D.email:D.email="Please enter a valid email address":D.email="Email is required";break;case"password":W?!p.length||!p.uppercase||!p.lowercase||!p.number||!p.special?D.password="":delete D.password:D.password="Password is required";break;case"confirmPassword":W?W!==t.password?D.confirmPassword="Passwords do not match":delete D.confirmPassword:D.confirmPassword="Please confirm password";break}x(D)},F=async K=>{if(K.preventDefault(),!!T()){c(!0),u(""),f("");try{const W=localStorage.getItem("authToken"),D=await fetch(`${I}/admin/create-admin`,{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify({name:t.name.trim(),email:t.email.trim().toLowerCase(),password:t.password,role:2})}),z=await D.json();if(!D.ok)throw new Error(z.message||"Failed to create admin");f(`Admin account created successfully! Login credentials have been sent to ${t.email}`),r({name:"",email:"",password:"",confirmPassword:""}),setTimeout(()=>{e("/admin-dashboard")},3e3)}catch(W){console.error("Error creating admin:",W),u(W.message||"Failed to create admin account")}finally{c(!1)}}};return s.jsx(pl,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[s.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(Js,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(tr,{className:"w-8 h-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Admin"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new administrator account"})]})]})]}),A&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:A}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:" Email notification sent with login credentials."}),s.jsx("p",{className:"text-green-700 text-sm",children:"Redirecting to dashboard..."})]})]}),d&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("p",{className:"text-red-800 font-medium",children:d})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:s.jsxs("form",{onSubmit:F,className:"space-y-6",children:[s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(tr,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Administrator Privileges"}),s.jsx("p",{children:"This account will have full access to the admin panel including user management, property approvals, and system settings."})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:k,onBlur:E,className:`w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.name?"border-red-500":y.name&&!m.name&&t.name?"border-green-500":"border-gray-200"}`,placeholder:"Enter admin's full name",disabled:l}),m.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),m.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:k,onBlur:E,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${N&&N.exists||m.email?"border-red-500":y.email&&!m.email&&t.email&&!w&&!N?"border-green-500":"border-gray-200"}`,placeholder:"admin@example.com",disabled:l}),w&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(oa,{className:"w-5 h-5 text-gray-400 animate-spin"})}),!w&&y.email&&t.email&&!m.email&&!N&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(jt,{className:"w-5 h-5 text-green-500"})}),!w&&N&&N.exists&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(Zt,{className:"w-5 h-5 text-red-500"})})]}),N&&N.exists&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),`This email is already registered as a ${N.role===1?"Seeker":N.role===3?"Owner":"Admin"}`]}),m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),m.email]}),!w&&y.email&&t.email&&!m.email&&!N&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-3 h-3"}),"Email is available!"]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:t.password,onChange:k,onBlur:E,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.password?"border-red-500":"border-gray-200"}`,placeholder:"Enter secure password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),m.password&&m.password!==""&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),m.password]}),t.password&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password requirements:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.length?"text-green-600":"text-gray-500"}`,children:[p.length?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.uppercase?"text-green-600":"text-gray-500"}`,children:[p.uppercase?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.lowercase?"text-green-600":"text-gray-500"}`,children:[p.lowercase?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.number?"text-green-600":"text-gray-500"}`,children:[p.number?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${p.special?"text-green-600":"text-gray-500"}`,children:[p.special?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:a?"text":"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:k,onBlur:E,className:`w-full pl-11 pr-12 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all ${m.confirmPassword?"border-red-500":y.confirmPassword&&!m.confirmPassword&&t.confirmPassword?"border-green-500":"border-gray-200"}`,placeholder:"Re-enter password",disabled:l}),s.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),m.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),m.confirmPassword]}),y.confirmPassword&&!m.confirmPassword&&t.confirmPassword&&t.password===t.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>e("/admin-dashboard"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l||w||N&&N.exists,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-purple-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wy,{className:"w-5 h-5"}),"Create Admin Account"]})})]})]})}),s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zt,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Security Reminder"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-700",children:[s.jsx("li",{children:"Share admin credentials securely"}),s.jsx("li",{children:"Use strong, unique passwords"}),s.jsx("li",{children:"Only create admin accounts for trusted personnel"}),s.jsx("li",{children:"Admin accounts have unrestricted system access"})]})]})]})})]})]})})},wZe=()=>{const e=cr(),[t,r]=_.useState(""),[n,i]=_.useState("all"),[a,o]=_.useState([]),[l,c]=_.useState(!1),[d,u]=_.useState(""),[A,f]=_.useState([]),[m,x]=_.useState(!1),[p,v]=_.useState(""),y="http://localhost:5000/api";_.useEffect(()=>{(async()=>{try{c(!0),u("");const I=localStorage.getItem("authToken"),P=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),T=P._id||P.id||"",U=`${y}/property/admin/properties?page=1&limit=200`;console.log("Fetching Admin Properties from:",U),console.log("Using Auth Token:",I?"Yes":"No"),console.log("User ID:",T);const k=await fetch(U,{headers:{Authorization:I?`Bearer ${I}`:"","x-user-id":T}});console.log("Response Status:",k.status);const E=await k.json();if(console.log("Response Data:",E),!k.ok||E.success!==!0)throw new Error(E.message||"Failed to fetch properties");const Q=Array.isArray(E.data)?E.data:[];console.log("Set Properties:",Q.length),f(Q)}catch(I){console.error("Fetch Error:",I),u(I.message)}finally{c(!1)}})()},[]);const b=_.useMemo(()=>{const B=t.trim().toLowerCase();return(A||[]).filter(I=>{var E,Q,F,K;const P=(I.property_name||"").toLowerCase(),T=`${((E=I.address)==null?void 0:E.street)||""} ${((Q=I.address)==null?void 0:Q.city)||""} ${((F=I.address)==null?void 0:F.state)||""}`.toLowerCase(),U=!B||P.includes(B)||T.includes(B)||(((K=I.owner)==null?void 0:K.name)||"").toLowerCase().includes(B),k=n==="all"||(I.approval_status||"pending")===n||(I.status||"active")===n;return U&&k})},[A,t,n]),w=_.useMemo(()=>{const B={};return b.forEach(I=>{var T,U;const P=((T=I.owner)==null?void 0:T.name)||((U=I.owner)==null?void 0:U.email)||I.owner_id||"Unknown Owner";B[P]||(B[P]=[]),B[P].push(I)}),B},[b]),j=_.useMemo(()=>{const B=A.length,I=A.filter(k=>(k.approval_status==="approved"||k.status==="active")&&k.status!=="inactive").length,P=A.filter(k=>k.approval_status==="pending").length;let T=0;return A.forEach(k=>{k.rooms&&Array.isArray(k.rooms)&&k.rooms.forEach(E=>{E.rent&&typeof E.rent=="number"&&(T+=E.rent)})}),{totalProperties:B,activeListings:I,pendingApproval:P,totalRevenue:(k=>k>=1e7?`${(k/1e7).toFixed(1)}Cr`:k>=1e5?`${(k/1e5).toFixed(1)}L`:k>=1e3?`${(k/1e3).toFixed(1)}K`:`${k}`)(T)}},[A]),N=B=>{const I={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"},suspended:{text:"Suspended",color:"bg-red-100 text-red-800"}};return I[B]||I.inactive};return s.jsx(pl,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Property Management"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all owner properties, view details, and approve or reject rooms"})]}),d&&s.jsx("div",{className:"p-3 rounded-md bg-red-50 text-red-700 border border-red-200",children:d}),l&&s.jsx("div",{className:"p-3 rounded-md bg-gray-50 text-gray-700 border border-gray-200",children:"Loading properties"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Properties"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.totalProperties})]}),s.jsx("div",{className:"p-3 rounded-lg bg-blue-50",children:s.jsx(Ir,{className:"w-6 h-6 text-blue-500"})})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Listings"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.activeListings})]}),s.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:s.jsx(ka,{className:"w-6 h-6 text-green-500"})})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Approval"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.pendingApproval})]}),s.jsx("div",{className:"p-3 rounded-lg bg-yellow-50",children:s.jsx(Or,{className:"w-6 h-6 text-yellow-500"})})]})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.totalRevenue})]}),s.jsx("div",{className:"p-3 rounded-lg bg-green-50",children:s.jsx(ti,{className:"w-6 h-6 text-green-500"})})]})})]}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search properties by title or location...",value:t,onChange:B=>r(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(m2,{className:"w-4 h-4 text-gray-400"}),s.jsxs("select",{value:n,onChange:B=>i(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"suspended",children:"Suspended"})]})]}),a.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[a.length," selected"]}),s.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Approve Selected"}),s.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Reject Selected"})]})]})}),s.jsx("div",{className:"space-y-8",children:Object.entries(w).map(([B,I])=>{var P,T;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center",children:s.jsx(ar,{className:"w-5 h-5 text-gray-700"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:B}),s.jsx("p",{className:"text-gray-500 text-sm",children:((T=(P=I[0])==null?void 0:P.owner)==null?void 0:T.email)||""})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map((U,k)=>{var D,z,ee,te;const E=N(U.approval_status||"pending"),Q=U.rooms||[],F=((D=U.images)==null?void 0:D.front)||((z=Q.find(le=>le.room_image))==null?void 0:z.room_image),K=Q.filter(le=>(le.approval_status||"pending")==="pending").length,W=Q.filter(le=>(le.approval_status||"pending")==="approved").length;return s.jsxs(Z.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},transition:{delay:k*.05},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 cursor-pointer group",onClick:()=>{console.log("Property clicked:",U._id,U.property_name),console.log("Navigating to:",`/admin-property-details/${U._id}`),e(`/admin-property-details/${U._id}`)},children:[s.jsxs("div",{className:"relative h-48 bg-gray-200",children:[F?s.jsx("img",{src:F,alt:U.property_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:s.jsx(Jr,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.color}`,children:E.text})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(Er,{className:"w-8 h-8 text-white"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-1",children:U.property_name})}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[s.jsx(wr,{className:"w-4 h-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:`${((ee=U.address)==null?void 0:ee.city)||""}, ${((te=U.address)==null?void 0:te.state)||""}`})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Rooms"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Q.length})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Approved"}),s.jsx("span",{className:"font-semibold text-green-600",children:W})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Pending"}),s.jsx("span",{className:"font-semibold text-yellow-600",children:K})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("button",{onClick:le=>{le.stopPropagation(),console.log("View Details clicked:",U._id,U.property_name),console.log("Navigating to:",`/admin-property-details/${U._id}`),e(`/admin-property-details/${U._id}`)},className:"flex items-center px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:[s.jsx(Er,{className:"w-3 h-3 mr-1"}),"View Details"]})}),s.jsx(kV,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors"})]})]})]},U._id)})})]},B)})}),s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",s.jsx("span",{className:"font-medium",children:Object.keys(w).length})," owner groups  ",s.jsx("span",{className:"font-medium",children:b.length})," properties"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Previous"}),s.jsx("button",{className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md",children:"1"}),s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"2"}),s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"3"}),s.jsx("button",{className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Next"})]})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx($r,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:p}),s.jsx("button",{onClick:()=>x(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})})]})})},jZe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",NZe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let _Ze=Oa.icon({iconUrl:jZe,shadowUrl:NZe,iconSize:[25,41],iconAnchor:[12,41]});Oa.Marker.prototype.options.icon=_Ze;const CZe=()=>{var $,X,V,ne,ae,he,ge,J,ue,fe,Y,je,xe,re,Ce,Ie,Ue,Oe,Xe,et,me,Be;const{propertyId:e}=_u(),t=cr();console.log("AdminPropertyDetails component loaded"),console.log("propertyId from useParams:",e),console.log("Current URL:",window.location.href),console.log("Component mounted successfully");const[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(""),[c,d]=_.useState(null),[u,A]=_.useState(!1),[f,m]=_.useState(!1),[x,p]=_.useState(!1),[v,y]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[b,w]=_.useState(""),[j,N]=_.useState(!1),[B,I]=_.useState(""),[P,T]=_.useState(""),[U,k]=_.useState(!1),E="http://localhost:5000/api",Q=r&&typeof r.latitude=="number"&&typeof r.longitude=="number"&&!Number.isNaN(r.latitude)&&!Number.isNaN(r.longitude);_.useEffect(()=>{e&&(async()=>{try{a(!0),l("");const Ee=localStorage.getItem("authToken"),$e=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ot=$e._id||$e.id||"";console.log("Fetching property details for ID:",e),console.log("Current URL:",window.location.href);const nt=await fetch(`${E}/property/admin/properties/${e}`,{headers:{Authorization:Ee?`Bearer ${Ee}`:"","x-user-id":ot}}),tt=await nt.json();if(console.log("Admin property response:",tt),!nt.ok||tt.success!==!0)throw new Error(tt.message||"Failed to fetch property");console.log("Found property:",tt.data),n(tt.data)}catch(Ee){l(Ee.message)}finally{a(!1)}})()},[e]);const F=async(Ne,Ee)=>{try{console.log(`Attempting to ${Ee} room:`,Ne);const $e=localStorage.getItem("authToken"),ot=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),nt=ot._id||ot.id||"";console.log("Auth token:",$e?"Present":"Missing"),console.log("User ID:",nt);const tt=await fetch(`${E}/property/admin/rooms/${Ne}/approve`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:$e?`Bearer ${$e}`:"","x-user-id":nt},body:JSON.stringify({status:Ee==="approve"?"approved":"rejected"})});console.log("Response status:",tt.status);const Ke=await tt.json();if(console.log("Response data:",Ke),!tt.ok||Ke.success!==!0)throw new Error(Ke.message||"Failed to update room");n(it=>({...it,rooms:(it.rooms||[]).map(lt=>lt._id===Ne?{...lt,...Ke.data}:lt)})),A(!1),w(`Room ${Ee==="approve"?"approved":"rejected"} successfully!`),p(!0),setTimeout(()=>{p(!1)},3e3),console.log(`Room ${Ne} ${Ee}ed successfully`)}catch($e){console.error(`Error ${Ee}ing room:`,$e),I(`Failed to ${Ee} room: ${$e.message}`),N(!0),setTimeout(()=>{N(!1)},5e3)}},K=async()=>{try{const Ne=localStorage.getItem("authToken"),Ee=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),$e=Ee._id||Ee.id||"",ot=await fetch(`${E}/property/admin/properties/${e}`,{method:"DELETE",headers:{Authorization:Ne?`Bearer ${Ne}`:"","x-user-id":$e}}),nt=await ot.json();if(!ot.ok||nt.success!==!0)throw new Error(nt.message||"Failed to delete property");w("Property deleted successfully!"),p(!0),setTimeout(()=>{p(!1),t("/admin-properties")},1500)}catch(Ne){I(Ne.message),N(!0),setTimeout(()=>N(!1),5e3)}},W=async Ne=>{try{const Ee=localStorage.getItem("authToken"),$e=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ot=$e._id||$e.id||"",nt=await fetch(`${E}/property/admin/rooms/${Ne}`,{method:"DELETE",headers:{Authorization:Ee?`Bearer ${Ee}`:"","x-user-id":ot}}),tt=await nt.json();if(!nt.ok||tt.success!==!0)throw new Error(tt.message||"Failed to delete room");n(Ke=>({...Ke,rooms:(Ke.rooms||[]).filter(it=>it._id!==Ne)})),w("Room deleted successfully!"),p(!0),setTimeout(()=>p(!1),3e3)}catch(Ee){I(Ee.message),N(!0),setTimeout(()=>N(!1),5e3)}},D=async Ne=>{try{const Ee=localStorage.getItem("authToken"),$e=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),ot=$e._id||$e.id||"",nt=await fetch(`${E}/property/admin/properties/${e}/approve`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:Ee?`Bearer ${Ee}`:"","x-user-id":ot},body:JSON.stringify({status:Ne==="approve"?"approved":"rejected"})}),tt=await nt.json();if(!nt.ok||tt.success!==!0)throw new Error(tt.message||"Failed to update property");n(Ke=>({...Ke,...tt.data})),w(`Property ${Ne==="approve"?"approved":"rejected"} successfully!`),p(!0),setTimeout(()=>p(!1),3e3)}catch(Ee){I(Ee.message),N(!0),setTimeout(()=>N(!1),5e3)}},z=async()=>{if(!P.trim()){I("Please enter a message"),N(!0),setTimeout(()=>N(!1),3e3);return}try{k(!0);const Ne=localStorage.getItem("authToken"),Ee=(()=>{try{return JSON.parse(localStorage.getItem("user")||"{}")}catch{return{}}})(),$e=Ee._id||Ee.id||"",ot=await fetch(`${E}/property/admin/message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:Ne?`Bearer ${Ne}`:"","x-user-id":$e},body:JSON.stringify({propertyId:e,message:P.trim()})}),nt=await ot.json();if(!ot.ok||nt.success!==!0)throw new Error(nt.message||"Failed to send message");w("Message sent to owner successfully!"),p(!0),setTimeout(()=>p(!1),3e3),T("")}catch(Ne){I(Ne.message||"Failed to send message"),N(!0),setTimeout(()=>N(!1),5e3)}finally{k(!1)}},ee=Ne=>({ac:"",wifi:"",tv:"",fridge:"",wardrobe:"",studyTable:"",balcony:"",attachedBathroom:"",parking4w:"",parking2w:"",kitchen:"",powerBackup:""})[Ne]||"",te=Ne=>{const Ee={active:{text:"Active",color:"bg-green-100 text-green-800"},pending:{text:"Pending",color:"bg-yellow-100 text-yellow-800"},approved:{text:"Approved",color:"bg-green-100 text-green-800"},rejected:{text:"Rejected",color:"bg-red-100 text-red-800"},inactive:{text:"Inactive",color:"bg-gray-100 text-gray-800"}};return Ee[Ne]||Ee.pending},le=Ne=>{d(Ne),A(!0)};return i?s.jsx(pl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})})}):o||!r?s.jsx(pl,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-600 mb-4",children:o||"Property not found"}),s.jsx("button",{onClick:()=>t("/admin-properties"),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsx(pl,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between min-h-[4rem] py-4 md:py-0 space-y-4 md:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>t("/admin-properties"),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Js,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 line-clamp-1",children:r.property_name}),s.jsx("p",{className:"text-sm md:text-base text-gray-600 line-clamp-1",children:(($=r.owner)==null?void 0:$.name)||"Unknown Owner"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 md:space-x-3",children:[s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${te(r.approval_status||"pending").color}`,children:te(r.approval_status||"pending").text}),s.jsxs("div",{className:"flex flex-1 md:flex-none gap-2 overflow-x-auto pb-1 md:pb-0",children:[["pending","rejected"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>y({isOpen:!0,title:"Approve Property?",message:"Are you sure you want to approve this property? This will make it visible to potential tenants.",onConfirm:()=>D("approve")}),className:"flex-shrink-0 bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 whitespace-nowrap",children:"Approve"}),["pending","approved"].includes(r.approval_status||"pending")&&s.jsx("button",{onClick:()=>y({isOpen:!0,title:"Reject Property?",message:"Are you sure you want to reject this property?",onConfirm:()=>D("reject")}),className:"flex-shrink-0 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 whitespace-nowrap",children:"Reject"}),s.jsxs("button",{onClick:()=>y({isOpen:!0,title:"Delete Property?",message:`Are you sure you want to permanently delete "${r.property_name}"? This will delete all associated rooms and cannot be undone.`,onConfirm:()=>K()}),className:"flex-shrink-0 bg-red-700 text-white px-3 py-2 rounded text-sm hover:bg-red-800 flex items-center whitespace-nowrap",children:[s.jsx(Zp,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Cue,{className:"w-5 h-5 mr-2"}),"Property Images"]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[((X=r.images)==null?void 0:X.front)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Front View"}),s.jsx("img",{src:r.images.front,alt:"Front View",className:"w-full h-48 object-cover rounded-lg"})]}),((V=r.images)==null?void 0:V.back)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Back View"}),s.jsx("img",{src:r.images.back,alt:"Back View",className:"w-full h-48 object-cover rounded-lg"})]}),((ne=r.images)==null?void 0:ne.hall)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Hall"}),s.jsx("img",{src:r.images.hall,alt:"Hall",className:"w-full h-48 object-cover rounded-lg"})]}),((ae=r.images)==null?void 0:ae.kitchen)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Kitchen"}),s.jsx("img",{src:r.images.kitchen,alt:"Kitchen",className:"w-full h-48 object-cover rounded-lg"})]}),r.outside_toilet_image&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Outside Toilet"}),s.jsx("img",{src:r.outside_toilet_image,alt:"Outside Toilet",className:"w-full h-48 object-cover rounded-lg"})]})]}),((he=r.images)==null?void 0:he.gallery)&&r.images.gallery.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Gallery"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.images.gallery.map((Ne,Ee)=>s.jsx("img",{src:Ne,alt:`Gallery ${Ee+1}`,className:"w-full h-32 object-cover rounded-lg"},Ee))})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Ir,{className:"w-5 h-5 mr-2"}),"Property Details"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:r.description||"No description provided"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-900",children:((ge=r.address)==null?void 0:ge.street)||"N/A"}),s.jsxs("p",{className:"text-gray-600",children:[((J=r.address)==null?void 0:J.city)||"N/A",", ",((ue=r.address)==null?void 0:ue.state)||"N/A"]}),s.jsxs("p",{className:"text-gray-600",children:["Pincode: ",((fe=r.address)==null?void 0:fe.pincode)||"N/A"]}),((Y=r.address)==null?void 0:Y.landmark)&&s.jsxs("p",{className:"text-gray-600",children:["Landmark: ",r.address.landmark]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Security Deposit"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",((je=r.security_deposit)==null?void 0:je.toLocaleString())||"0"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.rooms&&r.rooms.length>0?`${Math.min(...r.rooms.map(Ne=>Ne.rent||0)).toLocaleString()} - ${Math.max(...r.rooms.map(Ne=>Ne.rent||0)).toLocaleString()}`:r.monthly_rent?`${r.monthly_rent.toLocaleString()}`:"0"}),r.rooms&&r.rooms.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Range from ",r.rooms.length," room(s)"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Coordinates"}),s.jsx("p",{className:"text-sm text-gray-600",children:Q?`${r.latitude}, ${r.longitude}`:"Not provided"})]})]}),r.amenities&&Object.keys(r.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(r.amenities).map(([Ne,Ee])=>Ee?s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-green-50 rounded-lg",children:[s.jsx("span",{className:"text-lg",children:ee(Ne)}),s.jsx("span",{className:"text-sm font-medium text-green-800 capitalize",children:Ne.replace(/([A-Z])/g," $1").trim()})]},Ne):null)})]}),r.rules&&Object.keys(r.rules).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"House Rules"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(r.rules).map(([Ne,Ee])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${Ee?"bg-green-500":"bg-red-500"}`}),s.jsxs("span",{className:"text-sm text-gray-700 capitalize",children:[Ne.replace(/([A-Z])/g," $1").trim(),": ",Ee?"Allowed":"Not Allowed"]})]},Ne))})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[s.jsx(Jr,{className:"w-5 h-5 mr-2"}),"Rooms (",(r.rooms||[]).length,")"]}),(r.rooms||[]).some(Ne=>Ne.approval_status==="pending")&&s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:[s.jsxs("button",{onClick:()=>{const Ne=(r.rooms||[]).filter(Ee=>Ee.approval_status==="pending");y({isOpen:!0,title:"Approve All Pending Rooms?",message:`Are you sure you want to approve all ${Ne.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ne.forEach(Ee=>F(Ee._id,"approve"))})},className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-green-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx($r,{className:"w-4 h-4 mr-1"}),"Approve All"]}),s.jsxs("button",{onClick:()=>{const Ne=(r.rooms||[]).filter(Ee=>Ee.approval_status==="pending");y({isOpen:!0,title:"Reject All Pending Rooms?",message:`Are you sure you want to reject all ${Ne.length} pending rooms? This action cannot be undone.`,onConfirm:()=>Ne.forEach(Ee=>F(Ee._id,"reject"))})},className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors flex items-center justify-center whitespace-nowrap",children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Reject All"]})]})]})}),s.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b overflow-x-auto",children:s.jsxs("div",{className:"flex items-center space-x-6 min-w-max",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="pending").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="pending").length," Pending"]})]}),(r.rooms||[]).filter(Ne=>Ne.approval_status==="approved").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="approved").length," Approved"]})]}),(r.rooms||[]).filter(Ne=>Ne.approval_status==="rejected").length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[(r.rooms||[]).filter(Ne=>Ne.approval_status==="rejected").length," Rejected"]})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(r.rooms||[]).map(Ne=>{var $e,ot;const Ee=te(Ne.approval_status||"pending");return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",Ne.room_number]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[Ne.room_type,"  ",Ne.room_size," sq ft"]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Ee.color}`,children:Ee.text})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rent"}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["",(($e=Ne.rent)==null?void 0:$e.toLocaleString())||"0"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Occupancy"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Ne.occupancy||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Bed Type"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Ne.bed_type||"N/A"})]})]}),Ne.description&&s.jsx("div",{className:"mt-3",children:s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Ne.description})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[Ne.room_image&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Room Image"}),s.jsx("img",{src:Ne.room_image,alt:"Room",className:"w-full h-32 object-cover rounded"})]}),Ne.toilet_image&&((ot=Ne.amenities)==null?void 0:ot.attachedBathroom)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-1",children:"Toilet Image"}),s.jsx("img",{src:Ne.toilet_image,alt:"Toilet",className:"w-full h-32 object-cover rounded"})]})]}),Ne.amenities&&Object.keys(Ne.amenities).length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:"Room Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(Ne.amenities).map(([nt,tt])=>tt?s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[ee(nt)," ",nt.replace(/([A-Z])/g," $1").trim()]},nt):null)})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 sm:flex sm:items-center sm:space-x-2",children:[s.jsxs("button",{onClick:()=>le(Ne),className:"col-span-2 sm:col-span-1 sm:flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors flex items-center justify-center order-1 sm:order-none",children:[s.jsx(Er,{className:"w-4 h-4 inline mr-1"}),"View"]}),Ne.approval_status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Approve Room?",message:`Are you sure you want to approve Room ${Ne.room_number}?`,onConfirm:()=>F(Ne._id,"approve")})},className:"flex-1 bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 transition-colors flex items-center justify-center order-2 sm:order-none",children:[s.jsx($r,{className:"w-4 h-4 inline mr-1"}),"Approve"]}),s.jsxs("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Reject Room?",message:`Are you sure you want to reject Room ${Ne.room_number}?`,onConfirm:()=>F(Ne._id,"reject")})},className:"flex-1 bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 transition-colors flex items-center justify-center order-3 sm:order-none",children:[s.jsx(sr,{className:"w-4 h-4 inline mr-1"}),"Reject"]})]}),Ne.approval_status==="approved"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 bg-green-100 text-green-800 px-3 py-2 rounded text-sm text-center font-medium flex items-center justify-center order-2 sm:order-none",children:[s.jsx($r,{className:"w-4 h-4 inline mr-1"}),"Approved"]}),s.jsx("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Reject Approved Room?",message:`Are you sure you want to reject this already approved Room ${Ne.room_number}? It will be hidden from seekers.`,onConfirm:()=>F(Ne._id,"reject")})},className:"p-2 bg-red-50 text-red-600 rounded hover:bg-red-100 transition-colors border border-red-200 mt-0 flex items-center justify-center order-3 sm:order-none",title:"Reject this room",children:s.jsx(sr,{className:"w-5 h-5"})})]}),Ne.approval_status==="rejected"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 bg-red-100 text-red-800 px-3 py-2 rounded text-sm text-center font-medium flex items-center justify-center order-2 sm:order-none",children:[s.jsx(sr,{className:"w-4 h-4 inline mr-1"}),"Rejected"]}),s.jsx("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Re-Approve Room?",message:`Are you sure you want to approve this previously rejected Room ${Ne.room_number}? It will become visible to seekers.`,onConfirm:()=>F(Ne._id,"approve")})},className:"p-2 bg-green-50 text-green-600 rounded hover:bg-green-100 transition-colors border border-green-200 mt-0 flex items-center justify-center order-3 sm:order-none",title:"Re-approve this room",children:s.jsx($r,{className:"w-5 h-5"})})]}),s.jsx("button",{onClick:nt=>{nt.stopPropagation(),y({isOpen:!0,title:"Delete Room?",message:`Are you sure you want to permanently delete Room ${Ne.room_number}? This action cannot be undone.`,onConfirm:()=>W(Ne._id)})},className:"col-span-2 sm:col-span-1 p-2 bg-gray-50 text-gray-600 rounded hover:bg-red-50 hover:text-red-600 transition-colors border border-gray-200 hover:border-red-200 sm:ml-2 flex items-center justify-center order-4 sm:order-none",title:"Delete this room",children:s.jsx(Zp,{className:"w-5 h-5"})})]})]},Ne._id)})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(ar,{className:"w-5 h-5 mr-2"}),"Owner Information"]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[(xe=r.owner)!=null&&xe.profilePicture?s.jsx("img",{src:r.owner.profilePicture,alt:r.owner.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center border border-gray-200",children:s.jsx("span",{className:"text-xl font-semibold text-gray-500",children:(((re=r.owner)==null?void 0:re.name)||"?").charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:((Ce=r.owner)==null?void 0:Ce.name)||"Unknown"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-0.5",children:[(Ie=r.owner)!=null&&Ie.isVerified?s.jsxs("span",{className:"flex items-center text-green-600 bg-green-50 px-1.5 py-0.5 rounded",children:[s.jsx($r,{className:"w-3 h-3 mr-1"})," Verified"]}):s.jsx("span",{className:"flex items-center text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:"Unverified"}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{children:["Joined ",(Ue=r.owner)!=null&&Ue.createdAt?new Date(r.owner.createdAt).toLocaleDateString():"N/A"]})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(yn,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900 break-all",children:((Oe=r.owner)==null?void 0:Oe.email)||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(ms,{className:"w-4 h-4 text-gray-400 mt-0.5 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),s.jsx("p",{className:"text-sm text-gray-900",children:((Xe=r.owner)==null?void 0:Xe.phone)||"Not provided"})]})]})]}),s.jsxs("button",{onClick:()=>{var Ne,Ee;T(`Hi ${((Ne=r.owner)==null?void 0:Ne.name)||"Owner"}, regarding your property "${r.property_name}"...`),(Ee=document.querySelector("textarea"))==null||Ee.focus(),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},className:"w-full mt-2 bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors flex items-center justify-center",children:[s.jsx(w4,{className:"w-4 h-4 mr-2"}),"Contact Owner"]})]})]}),Q&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(wr,{className:"w-5 h-5 mr-2"}),"Location"]}),s.jsx("button",{onClick:()=>m(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"View Full Map"})]})}),s.jsx("div",{className:"h-64 relative",children:s.jsx("div",{className:"h-64 relative z-0",children:s.jsxs(Yh,{center:[r.latitude,r.longitude],zoom:15,scrollWheelZoom:!1,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsx(Jh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(Xh,{position:[r.latitude,r.longitude],children:s.jsx(_y,{children:r.property_name})})]})})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(ar,{className:"w-5 h-5 mr-2"}),"Owner Information"]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Name"}),s.jsx("p",{className:"text-gray-900",children:((et=r.owner)==null?void 0:et.name)||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:((me=r.owner)==null?void 0:me.email)||"Not provided"})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2"}),"Documents"]})}),s.jsx("div",{className:"p-4",children:r.land_tax_receipt?s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ks,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Land Tax Receipt"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF Document"})]})]}),s.jsx("a",{href:r.land_tax_receipt,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.jsx(tu,{className:"w-4 h-4"})})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded"})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[s.jsx(w4,{className:"w-5 h-5 mr-2"}),"Send Message to Owner"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Send a notification message to the property owner"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:P,onChange:Ne=>T(Ne.target.value),placeholder:"Type your message here... (e.g., Property details incorrect, Already listed elsewhere, etc.)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all",rows:"4",maxLength:"500",disabled:U}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[s.jsxs("span",{className:"text-xs text-gray-500 order-2 sm:order-1",children:[P.length,"/500 characters"]}),s.jsx("button",{onClick:z,disabled:U||!P.trim(),className:`flex items-center justify-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all w-full sm:w-auto order-1 sm:order-2 ${U||!P.trim()?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md"}`,children:U?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(qh,{className:"w-4 h-4"}),s.jsx("span",{children:"Send Message"})]})})]}),s.jsx("p",{className:"text-xs text-gray-400 italic",children:" Tip: Use this to notify the owner about issues like duplicate listings, incorrect information, or required updates."})]})})]})]})]})}),u&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Room ",c.room_number," Details"]}),s.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:""})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Type"}),s.jsx("p",{className:"text-gray-900",children:c.room_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Room Size"}),s.jsxs("p",{className:"text-gray-900",children:[c.room_size," sq ft"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Bed Type"}),s.jsx("p",{className:"text-gray-900",children:c.bed_type})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Occupancy"}),s.jsx("p",{className:"text-gray-900",children:c.occupancy})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Rent"}),s.jsxs("p",{className:"text-gray-900",children:["",(Be=c.rent)==null?void 0:Be.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Status"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${te(c.approval_status||"pending").color}`,children:te(c.approval_status||"pending").text})]})]}),c.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-900",children:c.description})]}),c.amenities&&Object.keys(c.amenities).length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(c.amenities).map(([Ne,Ee])=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${Ee?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-sm text-gray-700 capitalize",children:Ne.replace(/([A-Z])/g," $1").trim()})]},Ne))})]}),s.jsx("div",{className:"flex items-center space-x-3 pt-4 border-t"})]})]})}),v.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:v.title}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:v.message}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>y({...v,isOpen:!1}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{v.onConfirm&&v.onConfirm(),y({...v,isOpen:!1})},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Confirm"})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:s.jsx($r,{className:"h-6 w-6 text-green-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Success!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:b}),s.jsx("button",{onClick:()=>p(!1),className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"OK"})]})})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl max-w-md w-full p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:s.jsx(sr,{className:"h-6 w-6 text-red-600"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error!"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:B}),s.jsx("button",{onClick:()=>N(!1),className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"OK"})]})})}),f&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Property Location"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-1 text-gray-500 hover:text-gray-700 text-sm",children:"Close"})})]}),s.jsx("div",{style:{width:"100%",height:"500px"},children:s.jsxs(Yh,{center:[r.latitude,r.longitude],zoom:16,scrollWheelZoom:!0,className:"w-full h-full",style:{height:"100%",width:"100%"},children:[s.jsx(Jh,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s.jsx(Xh,{position:[r.latitude,r.longitude],children:s.jsx(_y,{children:r.property_name})})]})}),s.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 text-sm text-gray-600 flex items-center justify-between",children:[s.jsxs("div",{children:["Lat: ",(r==null?void 0:r.latitude)||""," | Lng: ",(r==null?void 0:r.longitude)||""]}),s.jsx("div",{className:"text-xs text-gray-500",children:(r==null?void 0:r.name)||"Property Location"})]})]})})]})})},BZe=()=>{const[e,t]=_.useState("security"),[r,n]=_.useState({enableTwoFactor:!1}),[i,a]=_.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[o,l]=_.useState({old:!1,new:!1,confirm:!1}),[c,d]=_.useState({}),[u,A]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[f,m]=_.useState({oldPassword:!1,newPassword:!1,confirmPassword:!1}),[x,p]=_.useState(!1),[v,y]=_.useState(!1),[b,w]=_.useState(""),j=U=>{const k={length:U.length>=8,uppercase:/[A-Z]/.test(U),lowercase:/[a-z]/.test(U),number:/[0-9]/.test(U),special:/[!@#$%^&*(),.?":{}|<>]/.test(U)};return A(k),Object.values(k).every(Boolean)},N=(U,k)=>{const E={...c};return U==="oldPassword"&&(k?delete E.oldPassword:E.oldPassword="Current password is required"),U==="newPassword"&&(k?j(k)?k===i.oldPassword?E.newPassword="New password must be different from current password":delete E.newPassword:E.newPassword="Password does not meet all requirements":E.newPassword="New password is required"),U==="confirmPassword"&&(k?k!==i.newPassword?E.confirmPassword="Passwords do not match":delete E.confirmPassword:E.confirmPassword="Please confirm your new password"),d(E),Object.keys(E).length===0},B=(U,k)=>{a(E=>({...E,[U]:k})),U==="newPassword"&&j(k),f[U]&&N(U,k),U==="newPassword"&&f.confirmPassword&&N("confirmPassword",i.confirmPassword)},I=U=>{m(k=>({...k,[U]:!0})),N(U,i[U])},P=async U=>{U.preventDefault(),y(!1),w(""),m({oldPassword:!0,newPassword:!0,confirmPassword:!0});const k=N("oldPassword",i.oldPassword),E=N("newPassword",i.newPassword),Q=N("confirmPassword",i.confirmPassword);if(!(!k||!E||!Q)){p(!0);try{const F=localStorage.getItem("authToken"),W=await fetch("http://localhost:5000/api/user/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:F?`Bearer ${F}`:""},body:JSON.stringify({currentPassword:i.oldPassword,newPassword:i.newPassword})}),D=await W.json();if(!W.ok||!D.success)throw new Error(D.message||"Failed to change password");y(!0),a({oldPassword:"",newPassword:"",confirmPassword:""}),m({oldPassword:!1,newPassword:!1,confirmPassword:!1}),d({}),setTimeout(()=>y(!1),5e3)}catch(F){console.error("Password change error:",F),w(F.message||"Failed to change password")}finally{p(!1)}}},T=[{id:"security",name:"Security",icon:tr},{id:"system",name:"System",icon:wue}];return s.jsx(pl,{children:s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"System Settings"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 mt-1",children:"Configure platform settings and preferences"})]})}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"border-b border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4",children:s.jsx("select",{value:e,onChange:U=>t(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm",children:T.map(U=>s.jsx("option",{value:U.id,children:U.name},U.id))})}),s.jsx("nav",{className:"hidden lg:flex space-x-8 px-6",children:T.map(U=>{const k=U.icon;return s.jsxs("button",{onClick:()=>t(U.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${e===U.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(k,{className:"w-4 h-4"}),s.jsx("span",{children:U.name})]},U.id)})})]}),s.jsxs("div",{className:"p-4 lg:p-6",children:[e==="security"&&s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),v&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3",children:[s.jsx(jt,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Password changed successfully!"}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your password has been updated."})]})]}),b&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3",children:[s.jsx(Zt,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("span",{className:"text-red-800 font-medium",children:b})]}),s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"oldPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Current Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.old?"text":"password",id:"oldPassword",value:i.oldPassword,onChange:U=>B("oldPassword",U.target.value),onBlur:()=>I("oldPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.oldPassword&&f.oldPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your current password"}),s.jsx("button",{type:"button",onClick:()=>l(U=>({...U,old:!U.old})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.old?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),c.oldPassword&&f.oldPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),c.oldPassword]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.new?"text":"password",id:"newPassword",value:i.newPassword,onChange:U=>B("newPassword",U.target.value),onBlur:()=>I("newPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.newPassword&&f.newPassword?"border-red-500":"border-gray-300"}`,placeholder:"Enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(U=>({...U,new:!U.new})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),c.newPassword&&f.newPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),c.newPassword]}),i.newPassword&&s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1.5",children:"Password must contain:"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.length?"text-green-600":"text-gray-500"}`,children:[u.length?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.uppercase?"text-green-600":"text-gray-500"}`,children:[u.uppercase?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.lowercase?"text-green-600":"text-gray-500"}`,children:[u.lowercase?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.number?"text-green-600":"text-gray-500"}`,children:[u.number?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 text-xs transition-all ${u.special?"text-green-600":"text-gray-500"}`,children:[u.special?s.jsx(jt,{className:"w-4 h-4"}):s.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-300"}),s.jsx("span",{children:"One special character (!@#$%^&*...)"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm New Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o.confirm?"text":"password",id:"confirmPassword",value:i.confirmPassword,onChange:U=>B("confirmPassword",U.target.value),onBlur:()=>I("confirmPassword"),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-all ${c.confirmPassword&&f.confirmPassword?"border-red-500":f.confirmPassword&&!c.confirmPassword&&i.confirmPassword?"border-green-500":"border-gray-300"}`,placeholder:"Re-enter your new password"}),s.jsx("button",{type:"button",onClick:()=>l(U=>({...U,confirm:!U.confirm})),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?s.jsx(Zs,{className:"w-5 h-5"}):s.jsx(Er,{className:"w-5 h-5"})})]}),c.confirmPassword&&f.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),c.confirmPassword]}),f.confirmPassword&&!c.confirmPassword&&i.confirmPassword&&i.newPassword===i.confirmPassword&&s.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[s.jsx(jt,{className:"w-3 h-3"}),"Passwords match!"]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(Z.button,{type:"submit",disabled:x||Object.keys(c).length>0,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-3 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:x?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"w-5 h-5 animate-spin"}),"Changing Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-5 h-5"}),"Change Password"]})})})]})]}),e==="system"&&s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"System Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.jsx("span",{className:"text-sm text-gray-600",children:"All systems operational"})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Database"}),s.jsx("span",{className:"text-sm text-gray-600",children:"MongoDB v5.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Version"}),s.jsx("span",{className:"text-sm text-gray-600",children:"v2.1.0"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Last Updated"}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString()})]})]})]})]})]})]})})},SZe=()=>s.jsx(pl,{showSidebar:!1,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md w-full text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"mx-auto w-24 h-24 bg-red-100 rounded-full flex items-center justify-center",children:s.jsxs("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}),s.jsx("circle",{cx:"12",cy:"8",r:"2",stroke:"currentColor",strokeWidth:2,fill:"none"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6"})]})})}),s.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Admin Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The admin page you're looking for doesn't exist or has been moved."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Tt,{to:"/admin-dashboard",className:"inline-flex items-center px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]}),"Go to Admin Dashboard"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(Tt,{to:"/admin-users",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Users"]}),s.jsxs(Tt,{to:"/admin-properties",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Properties"]}),s.jsxs(Tt,{to:"/admin-settings",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200",children:[s.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsx(Tt,{to:"/",className:"text-red-600 hover:text-red-700 font-medium transition-colors duration-200",children:" Back to Main Site"})})]})})}),w$=()=>{var Ln,fr,Bt,un,ri,zs,is,as,os,Bn;const e=cr(),{toast:t}=xc(),r=_.useRef(null),n=_.useRef(null),[i,a]=_.useState(null),[o,l]=_.useState(!0),[c,d]=_.useState("profile"),[u,A]=_.useState(!1),[f,m]=_.useState(!1),[x,p]=_.useState(!1),[v,y]=_.useState(!1),[b,w]=_.useState(!1),[j,N]=_.useState({}),[B,I]=_.useState(0),[P,T]=_.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),[U,k]=_.useState(null),[E,Q]=_.useState(!1),[F,K]=_.useState(null),[W,D]=_.useState(null),[z,ee]=_.useState(!1),[te,le]=_.useState(""),[$,X]=_.useState("pending"),[V,ne]=_.useState(null),[ae,he]=_.useState(null),[ge,J]=_.useState(null),[ue,fe]=_.useState(!1),[Y,je]=_.useState(!1),[xe,re]=_.useState(null),[Ce,Ie]=_.useState("front"),[Ue,Oe]=_.useState(null),[Xe,et]=_.useState(!1),[me,Be]=_.useState(!1),[Ne,Ee]=_.useState(!1),[$e,ot]=_.useState(0),[nt,tt]=_.useState(!1),Ke="aadhar",it=async()=>{try{const qe=localStorage.getItem("authToken"),Nt=JSON.parse(localStorage.getItem("user")||"null");if(!qe||!(Nt!=null&&Nt._id))return;const kt="http://localhost:5000/api",{data:ut}=await xr.get(`${kt}/user/profile/${Nt._id}`,{headers:{Authorization:`Bearer ${qe}`}});ut!=null&&ut._id&&(localStorage.setItem("user",JSON.stringify(ut)),a(ut))}catch(qe){console.error("refreshUserFromApi error:",qe)}},lt=async()=>{try{if(Oe(null),Be(!0),et(!1),console.log("Starting camera..."),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const qe=await navigator.mediaDevices.enumerateDevices();console.log("Available devices:",qe);const Nt=qe.filter(Ut=>Ut.kind==="videoinput");if(console.log("Video devices:",Nt),Nt.length===0)throw new Error("No camera devices found");let kt={video:{facingMode:"environment",width:{ideal:1280,min:640},height:{ideal:720,min:480}}};console.log("Trying camera with constraints:",kt);let ut;try{ut=await navigator.mediaDevices.getUserMedia(kt),console.log("Camera started successfully with back camera")}catch(Ut){console.log("Back camera failed, trying front camera:",Ut),kt.video.facingMode="user",ut=await navigator.mediaDevices.getUserMedia(kt),console.log("Camera started successfully with front camera")}re(ut),je(!0),setTimeout(()=>{r.current?(console.log("Setting video source..."),r.current.srcObject=ut,r.current.onloadedmetadata=()=>{console.log("Video metadata loaded"),et(!0),Be(!1),r.current.play().catch(Ut=>{console.error("Error playing video:",Ut),Oe("Failed to start video playback")})},r.current.oncanplay=()=>{console.log("Video can play"),et(!0),Be(!1)},r.current.onerror=Ut=>{console.error("Video error:",Ut),Oe("Video playback error"),Be(!1)},r.current.play().catch(Ut=>{console.error("Error playing video:",Ut)})):(console.error("Video ref is not available"),Oe("Video element not ready"),Be(!1))},100),console.log("Camera modal opened")}catch(qe){console.error("Error accessing camera:",qe),Be(!1);let Nt="Unable to access camera. ";qe.name==="NotAllowedError"?Nt+="Please allow camera permissions and try again.":qe.name==="NotFoundError"?Nt+="No camera found on this device.":qe.name==="NotSupportedError"?Nt+="Camera is not supported in this browser.":qe.name==="NotReadableError"?Nt+="Camera is being used by another application.":Nt+="Please check your camera settings.",Oe(Nt),t({title:"Camera Error",description:Nt,variant:"destructive"})}},yt=()=>{xe&&(xe.getTracks().forEach(qe=>qe.stop()),re(null)),je(!1),Oe(null),et(!1),Be(!1),r.current&&(r.current.srcObject=null)},Ct=()=>{if(!r.current||!n.current)return;const qe=r.current,Nt=n.current,kt=Nt.getContext("2d");Nt.width=qe.videoWidth,Nt.height=qe.videoHeight,kt.drawImage(qe,0,0,Nt.width,Nt.height),Nt.toBlob(ut=>{if(ut){const Ut=new File([ut],`captured_${Ce}_${Date.now()}.jpg`,{type:"image/jpeg"});K(Ut),D(URL.createObjectURL(ut)),yt(),t({title:"Photo Captured",description:"Aadhar card photo captured successfully"})}},"image/jpeg",.8)},wt=()=>{Ie("front"),lt()},$t=async()=>{try{fe(!0);const qe=localStorage.getItem("authToken");if(!qe){console.error("No auth token found");return}const Nt=await fetch("http://localhost:4002/api/user/aadhar-status",{headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json"}});if(Nt.ok){const kt=await Nt.json();J(kt.aadharStatus),console.log("Aadhar approval status:",kt.aadharStatus)}}catch(qe){console.error("Error checking Aadhar approval status:",qe)}finally{fe(!1)}},gt=async()=>{try{l(!0);const qe=localStorage.getItem("authToken"),Nt=JSON.parse(localStorage.getItem("user")||"{}"),kt=Nt.id||Nt._id;if(!kt){console.error("User ID not found");return}const ut=await fetch(`http://localhost:4002/api/user/profile/${kt}`,{headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json"}});if(ut.ok){const Ut=await ut.json();k(Ut.kycStatus||"not_verified"),X(Ut.kycStatus||"not_verified")}}catch(qe){console.error("Error checking KYC status:",qe)}finally{l(!1)}},mt=(qe,Nt)=>{if(qe){if(!qe.type.startsWith("image/")){t({title:"Invalid file type",description:"Please upload an image file (JPG, PNG, etc.)",variant:"destructive"});return}if(qe.size>5*1024*1024){t({title:"File too large",description:"Please upload an image smaller than 5MB",variant:"destructive"});return}{K(qe);const kt=new FileReader;kt.onload=ut=>D(ut.target.result),kt.readAsDataURL(qe)}}},at=(qe,Nt)=>{if(!qe||!Nt)return{match:!1,confidence:0,reason:"Missing name data"};const kt=qe.toUpperCase().trim(),ut=Nt.toUpperCase().trim(),Ut=kt.split(/\s+/).filter(Ge=>Ge.length>0),bn=ut.split(/\s+/).filter(Ge=>Ge.length>0);if(kt===ut)return{match:!0,confidence:1,reason:"Exact match"};let Fr=0,we=Math.max(Ut.length,bn.length);for(const Ge of Ut)for(const xt of bn){if(Ge===xt){Fr++;break}if(Ge.length>2&&xt.length>2){const Ht=At(Ge,xt);if(Ht>.8){Fr+=Ht;break}}}const Qe=Fr/we;return Qe>=.8?{match:!0,confidence:Qe,reason:"High similarity match"}:Qe>=.5?{match:!1,confidence:Qe,reason:"Partial match - manual review needed"}:{match:!1,confidence:Qe,reason:"No significant match found"}},At=(qe,Nt)=>{const kt=qe.toUpperCase(),ut=Nt.toUpperCase(),Ut=kt.length>ut.length?kt:ut,bn=kt.length>ut.length?ut:kt;if(Ut.length===0)return 1;const Fr=rt(Ut,bn);return(Ut.length-Fr)/Ut.length},rt=(qe,Nt)=>{const kt=[];for(let ut=0;ut<=Nt.length;ut++)kt[ut]=[ut];for(let ut=0;ut<=qe.length;ut++)kt[0][ut]=ut;for(let ut=1;ut<=Nt.length;ut++)for(let Ut=1;Ut<=qe.length;Ut++)Nt.charAt(ut-1)===qe.charAt(Ut-1)?kt[ut][Ut]=kt[ut-1][Ut-1]:kt[ut][Ut]=Math.min(kt[ut-1][Ut-1]+1,kt[ut][Ut-1]+1,kt[ut-1][Ut]+1);return kt[Nt.length][qe.length]},ze=async()=>{var Nt,kt;if(!F){t({title:"Front image required",description:"Please upload the front side of your document",variant:"destructive"});return}Q(!0),ne(null),he(null),Ee(!0),ot(0);const qe=setInterval(()=>{ot(ut=>ut>=90?(clearInterval(qe),90):ut+10)},200);try{const ut=localStorage.getItem("authToken"),Ut=new FormData;Ut.append("frontImage",F),Ut.append("idType",Ke),Ut.append("idNumber","");const bn=await fetch("http://localhost:5000/api/user/upload-kyc",{method:"POST",headers:{Authorization:`Bearer ${ut}`},body:Ut}),Fr=await bn.json();if(bn.ok){if(clearInterval(qe),ot(100),Fr.kycStatus==="rejected"){ee(!0),le(Fr.verificationFailureReason||"Verification failed"),t({title:"Verification Failed",description:Fr.verificationFailureReason||"Please verify again with correct image",variant:"destructive"});return}if(ne(Fr.ocrResult),(kt=(Nt=Fr.ocrResult)==null?void 0:Nt.extractedData)!=null&&kt.name){const we=at(Fr.ocrResult.extractedData.name,(i==null?void 0:i.name)||"");he(we)}X(Fr.kycStatus),k(Fr.kycStatus),t({title:"Document uploaded successfully",description:`KYC status: ${Fr.kycStatus}`,variant:Fr.kycStatus==="approved"?"default":"destructive"}),gt(),$t()}else throw new Error(Fr.error||"Upload failed")}catch(ut){console.error("Error uploading KYC:",ut),clearInterval(qe),ot(0),t({title:"Upload failed",description:ut.message||"Failed to upload document",variant:"destructive"})}finally{Q(!1)}},Et=qe=>{switch(qe){case"approved":return"text-green-600 bg-green-50";case"pending":return"text-yellow-600 bg-yellow-50";case"rejected":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},Ft=qe=>{switch(qe){case"approved":return s.jsx(jt,{className:"w-5 h-5"});case"pending":return s.jsx(Zt,{className:"w-5 h-5"});case"rejected":return s.jsx(sr,{className:"w-5 h-5"});default:return s.jsx(tr,{className:"w-5 h-5"})}};_.useEffect(()=>{(()=>{const Nt=localStorage.getItem("authToken"),kt=localStorage.getItem("user");if(!Nt||!kt){e("/login");return}try{const ut=JSON.parse(kt);if(ut.role!==3){e("/login");return}a(ut),gt(),$t()}catch(ut){console.error("Error parsing user data:",ut),e("/login")}l(!1)})()},[e]);const _n=async()=>{if(i!=null&&i._id)try{y(!0);const qe=localStorage.getItem("authToken");await xr.put(`http://localhost:5000/api/user/profile/${i._id}`,{profilePicture:null},{headers:{Authorization:`Bearer ${qe}`}});const Nt={...i,profilePicture:null};localStorage.setItem("user",JSON.stringify(Nt)),a(Nt),t({title:"Success",description:"Profile picture removed successfully"})}catch(qe){console.error("Remove profile picture error:",qe),t({title:"Error",description:"Failed to remove picture. Please try again.",variant:"destructive"})}finally{y(!1)}},er=async qe=>{var Nt,kt;if(qe.preventDefault(),!!(i!=null&&i._id))try{y(!0);const ut=localStorage.getItem("authToken"),Ut=document.getElementById("profile-name").value.trim(),bn=document.getElementById("profile-phone").value.trim(),Fr={name:Ut,phone:bn||void 0},we="http://localhost:5000/api",{data:Qe}=await xr.put(`${we}/user/profile/${i._id}`,Fr,{headers:{Authorization:`Bearer ${ut}`}});Qe!=null&&Qe.user&&(localStorage.setItem("user",JSON.stringify(Qe.user)),a(Qe.user),window.dispatchEvent(new Event("lyvo-user-updated")),t({title:"Success",description:"Profile updated successfully!"}))}catch(ut){console.error("Profile update error:",ut),t({title:"Error",description:((kt=(Nt=ut==null?void 0:ut.response)==null?void 0:Nt.data)==null?void 0:kt.message)||"Failed to update profile. Please try again.",variant:"destructive"})}finally{y(!1)}},Yr=qe=>{const Nt={length:qe.length>=8,uppercase:/[A-Z]/.test(qe),lowercase:/[a-z]/.test(qe),number:/\d/.test(qe),special:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(qe)};T(Nt);const kt=Object.values(Nt).filter(Boolean).length*20;return I(kt),Nt},Cn=(qe,Nt,kt)=>{const ut={};if(qe.trim()||(ut.currentPassword="Current password is required"),!Nt.trim())ut.newPassword="New password is required";else{const Ut=Yr(Nt);Ut.length?Ut.uppercase?Ut.lowercase?Ut.number?Ut.special||(ut.newPassword="Password must contain at least one special character"):ut.newPassword="Password must contain at least one number":ut.newPassword="Password must contain at least one lowercase letter":ut.newPassword="Password must contain at least one uppercase letter":ut.newPassword="Password must be at least 8 characters long"}return kt.trim()?Nt!==kt&&(ut.confirmPassword="Passwords do not match"):ut.confirmPassword="Please confirm your new password",qe&&Nt&&qe===Nt&&(ut.newPassword="New password must be different from current password"),N(ut),Object.keys(ut).length===0},Lt=qe=>qe<40?"bg-red-500":qe<60?"bg-orange-500":qe<80?"bg-yellow-500":"bg-green-500",gs=qe=>qe<40?"Weak":qe<60?"Fair":qe<80?"Good":"Strong",xs=async qe=>{var Nt,kt;if(qe.preventDefault(),!!(i!=null&&i._id))try{w(!0);const ut=localStorage.getItem("authToken"),Ut=document.getElementById("current-password").value,bn=document.getElementById("new-password").value,Fr=document.getElementById("confirm-password").value;if(!Cn(Ut,bn,Fr)){t({title:"Validation Error",description:"Please fix the errors below before proceeding",variant:"destructive"});return}await xr.post("http://localhost:5000/api/user/change-password",{currentPassword:Ut,newPassword:bn},{headers:{Authorization:`Bearer ${ut}`}}),document.getElementById("current-password").value="",document.getElementById("new-password").value="",document.getElementById("confirm-password").value="",N({}),I(0),T({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),t({title:"Success",description:"Password updated successfully!"})}catch(ut){console.error("Password change error:",ut),t({title:"Error",description:((kt=(Nt=ut==null?void 0:ut.response)==null?void 0:Nt.data)==null?void 0:kt.message)||"Failed to update password. Please try again.",variant:"destructive"})}finally{w(!1)}},On=[{id:"profile",name:"Profile",icon:ar},{id:"security",name:"Security",icon:tr},{id:"kyc",name:"Govt ID (KYC)",icon:tr}];return _.useEffect(()=>{window.location.hash==="#kyc"&&d("kyc")},[]),_.useEffect(()=>{c==="kyc"&&it()},[c]),o?s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}):s.jsx(cn,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account and property preferences"})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"lg:hidden p-4 border-b border-gray-200",children:s.jsxs(Y2,{value:c,onValueChange:qe=>d(qe),children:[s.jsx(Ty,{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:s.jsx(X2,{placeholder:"Select section"})}),s.jsx(Oy,{position:"popper",children:On.map(qe=>s.jsx(ba,{value:qe.id,children:qe.name},qe.id))})]})}),s.jsx("div",{className:"hidden lg:flex border-b border-gray-200",children:On.map(qe=>{const Nt=qe.icon;return s.jsxs("button",{onClick:()=>d(qe.id),className:`flex items-center space-x-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors duration-200 ${c===qe.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Nt,{className:"w-5 h-5"}),s.jsx("span",{children:qe.name})]},qe.id)})}),s.jsxs("div",{className:"p-6",children:[c==="kyc"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Aadhar Card Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."}),ge&&ge.isApproved?s.jsxs(Wd,{className:"border-green-200 bg-green-50",children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center text-green-800",children:[s.jsx($r,{className:"w-6 h-6 mr-2"}),"Verification Approved"]})}),s.jsx(Gd,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(tr,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Aadhar Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Status: Approved"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center text-green-600 font-semibold",children:[s.jsx($r,{className:"w-5 h-5 mr-1"}),"Verified"]}),s.jsx("p",{className:"text-xs text-gray-500",children:(Ln=ge.details)!=null&&Ln.approvalDate?new Date(ge.details.approvalDate).toLocaleDateString():"Recently approved"})]})]}),ge.details&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Verification Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Aadhar Number:"}),s.jsx("span",{className:"font-medium",children:ge.details.aadharNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Name:"}),s.jsx("span",{className:"font-medium",children:ge.details.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Confidence:"}),s.jsxs("span",{className:"font-medium",children:[ge.details.overallConfidence,"%"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-green-200",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"What's Next?"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-4 h-4 text-green-600 mr-2"}),"You can now list properties"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-4 h-4 text-green-600 mr-2"}),"Access all platform features"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-4 h-4 text-green-600 mr-2"}),"No need to verify again"]})]})]})]})]})})]}):s.jsxs(s.Fragment,{children:[Ne&&s.jsx(Wd,{className:"border-green-200 bg-green-50",children:s.jsxs(Gd,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4",children:$e===100?s.jsx($r,{className:"w-6 h-6 text-white"}):s.jsx(oa,{className:"w-6 h-6 text-white animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$e===100?"Verification Complete!":"Verifying Your Identity"}),s.jsx("p",{className:"text-sm text-gray-600",children:$e===100?"Your identity has been successfully verified":"Please wait while we process your documents..."})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx(Z.div,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:`${$e}%`},transition:{duration:.3}})}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[$e,"% Complete"]})]})}),U&&!Ne&&s.jsx(S2,{className:`${Et(U)} border-0`,children:s.jsxs("div",{className:"flex items-center",children:[Ft(U),s.jsxs(k2,{className:"ml-2",children:[s.jsx("strong",{children:"Current Status:"})," ",U.charAt(0).toUpperCase()+U.slice(1)]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Wd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(tr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Upload Document"]})}),s.jsxs(Gd,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Aadhar Card Verification"})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Upload a clear photo of your Aadhar card for identity verification. We'll extract your information automatically."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Aadhar Card Photo"}),s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:W?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:W,alt:"Front preview",className:"mx-auto max-h-48 rounded-lg shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(wn,{variant:"destructive",size:"sm",onClick:()=>{K(null),D(null)},className:"rounded-full w-8 h-8 p-0",children:s.jsx(or,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsxs(wn,{variant:"outline",size:"sm",onClick:()=>wt(),className:"flex items-center",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),"Retake"]})})]}):s.jsxs("div",{children:[s.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(XP,{className:"w-8 h-8 text-blue-600"})}),s.jsx("p",{className:"text-gray-600 mb-4 font-medium",children:"Upload a clear photo of your Aadhar card"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:qe=>mt(qe.target.files[0]),className:"hidden",id:"front-upload"}),s.jsx("label",{htmlFor:"front-upload",className:"cursor-pointer bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold",children:"Choose File"}),s.jsxs(wn,{variant:"outline",onClick:()=>wt(),className:"flex items-center border-blue-300 text-blue-600 hover:bg-blue-50",children:[s.jsx(ts,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]})]})})]}),s.jsx(wn,{onClick:ze,disabled:!F||E,className:"w-full",size:"lg",children:E?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing Document..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),"Verify Document"]})})]})]}),s.jsxs(Wd,{children:[s.jsx(gf,{children:s.jsxs(xf,{className:"flex items-center",children:[s.jsx(Er,{className:"w-5 h-5 mr-2 text-purple-600"}),"Verification Results"]})}),s.jsx(Gd,{className:"p-6",children:V?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx($r,{className:"w-6 h-6 mr-2 text-blue-600"}),"Verification Summary"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${(fr=V.validation)!=null&&fr.is_aadhar_card?"text-green-600":"text-red-600"}`,children:(Bt=V.validation)!=null&&Bt.is_aadhar_card?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Aadhar Card"}),s.jsx("div",{className:"text-xs text-gray-500",children:(un=V.validation)!=null&&un.is_aadhar_card?"Valid":"Invalid"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${V.confidence>70?"text-green-600":V.confidence>40?"text-yellow-600":"text-red-600"}`,children:[Math.round(V.confidence||0),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Confidence"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${V.verified?"text-green-600":"text-yellow-600"}`,children:V.verified?"":""}),s.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),s.jsx("div",{className:"text-xs text-gray-500",children:V.verified?"Approved":"Pending"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Extracted Information"]}),s.jsxs("div",{className:"space-y-3",children:[((ri=V.extractedData)==null?void 0:ri.name)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Name:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:V.extractedData.name})]}),((zs=V.extractedData)==null?void 0:zs.number)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"ID Number:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:V.extractedData.number})]}),((is=V.extractedData)==null?void 0:is.dob)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:V.extractedData.dob})]}),((as=V.extractedData)==null?void 0:as.gender)&&s.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Gender:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:V.extractedData.gender})]})]})]}),ae&&s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(ar,{className:"w-5 h-5 mr-2 text-green-600"}),"Name Verification"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Profile Name:"}),s.jsx("span",{className:"font-semibold",children:(i==null?void 0:i.name)||"Not available"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Document Name:"}),s.jsx("span",{className:"font-semibold",children:((os=V.extractedData)==null?void 0:os.name)||"Not extracted"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Match Status:"}),s.jsx("span",{className:`font-semibold ${ae.match?"text-green-600":"text-red-600"}`,children:ae.match?" Match":" No Match"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[Math.round(ae.confidence*100),"%"]})]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2 p-2 bg-white rounded-lg",children:ae.reason})]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6",children:s.jsx(tr,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Results Yet"}),s.jsx("p",{className:"text-gray-500",children:"Upload a document to see verification results"})]})})]})]})]})]}),c==="profile"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Profile Picture"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(l6,{currentImage:(i==null?void 0:i.profilePicture)||null,onImageUpdate:qe=>{const Nt={...i,profilePicture:qe};localStorage.setItem("user",JSON.stringify(Nt)),a(Nt)}}),(i==null?void 0:i.profilePicture)&&s.jsx("button",{type:"button",onClick:_n,disabled:v,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm text-gray-700 hover:bg-gray-100 disabled:opacity-50",children:v?"Removing":"Remove"})]})]}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Profile Information"}),s.jsxs("form",{onSubmit:er,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",id:"profile-name",defaultValue:(i==null?void 0:i.name)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:(i==null?void 0:i.email)||"",className:"w-full px-3 py-2 border border-gray-200 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed",disabled:!0,readOnly:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",id:"profile-phone",defaultValue:(i==null?void 0:i.phone)||(i==null?void 0:i.phoneNumber)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"+91 98765 43210"})]})]}),s.jsxs("button",{type:"submit",disabled:v,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Sv,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save Changes"]})]})]}),c==="security"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"space-y-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),i!=null&&i.googleId?s.jsx("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"Google Account"}),s.jsx("p",{className:"text-sm text-blue-700",children:"You signed in using Google. Your password is managed by Google and cannot be changed here."}),s.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:["To change your password, please visit your"," ",s.jsx("a",{href:"https://myaccount.google.com/security",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium hover:text-blue-800",children:"Google Account Security Settings"})]})]})]})}):s.jsxs("form",{onSubmit:xs,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:u?"text":"password",id:"current-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${j.currentPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),s.jsx("button",{type:"button",onClick:()=>A(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?s.jsx(Zs,{className:"h-5 w-5 text-gray-400"}):s.jsx(Er,{className:"h-5 w-5 text-gray-400"})})]}),j.currentPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.currentPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:f?"text":"password",id:"new-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${j.newPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:qe=>{Yr(qe.target.value),j.newPassword&&N(Nt=>{const kt={...Nt};return delete kt.newPassword,kt})}}),s.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?s.jsx(Zs,{className:"h-5 w-5 text-gray-400"}):s.jsx(Er,{className:"h-5 w-5 text-gray-400"})})]}),((Bn=document.getElementById("new-password"))==null?void 0:Bn.value)&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Password Strength:"}),s.jsx("span",{className:`text-xs font-medium ${B<40?"text-red-600":B<60?"text-orange-600":B<80?"text-yellow-600":"text-green-600"}`,children:gs(B)})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Lt(B)}`,style:{width:`${B}%`}})})]}),!Object.values(P).every(Boolean)&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:`flex items-center text-xs ${P.length?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.length?"bg-green-500":"bg-gray-300"}`,children:P.length&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"At least 8 characters"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.uppercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.uppercase?"bg-green-500":"bg-gray-300"}`,children:P.uppercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One uppercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.lowercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.lowercase?"bg-green-500":"bg-gray-300"}`,children:P.lowercase&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One lowercase letter"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.number?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.number?"bg-green-500":"bg-gray-300"}`,children:P.number&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One number"]}),s.jsxs("div",{className:`flex items-center text-xs ${P.special?"text-green-600":"text-gray-500"}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 flex items-center justify-center ${P.special?"bg-green-500":"bg-gray-300"}`,children:P.special&&s.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),"One special character"]})]}),j.newPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.newPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x?"text":"password",id:"confirm-password",className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${j.confirmPassword?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0,onChange:qe=>{const Nt=qe.target.value,kt=document.getElementById("new-password").value;Nt&&kt&&Nt!==kt?N(ut=>({...ut,confirmPassword:"Passwords do not match"})):j.confirmPassword&&N(ut=>{const Ut={...ut};return delete Ut.confirmPassword,Ut})}}),s.jsx("button",{type:"button",onClick:()=>p(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:x?s.jsx(Zs,{className:"h-5 w-5 text-gray-400"}):s.jsx(Er,{className:"h-5 w-5 text-gray-400"})})]}),j.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.confirmPassword})]}),s.jsxs("button",{type:"submit",disabled:b||Object.values(j).some(qe=>qe&&qe.trim())||!Object.values(P).every(Boolean),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(tr,{className:"w-4 h-4 mr-2"}),b?"Updating...":"Update Password"]}),!b&&(Object.values(j).some(qe=>qe&&qe.trim())||!Object.values(P).every(Boolean))&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Complete all password requirements above to enable the update button"})]})]})]})]}),Y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-lg w-full mx-4 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Capture Aadhar Card"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Take a clear photo of your Aadhar card"})]}),s.jsx(wn,{variant:"ghost",size:"sm",onClick:yt,className:"text-gray-500 hover:text-gray-700 rounded-full w-10 h-10 p-0",children:s.jsx(or,{className:"w-5 h-5"})})]}),Ue?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(Zt,{className:"w-10 h-10 text-red-500"})}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Camera Error"}),s.jsx("p",{className:"text-red-600 mb-6",children:Ue}),s.jsx(wn,{onClick:lt,className:"bg-blue-600 hover:bg-blue-700",children:"Try Again"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative bg-gray-900 rounded-xl overflow-hidden",children:[me&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-12 h-12 text-white animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white text-sm",children:"Starting camera..."})]})}),s.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-80 object-cover ${Xe?"opacity-100":"opacity-0"} transition-opacity duration-300`,style:{backgroundColor:"#000"}}),s.jsx("canvas",{ref:n,className:"hidden"}),Xe&&s.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg opacity-70",children:s.jsx("div",{className:"absolute top-2 left-2 text-white text-xs font-medium bg-black bg-opacity-50 px-2 py-1 rounded",children:"Align document within frame"})}),s.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 border-t-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t-2 border-r-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b-2 border-l-2 border-white"}),s.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 border-b-2 border-r-2 border-white"})]}),!Xe&&!me&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(ts,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Camera not ready"})]})})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Zt,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for better capture:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[s.jsx("li",{children:"Ensure good lighting"}),s.jsx("li",{children:"Keep the document flat and straight"}),s.jsx("li",{children:"Align all four corners within the frame"}),s.jsx("li",{children:"Avoid shadows and reflections"})]})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(wn,{onClick:Ct,disabled:!Xe||me,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ts,{className:"w-5 h-5 mr-2"}),me?"Starting Camera...":Xe?"Capture Photo":"Camera Not Ready"]}),s.jsx(wn,{onClick:yt,variant:"outline",className:"px-6 py-3 border-2 border-gray-300 hover:border-gray-400 font-semibold rounded-xl",children:"Cancel"})]})]})]})}),s.jsx(fq,{open:z,onOpenChange:ee,children:s.jsxs(M6,{className:"sm:max-w-md",children:[s.jsxs(D6,{children:[s.jsxs($6,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Zt,{className:"h-5 w-5"}),"Verification Failed"]}),s.jsx(H6,{children:"Your KYC verification could not be completed."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"Reason:"}),s.jsx("p",{className:"text-sm text-red-700",children:te})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Please ensure:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload a clear, valid Aadhar card image"}),s.jsx("li",{children:" The name on the document matches your profile name"}),s.jsx("li",{children:" The image is not blurry or rotated"}),s.jsx("li",{children:" All text is clearly visible"})]})]})]}),s.jsxs(Q6,{className:"flex gap-2",children:[s.jsx(wn,{variant:"outline",onClick:()=>ee(!1),children:"Close"}),s.jsx(wn,{onClick:()=>{ee(!1),K(null),D(null),ne(null),he(null),ot(0)},children:"Try Again"})]})]})})]})})},kZe=()=>{const e=cr(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState("all"),[A,f]=_.useState(!1),[m,x]=_.useState("table"),[p,v]=_.useState(new Set);_.useEffect(()=>{y();const k=setInterval(()=>{console.log("[AUTO-REFRESH] Polling for new bookings..."),y(!0)},3e4);return()=>clearInterval(k)},[]);const y=async(k=!1)=>{try{k||i(!0),k&&f(!0),o("");const E="http://localhost:5000/api",Q=localStorage.getItem("authToken"),F=await fetch(`${E}/property/owner/bookings`,{headers:{"Content-Type":"application/json",...Q?{Authorization:`Bearer ${Q}`}:{}}});if(!F.ok){const W=await F.text();throw new Error(W||`HTTP ${F.status}`)}const K=await F.json();r(Array.isArray(K.bookings)?K.bookings:[])}catch(E){k||o(E.message||"Failed to load bookings")}finally{k||i(!1),k&&f(!1)}},b=_.useMemo(()=>{const k=l.trim().toLowerCase();return t.filter(E=>d==="all"?E.status!=="checked_in":d==="pending"?["pending_approval","payment_pending","pending"].includes(E.status):d==="confirmed"?["confirmed","checked_in"].includes(E.status):E.status===d).filter(E=>{var W,D,z,ee,te;if(!k)return!0;const Q=`${((W=E.userSnapshot)==null?void 0:W.name)||""} ${((D=E.userSnapshot)==null?void 0:D.email)||""}`.toLowerCase(),F=`${((z=E.propertySnapshot)==null?void 0:z.name)||""}`.toLowerCase(),K=`${((ee=E.roomSnapshot)==null?void 0:ee.roomNumber)||""} ${((te=E.roomSnapshot)==null?void 0:te.roomType)||""}`.toLowerCase();return Q.includes(k)||F.includes(k)||K.includes(k)}).sort((E,Q)=>new Date(Q.createdAt||Q.bookedAt)-new Date(E.createdAt||E.bookedAt))},[t,l,d]),w=_.useMemo(()=>{const k=t.filter(W=>W.status!=="checked_in").length,E=t.filter(W=>["confirmed","checked_in"].includes(W.status)).length,Q=t.filter(W=>["pending_approval","payment_pending","pending"].includes(W.status)).length,F=t.filter(W=>W.status==="cancelled").length,K=t.filter(W=>W.status==="rejected").length;return{total:k,confirmed:E,pending:Q,cancelled:F,rejected:K}},[t]),j=async()=>{f(!0),await y(),f(!1)},N=k=>k?`${Number(k).toLocaleString()}`:"-",B=k=>{const E=new Date(k);return{date:E.toLocaleDateString(),time:E.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},I=k=>{const E=new Set(p);E.has(k)?E.delete(k):E.add(k),v(E)},P=(k,E=null)=>{switch(k){case"confirmed":case"approved":return"bg-green-100 text-green-800 border-green-200";case"checked_in":return"bg-blue-100 text-blue-800 border-blue-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";case"pending_approval":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-purple-100 text-purple-800 border-purple-200"}},T=(k,E=null)=>{switch(k){case"confirmed":case"approved":return s.jsx(jt,{className:"w-4 h-4"});case"checked_in":return s.jsx(wr,{className:"w-4 h-4"});case"rejected":return s.jsx(sr,{className:"w-4 h-4"});case"cancelled":return s.jsx(sr,{className:"w-4 h-4"});case"pending_approval":return s.jsx(ns,{className:"w-4 h-4"});default:return s.jsx(ns,{className:"w-4 h-4"})}},U=(k,E=null)=>{switch(k){case"confirmed":case"approved":return"Approved";case"checked_in":return"Checked In";case"rejected":return"Rejected";case"cancelled":return E==="user"?"Cancelled by User":"Cancelled";case"pending_approval":return"Pending Approval";default:return k.replace("_"," ").replace(/\b\w/g,Q=>Q.toUpperCase())}};return s.jsx(cn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bookings Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-gray-600",children:"Manage and review all property bookings"}),s.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-50 text-green-700 text-[10px] font-bold uppercase tracking-wider rounded border border-green-100 animate-pulse",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Live Updates"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[s.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>x("table"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="table"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Table"}),s.jsx("button",{onClick:()=>x("cards"),className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="cards"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Cards"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:j,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[A?s.jsx(la,{className:"w-4 h-4 animate-spin"}):s.jsx(la,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[s.jsx(No,{className:"w-4 h-4"}),"Dashboard"]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Active Bookings"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:w.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Or,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="confirmed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("confirmed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Confirmed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:w.confirmed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(jt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsxs("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow relative cursor-pointer ${d==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>u("pending"),children:[w.pending>0&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:w.pending}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:w.pending}),w.pending>0&&s.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Awaiting your approval"})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})})]})]}),s.jsx("div",{className:`bg-gradient-to-br from-gray-50 to-gray-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="cancelled"?"border-gray-400 ring-2 ring-gray-200":"border-gray-200"}`,onClick:()=>u("cancelled"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Cancelled"}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:w.cancelled})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx(sr,{className:"w-6 h-6 text-gray-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="rejected"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>u("rejected"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Rejected"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:w.rejected})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx(sr,{className:"w-6 h-6 text-red-600"})})]})})]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-8 shadow-sm",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ha,{className:"w-5 h-5 text-gray-400 absolute left-3 top-3"}),s.jsx("input",{value:l,onChange:k=>c(k.target.value),placeholder:"Search by seeker name, property, or room...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm"})]}),d!=="all"&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Showing: ",d.charAt(0).toUpperCase()+d.slice(1)," bookings"]}),s.jsx("button",{onClick:()=>u("all"),className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsx(sr,{className:"w-4 h-4"})})]})]})}),n?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Loading Bookings"}),s.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch your bookings..."})]}):a?s.jsxs("div",{className:"bg-white rounded-xl border border-red-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(sr,{className:"w-8 h-8 text-red-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Bookings"}),s.jsx("p",{className:"text-gray-600 mb-4",children:a}),s.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[s.jsx(la,{className:"w-4 h-4"}),"Try Again"]})]}):t.length===0?s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center shadow-sm",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Or,{className:"w-8 h-8 text-gray-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Bookings Yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"New bookings will appear here when tenants make reservations."}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(No,{className:"w-4 h-4"}),"Go to Dashboard"]})]}):m==="table"?s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Date"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Status"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-40",children:"Seeker"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-48",children:"Property"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-20",children:"Room"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider w-24",children:"Rent"}),s.jsx("th",{className:"px-3 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider w-32",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(k=>{var Q,F,K,W,D,z,ee,te,le,$,X;const E=B(k.createdAt||k.bookedAt);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-xs font-medium text-gray-900",children:E.date}),s.jsx("div",{className:"text-xs text-gray-500",children:E.time})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${P(k.status,k.cancelledBy)}`,children:[T(k.status,k.cancelledBy),s.jsx("span",{className:"hidden sm:inline",children:U(k.status,k.cancelledBy)})]})}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:((Q=k.userSnapshot)==null?void 0:Q.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:((F=k.userSnapshot)==null?void 0:F.email)||"-"})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:((K=k.propertySnapshot)==null?void 0:K.name)||((W=k.property)==null?void 0:W.propertyName)||"-"}),s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[((z=(D=k.propertySnapshot)==null?void 0:D.address)==null?void 0:z.city)||"",(te=(ee=k.propertySnapshot)==null?void 0:ee.address)!=null&&te.state?`, ${k.propertySnapshot.address.state}`:""]})]}),s.jsxs("td",{className:"px-3 py-3",children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["R",((le=k.roomSnapshot)==null?void 0:le.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:(($=k.roomSnapshot)==null?void 0:$.roomType)||""})]}),s.jsx("td",{className:"px-3 py-3",children:s.jsx("span",{className:"text-sm font-medium text-gray-900",children:N((X=k.roomSnapshot)==null?void 0:X.rent)})}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsxs("button",{onClick:()=>e(`/owner-bookings/${k._id}`,{state:{userId:k.userId,ownerId:k.ownerId,propertyId:k.propertyId,roomId:k.roomId}}),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-xs font-medium",children:[s.jsx(Er,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden sm:inline",children:"View"})]})})]},k._id)})})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(k=>{var F,K,W,D,z,ee,te,le,$,X,V,ne,ae,he,ge;const E=B(k.createdAt||k.bookedAt),Q=p.has(k._id);return s.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:s.jsx(Or,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.date}),s.jsx("div",{className:"text-xs text-gray-500",children:E.time})]})]}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${P(k.status,k.cancelledBy)}`,children:[T(k.status,k.cancelledBy),U(k.status,k.cancelledBy)]})]}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center mr-3",children:s.jsx(ar,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((F=k.userSnapshot)==null?void 0:F.name)||"Unknown"}),s.jsx("div",{className:"text-xs text-gray-500",children:((K=k.userSnapshot)==null?void 0:K.email)||"-"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:((W=k.propertySnapshot)==null?void 0:W.name)||((D=k.property)==null?void 0:D.propertyName)||"-"})]}),s.jsxs("div",{className:"text-xs text-gray-500 ml-6",children:[((ee=(z=k.propertySnapshot)==null?void 0:z.address)==null?void 0:ee.street)||"",(le=(te=k.propertySnapshot)==null?void 0:te.address)!=null&&le.city?`, ${k.propertySnapshot.address.city}`:"",(X=($=k.propertySnapshot)==null?void 0:$.address)!=null&&X.state?`, ${k.propertySnapshot.address.state}`:""]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ua,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-gray-900",children:["Room ",((V=k.roomSnapshot)==null?void 0:V.roomNumber)||"-"]}),s.jsx("div",{className:"text-xs text-gray-500",children:((ne=k.roomSnapshot)==null?void 0:ne.roomType)||""})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:N((ae=k.roomSnapshot)==null?void 0:ae.rent)}),s.jsx("div",{className:"text-xs text-gray-500",children:"per month"})]})]}),Q&&s.jsx("div",{className:"border-t border-gray-200 pt-4 mb-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ms,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((he=k.userSnapshot)==null?void 0:he.phone)||"Not provided"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(yn,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900",children:((ge=k.userSnapshot)==null?void 0:ge.email)||"Not provided"})]})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>I(k._id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:Q?"Show Less":"Show More"}),s.jsxs("button",{onClick:()=>e(`/owner-bookings/${k._id}`,{state:{userId:k.userId,ownerId:k.ownerId,propertyId:k.propertyId,roomId:k.roomId}}),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:[s.jsx(Er,{className:"w-4 h-4"}),"View Details"]})]})]})},k._id)})})]})})},EZe=()=>{var P,T,U,k,E,Q,F,K,W,D,z,ee,te,le,$,X,V,ne,ae,he,ge,J,ue,fe,Y,je,xe,re,Ce,Ie,Ue,Oe,Xe,et,me,Be;const{bookingId:e}=_u(),t=cr(),r=to(),[n,i]=_.useState(null),[a,o]=_.useState(!0),[l,c]=_.useState(""),[d,u]=_.useState(""),[A,f]=_.useState(!1),[m,x]=_.useState(!1),[p,v]=_.useState(!1),[y,b]=_.useState(!1),[w,j]=_.useState(null);_.useEffect(()=>{(async()=>{try{o(!0),c("");const Ee="http://localhost:5000/api/property",$e=localStorage.getItem("authToken");let ot=$e&&e?`${Ee}/bookings/${e}`:null,nt;ot&&(nt=await fetch(ot,{headers:{"Content-Type":"application/json",...$e?{Authorization:`Bearer ${$e}`}:{}}}));let tt;if(nt&&nt.ok)tt=await nt.json(),i(tt.booking),console.log("Booking Data:",tt.booking),u(tt.source||"booking");else{const Ke=r.state||{},it=new URLSearchParams(r.search),lt=Ke.userId||it.get("userId"),yt=Ke.ownerId||it.get("ownerId"),Ct=Ke.propertyId||it.get("propertyId"),wt=Ke.roomId||it.get("roomId");if(lt&&yt&&Ct&&wt){const $t=`${Ee}/bookings/lookup/payment?userId=${encodeURIComponent(lt)}&ownerId=${encodeURIComponent(yt)}&propertyId=${encodeURIComponent(Ct)}&roomId=${encodeURIComponent(wt)}`,gt=await fetch($t);if(!gt.ok){const at=await gt.text();throw new Error(at||`HTTP ${gt.status}`)}const mt=await gt.json();i(mt.booking),u(mt.source||"composed")}else if(nt){const $t=await nt.text();throw new Error($t||`HTTP ${nt.status}`)}else throw new Error("No booking ID or lookup parameters found")}}catch(Ee){c(Ee.message||"Failed to load booking")}finally{o(!1)}})()},[e,r.search,r.state]);const N=async Ne=>{try{if(!(n!=null&&n._id))return;f(!0);const Ee="http://localhost:5000/api",$e=localStorage.getItem("authToken"),ot=Ne==="approve"?"approved":"rejected",nt=await fetch(`${Ee}/property/bookings/${n._id}/status`,{method:"POST",headers:{"Content-Type":"application/json",...$e?{Authorization:`Bearer ${$e}`}:{}},body:JSON.stringify({status:ot})});if(!nt.ok){const Ke=await nt.text();throw new Error(Ke||`HTTP ${nt.status}`)}const tt=await nt.json();i(tt.booking),j(Ne),Ne==="approve"?x(!0):v(!0)}catch(Ee){c(Ee.message||"Failed to update booking")}finally{f(!1)}},B=async()=>{try{if(!(n!=null&&n._id))return;f(!0);const Ne="http://localhost:5000/api",Ee=localStorage.getItem("authToken"),$e=await fetch(`${Ne}/property/bookings/${n._id}/finalize-check-in`,{method:"POST",headers:{"Content-Type":"application/json",...Ee?{Authorization:`Bearer ${Ee}`}:{}}});if(!$e.ok){const nt=await $e.text();throw new Error(nt||`HTTP ${$e.status}`)}const ot=await $e.json();i(nt=>({...nt,status:"checked_in"})),b(!0)}catch(Ne){c(Ne.message||"Failed to finalize check-in")}finally{f(!1)}},I=Ne=>{const Ee={pending_approval:{bg:"bg-yellow-100",text:"text-yellow-800",icon:ns,label:"Pending Approval"},confirmed:{bg:"bg-green-100",text:"text-green-800",icon:jt,label:"Approved"},approved:{bg:"bg-green-100",text:"text-green-800",icon:jt,label:"Approved"},checked_in:{bg:"bg-blue-100",text:"text-blue-800",icon:wr,label:"Checked In"},rejected:{bg:"bg-red-100",text:"text-red-800",icon:sr,label:"Rejected"},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:sr,label:"Cancelled"}},$e=Ee[Ne]||Ee.pending_approval,ot=$e.icon;return s.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${$e.bg} ${$e.text} font-medium`,children:[s.jsx(ot,{className:"w-4 h-4"}),$e.label]})};return s.jsxs(cn,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-bookings"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[s.jsx(Js,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back to Bookings"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Booking Details"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and review booking information"})]}),n&&s.jsx("div",{children:I(n.status)})]})]}),a?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"Loading booking details..."})]}):l?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[s.jsx(Zt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-700 text-lg",children:l})]}):n?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Jr,{className:"w-6 h-6"}),"Property Details"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-4 h-4"}),"Property Name"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((P=n.propertySnapshot)==null?void 0:P.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ti,{className:"w-4 h-4"}),"Security Deposit"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((T=n.propertySnapshot)==null?void 0:T.security_deposit)!=null?`${Number(n.propertySnapshot.security_deposit).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Address"]}),s.jsxs("p",{className:"mt-1 text-gray-900",children:[((k=(U=n.propertySnapshot)==null?void 0:U.address)==null?void 0:k.street)&&`${n.propertySnapshot.address.street}, `,((Q=(E=n.propertySnapshot)==null?void 0:E.address)==null?void 0:Q.city)&&`${n.propertySnapshot.address.city}, `,((K=(F=n.propertySnapshot)==null?void 0:F.address)==null?void 0:K.state)&&`${n.propertySnapshot.address.state} `,((D=(W=n.propertySnapshot)==null?void 0:W.address)==null?void 0:D.pincode)&&`- ${n.propertySnapshot.address.pincode}`,!((z=n.propertySnapshot)!=null&&z.address)&&"N/A"]})]})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(ua,{className:"w-6 h-6"}),"Room Details"]})}),s.jsxs("div",{className:"p-6",children:[(((te=(ee=n.roomSnapshot)==null?void 0:ee.images)==null?void 0:te.room)||(($=(le=n.roomSnapshot)==null?void 0:le.images)==null?void 0:$.toilet))&&s.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[((V=(X=n.roomSnapshot)==null?void 0:X.images)==null?void 0:V.room)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.room,alt:"Room",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Room View"})})]}),((ae=(ne=n.roomSnapshot)==null?void 0:ne.images)==null?void 0:ae.toilet)&&s.jsxs("div",{className:"relative group overflow-hidden rounded-xl",children:[s.jsx("img",{src:n.roomSnapshot.images.toilet,alt:"Bathroom",className:"w-full h-64 object-cover transform group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3",children:s.jsx("p",{className:"text-white font-medium",children:"Bathroom View"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Uue,{className:"w-4 h-4"}),"Room Number"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((he=n.roomSnapshot)==null?void 0:he.roomNumber)??"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ua,{className:"w-4 h-4"}),"Room Type"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((ge=n.roomSnapshot)==null?void 0:ge.roomType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Oue,{className:"w-4 h-4"}),"Room Size"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((J=n.roomSnapshot)==null?void 0:J.roomSize)!=null?`${n.roomSnapshot.roomSize} sq ft`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Bed Type"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((ue=n.roomSnapshot)==null?void 0:ue.bedType)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(Vr,{className:"w-4 h-4"}),"Occupancy"]}),s.jsxs("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:[((fe=n.roomSnapshot)==null?void 0:fe.occupancy)??"N/A"," ",((Y=n.roomSnapshot)==null?void 0:Y.occupancy)>1?"Persons":"Person"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ti,{className:"w-4 h-4"}),"Monthly Rent"]}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-green-600",children:((je=n.roomSnapshot)==null?void 0:je.rent)!=null?`${Number(n.roomSnapshot.rent).toLocaleString()}`:"N/A"})]}),s.jsxs("div",{className:n.status==="pending_approval"?"bg-purple-50 p-3 rounded-xl border border-purple-100":"",children:[s.jsxs("label",{className:"text-sm font-medium text-purple-600 flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4"}),"Requested Check-in"]}),s.jsx("p",{className:`mt-1 text-lg font-bold ${n.checkInDate?"text-purple-700":"text-gray-400 italic"}`,children:n.checkInDate?new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"Not set by seeker yet"})]})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(Or,{className:"w-6 h-6"}),"Booking Timeline"]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Booking Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.createdAt||n.bookedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.createdAt||n.bookedAt).toLocaleTimeString("en-IN")})]}),n.checkInDate&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested Check-in Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-purple-600",children:new Date(n.checkInDate).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Expected arrival"})]}),n.approvedAt&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved Date"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:new Date(n.approvedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(n.approvedAt).toLocaleTimeString("en-IN")})]})]})})]}),n.status==="pending_approval"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Actions"}),!n.checkInDate&&n.status==="pending_approval"&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-800 p-4 rounded-xl mb-4 flex items-start gap-3",children:[s.jsx(eg,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm",children:"Awaiting Seeker's Check-in Date"}),s.jsx("p",{className:"text-xs mt-1",children:"The seeker needs to set their preferred check-in date from their dashboard before you can approve this booking."})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("button",{disabled:A||!n.checkInDate,onClick:()=>N("approve"),className:"flex-1 min-w-[200px] bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:grayscale disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jt,{className:"w-5 h-5"}),n.checkInDate?"Approve Booking":"Awaiting Date"]})}),s.jsx("button",{disabled:A,onClick:()=>N("reject"),className:"flex-1 min-w-[200px] bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-4 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-5 h-5"}),"Reject Booking"]})})]})]}),(n.status==="approved"||n.status==="confirmed")&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg p-6 border-l-4 border-blue-600",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(wr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Final Check-in Confirmation"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Confirm that the seeker has arrived at the property and successfully checked in."})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"What happens next?"]}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Seeker will be officially added as a Tenant in this room"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Room occupancy will be updated"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full"}),"Tenancy records will be visible in your Tenant Management area"]})]})]}),s.jsx("button",{disabled:A,onClick:B,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-4 rounded-xl font-bold hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-3",children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing Check-in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jt,{className:"w-6 h-6"}),"Confirm Final Check-in"]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5"}),"Seeker Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("div",{className:"flex justify-center mb-4",children:(xe=n.userId)!=null&&xe.profilePicture||(re=n.userId)!=null&&re.picture?s.jsx("img",{src:((Ce=n.userId)==null?void 0:Ce.profilePicture)||((Ie=n.userId)==null?void 0:Ie.picture),alt:"Seeker Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-indigo-50 shadow-md"}):s.jsx("div",{className:"w-24 h-24 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-300",children:s.jsx(ar,{className:"w-12 h-12"})})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((Ue=n.userSnapshot)==null?void 0:Ue.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((Oe=n.userSnapshot)==null?void 0:Oe.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((Xe=n.userSnapshot)==null?void 0:Xe.phone)||"N/A"})]})]})]}),n.userId&&(n.userId.govtIdFrontUrl||n.userId.govtIdBackUrl)&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5"}),"Identity Verification"]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.userId.kycVerified?s.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(jt,{className:"w-3 h-3"})," Verified"]}):s.jsxs("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full flex items-center gap-1 font-medium",children:[s.jsx(ns,{className:"w-3 h-3"})," Pending"]})}),s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:"Government ID"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.userId.govtIdFrontUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Front Side"}),s.jsx("img",{src:n.userId.govtIdFrontUrl,alt:"ID Front",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdFrontUrl,"_blank")})]}),n.userId.govtIdBackUrl&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Back Side"}),s.jsx("img",{src:n.userId.govtIdBackUrl,alt:"ID Back",className:"w-full h-40 object-cover rounded-lg border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(n.userId.govtIdBackUrl,"_blank")})]})]})]})]}),s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(ar,{className:"w-5 h-5"}),"Owner Information"]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsx("p",{className:"mt-1 text-lg font-semibold text-gray-900",children:((et=n.ownerSnapshot)==null?void 0:et.name)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(yn,{className:"w-4 h-4"}),"Email"]}),s.jsx("p",{className:"mt-1 text-gray-900 break-words",children:((me=n.ownerSnapshot)==null?void 0:me.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-500 flex items-center gap-2",children:[s.jsx(ms,{className:"w-4 h-4"}),"Phone"]}),s.jsx("p",{className:"mt-1 text-gray-900",children:((Be=n.ownerSnapshot)==null?void 0:Be.phone)||"N/A"})]})]})]})]})]}):null]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jt,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Approved!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been successfully approved. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{x(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-green-700 hover:to-green-800 transition-all duration-200",children:"Back to Bookings"})]})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(sr,{className:"w-10 h-10 text-red-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Booking Rejected"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The booking has been rejected. The seeker will be notified via email."}),s.jsx("button",{onClick:()=>{v(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-red-700 hover:to-red-800 transition-all duration-200",children:"Back to Bookings"})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(jt,{className:"w-10 h-10 text-blue-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check-in Successful!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The seeker has been successfully checked in."}),s.jsx("button",{onClick:()=>{b(!1),t("/owner-bookings")},className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-200",children:"Back to Bookings"})]})})]})},PZe=()=>{const e=cr(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState(""),[d,u]=_.useState("all"),[A,f]=_.useState(!1),[m,x]=_.useState(!1),[p,v]=_.useState(null),[y,b]=_.useState(!1),w=async()=>{try{i(!0),o("");const E="http://localhost:5000/api",Q=localStorage.getItem("authToken"),F=await fetch(`${E}/property/owner/tenants`,{headers:{"Content-Type":"application/json",...Q?{Authorization:`Bearer ${Q}`}:{}}});if(!F.ok){const W=await F.text();throw new Error(W||`HTTP ${F.status}`)}const K=await F.json();r(Array.isArray(K.tenants)?K.tenants:[])}catch(E){o(E.message||"Failed to load tenants")}finally{i(!1)}};_.useEffect(()=>{w()},[]);const j=_.useMemo(()=>{const E=l.trim().toLowerCase();return t.filter(Q=>d==="all"?!0:Q.status===d).filter(Q=>{if(!E)return!0;const F=`${Q.userName||""} ${Q.userEmail||""}`.toLowerCase(),K=`${Q.propertyName||""}`.toLowerCase(),W=`${Q.roomNumber||""} ${Q.roomType||""}`.toLowerCase();return F.includes(E)||K.includes(E)||W.includes(E)}).sort((Q,F)=>new Date(F.actualCheckInDate)-new Date(Q.actualCheckInDate))},[t,l,d]),N=_.useMemo(()=>{const E=t.length,Q=t.filter(W=>W.status==="active").length,F=new Date().toDateString(),K=t.filter(W=>new Date(W.actualCheckInDate).toDateString()===F).length;return{total:E,active:Q,checkedInToday:K}},[t]),B=async()=>{f(!0),await w(),f(!1)},I=E=>E?`${Number(E).toLocaleString()}`:"-",P=E=>E?new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-",T=E=>{switch(E){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"checked_out":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},U=E=>{v(E),x(!0)},k=async()=>{if(p)try{b(!0);const E="http://localhost:5000/api",Q=localStorage.getItem("authToken");if(!(await fetch(`${E}/property/tenants/${p._id}/check-out`,{method:"POST",headers:{"Content-Type":"application/json",...Q?{Authorization:`Bearer ${Q}`}:{}}})).ok)throw new Error("Failed to check out tenant");r(K=>K.map(W=>W._id===p._id?{...W,status:"checked_out"}:W)),x(!1),v(null)}catch(E){o(E.message||"Failed to check out tenant")}finally{b(!1)}};return n?s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(la,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading tenants..."})]})})}):s.jsx(cn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Checked-In Tenants"}),s.jsx("p",{className:"text-gray-600",children:"Manage and view all active tenants"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:B,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[A?s.jsx(la,{className:"w-4 h-4 animate-spin"}):s.jsx(la,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(No,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>u("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Tenants"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:N.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(Vr,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${d==="active"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>u("active"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Active"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:N.active})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(jt,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-purple-600 mb-1",children:"Checked-In Today"}),s.jsx("div",{className:"text-3xl font-bold text-purple-900",children:N.checkedInToday})]}),s.jsx("div",{className:"w-12 h-12 bg-purple-200 rounded-lg flex items-center justify-center",children:s.jsx(Or,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant name, email, property, or room...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a&&s.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-800",children:a})}),j.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Vr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),s.jsx("p",{className:"text-gray-600",children:l?"Try adjusting your search criteria":"No checked-in tenants yet"})]}):s.jsx("div",{className:"space-y-4",children:j.map((E,Q)=>s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${E.status==="checked_out"?"border-red-300 bg-red-50":"border-gray-200"}`,children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center ${E.status==="checked_out"?"bg-red-100":"bg-blue-100"}`,children:s.jsx(ar,{className:`w-6 h-6 sm:w-7 sm:h-7 ${E.status==="checked_out"?"text-red-600":"text-blue-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:E.userName}),s.jsx("span",{className:`inline-block px-2 sm:px-2.5 py-0.5 sm:py-1 rounded-full text-xs font-medium ${T(E.status)}`,children:E.status})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs sm:text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[s.jsx(yn,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:E.userEmail})]}),E.userPhone&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[s.jsx(ms,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{children:E.userPhone})]})]})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property"}),s.jsx("p",{className:"text-sm xl:text-base font-semibold text-gray-900",children:E.propertyName})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Room"}),s.jsxs("p",{className:"text-sm xl:text-base font-semibold text-gray-900",children:["Room ",E.roomNumber]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Rent"}),s.jsx("p",{className:"text-sm xl:text-base font-semibold text-green-600",children:I(E.monthlyRent)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Check-in"}),s.jsx("p",{className:"text-sm xl:text-base font-semibold text-gray-900",children:P(E.actualCheckInDate)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:justify-end",children:[E.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e(`/owner/tenants/${E._id}`),className:"w-full sm:w-auto px-3 sm:px-4 py-2 sm:py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center justify-center gap-1.5 sm:gap-2",children:[s.jsx(Er,{className:"w-4 h-4"}),s.jsx("span",{children:"Details"})]}),s.jsxs("button",{onClick:()=>U(E),className:"w-full sm:w-auto px-3 sm:px-4 py-2 sm:py-2.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium flex items-center justify-center gap-1.5 sm:gap-2",children:[s.jsx(hc,{className:"w-4 h-4"}),s.jsx("span",{children:"Checkout"})]})]}),E.status==="checked_out"&&s.jsx("div",{className:"w-full sm:w-auto px-3 sm:px-4 py-2 sm:py-2.5 bg-red-100 text-red-800 rounded-lg text-sm font-medium text-center",children:"Checked Out"})]})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Property"}),s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:E.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Room"}),s.jsxs("p",{className:"font-semibold text-gray-900",children:["Room ",E.roomNumber]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Monthly Rent"}),s.jsx("p",{className:"font-semibold text-green-600",children:I(E.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Check-in Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:P(E.actualCheckInDate)})]})]})]})},E._id))}),m&&p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 text-white",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Confirm Checkout"}),s.jsx("p",{className:"text-red-100",children:"Are you sure you want to check out this tenant?"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Tenant Name"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.userName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),s.jsx("p",{className:"text-base font-semibold text-gray-900",children:p.userEmail})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Property"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:p.propertyName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Room"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Room ",p.roomNumber]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:I(p.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Security Deposit"}),s.jsx("p",{className:"text-sm font-semibold text-blue-600",children:I(p.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Check-in Date"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:P(p.actualCheckInDate)})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Note:"})," This action will mark the tenant as checked out. The security deposit will need to be processed separately."]})})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>{x(!1),v(null)},disabled:y,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:k,disabled:y,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(la,{className:"w-4 h-4 animate-spin"}),"Checking Out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-5 h-5"}),"Confirm Checkout"]})})]})]})})]})})};delete Oa.Icon.Default.prototype._getIconUrl;Oa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const IZe=({onLocationSelect:e})=>(WN({click:t=>{const{lat:r,lng:n}=t.latlng;e(r,n)}}),null),TZe=({center:e})=>{const t=WN({});return _e.useEffect(()=>{e&&e[0]&&e[1]&&t.setView(e,t.getZoom())},[e,t]),null},OZe=()=>{const e=cr(),{id:t}=_u(),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState(!1),[c,d]=_.useState(null),[u,A]=_.useState(null),[f,m]=_.useState(null),[x,p]=_.useState("basic"),[v,y]=_.useState([12.9716,77.5946]),[b,w]=_.useState(13),[j,N]=_.useState({}),[B,I]=_.useState({}),[P,T]=_.useState(null),U=_.useRef({}),[k,E]=_.useState({property_name:"",description:"",property_mode:"room",address:{street:"",city:"",state:"",pincode:"",landmark:""},latitude:"",longitude:"",security_deposit:"",amenities:{parking4w:!1,parking2w:!1,kitchen:!1,powerBackup:!1},rules:{petsAllowed:!1,smokingAllowed:!1,visitorsAllowed:!0,cookingAllowed:!0},images:{front:"",back:"",hall:"",kitchen:"",gallery:[]},requiredImages:{front:null,back:null,hall:null,kitchen:null},toilet_outside:!1,outside_toilet_image:"",land_tax_receipt:"",status:"active"});_.useEffect(()=>{(async()=>{var ne,ae,he,ge,J,ue,fe,Y,je,xe,re,Ce,Ie,Ue,Oe,Xe,et,me,Be,Ne,Ee,$e;try{a(!0);const ot=localStorage.getItem("authToken");if(!ot){e("/login");return}const nt=await fetch(`http://localhost:5000/api/property/owner/properties/${t}`,{headers:{Authorization:`Bearer ${ot}`}});if(nt.ok){const tt=await nt.json();if(tt.success){const Ke=tt.data;d(Ke),E({property_name:Ke.property_name||"",description:Ke.description||"",property_mode:Ke.property_mode||"room",address:{street:((ne=Ke.address)==null?void 0:ne.street)||"",city:((ae=Ke.address)==null?void 0:ae.city)||"",state:((he=Ke.address)==null?void 0:he.state)||"",pincode:((ge=Ke.address)==null?void 0:ge.pincode)||"",landmark:((J=Ke.address)==null?void 0:J.landmark)||""},latitude:Ke.latitude||"",longitude:Ke.longitude||"",security_deposit:Ke.security_deposit||"",amenities:{parking4w:((ue=Ke.amenities)==null?void 0:ue.parking4w)||!1,parking2w:((fe=Ke.amenities)==null?void 0:fe.parking2w)||!1,kitchen:((Y=Ke.amenities)==null?void 0:Y.kitchen)||!1,powerBackup:((je=Ke.amenities)==null?void 0:je.powerBackup)||!1},rules:{petsAllowed:((xe=Ke.rules)==null?void 0:xe.petsAllowed)||!1,smokingAllowed:((re=Ke.rules)==null?void 0:re.smokingAllowed)||!1,visitorsAllowed:((Ce=Ke.rules)==null?void 0:Ce.visitorsAllowed)!==!1,cookingAllowed:((Ie=Ke.rules)==null?void 0:Ie.cookingAllowed)!==!1},images:{front:((Ue=Ke.images)==null?void 0:Ue.front)||"",back:((Oe=Ke.images)==null?void 0:Oe.back)||"",hall:((Xe=Ke.images)==null?void 0:Xe.hall)||"",kitchen:((et=Ke.images)==null?void 0:et.kitchen)||"",gallery:((me=Ke.images)==null?void 0:me.gallery)||[]},requiredImages:{front:(Be=Ke.images)!=null&&Be.front?{file:null,preview:Ke.images.front,name:"Front View"}:null,back:(Ne=Ke.images)!=null&&Ne.back?{file:null,preview:Ke.images.back,name:"Back View"}:null,hall:(Ee=Ke.images)!=null&&Ee.hall?{file:null,preview:Ke.images.hall,name:"Hall View"}:null,kitchen:($e=Ke.images)!=null&&$e.kitchen?{file:null,preview:Ke.images.kitchen,name:"Kitchen View"}:null},toilet_outside:Ke.toilet_outside||!1,outside_toilet_image:Ke.outside_toilet_image||"",land_tax_receipt:Ke.land_tax_receipt||"",status:Ke.status||"active"}),Ke.latitude&&Ke.longitude&&y([Ke.latitude,Ke.longitude])}else A("Property not found")}else A("Failed to fetch property details")}catch(ot){console.error("Error fetching property:",ot),A("Error loading property details")}finally{a(!1)}})()},[t,e]),_.useEffect(()=>{const V=JSON.parse(localStorage.getItem("user")||"{}");n(V)},[]);const Q=(V,ne)=>{if(V.includes(".")){const[ae,he]=V.split(".");E(ge=>({...ge,[ae]:{...ge[ae],[he]:ne}}))}else E(ae=>({...ae,[V]:ne}))},F=V=>{E(ne=>({...ne,amenities:{...ne.amenities,[V]:!ne.amenities[V]}}))},K=V=>{E(ne=>({...ne,rules:{...ne.rules,[V]:!ne.rules[V]}}))},W=(V,ne)=>{E(ae=>({...ae,latitude:V,longitude:ne})),y([V,ne])},D=(V,ne)=>{const ae=ne.toLowerCase().endsWith(".pdf");console.log("Opening document preview:",{docUrl:V,fileName:ne,isPdf:ae}),fetch(V,{method:"HEAD"}).then(he=>{console.log("Document URL response:",he.status,he.statusText),he.ok||console.error("Document URL not accessible:",he.status)}).catch(he=>{console.error("Error checking document URL:",he)}),T({url:V,name:ne,type:ae?"pdf":"image"})},z=(V,ne)=>{var ge;const ae=(ge=ne.target.files)==null?void 0:ge[0];if(!ae)return;const he={file:ae,preview:URL.createObjectURL(ae),name:ae.name};E(J=>({...J,requiredImages:{...J.requiredImages,[V]:he}}))},ee=V=>{E(ne=>({...ne,requiredImages:{...ne.requiredImages,[V]:null}}))},te=(V,ne)=>{if(ne)if(V==="gallery"){const ae={file:ne,preview:URL.createObjectURL(ne),name:ne.name};E(he=>({...he,images:{...he.images,gallery:[...he.images.gallery,ae]}}))}else{const ae={file:ne,preview:URL.createObjectURL(ne),name:ne.name};E(he=>({...he,images:{...he.images,[V]:ae}}))}},le=(V,ne=null)=>{E(V==="gallery"&&ne!==null?ae=>({...ae,images:{...ae.images,gallery:ae.images.gallery.filter((he,ge)=>ge!==ne)}}):ae=>({...ae,images:{...ae.images,[V]:null}}))},$=async V=>{var ne,ae,he,ge,J;V.preventDefault(),l(!0),A(null),m(null);try{const ue=localStorage.getItem("authToken");if(!ue){e("/login");return}const fe="http://localhost:5000/api/property",Y=new FormData,xe={...{...k},pricing:{security_deposit:k.security_deposit}};delete xe.security_deposit,Y.append("propertyData",JSON.stringify(xe)),(ne=k.requiredImages.front)!=null&&ne.file&&Y.append("frontImage",k.requiredImages.front.file),(ae=k.requiredImages.back)!=null&&ae.file&&Y.append("backImage",k.requiredImages.back.file),(he=k.requiredImages.hall)!=null&&he.file&&Y.append("hallImage",k.requiredImages.hall.file),(ge=k.requiredImages.kitchen)!=null&&ge.file&&Y.append("kitchenImage",k.requiredImages.kitchen.file),k.images.gallery&&Array.isArray(k.images.gallery)&&k.images.gallery.forEach((Ce,Ie)=>{Ce.file&&Y.append("galleryImages",Ce.file)}),k.outside_toilet_image&&k.outside_toilet_image.file&&Y.append("outsideToiletImage",k.outside_toilet_image.file),(J=k.land_tax_receipt)!=null&&J.file&&Y.append("landTaxReceipt",k.land_tax_receipt.file),k.documents&&Array.isArray(k.documents)&&k.documents.forEach((Ce,Ie)=>{Ce.file&&Y.append("documents",Ce.file)}),console.log("FormData entries for update:");for(let[Ce,Ie]of Y.entries())console.log(Ce,Ie);const re=await fetch(`http://localhost:5000/api/property/owner/properties/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${ue}`},body:Y});if(re.ok){const Ce=await re.json();Ce.success?(m("Property updated successfully!"),setTimeout(()=>{e("/owner-properties")},2e3)):A(Ce.message||"Failed to update property")}else A("Failed to update property")}catch(ue){console.error("Error updating property:",ue),A("Error updating property")}finally{l(!1)}},X=[{id:"basic",label:"Basic Info",icon:Jr},{id:"location",label:"Location & Map",icon:wr},{id:"amenities",label:"Amenities & Rules",icon:Ir},{id:"media",label:"Images & Documents",icon:ts}];return i?s.jsx(cn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-8 h-8 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading property details..."}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Property ID: ",t]})]})})}):u&&!c?s.jsx(cn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Property"}),s.jsx("p",{className:"text-gray-600 mb-4",children:u}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Property ID: ",t]}),s.jsx("button",{onClick:()=>e("/owner-properties"),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Back to Properties"})]})})}):s.jsxs(cn,{children:[s.jsx("div",{className:"min-h-screen bg-gray-50 py-4 sm:py-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[s.jsx("button",{onClick:()=>e("/owner-properties"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Js,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Edit Property"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Update your property information"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("button",{onClick:$,disabled:o,className:"flex items-center justify-center space-x-2 px-4 sm:px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?s.jsx(oa,{className:"w-4 h-4 animate-spin"}):s.jsx(Sv,{className:"w-4 h-4"}),s.jsx("span",{children:o?"Saving...":"Save Changes"})]})})]})}),f&&s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg flex items-center space-x-2",children:[s.jsx(jt,{className:"w-5 h-5"}),s.jsx("span",{children:f})]}),u&&s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg flex items-center space-x-2",children:[s.jsx(Zt,{className:"w-5 h-5"}),s.jsx("span",{children:u})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-6 lg:space-x-8 overflow-x-auto scrollbar-hide",children:X.map(V=>{const ne=V.icon;return s.jsxs("button",{onClick:()=>p(V.id),className:`flex items-center space-x-2 sm:space-x-3 py-3 px-3 sm:px-4 border-b-2 font-medium text-sm whitespace-nowrap min-w-0 ${x===V.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ne,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),s.jsx("span",{children:V.label})]},V.id)})})})}),s.jsxs("form",{onSubmit:$,className:"space-y-6 sm:space-y-8",children:[x==="basic"&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Basic Information & Pricing"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Details"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Name *"}),s.jsx("input",{type:"text",value:k.property_name,onChange:V=>Q("property_name",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter property name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Mode"}),s.jsxs(Y2,{value:k.property_mode,onValueChange:V=>Q("property_mode",V),children:[s.jsx(Ty,{children:s.jsx(X2,{placeholder:"Select property mode"})}),s.jsx(Oy,{children:s.jsx(ba,{value:"room",children:"Room"})})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),s.jsx("textarea",{value:k.description,onChange:V=>Q("description",V.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Describe your property...",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Pricing Information"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Security Deposit () *"}),s.jsx("input",{type:"number",value:k.security_deposit,onChange:V=>Q("security_deposit",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter security deposit amount",required:!0})]})})]})]}),x==="location"&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Location & Map"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),s.jsx("input",{type:"text",value:k.address.street,onChange:V=>Q("address.street",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter street address",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),s.jsx("input",{type:"text",value:k.address.city,onChange:V=>Q("address.city",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"City",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),s.jsx("input",{type:"text",value:k.address.state,onChange:V=>Q("address.state",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"State",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),s.jsx("input",{type:"text",value:k.address.pincode,onChange:V=>Q("address.pincode",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Pincode",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark"}),s.jsx("input",{type:"text",value:k.address.landmark,onChange:V=>Q("address.landmark",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Nearby landmark"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),s.jsx("input",{type:"number",step:"any",value:k.latitude,onChange:V=>Q("latitude",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Latitude"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:k.longitude,onChange:V=>Q("longitude",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Longitude"})]})]})]}),s.jsx("div",{className:"h-64 sm:h-80 lg:h-96 rounded-lg overflow-hidden border border-gray-300",children:s.jsxs(Yh,{center:v,zoom:b,style:{height:"100%",width:"100%"},children:[s.jsx(Jh,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(IZe,{onLocationSelect:W}),s.jsx(TZe,{center:v}),k.latitude&&k.longitude&&s.jsx(Xh,{position:[k.latitude,k.longitude]})]})})]})]}),x==="amenities"&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Amenities & Rules"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Amenities"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"parking4w",label:"4-Wheeler Parking",icon:ml},{key:"parking2w",label:"2-Wheeler Parking",icon:ml},{key:"kitchen",label:"Kitchen",icon:If},{key:"powerBackup",label:"Power Backup",icon:UV}].map(V=>{const ne=V.icon;return s.jsxs("label",{className:`flex flex-col items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ${k.amenities[V.key]?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("input",{type:"checkbox",checked:k.amenities[V.key],onChange:()=>F(V.key),className:"sr-only"}),s.jsx(ne,{className:"w-6 h-6 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-center",children:V.label})]},V.key)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Rules & Policies"}),s.jsx("div",{className:"space-y-3 sm:space-y-4",children:[{key:"petsAllowed",label:"Pets Allowed",description:"Allow tenants to keep pets"},{key:"smokingAllowed",label:"Smoking Allowed",description:"Allow smoking on the property"},{key:"visitorsAllowed",label:"Visitors Allowed",description:"Allow tenants to have visitors"},{key:"cookingAllowed",label:"Cooking Allowed",description:"Allow cooking in the property"}].map(V=>s.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:k.rules[V.key],onChange:()=>K(V.key),className:"mt-1 h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:V.label}),s.jsx("div",{className:"text-sm text-gray-500",children:V.description})]})]},V.key))})]})]}),x==="media"&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4 sm:mb-6",children:"Images & Documents"}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:[s.jsx(ts,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-600"}),s.jsx("h4",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Property Images"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{key:"front",label:"Front"},{key:"back",label:"Back"},{key:"hall",label:"Hall"},{key:"kitchen",label:"Kitchen"}].filter(({key:V})=>V!=="kitchen"||k.amenities.kitchen).map(({key:V,label:ne})=>{var ge;const ae=k.requiredImages[V]||k.images[V],he=((ge=k.requiredImages[V])==null?void 0:ge.preview)||k.images[V];return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:[ne," ",V!=="kitchen"||k.amenities.kitchen?"*":""]}),ae?s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:he,alt:`${ne} View`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>ee(V),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})})]}):s.jsxs("label",{className:`flex items-center justify-center w-full h-28 border-2 border-dashed rounded-lg cursor-pointer ${j[V]?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50"} hover:bg-gray-100`,children:[s.jsx("div",{className:"text-xs text-gray-500 text-center px-2",children:j[V]?"Uploading...":`Upload ${ne}`}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:J=>z(V,J)})]})]},V)})}),s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center w-full",children:s.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(ld,{className:"w-8 h-8 mb-3 text-gray-400"}),s.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:V=>{Array.from(V.target.files).forEach(ae=>{ae&&te("gallery",ae)})},className:"hidden"})]})}),k.images.gallery&&k.images.gallery.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:k.images.gallery.map((V,ne)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:typeof V=="string"?V:V.preview,alt:`Gallery ${ne+1}`,className:"w-full h-28 object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:()=>le("gallery",ne),className:"absolute top-1 right-1 p-1 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:s.jsx(or,{className:"w-3 h-3"})})]},ne))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",checked:k.toilet_outside,onChange:V=>Q("toilet_outside",V.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Outside Toilet Available"})]}),k.toilet_outside&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:k.outside_toilet_image?s.jsx("img",{src:typeof k.outside_toilet_image=="string"?k.outside_toilet_image:k.outside_toilet_image.preview,alt:"Outside Toilet",className:"w-full h-full object-cover rounded-lg"}):s.jsx(ts,{className:"w-6 h-6 text-gray-400"})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:V=>U.current.outside_toilet_image=V,type:"file",accept:"image/*",onChange:V=>te("outside_toilet_image",V.target.files[0]),className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var V;return(V=U.current.outside_toilet_image)==null?void 0:V.click()},disabled:j.outside_toilet_image,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Upload Image"}),k.outside_toilet_image&&s.jsx("button",{type:"button",onClick:()=>le("outside_toilet_image"),className:"px-4 py-2 text-red-600 border border-red-600 rounded-lg hover:bg-red-50 text-sm",children:"Remove"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-800 mb-4",children:"Property Documents"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Land Tax Receipt"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-24 h-20 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center",children:k.land_tax_receipt?s.jsx("img",{src:typeof k.land_tax_receipt=="string"?k.land_tax_receipt:k.land_tax_receipt.preview,alt:"Land Tax Receipt",className:"w-full h-full object-cover rounded-lg"}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"w-6 h-6 text-gray-400 mb-1"}),s.jsx("span",{className:"text-xs text-gray-500 text-center",children:"Land Tax Receipt"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{ref:V=>U.current.land_tax_receipt=V,type:"file",accept:"image/*,.pdf",onChange:V=>te("land_tax_receipt",V.target.files[0]),className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>{var V;return(V=U.current.land_tax_receipt)==null?void 0:V.click()},disabled:j.land_tax_receipt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Upload Document"}),k.land_tax_receipt&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>D(k.land_tax_receipt,"Land Tax Receipt.pdf"),className:"w-10 h-10 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",title:"Preview Document",children:s.jsx(Er,{className:"w-4 h-4"})}),s.jsx("a",{href:typeof k.land_tax_receipt=="string"?k.land_tax_receipt:k.land_tax_receipt.preview,download:"Land Tax Receipt.pdf",className:"w-10 h-10 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center",title:"Download Document",children:s.jsx(tu,{className:"w-4 h-4"})})]})]})]})]})})]})]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl overflow-hidden shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["Document Preview - ",P.name]}),s.jsx("button",{type:"button",onClick:()=>T(null),className:"px-2 py-1 text-gray-500 hover:text-gray-700 text-sm",children:""})]}),s.jsx("div",{className:"p-4",children:P.type==="pdf"?s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50",children:s.jsx("iframe",{title:"PDF Preview",src:`${P.url}#toolbar=1&navpanes=1&scrollbar=1`,className:"w-full h-full border-0",style:{minHeight:"600px"},onLoad:()=>{console.log("PDF iframe loaded successfully")},onError:()=>{console.error("PDF iframe failed to load")}})}):s.jsx("div",{className:"w-full h-[70vh] border border-gray-200 rounded-lg overflow-hidden bg-gray-50 flex items-center justify-center",children:s.jsx("img",{src:P.url,alt:P.name,className:"w-full max-h-[70vh] object-contain border border-gray-200 rounded-lg",onError:V=>{V.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}})})}),s.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-gray-600",children:P.type==="pdf"?"PDF Document":"Image Document"}),s.jsxs("div",{className:"flex gap-2",children:[P.type==="pdf"&&s.jsxs("a",{href:P.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm",children:[s.jsx(YP,{className:"w-4 h-4 mr-1"}),"Open in New Tab"]}),s.jsxs("a",{href:P.url,download:P.name,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(tu,{className:"w-4 h-4 mr-1"}),"Download"]})]})]})]})})]})},LZe=()=>{const e=cr(),[t,r]=_.useState(!0),[n,i]=_.useState("6months"),[a,o]=_.useState([]),[l,c]=_.useState([]),[d,u]=_.useState([]),A="http://localhost:5000/api";_.useEffect(()=>{(async()=>{r(!0);try{const j=localStorage.getItem("authToken"),N=JSON.parse(localStorage.getItem("user")||"{}");if(!j||!N._id){e("/login");return}const B={"Content-Type":"application/json",Authorization:`Bearer ${j}`,"x-user-id":N._id},[I,P]=await Promise.all([fetch(`${A}/property/owner/properties?page=1&limit=500`,{headers:B}),fetch(`${A}/property/owner/bookings`,{headers:B})]),T=await I.json(),U=await P.json(),k=T.properties||T.data||[];o(k),c(U.bookings||U.data||[]);const E=k.reduce((Q,F)=>{const W=(F.rooms&&Array.isArray(F.rooms)?F.rooms:[]).map(D=>({...D,rent:D.rent??D.price??0,roomType:D.roomType??D.room_type??"Unknown",is_available:typeof D.is_available=="boolean"?D.is_available:D.status==="active",property}));return[...Q,...W]},[]);u(E)}catch(j){console.error("Error fetching analytics data:",j)}finally{r(!1)}})()},[e]);const f=_.useMemo(()=>{const w=a.length,j=d.length,N=d.filter(ee=>ee.status==="active"||ee.is_available).length,B=d.filter(ee=>ee.is_available===!1).length,I=l.filter(ee=>{var $;const te=(($=ee.payment)==null?void 0:$.paymentStatus)||ee.paymentStatus;return(ee.status||ee.bookingStatus)==="confirmed"&&te==="completed"}),P=I.reduce((ee,te)=>{var le;return ee+(((le=te.payment)==null?void 0:le.amount)||0)},0),T=new Date().getMonth(),U=new Date().getFullYear(),k=I.filter(ee=>{const te=new Date(ee.createdAt);return te.getMonth()===T&&te.getFullYear()===U}).reduce((ee,te)=>{var le;return ee+(((le=te.payment)==null?void 0:le.amount)||0)},0),E=T===0?11:T-1,Q=T===0?U-1:U,F=I.filter(ee=>{const te=new Date(ee.createdAt);return te.getMonth()===E&&te.getFullYear()===Q}).reduce((ee,te)=>{var le;return ee+(((le=te.payment)==null?void 0:le.amount)||0)},0),K=F>0?((k-F)/F*100).toFixed(1):0,W=j>0?(B/j*100).toFixed(1):0,D=d.length>0?Math.round(d.reduce((ee,te)=>ee+(te.rent||0),0)/d.length):0,z=l.filter(ee=>ee.status==="pending").length;return{totalProperties:w,totalRooms:j,activeRooms:N,occupiedRooms:B,totalRevenue:P,monthlyRevenue:k,revenueChange:K,occupancyRate:W,avgRent:D,pendingBookings:z,totalBookings:l.length}},[a,d,l]),m=_.useMemo(()=>{const w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j=n==="1month"?1:n==="3months"?3:n==="6months"?6:12,N=[],B=new Date;for(let I=j-1;I>=0;I--){const P=new Date(B.getFullYear(),B.getMonth()-I,1),T=P.getMonth(),U=P.getFullYear(),k=l.filter(E=>{var W;const Q=E.status||E.bookingStatus,F=((W=E.payment)==null?void 0:W.paymentStatus)||E.paymentStatus;if(Q!=="confirmed"||F!=="completed")return!1;const K=new Date(E.createdAt||E.updatedAt||E.date||Date.now());return K.getMonth()===T&&K.getFullYear()===U}).reduce((E,Q)=>{var F;return E+(((F=Q.payment)==null?void 0:F.amount)||Q.amount||Q.totalAmount||0)},0);N.push({month:w[T],revenue:k,bookings:l.filter(E=>{const Q=new Date(E.createdAt||E.updatedAt||E.date||Date.now());return Q.getMonth()===T&&Q.getFullYear()===U}).length})}return N},[l,n]),x=_.useMemo(()=>a.map(w=>{const j=w.propertyName||w.property_name||"Property",N=Array.isArray(w.rooms)?w.rooms:[],B=new Set(N.map(T=>(T._id||T.id||"").toString())),I=l.filter(T=>{const U=(T.roomId||T.room_id||"").toString();return U&&B.has(U)}),P=I.filter(T=>{var U;return(T.status||T.bookingStatus)==="confirmed"&&(((U=T.payment)==null?void 0:U.paymentStatus)||T.paymentStatus)==="completed"}).reduce((T,U)=>{var k;return T+(((k=U.payment)==null?void 0:k.amount)||U.amount||U.totalAmount||0)},0);return{name:j.length>15?j.substring(0,15)+"...":j,fullName:j,revenue:P,bookings:I.length,rooms:N.length,occupiedRooms:N.filter(T=>T.is_available===!1).length}}).sort((w,j)=>j.revenue-w.revenue),[a,l]),p=_.useMemo(()=>{const w=l.filter(I=>I.status==="confirmed").length,j=l.filter(I=>I.status==="pending").length,N=l.filter(I=>I.status==="rejected").length,B=l.filter(I=>I.status==="cancelled").length;return[{name:"Confirmed",value:w,color:"#10b981"},{name:"Pending",value:j,color:"#f59e0b"},{name:"Rejected",value:N,color:"#ef4444"},{name:"Cancelled",value:B,color:"#6b7280"}].filter(I=>I.value>0)},[l]),v=_.useMemo(()=>{const w={};return d.forEach(j=>{const N=j.roomType||j.room_type||"Unknown";w[N]=(w[N]||0)+1}),Object.entries(w).map(([j,N])=>({name:j,value:N,color:j==="Single"?"#3b82f6":j==="Double"?"#8b5cf6":j==="Triple"?"#ec4899":"#6b7280"}))},[d]),y=w=>w>=1e7?`${(w/1e7).toFixed(1)}Cr`:w>=1e5?`${(w/1e5).toFixed(1)}L`:w>=1e3?`${(w/1e3).toFixed(1)}K`:`${w}`;if(t)return s.jsx(cn,{children:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oa,{className:"w-12 h-12 animate-spin text-red-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})});const b=[{title:"Total Revenue",value:y(f.totalRevenue),change:`${f.revenueChange}%`,changeType:f.revenueChange>=0?"positive":"negative",icon:ti,color:"bg-green-500",description:"All-time earnings"},{title:"Monthly Revenue",value:y(f.monthlyRevenue),change:`${f.revenueChange}%`,changeType:f.revenueChange>=0?"positive":"negative",icon:Au,color:"bg-blue-500",description:"This month"},{title:"Occupancy Rate",value:`${f.occupancyRate}%`,change:`${f.occupiedRooms}/${f.totalRooms} rooms`,icon:Jr,color:"bg-purple-500",description:"Current occupancy"},{title:"Total Bookings",value:f.totalBookings.toString(),change:`${f.pendingBookings} pending`,icon:Or,color:"bg-orange-500",description:"All bookings"},{title:"Average Rent",value:y(f.avgRent),change:`${f.totalRooms} rooms`,icon:gF,color:"bg-pink-500",description:"Per room"},{title:"Active Rooms",value:f.activeRooms.toString(),change:`${f.totalRooms} total`,icon:jt,color:"bg-teal-500",description:"Available for booking"}];return s.jsx(cn,{children:s.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-6",children:[s.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[s.jsx(_p,{className:"w-6 h-6 sm:w-8 sm:h-8 text-red-600"}),"Analytics Dashboard"]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Track your property performance and revenue"})]}),s.jsx("div",{className:"flex items-center gap-1 sm:gap-2 bg-white rounded-lg border border-gray-200 p-1",children:[{label:"1M",value:"1month"},{label:"3M",value:"3months"},{label:"6M",value:"6months"},{label:"1Y",value:"1year"}].map(w=>s.jsx("button",{onClick:()=>i(w.value),className:`px-2 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-colors ${n===w.value?"bg-red-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:w.label},w.value))})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:b.map((w,j)=>{const N=w.icon;return s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`${w.color} p-2 sm:p-3 rounded-lg`,children:s.jsx(N,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),w.changeType&&s.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${w.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[w.changeType==="positive"?s.jsx(No,{className:"w-4 h-4"}):s.jsx(pue,{className:"w-4 h-4"}),w.change]})]}),s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:w.value}),s.jsx("p",{className:"text-sm text-gray-600",children:w.title}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.description})]},w.title)})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Au,{className:"w-5 h-5 text-green-600"}),"Revenue Trend"]}),s.jsx(of,{width:"100%",height:250,children:s.jsxs(lre,{data:m,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(_f,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(cc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(Al,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ra,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:w=>[`${w.toLocaleString()}`,"Revenue"]}),s.jsx(Pu,{type:"monotone",dataKey:"revenue",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:2})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5 text-blue-600"}),"Bookings Trend"]}),s.jsx(of,{width:"100%",height:250,children:s.jsxs(are,{data:m,children:[s.jsx(_f,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(cc,{dataKey:"month",stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(Al,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ra,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:w=>[w,"Bookings"]}),s.jsx(Jf,{type:"monotone",dataKey:"bookings",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},activeDot:{r:6}})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 lg:col-span-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5 text-purple-600"}),"Property Performance"]}),s.jsx(of,{width:"100%",height:250,children:s.jsxs(ore,{data:x,children:[s.jsx(_f,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(cc,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"11px"}}),s.jsx(Al,{stroke:"#6b7280",style:{fontSize:"12px"}}),s.jsx(ra,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:(w,j)=>[j==="revenue"?`${w.toLocaleString()}`:w,j==="revenue"?"Revenue":"Bookings"],content:({active:w,payload:j})=>{if(w&&j&&j.length){const N=j[0].payload;return s.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:N.fullName}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Revenue: ",s.jsxs("span",{className:"font-medium text-purple-600",children:["",N.revenue.toLocaleString()]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Bookings: ",s.jsx("span",{className:"font-medium text-blue-600",children:N.bookings})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Occupancy: ",s.jsxs("span",{className:"font-medium",children:[N.occupiedRooms,"/",N.rooms," rooms"]})]})]})}return null}}),s.jsx(ju,{dataKey:"revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(gF,{className:"w-5 h-5 text-orange-600"}),"Booking Status"]}),p.length>0?s.jsxs(s.Fragment,{children:[s.jsx(of,{width:"100%",height:200,children:s.jsxs(AZe,{children:[s.jsx(Eu,{data:p,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:p.map((w,j)=>s.jsx(U5,{fill:w.color},`cell-${j}`))}),s.jsx(ra,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:p.map(w=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:w.color}}),s.jsx("span",{className:"text-gray-600",children:w.name})]}),s.jsx("span",{className:"font-semibold text-gray-900",children:w.value})]},w.name))})]}):s.jsx("div",{className:"flex items-center justify-center h-[250px] text-gray-400",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zt,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"No bookings yet"})]})})]})]}),v.length>0&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Er,{className:"w-5 h-5 text-pink-600"}),"Room Type Distribution"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:v.map(w=>s.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:w.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:w.name})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.value}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(w.value/d.length*100).toFixed(1),"% of total"]})]},w.name))})]})]})})},j$="http://localhost:5000/api",FZe=()=>{const e=cr(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState(!1),[A,f]=_.useState({open:!1,requestId:null,newStatus:null,title:"",message:""}),m=async()=>{try{const B=Jc(),P=(await xr.get(`${j$}/maintenance/owner`,{headers:{Authorization:`Bearer ${B}`}})).data.map(T=>{var U,k,E,Q,F;return{id:T._id,tenantName:((U=T.tenantId)==null?void 0:U.name)||"Unknown",tenantEmail:(k=T.tenantId)==null?void 0:k.email,tenantPhone:(E=T.tenantId)==null?void 0:E.phone,propertyName:((Q=T.propertyId)==null?void 0:Q.property_name)||"N/A",roomNumber:((F=T.roomId)==null?void 0:F.room_number)||"N/A",title:T.title,description:T.description,category:T.category,priority:T.priority,status:T.status,dateSubmitted:T.createdAt,assignedTo:T.assignedTo}});r(P)}catch(B){console.error("Error fetching maintenance requests:",B)}finally{i(!1),u(!1)}};_.useEffect(()=>{m()},[]);const x=_.useMemo(()=>{const B=a.trim().toLowerCase();return t.filter(I=>l==="all"?I.status!=="completed":I.status===l).filter(I=>{if(!B)return!0;const P=`${I.tenantName} ${I.tenantEmail}`.toLowerCase(),T=I.propertyName.toLowerCase(),U=(I.roomNumber||"").toLowerCase(),k=I.title.toLowerCase();return P.includes(B)||T.includes(B)||U.includes(B)||k.includes(B)}).sort((I,P)=>new Date(P.dateSubmitted)-new Date(I.dateSubmitted))},[t,a,l]),p=_.useMemo(()=>{const B=t.length,I=t.filter(k=>k.status==="pending").length,P=t.filter(k=>k.status==="in-progress").length,T=t.filter(k=>k.status==="completed").length,U=t.filter(k=>k.status!=="completed").length;return{total:B,pending:I,inProgress:P,completed:T,active:U}},[t]),v=()=>{u(!0),m()},y=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=B=>{switch(B){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},j=(B,I)=>{const P=I==="in-progress";f({open:!0,requestId:B.id,newStatus:I,title:P?"Start Maintenance?":"Complete Request?",message:P?`Are you sure you want to start working on "${B.title}"? This will notify the tenant.`:`Are you sure you want to mark "${B.title}" as completed? This will notify the tenant.`})},N=async()=>{var B,I;try{const P=Jc();await xr.patch(`${j$}/maintenance/${A.requestId}`,{status:A.newStatus},{headers:{Authorization:`Bearer ${P}`}}),m(),f({open:!1,requestId:null,newStatus:null,title:"",message:""})}catch(P){console.error("Error updating status:",P),alert("Failed to update status: "+(((I=(B=P.response)==null?void 0:B.data)==null?void 0:I.message)||P.message))}};return n?s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(la,{className:"w-12 h-12 animate-spin text-orange-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading maintenance requests..."})]})})}):s.jsxs(cn,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Maintenance Requests"}),s.jsx("p",{className:"text-gray-600",children:"Manage tenant maintenance requests"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:v,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(la,{className:"w-4 h-4 animate-spin"}):s.jsx(la,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg text-sm font-medium hover:bg-orange-700 transition-colors",children:[s.jsx(No,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-orange-50 to-orange-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-orange-400 ring-2 ring-orange-200":"border-orange-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-orange-600 mb-1",children:"Active Requests"}),s.jsx("div",{className:"text-3xl font-bold text-orange-900",children:p.active})]}),s.jsx("div",{className:"w-12 h-12 bg-orange-200 rounded-lg flex items-center justify-center",children:s.jsx(zd,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:p.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(Zt,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="in-progress"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("in-progress"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"In Progress"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:p.inProgress})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-green-50 to-green-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="completed"?"border-green-400 ring-2 ring-green-200":"border-green-200"}`,onClick:()=>c("completed"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Completed"}),s.jsx("div",{className:"text-3xl font-bold text-green-900",children:p.completed})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(jt,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, room, or request title...",value:a,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})}),x.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(zd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Requests Found"}),s.jsx("p",{className:"text-gray-600",children:a?"Try adjusting your search criteria":"No maintenance requests yet"})]}):s.jsx("div",{className:"space-y-4",children:x.map((B,I)=>s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.05},className:"bg-white border-2 border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:B.title}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${b(B.status)}`,children:B.status.replace("-"," ")}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${w(B.priority)}`,children:B.priority})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:B.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ar,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:B.tenantName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Jr,{className:"w-4 h-4"}),s.jsx("span",{children:B.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ua,{className:"w-4 h-4"}),s.jsxs("span",{children:["Room ",B.roomNumber]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Or,{className:"w-4 h-4"}),s.jsx("span",{children:y(B.dateSubmitted)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full font-medium",children:B.category}),B.assignedTo&&s.jsxs("span",{className:"text-gray-600",children:["Assigned to: ",s.jsx("span",{className:"font-medium",children:B.assignedTo})]})]})]}),s.jsxs("div",{className:"flex lg:flex-col gap-2 lg:items-end",children:[B.status==="pending"&&s.jsx("button",{onClick:()=>j(B,"in-progress"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Start Work"}),B.status==="in-progress"&&s.jsx("button",{onClick:()=>j(B,"completed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium",children:"Mark Complete"})]})]})})},B.id))})]}),s.jsx(gn,{children:A.open&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:s.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-sm w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:A.title}),s.jsx("button",{onClick:()=>f({...A,open:!1}),className:"p-1 hover:bg-gray-100 rounded-full",children:s.jsx(or,{className:"w-5 h-5 text-gray-500"})})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:A.message}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>f({...A,open:!1}),className:"px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:N,className:`px-4 py-2 text-white font-medium rounded-lg transition-colors ${A.newStatus==="completed"?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"}`,children:"Confirm"})]})]})})})]})},UZe=()=>{const e=cr(),[t,r]=_.useState([]),[n,i]=_.useState(!0),[a,o]=_.useState(""),[l,c]=_.useState("all"),[d,u]=_.useState(!1),[A,f]=_.useState(!1),[m,x]=_.useState({tenantId:"",amount:"",reason:"",dueDate:""}),p=[{id:1,tenantName:"John Doe",tenantEmail:"john@example.com",tenantPhone:"+91 98765 43210",propertyName:"Sunshine Apartments",roomNumber:"101",monthlyRent:15e3,lastPaymentDate:"2024-12-25",nextDueDate:"2025-01-25",paymentStatus:"pending",daysOverdue:5},{id:2,tenantName:"Jane Smith",tenantEmail:"jane@example.com",tenantPhone:"+91 98765 43211",propertyName:"Green Valley PG",roomNumber:"205",monthlyRent:12e3,lastPaymentDate:"2025-01-20",nextDueDate:"2025-02-20",paymentStatus:"paid",daysOverdue:0},{id:3,tenantName:"Bob Wilson",tenantEmail:"bob@example.com",tenantPhone:"+91 98765 43212",propertyName:"Sunshine Apartments",roomNumber:"303",monthlyRent:18e3,lastPaymentDate:"2024-12-15",nextDueDate:"2025-01-15",paymentStatus:"overdue",daysOverdue:15}];_.useEffect(()=>{setTimeout(()=>{r(p),i(!1)},500)},[]);const v=_.useMemo(()=>{const T=a.trim().toLowerCase();return t.filter(U=>l==="all"?!0:U.paymentStatus===l).filter(U=>{if(!T)return!0;const k=`${U.tenantName} ${U.tenantEmail}`.toLowerCase(),E=U.propertyName.toLowerCase(),Q=U.roomNumber.toLowerCase();return k.includes(T)||E.includes(T)||Q.includes(T)}).sort((U,k)=>k.daysOverdue-U.daysOverdue)},[t,a,l]),y=_.useMemo(()=>{const T=t.length,U=t.filter(Q=>Q.paymentStatus==="pending").length,k=t.filter(Q=>Q.paymentStatus==="overdue").length,E=t.filter(Q=>Q.paymentStatus==="paid").reduce((Q,F)=>Q+F.monthlyRent,0);return{total:T,pending:U,overdue:k,collectedThisMonth:E}},[t]),b=async()=>{u(!0),setTimeout(()=>{u(!1)},1e3)},w=T=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(T||0),j=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),N=T=>{switch(T){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},B=T=>{alert(`Payment request sent to tenant ${T}`)},I=T=>{r(U=>U.map(k=>k.id===T?{...k,paymentStatus:"paid",daysOverdue:0}:k))},P=()=>{var T;if(!m.tenantId||!m.amount||!m.reason){alert("Please fill in all required fields");return}alert(`Custom payment request created:
Tenant: ${(T=t.find(U=>U.id===parseInt(m.tenantId)))==null?void 0:T.tenantName}
Amount: ${w(m.amount)}
Reason: ${m.reason}`),f(!1),x({tenantId:"",amount:"",reason:"",dueDate:""})};return n?s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx(la,{className:"w-12 h-12 animate-spin text-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading payment information..."})]})})}):s.jsx(cn,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Payment Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage tenant rent payments"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[d?s.jsx(la,{className:"w-4 h-4 animate-spin"}):s.jsx(la,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[s.jsx(ld,{className:"w-4 h-4"}),"Custom Request"]}),s.jsxs("button",{onClick:()=>e("/owner-dashboard"),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors",children:[s.jsx(No,{className:"w-4 h-4"}),"Dashboard"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="all"?"border-blue-400 ring-2 ring-blue-200":"border-blue-200"}`,onClick:()=>c("all"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-600 mb-1",children:"Total Tenants"}),s.jsx("div",{className:"text-3xl font-bold text-blue-900",children:y.total})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-200 rounded-lg flex items-center justify-center",children:s.jsx(ar,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-yellow-50 to-yellow-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="pending"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-200"}`,onClick:()=>c("pending"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-600 mb-1",children:"Pending"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-900",children:y.pending})]}),s.jsx("div",{className:"w-12 h-12 bg-yellow-200 rounded-lg flex items-center justify-center",children:s.jsx(ns,{className:"w-6 h-6 text-yellow-600"})})]})}),s.jsx("div",{className:`bg-gradient-to-br from-red-50 to-red-100 border rounded-xl p-6 hover:shadow-lg transition-shadow cursor-pointer ${l==="overdue"?"border-red-400 ring-2 ring-red-200":"border-red-200"}`,onClick:()=>c("overdue"),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-red-600 mb-1",children:"Overdue"}),s.jsx("div",{className:"text-3xl font-bold text-red-900",children:y.overdue})]}),s.jsx("div",{className:"w-12 h-12 bg-red-200 rounded-lg flex items-center justify-center",children:s.jsx(Zt,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-green-600 mb-1",children:"Collected"}),s.jsx("div",{className:"text-2xl font-bold text-green-900",children:w(y.collectedThisMonth)})]}),s.jsx("div",{className:"w-12 h-12 bg-green-200 rounded-lg flex items-center justify-center",children:s.jsx(ti,{className:"w-6 h-6 text-green-600"})})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by tenant, property, or room...",value:a,onChange:T=>o(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),v.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(ti,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tenants Found"}),s.jsx("p",{className:"text-gray-600",children:a?"Try adjusting your search criteria":"No tenants with payment information"})]}):s.jsx("div",{className:"space-y-4",children:v.map((T,U)=>s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.05},className:`bg-white border-2 rounded-lg shadow-sm hover:shadow-md transition-shadow ${T.paymentStatus==="overdue"?"border-red-300 bg-red-50":"border-gray-200"}`,children:s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1",children:[s.jsx("div",{className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center ${T.paymentStatus==="overdue"?"bg-red-100":"bg-green-100"}`,children:s.jsx(ar,{className:`w-6 h-6 sm:w-7 sm:h-7 ${T.paymentStatus==="overdue"?"text-red-600":"text-green-600"}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:T.tenantName}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${N(T.paymentStatus)}`,children:T.paymentStatus}),T.daysOverdue>0&&s.jsxs("span",{className:"px-2.5 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:[T.daysOverdue," days overdue"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs sm:text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Jr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsx("span",{children:T.propertyName})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ua,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),s.jsxs("span",{children:["Room ",T.roomNumber]})]})]})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-base font-bold text-green-600",children:w(T.monthlyRent)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Payment"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j(T.lastPaymentDate)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Next Due"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j(T.nextDueDate)})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.paymentStatus!=="paid"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>B(T.id),className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(qh,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Send Request"}),s.jsx("span",{className:"sm:hidden",children:"Request"})]}),s.jsxs("button",{onClick:()=>I(T.id),className:"px-3 sm:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(jt,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark Paid"}),s.jsx("span",{className:"sm:hidden",children:"Paid"})]})]}),s.jsxs("button",{className:"px-3 sm:px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium flex items-center gap-1.5",children:[s.jsx(_ue,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"History"})]})]})]}),s.jsxs("div",{className:"lg:hidden mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Monthly Rent"}),s.jsx("p",{className:"font-bold text-green-600",children:w(T.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Last Payment"}),s.jsx("p",{className:"font-semibold text-gray-900",children:j(T.lastPaymentDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:"Next Due Date"}),s.jsx("p",{className:"font-semibold text-gray-900",children:j(T.nextDueDate)})]})]})]})},T.id))}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Create Custom Payment Request"}),s.jsx("button",{onClick:()=>f(!1),className:"p-1 hover:bg-purple-800 rounded-lg transition-colors",children:s.jsx(or,{className:"w-6 h-6"})})]}),s.jsx("p",{className:"text-purple-100 mt-2",children:"Request payment from a tenant for any reason"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Tenant ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:m.tenantId,onChange:T=>x({...m,tenantId:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a tenant..."}),t.map(T=>s.jsxs("option",{value:T.id,children:[T.tenantName," - ",T.propertyName," Room ",T.roomNumber]},T.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Amount () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:m.amount,onChange:T=>x({...m,amount:T.target.value}),placeholder:"Enter amount",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:m.reason,onChange:T=>x({...m,reason:T.target.value}),placeholder:"e.g., Electricity bill, Maintenance charges, Damage repair, etc.",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date (Optional)"}),s.jsx("input",{type:"date",value:m.dueDate,onChange:T=>x({...m,dueDate:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:P,className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(qh,{className:"w-5 h-5"}),"Send Request"]})]})]})})]})})},RZe=()=>{var f,m,x;const{tenantId:e}=_u(),t=cr(),[r,n]=_.useState(null),[i,a]=_.useState(!0),[o,l]=_.useState("");_.useEffect(()=>{e&&(async()=>{var v,y;try{const b="http://localhost:5000/api",w=localStorage.getItem("authToken"),j=await xr.get(`${b}/property/tenants/${e}`,{headers:{Authorization:`Bearer ${w}`}});j.data.success&&n(j.data.tenant)}catch(b){console.error("Error fetching tenant details:",b),l(((y=(v=b.response)==null?void 0:v.data)==null?void 0:y.message)||"Failed to load tenant details")}finally{a(!1)}})()},[e]);const c=p=>p?`${Number(p).toLocaleString()}`:"-",d=p=>p?new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"-";if(i)return s.jsx(cn,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(o||!r)return s.jsx(cn,{children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[s.jsx(eg,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-red-900 mb-2",children:"Error Loading Tenant"}),s.jsx("p",{className:"text-red-600 mb-6",children:o||"Tenant not found"}),s.jsx("button",{onClick:()=>t("/owner-tenants"),className:"px-4 py-2 bg-white border border-red-300 rounded-lg text-red-700 font-medium hover:bg-red-50",children:"Back to Tenants"})]})})});const{kyc:u}=r,A=(f=u==null?void 0:u.aadhar)==null?void 0:f.extractedData;return s.jsx(cn,{children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("button",{onClick:()=>t("/owner-tenants"),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors mb-4",children:[s.jsx(Js,{className:"w-4 h-4 mr-1"}),"Back to Tenants List"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tenant Profile"}),s.jsx("p",{className:"text-gray-600",children:"Detailed information and documents"})]}),s.jsxs("div",{className:`px-4 py-2 rounded-full text-sm font-medium border ${r.status==="active"?"bg-green-100 text-green-800 border-green-200":r.status==="checked_out"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:["Status: ",r.status.charAt(0).toUpperCase()+r.status.slice(1)]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4 overflow-hidden border-4 border-white shadow-md",children:r.profilePicture?s.jsx("img",{src:r.profilePicture,alt:r.userName,className:"w-full h-full object-cover"}):s.jsx(ar,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:r.userName}),s.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Tenant since ",d(r.actualCheckInDate)]}),s.jsxs("div",{className:"w-full space-y-3 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(yn,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{className:"truncate",children:r.userEmail})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(ms,{className:"w-4 h-4 mr-3 text-gray-400"}),s.jsx("span",{children:r.userPhone||"No phone provided"})]})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[s.jsx(ks,{className:"w-5 h-5 mr-2 text-blue-600"}),"Lease Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Property"}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(wr,{className:"w-4 h-4 mr-2 text-gray-400 mt-0.5"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.propertyName})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Room"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900 ml-6",children:["Room ",r.roomNumber]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Monthly Rent"}),s.jsx("p",{className:"text-sm font-bold text-green-600 ml-6",children:c(r.monthlyRent)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Deposit"}),s.jsx("p",{className:"text-sm font-bold text-blue-600 ml-6",children:c(r.securityDeposit)})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Check-in Date"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Or,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d(r.actualCheckInDate)})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:`rounded-xl p-6 border ${(u==null?void 0:u.status)==="approved"?"bg-green-50 border-green-200":(u==null?void 0:u.status)==="rejected"?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${(u==null?void 0:u.status)==="approved"?"bg-green-100 text-green-600":(u==null?void 0:u.status)==="rejected"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:s.jsx(tr,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:`text-lg font-bold ${(u==null?void 0:u.status)==="approved"?"text-green-900":(u==null?void 0:u.status)==="rejected"?"text-red-900":"text-yellow-900"}`,children:["KYC Status: ",u!=null&&u.status?u.status.charAt(0).toUpperCase()+u.status.slice(1):"Not Submitted"]}),s.jsx("p",{className:`text-sm ${(u==null?void 0:u.status)==="approved"?"text-green-700":(u==null?void 0:u.status)==="rejected"?"text-red-700":"text-yellow-700"}`,children:(u==null?void 0:u.status)==="approved"?"Identity verified successfully.":(u==null?void 0:u.status)==="rejected"?"Identity verification failed.":"Verification is pending or incomplete."})]})]})})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[s.jsx(Xp,{className:"w-5 h-5 mr-2 text-blue-600"}),"Identity Verification"]})}),s.jsx("div",{className:"p-6",children:A?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Extracted Details"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Full Name"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:A.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Date of Birth"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:A.dateOfBirth})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Gender"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:A.gender})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 block",children:"Aadhar Number"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 blur-sm hover:blur-none transition-all cursor-pointer",title:"Click to reveal",children:A.aadharNumber})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Document Images"}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[((m=u==null?void 0:u.aadhar)==null?void 0:m.frontImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Front Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:u.aadhar.frontImageUrl,alt:"ID Front",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:u.aadhar.frontImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]}),((x=u==null?void 0:u.aadhar)==null?void 0:x.backImageUrl)&&s.jsxs("div",{className:"border rounded-lg p-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Back Side"}),s.jsxs("div",{className:"aspect-[1.6] bg-gray-100 rounded overflow-hidden relative group",children:[s.jsx("img",{src:u.aadhar.backImageUrl,alt:"ID Back",className:"w-full h-full object-contain"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("a",{href:u.aadhar.backImageUrl,target:"_blank",rel:"noreferrer",className:"px-3 py-1.5 bg-white text-gray-900 text-xs font-medium rounded-full",children:"View Full Size"})})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ks,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"No identity documents have been processed for this tenant."})]})})]})]})]})]})})},rh=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{const a=()=>{console.log("Global Logout Triggered"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"};return window.addEventListener("lyvo-logout",a),()=>window.removeEventListener("lyvo-logout",a)},[]),_.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedAdminRoute: User role check:",c.role),c.role===2)i(!0);else{console.log("ProtectedAdminRoute: User is not admin, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedAdminRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},Pi=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=Jc(),l=Tv();if(o&&l)if(Iv(l)===3)i(!0);else{const d=Lx(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},Fs=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=Jc(),l=Tv();if(o&&l)if(Iv(l)===1)i(!0);else{const d=Lx(l);window.location.href=d;return}else{window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},MZe=({children:e})=>{const[t,r]=_.useState(!0),[n,i]=_.useState(!1);return _.useEffect(()=>{(()=>{const o=localStorage.getItem("authToken"),l=localStorage.getItem("user");if(o&&l)try{const c=JSON.parse(l);if(console.log("ProtectedUserRoute: User role check:",c.role),c.role===1)i(!0);else if(c.role===2){console.log("ProtectedUserRoute: Redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(c.role===3){console.log("ProtectedUserRoute: Redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else{console.log("ProtectedUserRoute: Invalid role, redirecting to login"),window.location.href="/login";return}}catch(c){console.error("Error parsing user data:",c),window.location.href="/login";return}else{console.log("ProtectedUserRoute: No token or user data, redirecting to login"),window.location.href="/login";return}r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):n?e:null},DZe=({children:e})=>{const[t,r]=_.useState(!0);return _.useEffect(()=>{(()=>{const i=localStorage.getItem("authToken"),a=localStorage.getItem("user");if(i&&a)try{const o=JSON.parse(a),l=window.location.pathname;if(console.log("RootAuthCheck: User logged in with role:",o.role,"on path:",l),l==="/"){if(o.role===2){console.log("RootAuthCheck: Root path - redirecting admin to admin dashboard"),window.location.href="/admin-dashboard";return}else if(o.role===3){console.log("RootAuthCheck: Root path - redirecting owner to owner dashboard"),window.location.href="/owner-dashboard";return}else if(o.role===1){console.log("RootAuthCheck: Root path - redirecting seeker to appropriate page"),o.isNewUser&&!o.hasCompletedBehaviorQuestions?window.location.href="/seeker-onboarding":window.location.href="/seeker-dashboard";return}}}catch(o){console.error("Error parsing user data in root auth check:",o)}else console.log("RootAuthCheck: No user logged in");r(!1)})()},[]),t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Checking authentication..."})]})}):e};function QZe(){const e=to(),[t,r]=_.useState(!1);return _.useEffect(()=>{r(!0);const n=setTimeout(()=>r(!1),1e3);return()=>clearTimeout(n)},[e.pathname]),e.pathname.startsWith("/admin"),e.pathname.startsWith("/owner"),s.jsxs(s.Fragment,{children:[t&&s.jsx(Vve,{}),s.jsx(gn,{mode:"wait",children:s.jsxs(Xie,{location:e,children:[s.jsx(Kt,{path:"/",element:s.jsx(bAe,{})}),s.jsx(Kt,{path:"/dashboard",element:s.jsx(Fs,{children:s.jsx(kC,{})})}),s.jsx(Kt,{path:"/seeker",element:s.jsx(Fs,{children:s.jsx(kC,{})})}),s.jsx(Kt,{path:"/seeker-dashboard",element:s.jsx(Fs,{children:s.jsx(kC,{})})}),s.jsx(Kt,{path:"/seeker-favorites",element:s.jsx(Fs,{children:s.jsx(mbe,{})})}),s.jsx(Kt,{path:"/seeker-bookings",element:s.jsx(Fs,{children:s.jsx(pbe,{})})}),s.jsx(Kt,{path:"/seeker-onboarding",element:s.jsx(Fs,{children:s.jsx(ybe,{})})}),s.jsx(Kt,{path:"/seeker-profile",element:s.jsx(Wve,{children:s.jsx(Fs,{children:s.jsx(bbe,{})})})}),s.jsx(Kt,{path:"/seeker/property/:id",element:s.jsx(Fs,{children:s.jsx(wbe,{})})}),s.jsx(Kt,{path:"/seeker-dashboard/:propertyId",element:s.jsx(Fs,{children:s.jsx(jbe,{})})}),s.jsx(Kt,{path:"/my-room",element:s.jsx(Fs,{children:s.jsx(_be,{})})}),s.jsx(Kt,{path:"/booking-dashboard/:bookingId",element:s.jsx(Fs,{children:s.jsx(Nbe,{})})}),s.jsx(Kt,{path:"/seeker/room/:roomId",element:s.jsx(Fs,{children:s.jsx(Cbe,{})})}),s.jsx(Kt,{path:"/seeker-kyc",element:s.jsx(Fs,{children:s.jsx(Qwe,{})})}),s.jsx(Kt,{path:"/seeker-messages",element:s.jsx(Fs,{children:s.jsx($we,{})})}),s.jsx(Kt,{path:"/tenant-dashboard",element:s.jsx(Fs,{children:s.jsx(Hwe,{})})}),s.jsx(Kt,{path:"/tenant-payments",element:s.jsx(Fs,{children:s.jsx(zwe,{})})}),s.jsx(Kt,{path:"/tenant-maintenance",element:s.jsx(Fs,{children:s.jsx(Vwe,{})})}),s.jsx(Kt,{path:"/tenant-agreement",element:s.jsx(Fs,{children:s.jsx(oSe,{})})}),s.jsx(Kt,{path:"/tenant-roommates",element:s.jsx(Fs,{children:s.jsx(cSe,{})})}),s.jsx(Kt,{path:"/tenant-expenses",element:s.jsx(Fs,{children:s.jsx(dSe,{})})}),s.jsx(Kt,{path:"/debug/rooms",element:s.jsx(Fs,{children:s.jsx(Bbe,{})})}),s.jsx(Kt,{path:"/profile",element:s.jsx(MZe,{children:s.jsx(spe,{})})}),s.jsx(Kt,{path:"/login",element:s.jsx(Tve,{})}),s.jsx(Kt,{path:"/signup",element:s.jsx(Ove,{})}),s.jsx(Kt,{path:"/room-owner-signup",element:s.jsx(Fve,{})}),s.jsx(Kt,{path:"/forgot-password",element:s.jsx(Rve,{})}),s.jsx(Kt,{path:"/reset-password",element:s.jsx(Dve,{})}),s.jsx(Kt,{path:"/verify-email",element:s.jsx(Qve,{})}),s.jsx(Kt,{path:"/resend-verification",element:s.jsx($ve,{})}),s.jsx(Kt,{path:"/debug-logout",element:s.jsx(Hve,{})}),s.jsx(Kt,{path:"/onboarding",element:s.jsx(zve,{})}),s.jsx(Kt,{path:"/room-owner-dashboard",element:s.jsx(Pi,{children:s.jsx(Gve,{})})}),s.jsx(Kt,{path:"/about",element:s.jsx(ipe,{})}),s.jsx(Kt,{path:"/contact",element:s.jsx(ape,{})}),s.jsx(Kt,{path:"/owner-dashboard",element:s.jsx(Pi,{children:s.jsx(fSe,{})})}),s.jsx(Kt,{path:"/owner-properties",element:s.jsx(Pi,{children:s.jsx(mSe,{})})}),s.jsx(Kt,{path:"/owner-property/:id",element:s.jsx(Pi,{children:s.jsx(pSe,{})})}),s.jsx(Kt,{path:"/owner-add-property",element:s.jsx(Pi,{children:s.jsx(bke,{})})}),s.jsx(Kt,{path:"/owner-edit-property/:id",element:s.jsx(Pi,{children:s.jsx(OZe,{})})}),s.jsx(Kt,{path:"/owner-kyc-required",element:s.jsx(Pi,{children:s.jsx(jke,{})})}),s.jsx(Kt,{path:"/owner-messages",element:s.jsx(Pi,{children:s.jsx(wke,{})})}),s.jsx(Kt,{path:"/owner-bookings",element:s.jsx(Pi,{children:s.jsx(kZe,{})})}),s.jsx(Kt,{path:"/owner-bookings/:bookingId",element:s.jsx(Pi,{children:s.jsx(EZe,{})})}),s.jsx(Kt,{path:"/owner-profile",element:s.jsx(Pi,{children:s.jsx(w$,{})})}),s.jsx(Kt,{path:"/owner-settings",element:s.jsx(Pi,{children:s.jsx(w$,{})})}),s.jsx(Kt,{path:"/owner-tenants",element:s.jsx(Pi,{children:s.jsx(PZe,{})})}),s.jsx(Kt,{path:"/owner/tenants/:tenantId",element:s.jsx(Pi,{children:s.jsx(RZe,{})})}),s.jsx(Kt,{path:"/owner-analytics",element:s.jsx(Pi,{children:s.jsx(LZe,{})})}),s.jsx(Kt,{path:"/owner-maintenance",element:s.jsx(Pi,{children:s.jsx(FZe,{})})}),s.jsx(Kt,{path:"/owner-payments",element:s.jsx(Pi,{children:s.jsx(UZe,{})})}),s.jsx(Kt,{path:"/admin-dashboard",element:s.jsx(rh,{children:s.jsx(gZe,{})})}),s.jsx(Kt,{path:"/admin-users",element:s.jsx(rh,{children:s.jsx(vZe,{})})}),s.jsx(Kt,{path:"/admin-add-admin",element:s.jsx(rh,{children:s.jsx(bZe,{})})}),s.jsx(Kt,{path:"/admin-owners",element:s.jsx(rh,{children:s.jsx(xZe,{})})}),s.jsx(Kt,{path:"/admin-seekers",element:s.jsx(rh,{children:s.jsx(yZe,{})})}),s.jsx(Kt,{path:"/admin-properties",element:s.jsx(rh,{children:s.jsx(wZe,{})})}),s.jsx(Kt,{path:"/admin-property-details/:propertyId",element:s.jsx(rh,{children:s.jsx(CZe,{})})}),s.jsx(Kt,{path:"/admin-settings",element:s.jsx(rh,{children:s.jsx(BZe,{})})}),s.jsx(Kt,{path:"/admin/*",element:s.jsx(SZe,{})}),s.jsx(Kt,{path:"*",element:s.jsx(ope,{})})]},e.pathname)})]})}function $Ze(){const e=to(),t=e.pathname.startsWith("/admin"),r=e.pathname.startsWith("/owner"),n=e.pathname.startsWith("/seeker")||e.pathname==="/dashboard"||e.pathname.startsWith("/seeker/room/")||e.pathname.startsWith("/booking-dashboard/")||e.pathname.startsWith("/seeker-dashboard")||e.pathname==="/my-room"||e.pathname==="/tenant-dashboard"||e.pathname==="/tenant-payments"||e.pathname==="/tenant-maintenance"||e.pathname==="/tenant-agreement"||e.pathname==="/tenant-roommates"||e.pathname==="/tenant-expenses";return _.useEffect(()=>{(()=>{const a=Jc(),o=Tv();if(a&&o){const l=e.pathname;if(Iv(o)===1&&(l.startsWith("/admin")||l.startsWith("/owner"))){window.location.href="/dashboard";return}}})()},[e.pathname]),s.jsxs("div",{className:"App min-h-screen bg-gradient-to-br from-slate-50 to-stone-100",children:[!t&&!r&&!n&&s.jsx($ue,{}),s.jsx(QZe,{}),!t&&!r&&!n&&s.jsx(Hue,{}),!t&&!r&&!n&&s.jsx(MV,{}),s.jsx(jK,{})]})}function HZe(){return _.useEffect(()=>{CAe()},[]),s.jsx(iae,{children:s.jsx(Kve,{children:s.jsx(DZe,{children:s.jsx($Ze,{})})})})}const zZe=aS.createRoot(document.getElementById("root"));zZe.render(s.jsx(_e.StrictMode,{children:s.jsx(HZe,{})}));export{pn as _,Z0 as c,Zr as g};
